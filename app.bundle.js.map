{"version":3,"sources":["node_modules/browser-pack/_prelude.js","dist/game/build.intermediate/client/client/app.js","dist/game/build.intermediate/client/client/biome_test.js","dist/game/build.intermediate/client/client/continent_gen.js","dist/game/build.intermediate/client/client/continent_serialize.js","dist/game/build.intermediate/client/client/continent_serialize_test.js","dist/game/build.intermediate/client/glov/client/glov/bootstrap.js","dist/game/build.intermediate/client/glov/client/glov/camera2d.js","dist/game/build.intermediate/client/glov/client/glov/cmds.js","dist/game/build.intermediate/client/glov/client/glov/edit_box.js","dist/game/build.intermediate/client/glov/client/glov/effects.js","dist/game/build.intermediate/client/glov/client/glov/engine.js","dist/game/build.intermediate/client/glov/client/glov/fbinstant.js","dist/game/build.intermediate/client/glov/client/glov/filewatch.js","dist/game/build.intermediate/client/glov/client/glov/font.js","dist/game/build.intermediate/client/glov/client/glov/geom.js","dist/game/build.intermediate/client/glov/glb/client/glov/glb/decode-utf8.js","dist/game/build.intermediate/client/glov/glb/client/glov/glb/gltf-type-utils.js","dist/game/build.intermediate/client/glov/glb/client/glov/glb/parser.js","dist/game/build.intermediate/client/glov/glb/client/glov/glb/unpack-binary-json.js","dist/game/build.intermediate/client/glov/glb/client/glov/glb/unpack-glb-buffers.js","dist/game/build.intermediate/client/glov/client/glov/in_event.js","dist/game/build.intermediate/client/glov/client/glov/input.js","dist/game/build.intermediate/client/glov/client/glov/link.js","dist/game/build.intermediate/client/glov/client/glov/local_storage.js","dist/game/build.intermediate/client/glov/client/glov/mat43.js","dist/game/build.intermediate/client/glov/client/glov/models.js","dist/game/build.intermediate/client/glov/client/glov/net.js","dist/game/build.intermediate/client/glov/client/glov/particles.js","dist/game/build.intermediate/client/glov/client/glov/perf.js","dist/game/build.intermediate/client/glov/client/glov/pointer_lock.js","dist/game/build.intermediate/client/glov/client/glov/polyfill.js","dist/game/build.intermediate/client/glov/client/glov/rand_alea.js","dist/game/build.intermediate/client/glov/client/glov/settings.js","dist/game/build.intermediate/client/glov/client/glov/shaders.js","dist/game/build.intermediate/client/glov/client/glov/sound.js","dist/game/build.intermediate/client/glov/client/glov/sprites.js","dist/game/build.intermediate/client/glov/client/glov/subscription_manager.js","dist/game/build.intermediate/client/glov/client/glov/textures.js","dist/game/build.intermediate/client/glov/client/glov/transition.js","dist/game/build.intermediate/client/glov/client/glov/ui.js","dist/game/build.intermediate/client/glov/client/glov/urlhash.js","dist/game/build.intermediate/client/glov/client/glov/vmath.js","dist/game/build.intermediate/client/glov/client/glov/walltime.js","dist/game/build.intermediate/client/glov/client/glov/webfs.js","dist/game/build.intermediate/client/glov/client/glov/wsclient.js","dist/game/build.intermediate/client/img/font/04b03_8x1.json","dist/game/build.intermediate/client/img/font/04b03_8x2.json","dist/game/build.intermediate/client/img/font/palanquin32.json","dist/game/build.intermediate/client/client/main.js","dist/game/build.intermediate/client/client/proc_gen_constants.js","dist/game/build.intermediate/common/common/ack.js","dist/game/build.intermediate/common/dist/game/build.intermediate/common/common/base64.js","dist/game/build.intermediate/common/common/cmd_parse.js","dist/game/build.intermediate/common/common/md5.js","dist/game/build.intermediate/common/dist/game/build.intermediate/common/common/packet.js","dist/game/build.intermediate/common/common/tiny-events.js","dist/game/build.intermediate/common/common/util.js","dist/game/build.intermediate/common/common/wscommon.js"],"names":[],"mappings":"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EAAE,EAAE,EAAE,EAAE,EAAE,GAAI,IAAI,YACzB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAI,IAAI,YACzB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAI,IAAI,YACzB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAI,IAAI,YACzB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAI,IAAI,YACzB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAI,IAAI,YACzB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAI,IAAI,YACzB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,IAAI,IAAI,YACzB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,IAAI,IAAI,YACzB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,IAAI,IAAI,YACzB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,IAAI,IAAI,YACzB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,IAAI,IAAI,YACzB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,IAAI,IAAI,YACzB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAI,IAAI,YACzB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAI,IAAI,YACzB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,IAAI,IAAI,WACzB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,GAAI,IAAI,YACvB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAI,IAAI,YACzB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,IAAI,IAAI,UACzB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,IAAI,IAAI,YACzB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAI,IAAI,YACzB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAI,IAAI,WACzB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,IAAI,IAAI,YACzB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAI,IAAI,YACzB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAI,IAAI,YACzB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,IAAI,IAAI,YACzB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAI,IAAI,YACzB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAI,IAAI,YACzB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,IAAI,IAAI,YACzB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAI,IAAI,YACzB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAI,IAAI,YACzB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,IAAI,IAAI,YACzB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,IAAI,IAAI,YACzB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAI,IAAI,YACzB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAI,IAAI,YACzB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAI,IAAI,YACzB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,IAAI,IAAI,YACzB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,IAAI,IAAI,WACzB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,GAAI,IAAI,YACvB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAI,IAAI,YACzB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAI,IAAI,UACzB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAI,IAAI,YACzB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,IAAI,IAAI,YACzB,EAAE,GAAG,EAAE,EA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","file":"app.bundle.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","/* eslint global-require:off */\n\n// Startup code.\n\nlet called_once = false;\nwindow.onload = function () {\n  if (called_once) {\n    return;\n  }\n  called_once = true;\n  // require('./glov/worker_comm.js').startup(); // First, so it gets loading quickly (if workers required)\n  require('./glov/bootstrap.js');\n  require('./main.js').main();\n};\n","//////////////////////////////////////////////////////////////////////////////////\n// Code provided for example purposes only with no license for use or distribution\nconst assert = require('assert');\nconst { abs } = Math;\nconst { randCreate } = require('./glov/rand_alea.js');\n\nconst { C_WATER, C_PLAINS, C_HILLS, C_MOUNTAINS, C_RIVER_DELTA } = require('./proc_gen_constants.js');\n\nfunction rgb(r,g,b) {\n  return new Uint8Array([r, g, b, 255]);\n}\nconst OCEAN = rgb(0, 0, 255);\nconst RIVER_DELTA = rgb(255, 0, 255);\nconst TUNDRA = rgb(224,244,255);\nconst MOUNTAINS = rgb(170,170,170);\nconst CLIFFS = rgb(90,90,90);\nconst HILLS_FOREST = rgb(32,128,32);\nconst DENSE_FOREST = rgb(16,64,16);\nconst PLAINS_FOREST = rgb(96,128,32);\nconst HILLS = rgb(64,255,64);\nconst PLAINS = rgb(255,255,64);\nconst DESERT = rgb(255,255,191);\nconst PLAINS_RED = rgb(255,96,64);\nconst PLAINS_BLUE = rgb(64,96,255);\n\nconst COMMON = 1;\nconst UNCOMMON = 0.25;\nconst RARE = 0.03;\nfunction weightedChoiceBuild(list) {\n  let total = 0;\n  for (let ii = 0; ii < list.length; ++ii) {\n    total += list[ii][0];\n  }\n  return { total, list };\n}\n\nfunction weightedChoiceGet(precalc, choice) {\n  let { total, list } = precalc;\n  let w = total * choice;\n  for (let ii = 0; ii < list.length; ++ii) {\n    w -= list[ii][0];\n    if (w <= 0) {\n      return list[ii][1];\n    }\n  }\n  // Should never get here, baring floating point rounding errors\n  return list[0][1];\n}\n\nconst choice_elev0_hum75 = weightedChoiceBuild([\n  [COMMON, DENSE_FOREST],\n  [UNCOMMON, PLAINS_FOREST],\n]);\n\nconst choice_elev0_hum50 = weightedChoiceBuild([\n  [COMMON, PLAINS_FOREST],\n  [UNCOMMON, PLAINS],\n]);\n\nconst choice_elev0_hum25 = weightedChoiceBuild([\n  [COMMON, PLAINS],\n  [RARE, PLAINS_BLUE],\n  [RARE, PLAINS_RED],\n  [RARE, HILLS],\n]);\n\nfunction getBiomeV2(classif, tot_slope, elev, humidity, choice, cdist) {\n  if (classif === C_WATER) {\n    return OCEAN;\n  }\n  if (classif === C_RIVER_DELTA) {\n    return RIVER_DELTA;\n  }\n  tot_slope *= 4;\n  let is_cliff = tot_slope > 0.6;\n  if (is_cliff) {\n    return CLIFFS;\n  }\n  if (classif === C_MOUNTAINS) {\n    if (tot_slope > 0.1) {\n      return MOUNTAINS;\n    } else {\n      return TUNDRA;\n    }\n  }\n  if (classif === C_HILLS) {\n    if (humidity > 0.66) {\n      return HILLS_FOREST;\n    } else {\n      return HILLS;\n    }\n  } else if (classif === C_PLAINS) {\n    if (humidity > 0.75) {\n      return weightedChoiceGet(choice_elev0_hum75, choice);\n    } else if (humidity > 0.5) {\n      return weightedChoiceGet(choice_elev0_hum50, choice);\n    } else if (humidity > 0.25) {\n      return weightedChoiceGet(choice_elev0_hum25, choice);\n    } else {\n      return DESERT;\n    }\n  } else {\n    return assert(0);\n  }\n}\n\nexport function calculateBiomesTest(hex_tex_size, cdata, tex_data_color) {\n  let {\n    elev, humidity, classif, ocean_distance, sea_level, max_elevation,\n  } = cdata;\n  // This is not in output, just simulating what the game will do with this data when it gets it\n  let width = hex_tex_size;\n  let height = width;\n  let stride = width;\n  let neighbors_even = [\n    stride, // above\n    1, // upper right\n    1 - stride, // lower right\n    -stride, // below\n    -1 - stride, // lower left\n    -1, // upper left\n  ];\n  let neighbors_odd = [\n    stride, // above\n    1 + stride, // upper right,\n    1, // lower right\n    -stride, // below\n    -1, // lower left\n    -1 + stride, // upper left,\n  ];\n  let neighbors_bit = [neighbors_even, neighbors_odd];\n\n  let rand = randCreate(0x12345);\n\n  let land_range = max_elevation - sea_level;\n  for (let y = 0; y < height; ++y) {\n    for (let x = 0; x < width; ++x) {\n      let pos = y * width + x;\n      //let is_land = land[pos];\n      let celev = (elev[pos] - sea_level) / land_range;\n      // let has_river = is_land && river[pos];\n      let humid = humidity[pos] / 255;\n      // let slope = tslope[pos]; // Use actual calculated abs(max?) of slope from elev?\n      let cdist = ocean_distance[pos] / (hex_tex_size * 2);\n      let cat = classif[pos];\n      let choice = rand.random();\n\n      // calc actual slope\n      let tot_slope = 0;\n      //let max_slope = 0;\n      let neighbors = neighbors_bit[x & 1];\n      for (let ii = 0; ii < 6; ++ii) {\n        let npos = pos + neighbors[ii];\n        let nelev = (elev[npos] - sea_level) / land_range;\n        let slope = abs(celev - nelev);\n        tot_slope += slope;\n        //max_slope = max(max_slope, slope);\n      }\n\n      let color = getBiomeV2(cat, tot_slope, celev, humid, choice, cdist);\n\n      //let color = getBiomeV1(is_land, celev, humid, choice);\n      for (let jj = 0; jj < 4; ++jj) {\n        tex_data_color[pos * 4 + jj] = color[jj];\n      }\n    }\n  }\n}\n","//////////////////////////////////////////////////////////////////////////////////\n// Code provided for example purposes only with no license for use or distribution\n// Copyright (c) 2020 Jimb Esser\n/*eslint no-labels:off */\nconst assert = require('assert');\nconst { abs, atan2, ceil, cos, max, min, floor, round, pow, sin, sqrt, PI } = Math;\nconst { C_WATER, C_PLAINS, C_HILLS, C_MOUNTAINS, SKEW_X,\n  C_RIVER_DELTA } = require('./proc_gen_constants.js');\nconst { randCreate } = require('./glov/rand_alea.js');\nconst SimplexNoise = require('simplex-noise');\nconst { clamp, lerp, ridx } = require('../common/util.js');\nconst {\n  vec2, v2copy, v2lengthSq,\n} = require('./glov/vmath.js');\n\nconst default_tex_size = 256;\n\nconst TWOPI = PI * 2;\n\n// For `fill` buffer\nexport const D_OPEN = 0;\nexport const D_BORDER = 1;\nexport const D_SEA = 2;\nexport const D_SEA2 = 3;\nexport const D_INLAND_SEA = 4;\nexport const D_COASTLINE = 5;\nexport const D_LAKE = 6;\n\nexport const default_opts = {\n  hex_tex_size: default_tex_size,\n  seed: 1,\n  coast: {\n    key: '',\n    frequency: 2,\n    amplitude: 1,\n    persistence: 0.5,\n    lacunarity: { min: 1.6, max: 2.8, freq: 0.3 },\n    octaves: 6,\n    cutoff: 0.5,\n    domain_warp: 0,\n    warp_freq: 1,\n    warp_amp: 0.1,\n    fill_seas: true,\n    channels: true,\n  },\n  tslope: {\n    key: 'ts',\n    frequency: 3.5,\n    amplitude: 1,\n    min: 0,\n    range: 8,\n    persistence: 0.5,\n    lacunarity: 1.33,\n    octaves: 1,\n    domain_warp: 1,\n    warp_freq: 1,\n    warp_amp: 0.1,\n  },\n  rslope: {\n    key: 'rs',\n    frequency: 1.2,\n    amplitude: 1,\n    persistence: 0.5,\n    lacunarity: 1.33,\n    octaves: 1,\n    domain_warp: 1,\n    warp_freq: 1,\n    warp_amp: 0.1,\n    steps: 4,\n  },\n  river: {\n    weight_bend: 2,\n    weight_afork: 2,\n    weight_sfork: 1,\n    max_tslope: 48,\n    tuning_h: 32,\n    show_elev: true, // debug display option, not used by generator\n    prune: true,\n    mtify_prune_grace: 100,\n    mtify_prune: true,\n  },\n  ocean: {\n    frequency: 3,\n    amplitude: 1,\n    persistence: 0.5,\n    lacunarity: 2.4,\n    octaves: 3,\n    domain_warp: 1,\n    warp_freq: 1,\n    warp_amp: 1,\n  },\n  ocean_trenches: {\n    cutoff: 0.8,\n    frequency: 4,\n    amplitude: 1,\n    persistence: 0.5,\n    lacunarity: 0.1,\n    octaves: 2,\n    domain_warp: 1,\n    warp_freq: 1,\n    warp_amp: 1,\n  },\n  lakes: {\n    lake_search_radius: round(10 * default_tex_size/256),\n    lake_percent: 0.10,\n    lake_k: 5,\n    min_sep: round(40 * default_tex_size/256),\n  },\n  blur: {\n    threshold: 500,\n    weight: 1,\n  },\n  mountainify: {\n    peak_radius: round(10 * default_tex_size/256),\n    peak_percent: 0.80,\n    peak_k: 5,\n    height_scale: 3,\n    blend_radius: round(10 * default_tex_size/256),\n    weight_local: 0.25,\n    power_min: 1,\n    power_max: 4,\n    power_blend: 0.25,\n    cdist_ramp: 2,\n  },\n  humidity: {\n    frequency: 2.2,\n    amplitude: 1,\n    persistence: 0.5,\n    lacunarity: 4,\n    octaves: 3,\n    domain_warp: 0,\n    warp_freq: 1,\n    warp_amp: 1,\n    rainshadow: 0.75,\n    show_relief: false, // debug display option, makes extreme rainshadow\n  },\n  classif: {\n    cut1: 0.033,\n    cut2: 0.666,\n    blur_scale: 680,\n    blur_w: 10,\n    show_rivers: true, // debug display option, not used by generator\n    show_relief: true, // debug display option, not used by generator\n  },\n  output: {\n    sea_range_exp: 13,\n    land_range_exp: 14,\n    sea_range: 1 << 13,\n    land_range: 1 << 14,\n    debug: false,\n  },\n  early_out: null, // 'river'\n};\n\nlet land;\nlet fill;\nlet util;\nlet mountain_delta;\nlet tslope;\nlet rslope;\nlet river;\nlet relev;\nlet rstrahler;\nlet water_level;\nlet coast_distance;\nlet river_mouth_distance;\nlet ocean_distance;\nlet nearest_strahler;\nlet shallows;\nlet trenches;\nlet humidity;\nlet classif;\nlet blur_temp1;\nlet blur_temp2;\nlet debug_priority;\n\nlet total_size;\nlet width;\nlet height;\nexport let neighbors_bit;\nlet state;\n\nfunction setupWorkBuffers(hex_tex_size) {\n  total_size = hex_tex_size * hex_tex_size;\n  width = height = hex_tex_size;\n\n  land = new Uint8Array(total_size);\n  fill = new Uint8Array(total_size);\n  util = new Uint8Array(total_size);\n  mountain_delta = new Uint32Array(total_size);\n  tslope = new Uint8Array(total_size);\n  rslope = new Uint8Array(total_size);\n  river = new Uint8Array(total_size);\n  relev = new Uint16Array(total_size);\n  rstrahler = new Uint8Array(total_size);\n  water_level = new Uint16Array(total_size);\n  coast_distance = new Uint8Array(total_size);\n  river_mouth_distance = new Uint8Array(total_size);\n  ocean_distance = new Uint8Array(total_size);\n  nearest_strahler = new Uint8Array(total_size);\n  shallows = new Uint8Array(total_size);\n  trenches = new Uint8Array(total_size);\n  humidity = new Uint8Array(total_size);\n  classif = new Uint8Array(total_size);\n  blur_temp1 = new Uint32Array(total_size);\n  blur_temp2 = new Uint32Array(total_size);\n\n  let neighbors_even = [\n    width, // above\n    1, // upper right\n    1 - width, // lower right\n    -width, // below\n    -1 - width, // lower left\n    -1, // upper left\n  ];\n  let neighbors_odd = [\n    width, // above\n    1 + width, // upper right,\n    1, // lower right\n    -width, // below\n    -1, // lower left\n    -1 + width, // upper left,\n  ];\n  neighbors_bit = [neighbors_even, neighbors_odd];\n}\n\nlet last_tex_size = -1;\nlet unif_pos = vec2();\nlet world_pos = vec2();\nlet opts;\nlet subopts;\n\nlet rand;\nfunction shuffleArray(arr) {\n  for (let ii = arr.length - 1; ii >= 1; --ii) {\n    let swap = rand.range(ii + 1);\n    let t = arr[ii];\n    arr[ii] = arr[swap];\n    arr[swap] = t;\n  }\n}\n\nfunction step(a, x) {\n  return a >= x;\n}\n\n\nlet noise;\nlet noise_warp;\nlet total_amplitude;\nlet noise_field;\nfunction initNoise(subopts_in) {\n  subopts = subopts_in;\n  noise = new Array(subopts.octaves);\n  for (let ii = 0; ii < noise.length; ++ii) {\n    noise[ii] = new SimplexNoise(`${opts.seed}n${subopts.key}${ii}`);\n  }\n  noise_warp = new Array(subopts.domain_warp);\n  for (let ii = 0; ii < noise_warp.length; ++ii) {\n    noise_warp[ii] = new SimplexNoise(`${opts.seed}w${subopts.key}${ii}`);\n  }\n  total_amplitude = 0;  // Used for normalizing result to 0.0 - 1.0\n  let amp = subopts.amplitude;\n  let p = subopts.persistence && subopts.persistence.max || subopts.persistence;\n  for (let ii=0; ii<subopts.octaves; ii++) {\n    total_amplitude += amp;\n    amp *= p;\n  }\n  noise_field = {};\n  for (let f in subopts) {\n    let v = subopts[f];\n    if (typeof v === 'object') {\n      noise_field[f] = new SimplexNoise(`${opts.seed}f${subopts.key}${f}`);\n      v.mul = (v.max - v.min) * 0.5;\n      v.add = v.min + v.mul;\n    }\n  }\n}\n\nlet sample_pos = vec2();\nfunction get(field) {\n  let v = subopts[field];\n  if (typeof v !== 'object') {\n    return v;\n  }\n  return v.add + v.mul * noise_field[field].noise2D(sample_pos[0] * v.freq, sample_pos[1] * v.freq);\n}\nfunction sample() {\n  v2copy(sample_pos, unif_pos);\n  let warp_freq = subopts.warp_freq;\n  let warp_amp = subopts.warp_amp;\n  for (let ii = 0; ii < subopts.domain_warp; ++ii) {\n    let dx = noise_warp[ii].noise2D(sample_pos[0] * warp_freq, sample_pos[1] * warp_freq);\n    let dy = noise_warp[ii].noise2D((sample_pos[0] + 7) * warp_freq, sample_pos[1] * warp_freq);\n    sample_pos[0] += dx * warp_amp;\n    sample_pos[1] += dy * warp_amp;\n  }\n  let total = 0;\n  let amp = subopts.amplitude;\n  let freq = get('frequency');\n  let p = get('persistence');\n  let lac = get('lacunarity');\n  for (let i=0; i<subopts.octaves; i++) {\n    total += (0.5 + 0.5 * noise[i].noise2D(sample_pos[0] * freq, sample_pos[1] * freq)) * amp;\n    amp *= p;\n    freq *= lac;\n  }\n  return total/total_amplitude;\n}\n\nconst HEX_HEIGHT = 1.0; // distance between any two hexes = 1.0\nconst HEX_EDGE = HEX_HEIGHT / sqrt(3);\nconst HEX_WIDTH = 1.5 * HEX_EDGE;\nfunction hexPosToUnifPos(ii, jj) {\n  world_pos[0] = ii * HEX_WIDTH;\n  world_pos[1] = jj * HEX_HEIGHT - HEX_HEIGHT * 0.5;\n  if (ii & 1) {\n    world_pos[1] += HEX_HEIGHT * 0.5;\n  }\n  unif_pos[0] = world_pos[0] / ((width - 1) * HEX_WIDTH) * 2.0 - 1.0;\n  unif_pos[1] = world_pos[1] / ((height - 1.5) * HEX_HEIGHT) * 2.0 - 1.0;\n}\n\nlet count_by_h;\nfunction generateCoastlines() {\n  initNoise(opts.coast);\n\n  if (!count_by_h) {\n    count_by_h = new Array(256);\n  }\n  for (let ii = 0; ii < 256; ++ii) {\n    count_by_h[ii] = 0;\n  }\n  for (let idx=0, jj = 0; jj < height; ++jj) {\n    for (let ii = 0; ii < width; ++ii, ++idx) {\n      hexPosToUnifPos(ii, jj);\n\n      let h = sample();\n      //let cutoff_scale = cutoff / 255; // scale cutoff to extend nearer to edge of maps\n      //h *= cutoff_scale + (1 - cutoff_scale) * (1 - v2lengthSq(unif_pos));\n      h *= 1 - v2lengthSq(unif_pos);\n\n      h = clamp(floor(h * 255), 0.0, 255);\n      count_by_h[h]++;\n      land[idx] = h;\n    }\n  }\n  // Determine cutoff as a percentile\n  //   Probably not generally necessary, but allows for playing with domain-warped\n  //   persistence sliders without changing the overall density, etc.\n  let cutoff_percent = get('cutoff');\n  cutoff_percent = 1 - (1 - cutoff_percent) * (1 - cutoff_percent);\n  let cutoff_count = total_size * cutoff_percent;\n  let cutoff = 0;\n  for (cutoff = 0; cutoff_count > 0 && cutoff < 256; ++cutoff) {\n    cutoff_count -= count_by_h[cutoff];\n  }\n  for (let ii = 0; ii < total_size; ++ii) {\n    let h = land[ii];\n    land[ii] = h > cutoff ? 255 : 0;\n    fill[ii] = D_OPEN;\n  }\n}\n\nfunction fillSeas() {\n  let unfilled_seas = state.unfilled_seas = [];\n  let todo = [];\n  let done = [];\n  function fillBorders() {\n    for (let ii = 0; ii < width; ++ii) {\n      fill[ii] = D_BORDER;\n      fill[(height - 1) * width + ii] = D_BORDER;\n    }\n    for (let ii = 0; ii < height; ++ii) {\n      fill[width * ii] = D_BORDER;\n      fill[width * ii + width - 1] = D_BORDER;\n    }\n  }\n  fillBorders();\n  function tryMark(pos, v) {\n    if (land[pos] || fill[pos]) {\n      return;\n    }\n    fill[pos] = v;\n    todo.push(pos);\n    done.push(pos);\n  }\n  function spreadSeas(v) {\n    while (todo.length) {\n      let pos = todo.pop();\n      let neighbors = neighbors_bit[pos & 1];\n      for (let ii = 0; ii < neighbors.length; ++ii) {\n        tryMark(pos + neighbors[ii], v);\n      }\n    }\n  }\n  tryMark(width + 1, D_SEA);\n  spreadSeas(D_SEA);\n  // Find all inland seas, mark them, then grow them N steps to either find a channel or fill them\n  let inland_seas = [];\n  for (let pos = 0; pos < width * height; ++pos) {\n    if (!land[pos] && !fill[pos]) {\n      // open, and not an ocean or previously marked\n      done = [];\n      tryMark(pos, D_INLAND_SEA);\n      spreadSeas(D_INLAND_SEA);\n      inland_seas.push(done);\n    }\n  }\n  shuffleArray(inland_seas);\n  inland_seas.forEach(function (sea) {\n    // Channel to ocean if possible\n    let is_ocean = false;\n    if (subopts.channels) {\n      let checked = [];\n      for (let ii = 0; ii < sea.length; ++ii) {\n        checked[sea[ii]] = 1;\n      }\n      let adjacent = [];\n      for (let ii = 0; ii < sea.length; ++ii) {\n        let pos = sea[ii];\n        let neighbors = neighbors_bit[pos & 1];\n        for (let nidx = 0; nidx < neighbors.length; ++nidx) {\n          let npos = pos + neighbors[nidx];\n          if (!checked[npos]) {\n            adjacent.push(npos);\n            // if (!data[npos * BPP]) {\n            //   // a neighboring sea already channeled this, it must connect to the ocean!\n            // }\n            checked[npos] = 1;\n          }\n        }\n      }\n      shuffleArray(adjacent);\n      outer:\n      for (let ii = 0; ii < adjacent.length; ++ii) {\n        let pos = adjacent[ii];\n        let neighbors = neighbors_bit[pos & 1];\n        for (let nidx = 0; nidx < neighbors.length; ++nidx) {\n          let npos = pos + neighbors[nidx];\n          if (!checked[npos] && !land[npos] && fill[npos] === D_SEA) {\n            // open route to the ocean!\n            land[pos] = 0;\n            sea.push(pos);\n            land[npos] = 0;\n            sea.push(npos);\n            for (let jj = 0; jj < sea.length; ++jj) {\n              fill[sea[jj]] = D_SEA;\n            }\n            is_ocean = true;\n            break outer;\n          }\n        }\n      }\n    }\n    if (!is_ocean) {\n      if (subopts.fill_seas) {\n        for (let ii = 0; ii < sea.length; ++ii) {\n          land[sea[ii]] = 255;\n          fill[sea[ii]] = D_OPEN;\n        }\n      } else {\n        unfilled_seas.push(sea);\n      }\n    }\n  });\n}\n\n// Generates poisson sampled points with between radius and 2 * radius between each\nfunction poissonSample(radius, k) {\n  let ret = [];\n  let peak_rsquared = radius * radius;\n  let cell_bound = radius / sqrt(2);\n  let cell_w = ceil(width / cell_bound);\n  let cell_h = ceil(height / cell_bound);\n  let cells = new Int16Array(cell_w * cell_h);\n  let active = [];\n  function emitSample(pos) {\n    let posx = pos % width;\n    let posy = (pos - posx) / width;\n    let cellidx = ((posx / cell_bound)|0) + ((posy / cell_bound)|0) * cell_w;\n    ret.push(pos);\n    cells[cellidx] = ret.length;\n    active.push(pos);\n  }\n  emitSample(rand.range(total_size));\n\n  // From https://www.jasondavies.com/poisson-disc/\n  // Generate point chosen uniformly from spherical annulus between radius r and 2r from p.\n  let nx;\n  let ny;\n  function generateAround(px, py) {\n    let θ = rand.random() * 2 * PI;\n    let r = sqrt(rand.random() * 3 * peak_rsquared + peak_rsquared); // http://stackoverflow.com/a/9048443/64009\n    nx = (px + r * cos(θ)) | 0;\n    ny = (py + r * sin(θ)) | 0;\n  }\n\n  function near() {\n    let n = 2;\n    let x = nx / cell_bound | 0;\n    let y = ny / cell_bound | 0;\n    let x0 = max(x - n, 0);\n    let y0 = max(y - n, 0);\n    let x1 = min(x + n + 1, cell_w);\n    let y1 = min(y + n + 1, cell_h);\n    for (let yy = y0; yy < y1; ++yy) {\n      let o = yy * cell_w;\n      for (let xx = x0; xx < x1; ++xx) {\n        let g = cells[o + xx];\n        if (!g) {\n          continue;\n        }\n        g = ret[g - 1];\n        let gx = g % width;\n        let gy = (g - gx) / width;\n        let dsq = (nx - gx) * (nx - gx) + (ny - gy) * (ny - gy);\n        if (dsq < peak_rsquared) {\n          return true;\n        }\n      }\n    }\n    return false;\n  }\n\n  while (active.length) {\n    let active_idx = rand.range(active.length);\n    let pos = active[active_idx];\n    ridx(active, active_idx);\n    let posx = pos % width;\n    let posy = (pos - posx) / width;\n    for (let jj = 0; jj < k; ++jj) {\n      generateAround(posx, posy);\n      if (nx < 0 || nx >= width || ny < 0 || ny >= height || near()) {\n        continue;\n      }\n      emitSample(nx + ny * width);\n    }\n  }\n  return ret;\n}\n\nfunction findMaxPerRegion(candidates, map, radius) {\n  let ret = [];\n  let used = {};\n  for (let ii = 0; ii < candidates.length; ++ii) {\n    let pos = candidates[ii];\n    let posx = pos % width;\n    let posy = (pos - posx) / width;\n    let x0 = max(0, posx - radius);\n    let x1 = min(width - 1, posx + radius);\n    let y0 = max(0, posy - radius);\n    let y1 = min(height - 1, posy + radius);\n    let max_elev = map[pos];\n    let max_pos = pos;\n    for (let yy = y0; yy <= y1; ++yy) {\n      for (let xx = x0; xx <= x1; ++xx) {\n        let p = xx + yy * width;\n        let e = map[p];\n        if (e > max_elev) {\n          max_elev = e;\n          max_pos = p;\n        }\n      }\n    }\n    if (!used[max_pos]) {\n      used[max_pos] = true;\n      ret.push([max_elev, max_pos]);\n    }\n  }\n  ret.sort((a,b) => {\n    let d = b[0] - a[0];\n    if (d) {\n      return d;\n    }\n    assert(b[1] !== a[1]);\n    return b[1] - a[1];\n  });\n  return ret;\n}\n\nfunction generateLakes() {\n  subopts = opts.lakes;\n  let lakes = state.lakes = [];\n  let lake_seeds = state.lake_seeds = [];\n  function generateInlandDF() {\n    util.fill(0);\n    let todo = [];\n    let d = 0;\n    for (let pos = 0; pos < total_size; ++pos) {\n      if (!land[pos]) {\n        util[pos] = 1;\n        coast_distance[pos] = 0;\n        continue;\n      }\n      let neighbors = neighbors_bit[pos & 1];\n      for (let ii = 0; ii < neighbors.length; ++ii) {\n        let nidx = pos + neighbors[ii];\n        if (!land[nidx]) {\n          todo.push(pos);\n          coast_distance[pos] = d;\n          util[pos] = 1;\n          break;\n        }\n      }\n    }\n    while (todo.length) {\n      d = min(d + 1, 255);\n      let next = [];\n      for (let ii = 0; ii < todo.length; ++ii) {\n        let pos = todo[ii];\n        let neighbors = neighbors_bit[pos & 1];\n        for (let jj = 0; jj < neighbors.length; ++jj) {\n          let npos = pos + neighbors[jj];\n          if (!util[npos]) {\n            util[npos] = 1;\n            coast_distance[npos] = d;\n            if (fill[npos] !== D_BORDER) {\n              next.push(npos);\n            }\n          }\n        }\n      }\n      todo = next;\n    }\n  }\n  generateInlandDF();\n\n  let { lake_search_radius, lake_k, lake_percent, min_sep } = subopts;\n  let check_points = poissonSample(lake_search_radius, lake_k);\n  let lake_elev = findMaxPerRegion(check_points, coast_distance, floor(lake_search_radius / 2));\n  lake_elev = lake_elev.filter((a) => a[0] > 2);\n  let want = floor(lake_elev.length * lake_percent);\n  let use = [];\n  let min_sep_sq = min_sep * min_sep;\n  for (let ii = 0; ii < lake_elev.length && use.length < want; ++ii) {\n    let pt = lake_elev[ii][1];\n    let px = pt % width;\n    let py = (pt - px) / width;\n    let too_close = false;\n    for (let jj = 0; jj < use.length; ++jj) {\n      let other = use[jj];\n      let dx = px - other[0];\n      let dy = py - other[1];\n      let dsq = dx*dx + dy*dy;\n      if (dsq < min_sep_sq) {\n        too_close = true;\n        break;\n      }\n    }\n    if (too_close) {\n      continue;\n    }\n    use.push([px, py]);\n  }\n\n  function placeLake(x, y) {\n    let pos = x + y * width;\n    fill[pos] = D_INLAND_SEA;\n    land[pos] = 0;\n    lake_seeds.push(pos);\n    lakes.push(pos);\n  }\n  for (let ii = 0; ii < use.length; ++ii) {\n    placeLake(use[ii][0], use[ii][1]);\n  }\n}\n\nfunction generateTerrainSlope() {\n  initNoise(opts.tslope);\n  for (let jj = 0; jj < height; ++jj) {\n    for (let ii = 0; ii < width; ++ii) {\n      hexPosToUnifPos(ii, jj);\n\n      let h = sample();\n      let min_v = get('min');\n      let range = get('range');\n      h = clamp(min_v + floor(h * range), 0.0, 255);\n      tslope[jj * width + ii] = h;\n    }\n  }\n}\n\nfunction generateRiverSlope() {\n  initNoise(opts.rslope);\n  for (let jj = 0; jj < height; ++jj) {\n    for (let ii = 0; ii < width; ++ii) {\n      hexPosToUnifPos(ii, jj);\n\n      let h = sample();\n      h = clamp(floor(h * opts.rslope.steps), 0, opts.rslope.steps - 1);\n      rslope[jj * width + ii] = h + 1;\n    }\n  }\n}\n\nfunction growRivers() {\n  subopts = opts.river;\n  river.fill(0);\n  relev.fill(0);\n  let coastlines = [];\n  let coastlines_incdir = [];\n  function findCandidates() {\n    // PERF: this could be an output from the above steps - oceans and inland seas combined,\n    //   would just need better random choice for initial incoming direction\n    let { unfilled_seas, lake_seeds } = state;\n    let todo = [];\n    function tryMark(pos, v, incoming_dir) {\n      let d = fill[pos];\n      if (d !== D_SEA && d !== D_INLAND_SEA) {\n        if (d === D_OPEN) { // land\n          fill[pos] = D_COASTLINE;\n          let invdir = (incoming_dir + 3) % 6;\n          river[pos] = 1 << invdir;\n          relev[pos] = rslope[pos];\n          coastlines.push(pos);\n          coastlines_incdir.push(invdir);\n        }\n        return;\n      }\n      fill[pos] = v;\n      todo.push(pos);\n    }\n    function spreadSeas(v) {\n      while (todo.length) {\n        let idx = rand.range(todo.length);\n        let pos = todo[idx];\n        ridx(todo, idx);\n        let neighbors = neighbors_bit[pos & 1];\n        for (let ii = 0; ii < neighbors.length; ++ii) {\n          tryMark(pos + neighbors[ii], v, ii);\n        }\n      }\n    }\n    function tryMarkXY(x, y, v) {\n      tryMark(y * width + x, v || D_SEA2);\n    }\n    tryMarkXY(1, 1);\n    tryMarkXY(width - 2, 1);\n    tryMarkXY(width - 2, height - 2);\n    tryMarkXY(1, height - 2);\n    for (let ii = 0; ii < unfilled_seas.length; ++ii) {\n      let sea = unfilled_seas[ii];\n      let pos = sea[rand.range(sea.length)];\n      tryMarkXY(pos % width, floor(pos / width));\n    }\n    spreadSeas(D_SEA2);\n    state.ocean_coastlines = coastlines.slice(0); // oceans and unfilled seas, not lakes\n    for (let ii = 0; ii < lake_seeds.length; ++ii) {\n      let pos = lake_seeds[ii];\n      tryMarkXY(pos % width, floor(pos / width), D_LAKE);\n    }\n    spreadSeas(D_LAKE);\n  }\n  findCandidates();\n\n  function findBorderMinDist() {\n    util.fill(0);\n    let todo = coastlines;\n    let d = 0;\n    for (let ii = 0; ii < todo.length; ++ii) {\n      let pos = todo[ii];\n      util[pos] = 1;\n    }\n    while (todo.length) {\n      d = min(d + 1, 255);\n      let next = [];\n      for (let ii = 0; ii < todo.length; ++ii) {\n        let pos = todo[ii];\n        let neighbors = neighbors_bit[pos & 1];\n        for (let jj = 0; jj < neighbors.length; ++jj) {\n          let npos = pos + neighbors[jj];\n          if (!util[npos] && !land[npos]) {\n            util[npos] = 1;\n            if (fill[npos] === D_BORDER) {\n              state.border_min_dist = d;\n              return;\n            } else {\n              next.push(npos);\n            }\n          }\n        }\n      }\n      todo = next;\n    }\n    assert(false);\n    state.border_min_dist = 0;\n  }\n  findBorderMinDist();\n\n  if (opts.early_out === 'river') {\n    return;\n  }\n\n  let orig_coastlines = coastlines;\n  function filterCoastalRivers() {\n    let rank = [[],[],[]];\n    coastlines.forEach(function (pos) {\n      let neighbors = neighbors_bit[pos & 1];\n      let open_count = 0;\n      let open_bits = 0;\n      for (let ii = 0; ii < neighbors.length; ++ii) {\n        let npos = pos + neighbors[ii];\n        if (!land[npos]) {\n          open_bits |= 1 << ii;\n          ++open_count;\n        }\n      }\n      if (open_count >= 4) {\n        return;\n      }\n      assert(open_count);\n      if (open_count === 1) {\n        // perfect\n        rank[0].push(pos);\n        return;\n      }\n      // are all open tiles adjacent?\n      open_bits |= open_bits << 6;\n      let bpos = 0;\n      // Find something solid\n      while (open_bits & (1 << bpos)) {\n        bpos++;\n      }\n      // Find first open\n      while (!(open_bits & (1 << bpos))) {\n        bpos++;\n      }\n      let count = 0;\n      // count num contiguous open\n      while (open_bits & (1 << bpos)) {\n        bpos++;\n        ++count;\n      }\n      if (count !== open_count) {\n        return;\n      }\n      let r = !rand.range(open_count === 2 ? 4 : 2);\n      if (r) {\n        rank[open_count - 1].push(pos);\n      }\n    });\n    let blocked = [];\n    coastlines = [];\n    for (let ii = 0; ii < rank.length; ++ii) {\n      let list = rank[ii];\n      for (let jj = 0; jj < list.length; ++jj) {\n        let pos = list[jj];\n        if (blocked[pos]) {\n          continue;\n        }\n        coastlines.push(pos);\n        let neighbors = neighbors_bit[pos & 1];\n        for (let kk = 0; kk < neighbors.length; ++kk) {\n          let npos = pos + neighbors[kk];\n          blocked[npos] = true;\n        }\n      }\n    }\n  }\n  filterCoastalRivers();\n  function grow() {\n    const MAX_PRIORITY = 10;\n    let weight_total = subopts.weight_bend + subopts.weight_sfork + subopts.weight_afork;\n    let active_by_prior = [];\n    let min_elev_by_prior = [];\n    let tuning_h = opts.river.tuning_h;\n    for (let ii = 0; ii <= MAX_PRIORITY; ++ii) {\n      active_by_prior[ii] = [[]];\n      min_elev_by_prior[ii] = 0;\n    }\n    for (let ii = 0; ii < coastlines.length; ++ii) {\n      let pos = coastlines[ii];\n      let p = rand.random();\n      p = 1 + floor(p*p*p * MAX_PRIORITY);\n      debug_priority[pos] = p;\n      let active_by_elev = active_by_prior[p];\n      active_by_elev[0].push(pos);\n    }\n    let chosen_priority;\n    function chooseNode() {\n      // find min elevation\n      let min_elev = Infinity;\n      for (let p = MAX_PRIORITY; p >= 0; --p) {\n        min_elev = min(min_elev, min_elev_by_prior[p]);\n      }\n      for (let p = MAX_PRIORITY; p >= 0; --p) {\n        let active_by_elev = active_by_prior[p];\n        for (let ii = 0; ii < tuning_h; ++ii) {\n          let elev = min_elev + ii;\n          let active = active_by_elev[elev];\n          if (active) {\n            let idx = rand.range(active.length);\n            let ret = active[idx];\n            ridx(active, idx);\n            if (!active.length) {\n              // Nothing more at this (min) elevation at this priority\n              delete active_by_elev[elev];\n              let mep = min_elev_by_prior[p];\n              assert.equal(mep, elev);\n              while (!active_by_elev[mep] && mep < active_by_elev.length) {\n                ++mep;\n              }\n              if (mep === active_by_elev.length) {\n                mep = Infinity;\n              }\n              min_elev_by_prior[p] = mep;\n            }\n            chosen_priority = p;\n            return ret;\n          }\n        }\n      }\n      return -1;\n    }\n    function validGrowth(frompos, topos) {\n      // Not too high relative to neighbors?\n      let new_elev = relev[frompos] + rslope[topos];\n      let neighbors = neighbors_bit[topos & 1];\n      for (let ii = 0; ii < neighbors.length; ++ii) {\n        let npos = topos + neighbors[ii];\n        if (river[npos]) {\n          let d = new_elev - relev[npos];\n          if (abs(d) > opts.river.max_tslope) {\n            return false;\n          }\n        }\n      }\n      return true;\n    }\n    while (true) {\n      let pos = chooseNode();\n      if (pos === -1) {\n        break;\n      }\n      // Check all 6 neighbors, find any that are expandable\n      let neighbors = neighbors_bit[pos & 1];\n      let options = [];\n      let cur_bits = river[pos];\n      let bad_bits = cur_bits | cur_bits << 1 | cur_bits >> 1 | cur_bits >> 5 | cur_bits << 5;\n      for (let ii = 0; ii < neighbors.length; ++ii) {\n        if ((1 << ii) & bad_bits) {\n          continue;\n        }\n        let npos = pos + neighbors[ii];\n        if (!land[npos] || river[npos]) {\n          continue;\n        }\n        // Technically valid\n        if (validGrowth(pos, npos)) {\n          options.push([npos, ii]);\n        }\n      }\n      if (!options.length) {\n        // river is done, cannot expand\n        continue;\n      }\n      let asym = false;\n      if (options.length > 1) {\n        let nopt = 1;\n        let split = rand.range(weight_total);\n        if (split >= subopts.weight_bend) {\n          nopt = 2;\n          if (split - subopts.weight_bend >= subopts.weight_sfork) {\n            asym = true;\n          }\n        }\n        for (let ii = 0; ii < nopt; ++ii) {\n          let t = options[ii];\n          let cidx = ii + rand.range(options.length - ii);\n          options[ii] = options[cidx];\n          options[cidx] = t;\n        }\n        options.length = nopt;\n      }\n      for (let ii = 0; ii < options.length; ++ii) {\n        let npos = options[ii][0];\n        let ndir = options[ii][1];\n        let nelev = relev[pos] + rslope[npos];\n        let p = asym ?\n          ii === 1 ? chosen_priority - 1 : chosen_priority :\n          options.length > 1 ? chosen_priority - 1 : chosen_priority;\n        p = max(0, p);\n        debug_priority[npos] = p;\n        relev[npos] = nelev;\n        river[npos] = 1 << ((ndir + 3) % 6);\n        river[pos] |= 1 << ndir;\n        min_elev_by_prior[p] = min(min_elev_by_prior[p], nelev);\n        let active_by_elev = active_by_prior[p];\n        let active = active_by_elev[nelev];\n        if (!active) {\n          active = active_by_elev[nelev] = [];\n        }\n        active.push(npos);\n      }\n    }\n  }\n  grow();\n  function computeStrahler() {\n    function fillStrahler(pos, from_dir) {\n      let bits = river[pos];\n      let out = [];\n      for (let ii = 0; ii < 6; ++ii) {\n        if (ii !== from_dir && (bits & (1 << ii))) {\n          out.push(ii);\n        }\n      }\n      let s;\n      if (!out.length) {\n        s = 1;\n      } else {\n        let neighbors = neighbors_bit[pos & 1];\n        if (out.length === 1) {\n          s = fillStrahler(pos + neighbors[out[0]], (out[0] + 3) % 6);\n        } else {\n          assert.equal(out.length, 2);\n          let s1 = fillStrahler(pos + neighbors[out[0]], (out[0] + 3) % 6);\n          let s2 = fillStrahler(pos + neighbors[out[1]], (out[1] + 3) % 6);\n          if (s1 === s2) {\n            s = s1 + 1;\n          } else {\n            s = max(s1, s2);\n          }\n        }\n      }\n      rstrahler[pos] = s;\n      return s;\n    }\n    for (let ii = 0; ii < orig_coastlines.length; ++ii) {\n      fillStrahler(orig_coastlines[ii], coastlines_incdir[ii]);\n    }\n  }\n  computeStrahler();\n  function pruneRivers() {\n    for (let pos = 0; pos < total_size; ++pos) {\n      if (rstrahler[pos] === 1) {\n        let bits = river[pos];\n        river[pos] = 0;\n        rstrahler[pos] = 0;\n        relev[pos] = 0;\n        let neighbors = neighbors_bit[pos & 1];\n        for (let ii = 0; ii < 6; ++ii) {\n          if (bits & (1 << ii)) {\n            let npos = pos + neighbors[ii];\n            river[npos] &= ~(1 << ((ii + 3) % 6));\n          }\n        }\n      }\n    }\n  }\n  if (subopts.prune) {\n    pruneRivers();\n    computeStrahler();\n  }\n  function buildUpHeight() {\n    util.fill(0);\n    // Accumulate river nodes\n    // Maybe also start with coastlines?\n    let work_nodes = [];\n    for (let pos = 0; pos < total_size; ++pos) {\n      if (river[pos]) {\n        work_nodes.push(pos);\n      }\n    }\n    // Contribute from work nodes to all land neighbors\n    while (work_nodes.length) {\n      let next_nodes = [];\n      for (let ii = 0; ii < work_nodes.length; ++ii) {\n        let pos = work_nodes[ii];\n        let neighbors = neighbors_bit[pos & 1];\n        let nheight = relev[pos] + tslope[pos];\n        for (let jj = 0; jj < neighbors.length; ++jj) {\n          let npos = pos + neighbors[jj];\n          if (!river[npos] && land[npos] && util[npos] !== 255) {\n            if (!util[npos]) {\n              relev[npos] = 0;\n              next_nodes.push(npos);\n            }\n            relev[npos]+=nheight;\n            util[npos]++;\n          }\n        }\n      }\n      // average\n      for (let ii = 0; ii < next_nodes.length; ++ii) {\n        let pos = next_nodes[ii];\n        relev[pos] /= util[pos];\n        util[pos] = 255;\n      }\n      work_nodes = next_nodes;\n    }\n  }\n  buildUpHeight();\n}\n\nfunction generateOceanDistanceField() {\n  util.fill(0);\n  let todo = state.ocean_coastlines;\n  let d = 0;\n  for (let ii = 0; ii < todo.length; ++ii) {\n    let pos = todo[ii];\n    ocean_distance[pos] = d;\n    util[pos] = 1;\n  }\n  while (todo.length) {\n    d = min(d + 1, 255);\n    let next = [];\n    for (let ii = 0; ii < todo.length; ++ii) {\n      let pos = todo[ii];\n      let neighbors = neighbors_bit[pos & 1];\n      for (let jj = 0; jj < neighbors.length; ++jj) {\n        let npos = pos + neighbors[jj];\n        if (!util[npos]) {\n          util[npos] = 1;\n          ocean_distance[npos] = d;\n          if (fill[npos] !== D_BORDER) {\n            next.push(npos);\n          }\n        }\n      }\n    }\n    todo = next;\n  }\n  ocean_distance[0] = min(ocean_distance[1] + 1, 255);\n  ocean_distance[total_size - 1] = min(ocean_distance[total_size - 2] + 1, 255);\n}\n\nfunction generateOceanTrenches(ii,jj) {\n  initNoise(opts.ocean_trenches);\n  hexPosToUnifPos(ii, jj);\n  let noise_v = sample();\n  let val = step(noise_v,opts.ocean_trenches.cutoff);\n\n  if (val) {\n    hexPosToUnifPos(ii*0.5, jj*0.5);\n    val = sample()*30;\n  } else {\n    val = sample()*10;\n  }\n  return val;\n}\n\nfunction generateShallows(ii,jj) {\n  //use trenches noise for now.\n  initNoise(opts.ocean_trenches);\n  hexPosToUnifPos(ii*0.8, 20+jj*0.8);\n  let noise_v = sample();\n  let val = step(noise_v,0.65);\n\n  return val;\n}\n\nfunction generateOcean() {\n  let { border_min_dist } = state;\n  initNoise(opts.ocean);\n  shallows.fill(0);\n  trenches.fill(0);\n  for (let jj = 0; jj < height; ++jj) {\n    for (let ii = 0; ii < width; ++ii) {\n      let pos = jj * width + ii;\n      if (fill[pos] === D_SEA2 || fill[pos] === D_BORDER) {\n        hexPosToUnifPos(ii, jj);\n\n        let noise_v = sample();\n        let distance = clamp(ocean_distance[pos] / border_min_dist, 0, 1);\n        let noise_weight = (0.5 - abs(distance - 0.5));\n        distance -= noise_v * noise_weight;\n\n        //river deltas\n        if (river_mouth_distance[pos] < nearest_strahler[pos]) {\n          relev[pos] = (river_mouth_distance[pos] * river_mouth_distance[pos]);\n        } else { //no delta - normal mode\n          distance = fill[pos] === D_BORDER ? 1 : distance;\n          trenches[pos] = generateOceanTrenches(jj,ii);\n          relev[pos] = clamp(distance * 70 + trenches[pos], 0, 255);\n          if (distance < 0.05) {\n            shallows[pos] = generateShallows(ii,jj);\n          }\n        }\n      }\n    }\n  }\n}\n\nfunction generateOutputElevation() {\n  // let max_depth = 0; // always 255\n  // let max_height = 0;\n  // Empirical estimate on 256x256 texture, before mountainifying\n  let est_max_output = opts.rslope.steps * 50 + 80;\n  // covert to a height in quarter-voxels for output\n  let voxel_scale = state.voxel_scale = 1 / est_max_output * opts.output.land_range / 2;\n  // for (let pos = 0; pos < total_size; ++pos) {\n  //   let e = relev[pos];\n  //   if (land[pos]) {\n  //     max_height = max(max_height, e);\n  //   } else {\n  //     max_depth = max(max_depth, e);\n  //   }\n  // }\n  let above_sea_level = opts.output.sea_range;\n  for (let pos = 0; pos < total_size; ++pos) {\n    let e = relev[pos];\n    if (land[pos]) {\n      e = above_sea_level + e * voxel_scale; // (e / max_height) * opts.output.land_range;\n    } else if (shallows[pos]) {\n      e = above_sea_level;\n    } else {\n      e = above_sea_level - 1 - e / 255 * above_sea_level;\n    }\n    relev[pos] = max(0, round(e));\n  }\n  water_level.fill(0);\n}\n\nfunction fixupCoastalWaters() {\n  // Hack: use average slope to calc depth of hexomes bordering coast, instead of noise\n  let above_sea_level = opts.output.sea_range;\n  for (let pos = 0; pos < total_size; ++pos) {\n    if (fill[pos] === D_SEA2) {\n      let land_count = 0;\n      //let elev_sum = 0;\n      let elev_min = Infinity;\n      let neighbors = neighbors_bit[pos & 1];\n      for (let kk = 0; kk < neighbors.length; ++kk) {\n        let nidx = pos + neighbors[kk];\n        if (land[nidx]) {\n          ++land_count;\n          let delev = relev[nidx] - above_sea_level;\n          //elev_sum += delev;\n          elev_min = min(elev_min, delev);\n        }\n      }\n      if (land_count && river_mouth_distance[pos] >= nearest_strahler[pos] && !shallows[pos]) {\n        //relev[pos] = max(relev[pos], above_sea_level - max(elev_sum / land_count, 1));\n        relev[pos] = max(relev[pos], above_sea_level - max(elev_min, 1));\n      }\n    }\n  }\n  // Hack: any land that is level with the water, raise up a bit so it blends well\n  let { voxel_scale } = state;\n  for (let pos = 0; pos < total_size; ++pos) {\n    if (relev[pos] === above_sea_level && !river[pos]) {\n      relev[pos] = above_sea_level + min(rslope[pos], tslope[pos]) * voxel_scale * 0.5;\n    }\n  }\n}\n\nfunction blurExtremeSlopes() {\n  subopts = opts.blur;\n  let { threshold, weight } = subopts;\n  let blurs = [];\n  for (let pos = 0; pos < total_size; ++pos) {\n    if (!land[pos] || river[pos]) {\n      continue;\n    }\n    let elev = relev[pos];\n    let neighbors = neighbors_bit[pos & 1];\n    let blur = false;\n    for (let ii = 0; ii < neighbors.length; ++ii) {\n      let nidx = pos + neighbors[ii];\n      let nelev = relev[nidx];\n      if (nelev - elev > threshold) {\n        blur = true;\n      }\n    }\n    if (blur) {\n      let total = elev;\n      for (let ii = 0; ii < neighbors.length; ++ii) {\n        let nidx = pos + neighbors[ii];\n        let nelev = relev[nidx];\n        total += max(opts.output.sea_range, nelev);\n      }\n      blurs.push([pos, lerp(weight, elev, round(total / 7))]);\n    }\n  }\n  for (let ii = 0; ii < blurs.length; ++ii) {\n    let b = blurs[ii];\n    relev[b[0]] = b[1];\n  }\n}\n\nfunction fillLakes() { // Happens much later than generateLakes - after river growing!\n  let { lakes } = state;\n  util.fill(0);\n  function fillLake(source_pos) {\n    // remove strahler so river_deltas dont get placed in middle of lakes.\n    nearest_strahler[source_pos] = 0;\n    let cur_elev = relev[source_pos];\n    util[source_pos] = 1;\n    let neighbors_by_elev = []; // neighbors of distance 1, sorted by elevation\n    let n2 = {}; // neighbors of a distance 2\n    let filled = [];\n    let try_elev = cur_elev;\n    let good_elevations = [];\n    function addPos(pos) {\n      filled.push(pos);\n      let neighbors = neighbors_bit[pos & 1];\n      for (let jj = 0; jj < neighbors.length; ++jj) {\n        let nidx = pos + neighbors[jj];\n        if (!util[nidx]) {\n          let nelev = relev[nidx];\n          if (nelev < try_elev) {\n            return false;\n          }\n          let ne = neighbors_by_elev[nelev];\n          if (!ne) {\n            ne = neighbors_by_elev[nelev] = [];\n          }\n          ne.push(nidx);\n          util[nidx] = 1;\n\n          // Also remove from N2\n          delete n2[nidx];\n          // Also add our neighbors to N2\n          let neighbors2 = neighbors_bit[nidx & 1];\n          for (let kk = 0; kk < neighbors2.length; ++kk) {\n            let nidx2 = nidx + neighbors2[kk];\n            if (!util[nidx2] && !n2[nidx2]) {\n              n2[nidx2] = relev[nidx2];\n            }\n          }\n        }\n      }\n      return true;\n    }\n    if (!addPos(source_pos)) {\n      return;\n    }\n    // try increasing water elevation\n    outer:\n    do {\n      ++try_elev;\n      let ne = neighbors_by_elev[try_elev];\n      let filled_len = filled.length;\n      if (ne) {\n        for (let ii = 0; ii < ne.length; ++ii) { // grows while iterating\n          if (!addPos(ne[ii])) {\n            filled.length = filled_len;\n            break outer;\n          }\n        }\n        // This elevation is lower than all immediate neighbors\n        // This is a good elevation if it is lower than everyone in N2\n        let is_good = true;\n        for (let key in n2) {\n          if (n2[key] <= try_elev) {\n            is_good = false;\n            break;\n          }\n        }\n        if (is_good) {\n          cur_elev = try_elev;\n          good_elevations.push([cur_elev, filled.length]);\n        }\n      }\n    } while (true);\n    if (!good_elevations.length) {\n      return;\n    }\n    // Aribitrary grab the elevation found halfway though the flooding process\n    let pick = floor(good_elevations.length * 0.5);\n    pick = good_elevations[pick];\n    filled.length = pick[1];\n    cur_elev = pick[0] + 1;\n    for (let ii = 0; ii < filled.length; ++ii) {\n      let pos = filled[ii];\n      water_level[pos] = cur_elev;\n      land[pos] = 0;\n    }\n    // lake_fills.push(filled);\n    // Also spread sea level to neighboring hexomes\n    for (let ii in neighbors_by_elev) {\n      let elev = Number(ii);\n      if (elev > cur_elev) {\n        let ne = neighbors_by_elev[elev];\n        for (let jj = 0; jj < ne.length; ++jj) {\n          water_level[ne[jj]] = cur_elev;\n        }\n      }\n    }\n  }\n  for (let ii = 0; ii < lakes.length; ++ii) {\n    fillLake(lakes[ii]);\n  }\n}\n\nfunction pruneFloodedRivers() {\n  for (let ii = 0; ii < total_size; ++ii) {\n    if (!river[ii]) {\n      continue;\n    }\n    let wl = water_level[ii];\n    if (wl && relev[ii] < wl) {\n      river[ii] = 0;\n    }\n  }\n}\n\nfunction generateCoastDistanceField() {\n  util.fill(0);\n  function findCoast() {\n    let default_water_level = opts.output.sea_range;\n    let coast = [];\n    for (let ii = 0; ii < total_size; ++ii) {\n      if (relev[ii] >= (water_level[ii] || default_water_level)) {\n        // it's land\n        let neighbors = neighbors_bit[ii & 1];\n        let is_coast = false;\n        for (let jj = 0; jj < neighbors.length; ++jj) {\n          let nid = ii + neighbors[jj];\n          if (relev[nid] < (water_level[nid] || default_water_level)) {\n            is_coast = true;\n            break;\n          }\n        }\n        if (is_coast) {\n          coast.push(ii);\n        }\n      }\n    }\n    return coast;\n  }\n  let todo = findCoast();\n  let d = 0;\n  for (let ii = 0; ii < todo.length; ++ii) {\n    let pos = todo[ii];\n    coast_distance[pos] = d;\n    util[pos] = 1;\n  }\n  while (todo.length) {\n    d = min(d + 1, 255);\n    let next = [];\n    for (let ii = 0; ii < todo.length; ++ii) {\n      let pos = todo[ii];\n      let neighbors = neighbors_bit[pos & 1];\n      for (let jj = 0; jj < neighbors.length; ++jj) {\n        let npos = pos + neighbors[jj];\n        if (!util[npos]) {\n          util[npos] = 1;\n          coast_distance[npos] = d;\n          if (fill[npos] !== D_BORDER) {\n            next.push(npos);\n          }\n        }\n      }\n    }\n    todo = next;\n  }\n  coast_distance[0] = min(coast_distance[1] + 1, 255);\n  coast_distance[total_size - 1] = min(coast_distance[total_size - 2] + 1, 255);\n}\n\nfunction generateRiverMouthDistanceField() {\n\n  util.fill(0);\n  river_mouth_distance.fill(255);\n  nearest_strahler.fill(0);\n  let todo = [];\n  let d = 0;\n  let nstrahler = 0;\n  for (let ii = 0; ii < river.length; ++ii) {\n    if (river[ii] && land[ii]) {\n      nearest_strahler[ii] = rstrahler[ii];\n      let neighbors = neighbors_bit[ii & 1];\n      for (let jj = 0; jj < neighbors.length; ++jj) {\n        let npos = ii + neighbors[jj];\n        if (!land[npos]) {\n          todo.push(npos);\n          nearest_strahler[npos] = nearest_strahler[ii];\n        }\n      }\n    }\n  }\n\n  for (let ii = 0; ii < todo.length; ++ii) {\n    let pos = todo[ii];\n    river_mouth_distance[pos] = 0;\n    util[pos] = 1;\n  }\n  while (todo.length) {\n    d = min(d + 1, 255);\n    let next = [];\n    for (let ii = 0; ii < todo.length; ++ii) {\n      let pos = todo[ii];\n      nstrahler = nearest_strahler[pos];\n      let neighbors = neighbors_bit[pos & 1];\n      for (let jj = 0; jj < neighbors.length; ++jj) {\n        let npos = pos + neighbors[jj];\n        if (!util[npos]) {\n          util[npos] = 1;\n          river_mouth_distance[npos] = d;\n          nearest_strahler[npos] = nstrahler;\n          if (fill[npos] !== D_BORDER) {\n            next.push(npos);\n          }\n        }\n      }\n    }\n    todo = next;\n  }\n\n  river_mouth_distance[0] = min(river_mouth_distance[1] + 1, 255);\n  river_mouth_distance[total_size - 1] = min(river_mouth_distance[total_size - 2] + 1, 255);\n\n}\n\nfunction mountainify() {\n  subopts = opts.mountainify;\n  let { cdist_ramp, peak_radius, peak_percent, peak_k } = subopts;\n  let peak_candidates;\n  // Generate Poisson disk sampling across map\n  peak_candidates = poissonSample(peak_radius, peak_k).filter((a) => land[a]);\n  function choosePeaks() {\n    let peak_elev = findMaxPerRegion(peak_candidates, relev, (peak_radius / 2) | 0);\n    let keep = max(1, ceil(peak_percent * peak_elev.length));\n    peak_elev = peak_elev.slice(0, keep);\n    return peak_elev.map((a) => a[1]);\n  }\n  let points = choosePeaks();\n\n  let {\n    blend_radius,\n    height_scale,\n    weight_local,\n    power_max,\n    power_min,\n    power_blend,\n  } = subopts;\n  function growMountain(pos) {\n    let rsquared = blend_radius*blend_radius;\n    let horiz_radius = ceil(blend_radius * SKEW_X);\n    let weight_abs = 1 - weight_local;\n    let avg_height = 0;\n    let avg_count = 0;\n    let x0 = pos % width;\n    let y0 = (pos - x0) / width;\n    // Find average height under the mountain within the radius\n    // PERFTODO: If constant radius, could pre-build an array of just the\n    //   index-offsets of points that pass the range tests and pre-compute\n    //   their weights.\n\n    // Weighted average of entire area\n    for (let dx = -horiz_radius; dx <= horiz_radius; ++dx) {\n      for (let dy = -blend_radius; dy <= blend_radius; ++dy) {\n        let dsq = dx*dx + dy*dy; // Not quite accurate distance, but fine for this estimate\n        if (dsq >= rsquared) {\n          continue;\n        }\n        let x = x0 + dx;\n        let y = y0 + dy;\n        if (x < 0 || x >= width || y < 0 || y >= height) {\n          continue;\n        }\n        let pos_idx = y * width + x;\n        if (!land[pos_idx]) {\n          continue;\n        }\n        //let w = 1 - dsq / rsquared; // 1 in center, 0 on edge\n        let w = dsq / rsquared; // 0 in center, 1 on edge\n        avg_height += relev[y * width + x] * w;\n        avg_count += w;\n      }\n    }\n    avg_height /= avg_count;\n    // Scale up exponentially in the middle\n    let center_dh = relev[pos] - avg_height;\n    if (center_dh < 10) {\n      // the center is lower than the average - must have been at the edge of a peak selection radius, and\n      // on a slope, so probably not actually a good choice for a exaggerated peak\n      return;\n    }\n\n    // Decide which angle to apply the power curve\n    // Try just perpindicular to the 3 cardinal hex-axes\n    let angle_offs = PI/6;\n    let best_h = 0;\n    let angles = [\n      [-0.5, sqrt(3/4), PI/6],\n      [-1, 0, PI*3/6],\n      [-0.5, -sqrt(3/4), PI*5/6],\n      [0.5, -sqrt(3/4), PI*7/6],\n      [1, 0, PI*9/6],\n      [0.5, sqrt(3/4), PI*11/6],\n    ];\n    for (let ii = 0; ii < angles.length; ++ii) {\n      let sx = round(x0 + angles[ii][0] * blend_radius / 2 / SKEW_X);\n      let sy = round(y0 + angles[ii][1] * blend_radius / 2);\n      sx = clamp(sx, 0, width - 1);\n      sy = clamp(sy, 0, height - 1);\n      let h = relev[sx + sy * width];\n      if (h > best_h) {\n        best_h = h;\n        angle_offs = angles[ii][2];\n      }\n    }\n\n    for (let dx = -horiz_radius; dx <= horiz_radius; ++dx) {\n      for (let dy = -blend_radius; dy <= blend_radius; ++dy) {\n        let x = x0 + dx;\n        let y = y0 + dy;\n        let unif_dx = (x - x0) / SKEW_X;\n        let unif_dy = y - y0;\n        if ((x0 & 1) !== (x & 1)) {\n          if (x0 & 1) {\n            unif_dy -= 0.5;\n          } else {\n            unif_dy += 0.5;\n          }\n        }\n        let dsq = unif_dx*unif_dx + unif_dy*unif_dy;\n        if (dsq >= rsquared) {\n          continue;\n        }\n        if (x < 0 || x >= width || y < 0 || y >= height) {\n          continue;\n        }\n        let pos_idx = y * width + x;\n        if (!land[pos_idx]) {\n          continue;\n        }\n        let elev = relev[pos_idx];\n        let dh = elev - avg_height;\n        let scale = 1 - sqrt(dsq) / blend_radius;\n        let angle = atan2(unif_dx, unif_dy);\n        // TODO: add rotate here\n        angle = ((angle + angle_offs) + PI) % TWOPI - PI;\n        angle = abs(angle) / PI;\n        angle = clamp((angle - (1 - power_blend) / 2) / power_blend, 0, 1);\n        let eff_power = lerp(angle, power_min, power_max);\n        scale = pow(scale, eff_power);\n        let cdist = coast_distance[pos_idx];\n        if (cdist_ramp) {\n          scale *= clamp(cdist / cdist_ramp, 0, 1);\n        }\n        let delta = (weight_local * max(0, dh) + weight_abs * center_dh) * height_scale * scale;\n        mountain_delta[pos_idx] = max(mountain_delta[pos_idx], delta);\n      }\n    }\n  }\n  function applyGrowth() {\n    for (let pos_idx = 0; pos_idx < total_size; ++pos_idx) {\n      relev[pos_idx] += mountain_delta[pos_idx];\n    }\n  }\n\n  mountain_delta.fill(0);\n  for (let ii = 0; ii < points.length; ++ii) {\n    growMountain(points[ii]);\n  }\n  applyGrowth();\n}\n\nfunction pruneUphillRivers() {\n  // After Mountainify has changed the slopes, are any rivers now flowing uphill?\n  subopts = opts.river;\n  if (!subopts.mtify_prune) {\n    return;\n  }\n  let { mtify_prune_grace } = subopts;\n\n  function clearRiver(pos, from_dir) {\n    let bits = river[pos];\n    let neighbors = neighbors_bit[pos & 1];\n    for (let ii = 0; ii < 6; ++ii) {\n      if (ii !== from_dir && (bits & (1 << ii))) {\n        clearRiver(pos + neighbors[ii], (ii + 3) % 6);\n      }\n    }\n    rstrahler[pos] = 0;\n    river[pos] = 0;\n  }\n  function fillStrahler(pos, from_dir) {\n    let my_elev = relev[pos];\n    let bits = river[pos];\n    let out = [];\n    let neighbors = neighbors_bit[pos & 1];\n    for (let ii = 0; ii < 6; ++ii) {\n      if (ii !== from_dir && (bits & (1 << ii))) {\n        let nid = pos + neighbors[ii];\n        if (relev[nid] < my_elev) {\n          if (relev[nid] < my_elev - mtify_prune_grace) {\n            river[pos] &= ~(1 << ii);\n            clearRiver(nid, (ii + 3) % 6);\n          } else {\n            // Pretty close, just raise a bit\n            relev[nid] = my_elev;\n            out.push(ii);\n          }\n        } else {\n          out.push(ii);\n        }\n      }\n    }\n    // Might as well also re-compute Strahler (just for debug)\n    let s;\n    if (!out.length) {\n      s = 1;\n    } else {\n      if (out.length === 1) {\n        s = fillStrahler(pos + neighbors[out[0]], (out[0] + 3) % 6);\n      } else {\n        assert.equal(out.length, 2);\n        let s1 = fillStrahler(pos + neighbors[out[0]], (out[0] + 3) % 6);\n        let s2 = fillStrahler(pos + neighbors[out[1]], (out[1] + 3) % 6);\n        if (s1 === s2) {\n          s = s1 + 1;\n        } else {\n          s = max(s1, s2);\n        }\n      }\n    }\n    rstrahler[pos] = s;\n    return s;\n  }\n\n  for (let ii = 0; ii < total_size; ++ii) {\n    let rbits = river[ii];\n    if (!rbits) {\n      continue;\n    }\n    let neighbors = neighbors_bit[ii & 1];\n    let found_one = false;\n    for (let jj = 0; jj < neighbors.length; ++jj) {\n      if (rbits & (1 << jj)) {\n        let nid = ii + neighbors[jj];\n        if (!river[nid]) {\n          assert(!found_one);\n          found_one = true;\n          fillStrahler(ii, jj);\n          // Also, add a bit to where we flow into, to continue rivers\n          // todo.push([nid, jj]);\n        }\n      }\n    }\n  }\n}\n\nfunction generateHumidity() {\n  let total_range = opts.output.land_range; // + opts.output.sea_range; - sea isn't used for slope, for the most part\n  let slope_mul = 4096 / total_range;\n  function generateSlope() {\n    for (let y = 0; y < height; ++y) {\n      for (let x = 0; x < width; ++x) {\n        let pos = y * width + x;\n        if (land[pos]) {\n          // hexPosToUnifPos(x, y);\n          // let noise_v = sample();\n          let elev = relev[pos];\n          let right_slope = 0; // if positive, slopes down to the right\n          let neighbors = neighbors_bit[x & 1];\n          for (let ii = 1; ii < 6; ++ii) {\n            if (ii === 3) {\n              continue;\n            }\n            let npos = pos + neighbors[ii];\n            let nelev = relev[npos];\n            if (ii < 3) {\n              right_slope += elev - nelev;\n            } else {\n              right_slope += nelev - elev;\n            }\n          }\n          humidity[pos] = clamp(128 + right_slope * slope_mul, 0, 255);\n        } else {\n          humidity[pos] = 128;\n        }\n      }\n    }\n  }\n  generateSlope();\n  if (opts.humidity.show_relief) {\n    return;\n  }\n  function blurSlope() {\n    for (let y = 0; y < height; ++y) {\n      for (let x = 0; x < width; ++x) {\n        let pos = y * width + x;\n        if (land[pos]) {\n          let neighbors = neighbors_bit[x & 1];\n          let total = humidity[pos];\n          let count = 1;\n          for (let ii = 1; ii < 6; ++ii) {\n            let npos = pos + neighbors[ii];\n            if (land[npos]) {\n              total += humidity[npos];\n              count++;\n            }\n          }\n          humidity[pos] = round(total / count);\n        }\n      }\n    }\n  }\n  blurSlope();\n  function addToNoise() {\n    initNoise(opts.humidity);\n    for (let y = 0; y < height; ++y) {\n      for (let x = 0; x < width; ++x) {\n        let pos = y * width + x;\n        hexPosToUnifPos(x, y);\n        let noise_v = sample();\n        let rainshadow = (humidity[pos] - 128) / 127;\n        rainshadow = ((rainshadow >= 0) ? 0.25 : -0.25) + rainshadow * 0.75; // [-1,-0.25] or [0.25,1.0]\n        let rainshadow_effect = get('rainshadow'); // [0,1]\n        rainshadow *= rainshadow_effect;\n        noise_v = ((noise_v + rainshadow) + rainshadow_effect) / (1 + rainshadow_effect * 2); // [0,1]\n        humidity[pos] = clamp(noise_v * 255, 0, 255);\n      }\n    }\n  }\n  addToNoise();\n}\n\nfunction determineClassification() {\n  subopts = opts.classif;\n  let { cut1, cut2, blur_scale, blur_w } = subopts;\n\n  function blurHeight() {\n    let w_len = blur_w * 2 + 1;\n    let w = 1 / w_len;\n\n    let h_min = opts.output.sea_range;\n\n    // Horizontal blur\n    for (let yy = 0; yy < height; ++yy) {\n      for (let xx = 0; xx <= width - w_len; ++xx) {\n        let pos = xx + yy * width;\n        let v = 0;\n        for (let dx = 0; dx < w_len; ++dx) {\n          v += max(h_min, relev[pos + dx]);\n        }\n        blur_temp1[pos + blur_w] = round(v * w);\n      }\n    }\n    // Vertical blur\n    for (let yy = 0; yy < height - w_len; ++yy) {\n      for (let xx = blur_w; xx <= width - blur_w; ++xx) {\n        let pos = xx + yy * width;\n        let v = 0;\n        for (let dy = 0; dy < w_len; ++dy) {\n          v += blur_temp1[pos + dy * width];\n        }\n        blur_temp2[pos + blur_w * width] = round(v * w);\n      }\n    }\n  }\n  function classifFromDiff() {\n    for (let pos = 0; pos < total_size; ++pos) {\n      let c;\n      if (!land[pos]) {\n        if (river_mouth_distance[pos] === 0 && nearest_strahler[pos] > 1) {\n          c = C_RIVER_DELTA;\n        } else {\n          c = C_WATER;\n        }\n      } else {\n        let elev = relev[pos];\n        let blurred = blur_temp2[pos] || elev;\n        let diff = elev - blurred;\n        let v = diff / blur_scale;\n        c = v > cut2 ? C_MOUNTAINS : v > cut1 ? C_HILLS : C_PLAINS;\n      }\n      classif[pos] = c;\n    }\n  }\n  blurHeight();\n  classifFromDiff();\n  // Maybe also want a blur / cellular automata pass to remove islands of classification\n  // Maybe want to do stuff to decrease the mountains on the coasts\n}\n\n\nexport function continentGen(param) {\n  let start = Date.now();\n  if (typeof param === 'number') {\n    opts = default_opts;\n    opts.seed = param;\n  } else {\n    opts = param;\n    assert.equal(typeof opts.seed, 'number');\n  }\n  let { hex_tex_size } = opts;\n  let output_debug = opts.output.debug;\n  if (hex_tex_size !== last_tex_size) {\n    setupWorkBuffers(hex_tex_size);\n  }\n\n  debug_priority = [];\n  state = {}; // for passing misc parameters between phases\n  rand = randCreate(opts.seed);\n\n  fill.fill(0);\n\n  generateCoastlines();\n  fillSeas();\n  generateLakes();\n  generateTerrainSlope();\n  generateRiverSlope();\n  growRivers();\n  pruneFloodedRivers();\n  generateOceanDistanceField();\n  generateRiverMouthDistanceField();\n  generateOcean();\n  generateOutputElevation();\n  fixupCoastalWaters();\n  blurExtremeSlopes();\n  fillLakes();\n  pruneFloodedRivers();\n  generateCoastDistanceField(); // includes lakes\n  generateRiverMouthDistanceField(); //include lakes, calc needed earlier for ocean depth.\n  mountainify();\n  pruneUphillRivers();\n  if (opts.early_out !== 'river') {\n    generateHumidity();\n  }\n  determineClassification();\n\n  let ret = {\n    sea_level: opts.output.sea_range,\n    max_elevation: opts.output.sea_range + opts.output.land_range,\n  };\n  if (output_debug) {\n    ret.land = land;\n    ret.fill = fill;\n    ret.tslope = tslope;\n    ret.rslope = rslope;\n    ret.river = river;\n    ret.elev = relev;\n    ret.water_level = water_level;\n    ret.rstrahler = rstrahler;\n    ret.humidity = humidity;\n    ret.classif = classif;\n    ret.trenches = trenches;\n    ret.shallows = shallows;\n    ret.coast_distance = coast_distance;\n    ret.ocean_distance = ocean_distance;\n    ret.debug_priority = debug_priority;\n    ret.blur_temp1 = blur_temp1;\n    ret.blur_temp2 = blur_temp2;\n  } else {\n    ret.elev = relev.slice(0);\n    ret.humidity = humidity.slice(0);\n    ret.river = river.slice(0);\n    ret.water_level = water_level.slice(0);\n    ret.classif = classif.slice(0);\n  }\n  ret.time = Date.now() - start;\n  return ret;\n}\n","//////////////////////////////////////////////////////////////////////////////////\n// Code provided for example purposes only with no license for use or distribution\nconst assert = require('assert');\nconst { packetCreate, packetFromBuffer, PACKET_DEBUG } = require('../common/packet.js');\n\nconst CONTINENT_SER_VERSION = 1;\n\nconst SER_METHOD_DELTA_PACK_INT = 1;\nconst SER_METHOD_RLE_DICT = 2;\nconst SER_METHOD_RLE_ZEROES = 3;\nconst SER_METHOD_RLE_U2 = 4;\n\nconst FIELDS = [\n  'elev',        // U16\n  'water_level', // U16\n  'humidity',    // U8\n  'river',       // U8\n  'classif',     // U8\n];\n\nconst SER_METHOD_FOR_FIELD = {\n  // U16; best: DeltaPakInt (saves just 19%; will zip\n  //            very well after delta encoded, though!)\n  // - huffman(delta()) would save another 30%\n  elev: SER_METHOD_DELTA_PACK_INT,\n\n  // U16; best: RLEDict (saves 99.6%)\n  water_level: SER_METHOD_RLE_DICT,\n\n  // U8;  same: raw=RLEZeroes=DeltaPakInt (saves 0%, but deltas should zip\n  //            or huffman very well though)\n  // - huffman(delta()) saves a total of 35%\n  humidity: SER_METHOD_DELTA_PACK_INT,\n\n  // U8;  best: RLEZeroes (saves 82%)\n  river: SER_METHOD_RLE_ZEROES,\n\n  // U8;  best: RLEU2 (saves 92%)\n  classif: SER_METHOD_RLE_U2,\n};\n\nconst FIELD_TYPE = {\n  elev: Uint16Array,\n  water_level: Uint16Array,\n  humidity: Uint8Array,\n  river: Uint8Array,\n  classif: Uint8Array,\n};\n\n// Write either a single value, or a 0 followed by a count of zeroes\nexport function encodeRLEZeroes(pak, data) {\n  let size = data.length;\n  let c = 0;\n  for (let ii = 0; ii < size; ++ii) {\n    let v = data[ii];\n    if (v) {\n      if (c) {\n        pak.writeInt(c);\n        c = 0;\n      }\n      pak.writeInt(v);\n    } else {\n      if (!c) {\n        pak.writeInt(v);\n      }\n      c++;\n    }\n  }\n  if (c) {\n    pak.writeInt(c);\n  }\n}\n\nfunction decodeRLEZeroes(data, pak) {\n  let idx = 0;\n  while (idx < data.length) {\n    let v = pak.readInt();\n    let c = 1;\n    if (!v) {\n      c = pak.readInt();\n    }\n    assert(idx + c <= data.length);\n    for (let ii = 0; ii < c; ++ii) {\n      data[idx++] = v;\n    }\n  }\n}\n\nexport function encodeRLEU2(pak, data) {\n  let v = data[0];\n  let size = data.length;\n  let c = 0;\n  function writecv() {\n    let out = (v << 6) | c;\n    pak.writeU8(out);\n  }\n  for (let ii = 1; ii < size; ++ii) {\n    if (data[ii] !== v || c === 63) {\n      writecv();\n      c = 0;\n      v = data[ii];\n    } else {\n      c++;\n    }\n  }\n  writecv();\n}\n\nexport function encodeRLEU3(pak, data) {\n  let v = data[0];\n  let size = data.length;\n  let c = 0;\n  function writecv() {\n    let out = (v << 5) | c;\n    pak.writeU8(out);\n  }\n  for (let ii = 1; ii < size; ++ii) {\n    if (data[ii] !== v || c === 31) {\n      writecv();\n      c = 0;\n      v = data[ii];\n    } else {\n      c++;\n    }\n  }\n  writecv();\n}\n\nfunction decodeRLEU2(data, pak) {\n  let idx = 0;\n  while (idx < data.length) {\n    let v = pak.readU8();\n    let c = (v & 0x3F) + 1;\n    v >>>= 6;\n    assert(idx + c <= data.length);\n    for (let ii = 0; ii < c; ++ii) {\n      data[idx++] = v;\n    }\n  }\n}\n\nexport function encodeRLEDict(pak, data) {\n  let v = data[0];\n  let size = data.length;\n  let c = 0;\n  let dict = [];\n  let dict_idx = 0;\n  function writecv() {\n    pak.writeInt(c);\n    let di = dict[v];\n    if (di !== undefined) {\n      pak.writeInt(di);\n    } else {\n      di = dict[v] = dict_idx++;\n      pak.writeInt(di);\n      pak.writeInt(v);\n    }\n  }\n  for (let ii = 1; ii < size; ++ii) {\n    if (data[ii] !== v) {\n      writecv();\n      c = 0;\n      v = data[ii];\n    } else {\n      c++;\n    }\n  }\n  writecv();\n}\n\nfunction decodeRLEDict(data, pak) {\n  let idx = 0;\n  let dict = [];\n  while (idx < data.length) {\n    let c = pak.readInt() + 1;\n    let di = pak.readInt();\n    let v = dict[di];\n    if (v === undefined) {\n      v = dict[di] = pak.readInt();\n    }\n    assert(idx + c <= data.length);\n    for (let ii = 0; ii < c; ++ii) {\n      data[idx++] = v;\n    }\n  }\n}\n\n// Packed int, biasing the delta by 124 to try to keep it in a single byte\n//   (which encodes 0-248)\nexport function encodeDeltaPakInt(pak, data) {\n  let v = 124;\n  let size = data.length;\n  for (let ii = 0; ii < size; ++ii) {\n    let delta = data[ii] - v + 124;\n    pak.writeInt(delta);\n    v = data[ii];\n  }\n}\n\nfunction decodeDeltaPakInt(data, pak) {\n  let size = data.length;\n  let v = 124;\n  for (let ii = 0; ii < size; ++ii) {\n    v += pak.readInt() - 124;\n    data[ii] = v;\n  }\n}\n\nfunction encodeToPacket(pak, method, buf) {\n  switch (method) {\n    case SER_METHOD_DELTA_PACK_INT:\n      encodeDeltaPakInt(pak, buf);\n      break;\n    case SER_METHOD_RLE_DICT:\n      encodeRLEDict(pak, buf);\n      break;\n    case SER_METHOD_RLE_ZEROES:\n      encodeRLEZeroes(pak, buf);\n      break;\n    case SER_METHOD_RLE_U2:\n      encodeRLEU2(pak, buf);\n      break;\n    default:\n      assert();\n  }\n}\n\nfunction decodeFromPacket(buf, method, pak) {\n  switch (method) {\n    case SER_METHOD_DELTA_PACK_INT:\n      decodeDeltaPakInt(buf, pak);\n      break;\n    case SER_METHOD_RLE_DICT:\n      decodeRLEDict(buf, pak);\n      break;\n    case SER_METHOD_RLE_ZEROES:\n      decodeRLEZeroes(buf, pak);\n      break;\n    case SER_METHOD_RLE_U2:\n      decodeRLEU2(buf, pak);\n      break;\n    default:\n      assert();\n  }\n}\n\nconst FIELD_MAGIC = 227;\nexport function continentSerialize(cdata, debug) {\n  let { sea_level, max_elevation } = cdata;\n  let total_size = cdata.elev.length;\n  // Estimated total size of packet is = total_size * 3, from empirical data,\n  //   give a little extra room.\n  let pak = packetCreate(debug ? PACKET_DEBUG : 0, total_size * 4);\n  pak.writeFlags();\n  pak.writeInt(CONTINENT_SER_VERSION);\n  pak.writeInt(sea_level);\n  pak.writeInt(max_elevation);\n  pak.writeInt(total_size);\n\n  FIELDS.forEach(function (field) {\n    pak.writeInt(FIELD_MAGIC);\n    encodeToPacket(pak, SER_METHOD_FOR_FIELD[field], cdata[field]);\n  });\n  pak.makeReadable();\n  let ret_len = pak.getBufferLen();\n  let ret = pak.getBuffer().slice(0, ret_len);\n  pak.pool();\n  return ret;\n}\n\nexport function continentDeserialize(buf) {\n  let ret = {};\n  let pak = packetFromBuffer(buf, buf.length, false);\n  pak.readFlags();\n  let ver = pak.readInt();\n  assert.equal(ver, CONTINENT_SER_VERSION);\n  ret.sea_level = pak.readInt();\n  ret.max_elevation = pak.readInt();\n  let total_size = pak.readInt();\n  assert(total_size <= 512*512);\n\n  FIELDS.forEach(function (field) {\n    let field_magic = pak.readInt();\n    assert.equal(field_magic, FIELD_MAGIC);\n    let ArrayType = FIELD_TYPE[field];\n    let out = ret[field] = new ArrayType(total_size);\n    decodeFromPacket(out, SER_METHOD_FOR_FIELD[field], pak);\n  });\n  return ret;\n}\n","//////////////////////////////////////////////////////////////////////////////////\n// Code provided for example purposes only with no license for use or distribution\n\n// Additional serialization methods and comparison, that were not significantly\n//   better.\n\nconst assert = require('assert');\nconst { packetCreate } = require('../common/packet.js');\nconst { ridx } = require('../common/util.js');\nconst {\n  encodeRLEZeroes,\n  encodeRLEU2,\n  encodeRLEU3,\n  encodeRLEDict,\n  encodeDeltaPakInt,\n} = require('./continent_serialize.js');\n\nfunction BitBuffer() {\n  this.pak = packetCreate(0);\n  this.v = 0;\n  this.b = 0;\n}\nBitBuffer.prototype.writeBits = function (num_bits, value) {\n  assert(num_bits < 24);\n  let { v, b, pak } = this;\n  v |= value << b;\n  b += num_bits;\n  while (b > 8) {\n    pak.writeU8(v & 255);\n    v >>>= 8;\n    b -= 8;\n  }\n  this.v = v;\n  this.b = b;\n};\nBitBuffer.prototype.flush = function () {\n  let { pak, b } = this;\n  if (b) {\n    this.writeBits(8 - b, 0);\n  }\n  pak.makeReadable();\n  let ret_len = pak.getBufferLen();\n  let ret = pak.getBuffer().slice(0, ret_len);\n  pak.pool();\n  return ret;\n};\n\nfunction encodeRLEPakInt(pak, data) {\n  let v = data[0];\n  let size = data.length;\n  let c = 0;\n  for (let ii = 1; ii < size; ++ii) {\n    if (data[ii] !== v) {\n      pak.writeInt(c);\n      pak.writeInt(v);\n      c = 0;\n      v = data[ii];\n    } else {\n      c++;\n    }\n  }\n  pak.writeInt(c);\n  pak.writeInt(v);\n}\n\nfunction encodeRLEUx(base_bits, data) {\n  let count_pak = packetCreate(0);\n  let value_buf = new BitBuffer();\n  let v = data[0];\n  let size = data.length;\n  let c = 0;\n  function writecv() {\n    count_pak.writeInt(c);\n    if (v) {\n      value_buf.writeBits(1, 1);\n      value_buf.writeBits(base_bits, v);\n    } else {\n      value_buf.writeBits(1, 0);\n    }\n  }\n  for (let ii = 1; ii < size; ++ii) {\n    if (data[ii] !== v) {\n      writecv();\n      c = 0;\n      v = data[ii];\n    } else {\n      c++;\n    }\n  }\n  writecv();\n\n  count_pak.makeReadable();\n  let ret_len = count_pak.getBufferLen();\n  let ret1 = count_pak.getBuffer().slice(0, ret_len);\n  count_pak.pool();\n  let ret2 = value_buf.flush();\n  return [ret1, ret2];\n}\n\nlet temp_u8_encode;\nfunction encodeRLEU8(data) {\n  if (!(data instanceof Uint8Array)) {\n    return '';\n  }\n  if (!temp_u8_encode || temp_u8_encode.length < data.length * 2) {\n    temp_u8_encode = new Uint8Array(data.length * 2);\n  }\n  let out = temp_u8_encode;\n  let idx = 0;\n\n  let v = data[0];\n  let size = data.length;\n  let c = 0;\n  for (let ii = 1; ii < size; ++ii) {\n    if (data[ii] !== v || c === 255) {\n      out[idx++] = c;\n      out[idx++] = v;\n      c = 0;\n      v = data[ii];\n    } else {\n      c++;\n    }\n  }\n  out[idx++] = c;\n  out[idx++] = v;\n  return out.slice(0, idx);\n}\n\nlet temp_u16_encode;\nfunction encodeRLEU16(data) {\n  if (!(data instanceof Uint16Array)) {\n    return '';\n  }\n  if (!temp_u16_encode || temp_u16_encode.length < data.length * 2) {\n    temp_u16_encode = new Uint16Array(data.length * 2);\n  }\n  let out = temp_u16_encode;\n  let idx = 0;\n\n  let v = data[0];\n  let size = data.length;\n  let c = 0;\n  for (let ii = 1; ii < size; ++ii) {\n    if (data[ii] !== v || c === 65535) {\n      out[idx++] = c;\n      out[idx++] = v;\n      c = 0;\n      v = data[ii];\n    } else {\n      c++;\n    }\n  }\n  out[idx++] = c;\n  out[idx++] = v;\n  return out.slice(0, idx);\n}\n\nfunction encodeHuffman(data) {\n  // Build encoding table\n  let histo = {};\n  for (let ii = 0; ii < data.length; ++ii) {\n    let v = data[ii];\n    histo[v] = (histo[v] || 0) + 1;\n  }\n  let nodes = [];\n  for (let key in histo) {\n    let v = Number(key);\n    let count = histo[key];\n    nodes.push([count, v]);\n  }\n  function checkCount() {\n    let a = 0;\n    for (let ii = 0; ii < nodes.length; ++ii) {\n      a += nodes[ii][0];\n    }\n    assert.equal(a, data.length);\n  }\n  checkCount();\n  while (nodes.length > 1) {\n    let lowest1 = 0;\n    let lowest2 = 1;\n    if (nodes[0][0] > nodes[1][0]) {\n      lowest1 = 1;\n      lowest2 = 0;\n    }\n    for (let ii = 2; ii < nodes.length; ++ii) {\n      if (nodes[ii][0] < nodes[lowest2][0]) {\n        if (nodes[ii][0] < nodes[lowest1][0]) {\n          lowest2 = lowest1;\n          lowest1 = ii;\n        } else {\n          lowest2 = ii;\n        }\n      }\n    }\n    assert(lowest1 !== lowest2);\n    let n1 = nodes[lowest1];\n    let n2 = nodes[lowest2];\n    let newnode = [n1[0] + n2[0], [n1[1], n2[1]]];\n    if (lowest1 === nodes.length - 1) {\n      nodes.pop();\n      ridx(nodes, lowest2);\n    } else if (lowest2 === nodes.length - 1) {\n      nodes.pop();\n      ridx(nodes, lowest1);\n    } else {\n      ridx(nodes, lowest1);\n      ridx(nodes, lowest2);\n    }\n    nodes.push(newnode);\n    checkCount();\n  }\n  let encoding = [];\n  // Note: current data written to enc_pak is not coherent, we'd need to first\n  // sort nodes by their values so a values lower than the current node_idx\n  // is never written\n  let enc_pak = packetCreate(0);\n  let node_idx = 0;\n  function walk(node, prefix, numbits) {\n    if (Array.isArray(node)) {\n      prefix <<= 1;\n      let left_idx = walk(node[0], prefix, numbits+1);\n      let right_idx = walk(node[1], prefix | 1, numbits+1);\n      enc_pak.writeInt(left_idx);\n      enc_pak.writeInt(right_idx);\n    } else {\n      encoding[node] = [prefix, numbits];\n      enc_pak.writeInt(node);\n    }\n    return node_idx++;\n  }\n  walk(nodes[0][1], 0, 0);\n\n  let buf = new BitBuffer();\n\n  for (let ii = 0; ii < data.length; ++ii) {\n    let v = data[ii];\n    let enc = encoding[v];\n    assert(enc);\n    buf.writeBits(enc[1], enc[0]);\n  }\n\n  enc_pak.makeReadable();\n  let ret_len = enc_pak.getBufferLen();\n  let ret1 = enc_pak.getBuffer().slice(0, ret_len);\n  enc_pak.pool();\n  return [buf.flush(), ret1];\n}\n\nfunction encodeWrap(fn) {\n  return function (data) {\n    let pak = packetCreate(0);\n    fn(pak, data);\n    pak.makeReadable();\n    let ret_len = pak.getBufferLen();\n    let ret = pak.getBuffer().slice(0, ret_len);\n    pak.pool();\n    return ret;\n  };\n}\n\nexport function continentSerializeTest(cdata) {\n  [\n    'elev',        // U16\n    'water_level', // U16\n    'humidity',    // U8\n    'river',       // U8\n    'classif',     // U8\n  ].forEach(function (field) {\n    let data = cdata[field];\n    console.log(`${field}:`);\n    function test(name, fn) {\n      let buf = fn(data);\n      if (Array.isArray(buf)) {\n        let b0 = buf[0].buffer.byteLength;\n        let b1 = buf[1].buffer.byteLength;\n        console.log(`  ${name}: ${b0 + b1} (${b0} + ${b1})`);\n      } else {\n        console.log(`  ${name}: ${buf.buffer.byteLength}`);\n      }\n    }\n    test('raw', () => new Uint8Array(data.buffer));\n    test('RLEPakInt', encodeWrap(encodeRLEPakInt));\n    test('RLEZeroes', encodeWrap(encodeRLEZeroes));\n    test('RLEDict', encodeWrap(encodeRLEDict));\n    test('RLEU8/16', (data instanceof Uint8Array) ? encodeRLEU8 : encodeRLEU16);\n    test('DeltaPakInt', encodeWrap(encodeDeltaPakInt));\n    if (field === 'river') {\n      test('RLEU6', encodeRLEUx.bind(null, 6));\n    }\n    if (field === 'classif') {\n      test('RLEU3', encodeWrap(encodeRLEU3));\n      test('RLEUx(2)', encodeRLEUx.bind(null, 2));\n      test('RLEU2', encodeWrap(encodeRLEU2));\n    }\n    test('Huffman', encodeHuffman);\n    test('Huffman(DeltaPakInt)',() => encodeHuffman(encodeWrap(encodeDeltaPakInt)(data)));\n\n    // Chaining did nothing good:\n    // test('rlePakInt(deltaPakInt)', () => encodeWrap(encodePakInt)(encodeWrap(encodeDeltaPakInt)(data)));\n    // test('encodeRLEDict(deltaPakInt)', () => encodeWrap(encodeRLEDict)(encodeWrap(encodeDeltaPakInt)(data)));\n  });\n}\n","// Portions Copyright 2019 Jimb Esser (https://github.com/Jimbly/)\n// Released under MIT License: https://opensource.org/licenses/MIT\n\n// Things that should be done before requiring or running any user-level code or other engine code\n\nrequire('./polyfill.js');\n\nlet debug = document.getElementById('debug');\nwindow.onerror = function (e, file, line, col, errorobj) {\n  let msg = `${e}\\n  at ${file}(${line}:${col})`;\n  if (errorobj && errorobj.stack) {\n    msg = `${errorobj.stack}`;\n    if (errorobj.message) {\n      if (msg.indexOf(errorobj.message) === -1) {\n        msg = `${errorobj.message}\\n${msg}`;\n      }\n    }\n    let origin = document.location.origin || '';\n    if (origin) {\n      if (origin.slice(-1) !== '/') {\n        origin += '/';\n      }\n      msg = msg.split(origin).join(''); // replace\n    }\n    // fixup weird Firefox weirdness\n    msg = msg.replace(/\\[\\d+\\]</g, '') // remove funny [123] at start of stack lines\n      .replace(/<?\\/<?/g, '/') // remove funny <s, they mess up people's copy and paste\n      .replace(/\\n([^ ])/g, '\\n  $1'); // add indentation if missing\n  }\n  let show = true;\n  if (window.glov_error_report) {\n    show = window.glov_error_report(msg, file, line, col);\n  }\n  if (show) {\n    debug.innerText = `${msg}\\n\\nPlease report this error to the developer, and then reload this page.`;\n  }\n};\nwindow.debugmsg = function (msg, clear) {\n  if (clear) {\n    debug.innerText = msg;\n  } else {\n    debug.innerText += `${msg}\\n`;\n  }\n};\n","// Portions Copyright 2019 Jimb Esser (https://github.com/Jimbly/)\n// Released under MIT License: https://opensource.org/licenses/MIT\n/* eslint no-shadow:off */\n\nconst engine = require('./engine.js');\n\nconst { round } = Math;\n\nconst safearea_pad = new Float32Array(4); // left, right, top, bottom\n// 0: x0_real\n// 1: y0_real\n// 2: x1_real\n// 3: y1_real\n// 4: x_scale\n// 5: y_scale\n// 6: css_to_real\n// 7: inverse viewport x_scale\n// 8: inverse viewport y_scale\n// 9: x0\n// 10: y0\n// 11: x1\n// 12: y1\nexport const data = new Float32Array(13);\n\nlet screen_width;\nlet screen_height;\n// Note: render_* not used by FRVR at this time\nlet render_width;\nlet render_height;\nexport let render_viewport_w;\nexport let render_viewport_h;\nexport let render_offset_x;\nlet render_offset_y_top;\nexport let render_offset_y_bottom;\n\nfunction reapply() {\n  if (render_width) {\n    data[4] = render_width / (data[2] - data[0]);\n    data[5] = render_height / (data[3] - data[1]);\n    data[7] = (data[2] - data[0]) / render_viewport_w;\n    data[8] = (data[3] - data[1]) / render_viewport_h;\n  } else {\n    data[4] = screen_width / (data[2] - data[0]);\n    data[5] = screen_height / (data[3] - data[1]);\n  }\n}\n\n// To get to coordinates used by OpenGL / canvas\nexport function virtualToCanvas(dst, src) {\n  dst[0] = (src[0] - data[0]) * data[4];\n  dst[1] = (src[1] - data[1]) * data[5];\n}\n\n// Sets the 2D \"camera\" used to translate sprite positions to screen space.  Affects sprites queued\n//  after this call\nexport function set(x0, y0, x1, y1, ignore_safe_area) {\n  if (ignore_safe_area || render_width) {\n    data[9] = data[0] = x0;\n    data[10] = data[1] = y0;\n    data[11] = data[2] = x1;\n    data[12] = data[3] = y1;\n  } else {\n    data[9] = x0;\n    data[10] = y0;\n    data[11] = x1;\n    data[12] = y1;\n    let wscale = (x1 - x0) / (screen_width - safearea_pad[0] - safearea_pad[1]);\n    let hscale = (y1 - y0) / (screen_height - safearea_pad[2] - safearea_pad[3]);\n    data[0] = x0 - safearea_pad[0] * wscale;\n    data[1] = y0 - safearea_pad[2] * hscale;\n    data[2] = x1 + safearea_pad[1] * wscale;\n    data[3] = y1 + safearea_pad[3] * hscale;\n  }\n\n  reapply();\n}\n\nexport function setSafeAreaPadding(left, right, top, bottom) {\n  safearea_pad[0] = round(left);\n  safearea_pad[1] = round(right);\n  safearea_pad[2] = round(top);\n  safearea_pad[3] = round(bottom);\n  // Called while updating screen width/height, reapply() should get called later\n}\n\nexport function safeAreaPadding() {\n  return safearea_pad;\n}\n\nconst stack = [];\nexport function push() {\n  stack.push(data.slice(0));\n}\nexport function pop() {\n  let old = stack.pop();\n  for (let ii = 0; ii < old.length; ++ii) {\n    data[ii] = old[ii];\n  }\n  reapply();\n}\n\nexport function domToCanvasRatio() {\n  return data[6];\n}\n\nexport function screenAspect() {\n  return (screen_width - safearea_pad[0] - safearea_pad[1]) /\n    (screen_height - safearea_pad[2] - safearea_pad[3]);\n}\n\n// Drawing area 0,0-w,h\n// But keep the aspect ratio of those things drawn to be correct\n// This may create a padding or margin on either top and bottom or sides of the screen\n// User users constant values in this range for consistent UI on all devices\nexport function setAspectFixed(w, h) {\n  let pa = render_width ? 1 : engine.pixel_aspect;\n  let inv_aspect = h / pa / w;\n  let inv_desired_aspect;\n  if (render_width) {\n    inv_desired_aspect = render_height / render_width;\n  } else {\n    inv_desired_aspect = 1 / screenAspect();\n  }\n  if (inv_aspect > inv_desired_aspect) {\n    let margin = (h / pa / inv_desired_aspect - w) / 2;\n    set(-margin, 0, w + margin, h, false);\n  } else {\n    let margin = (w * pa * inv_desired_aspect - h) / 2;\n    set(0, -margin, w, h + margin, false);\n  }\n}\n\n// Primary drawing area at least W x H\n// But keep the aspect ratio of those things drawn to be correct\n// Similar to setAspectFixed() but keeps (0,0) in the upper left (all padding\n//   is added to right and bottom)\n// Requires users to use camera2d.w()/ and camera2d.h() to determine reasonable\n//   UI positioning\nexport function setAspectFixed2(w, h) {\n  let pa = render_width ? 1 : engine.pixel_aspect;\n  let inv_aspect = h / pa / w;\n  let inv_desired_aspect;\n  if (render_width) {\n    inv_desired_aspect = render_height / render_width;\n  } else {\n    inv_desired_aspect = 1 / screenAspect();\n  }\n  if (inv_aspect > inv_desired_aspect) {\n    let margin = (h / pa / inv_desired_aspect - w);\n    set(0, 0, w + margin, h, false);\n  } else {\n    let margin = (w * pa * inv_desired_aspect - h);\n    set(0, 0, w, h + margin, false);\n  }\n}\n\nexport function zoom(x, y, factor) {\n  let inv_factor = 1.0 / factor;\n  set(\n    x - (x - data[0]) * inv_factor,\n    y - (y - data[1]) * inv_factor,\n    x + (data[2] - x) * inv_factor,\n    y + (data[3] - y) * inv_factor, true);\n}\n\n// returns [x0,y0,x1,y1] to use as parameters set() such that src_rect in the\n// current view is now addressable by dest_rect (presumably something like\n// [0,0,vw,vh])\nexport function calcMap(out, src_rect, dest_rect) {\n  let cur_w = data[11] - data[9];\n  let cur_h = data[12] - data[10];\n  let vx0 = src_rect[0] / cur_w;\n  let vy0 = src_rect[1] / cur_h;\n  let vx1 = src_rect[2] / cur_w;\n  let vy1 = src_rect[3] / cur_h;\n  let vw = vx1 - vx0;\n  let vh = vy1 - vy0;\n  let dest_vw = dest_rect[2] - dest_rect[0];\n  let dest_vh = dest_rect[3] - dest_rect[1];\n  out[0] = dest_rect[0] - dest_vw / vw * vx0;\n  out[1] = dest_rect[1] - dest_vh / vh * vy0;\n  out[2] = dest_rect[2] + dest_vw / vw * (1 - vx1);\n  out[3] = dest_rect[3] + dest_vh / vh * (1 - vy1);\n}\n\nexport function setNormalized() {\n  set(0, 0, 1, 1, true);\n}\n\nexport function x0Real() {\n  return data[0];\n}\nexport function y0Real() {\n  return data[1];\n}\nexport function x1Real() {\n  return data[2];\n}\nexport function y1Real() {\n  return data[3];\n}\nexport function wReal() {\n  return data[2] - data[0];\n}\nexport function hReal() {\n  return data[3] - data[1];\n}\nexport function x0() {\n  return data[9];\n}\nexport function y0() {\n  return data[10];\n}\nexport function x1() {\n  return data[11];\n}\nexport function y1() {\n  return data[12];\n}\nexport function w() {\n  return data[11] - data[9];\n}\nexport function h() {\n  return data[12] - data[10];\n}\nexport function xScale() {\n  return data[4];\n}\nexport function yScale() {\n  return data[5];\n}\n\nexport function htmlPos(x, y) {\n  if (render_width) {\n    return [\n      100 * (((x - data[0]) / data[7] + render_offset_x) / screen_width),\n      100 * (((y - data[1]) / data[8] + render_offset_y_top) / screen_height),\n    ];\n  } else {\n    return [\n      100 * (x - data[0]) / (data[2] - data[0]),\n      100 * (y - data[1]) / (data[3] - data[1]),\n    ];\n  }\n}\nexport function htmlSize(w, h) {\n  if (render_width) {\n    return [\n      100 * w / data[7] / screen_width,\n      100 * h / data[8] / screen_height,\n    ];\n  } else {\n    return [100 * w / (data[2] - data[0]), 100 * h / (data[3] - data[1])];\n  }\n}\n\nlet input_clipping;\nexport function setInputClipping(xywh) {\n  input_clipping = xywh;\n}\n\nexport function domToVirtual(dst, src) {\n  let ret = true;\n  if (input_clipping) {\n    if (src[0] < input_clipping[0] || src[0] > input_clipping[0] + input_clipping[2] ||\n      src[1] < input_clipping[1] || src[1] > input_clipping[1] + input_clipping[3]\n    ) {\n      ret = false;\n    }\n  }\n  if (render_width) {\n    dst[0] = (src[0] * data[6] - render_offset_x) * data[7] + data[0];\n    dst[1] = (src[1] * data[6] - render_offset_y_top) * data[8] + data[1];\n  } else {\n    dst[0] = src[0] * data[6] / data[4] + data[0];\n    dst[1] = src[1] * data[6] / data[5] + data[1];\n  }\n  return ret;\n}\n\nexport function domDeltaToVirtual(dst, src) {\n  if (render_width) {\n    dst[0] = src[0] * data[6] * data[7];\n    dst[1] = src[1] * data[6] * data[8];\n  } else {\n    dst[0] = src[0] * data[6] / data[4];\n    dst[1] = src[1] * data[6] / data[5];\n  }\n}\n\n// To get to coordinates used by mouse events\nexport function virtualToDom(dst, src) {\n  if (render_width) {\n    dst[0] = (render_offset_x + (src[0] - data[0]) / data[7]) / data[6];\n    dst[1] = (render_offset_y_top + (src[1] - data[1]) / data[8]) / data[6];\n  } else {\n    dst[0] = (src[0] - data[0]) * data[4] / data[6];\n    dst[1] = (src[1] - data[1]) * data[5] / data[6];\n  }\n}\n\nexport function virtualToFontSize(height) {\n  if (render_width) {\n    return height / (data[6] * data[8]) * 0.84;\n  } else {\n    return height * data[5] / data[6] * 0.84;\n  }\n}\n\n// dst/src are x/y/w/h objects (e.g. from input system)\nexport function virtualToDomPosParam(dst, src) {\n  if (render_width) {\n    dst.x = (render_offset_x + (src.x - data[0]) / data[7]) / data[6];\n    dst.w = src.w / data[7] / data[6];\n    dst.y = (render_offset_y_top + (src.y - data[1]) / data[8]) / data[6];\n    dst.h = src.h / data[8] / data[6];\n  } else {\n    dst.x = (src.x - data[0]) * data[4] / data[6];\n    dst.w = src.w * data[4] / data[6];\n    dst.y = (src.y - data[1]) * data[5] / data[6];\n    dst.h = src.h * data[5] / data[6];\n  }\n}\n\nexport function tickCamera2D() {\n  data[6] = window.devicePixelRatio || 1; /* css_to_real */\n  screen_width = engine.width;\n  screen_height = engine.height;\n  let viewport = [0, 0, screen_width, screen_height];\n  if (engine.render_width) { // Note: render_* not used by FRVR at this time\n    render_width = engine.render_width;\n    render_height = engine.render_height;\n    // Find an offset so this rendered viewport is centered while preserving aspect ratio, just like setAspectFixed\n    let pa = engine.pixel_aspect;\n    let inv_aspect = render_height / pa / render_width;\n    let eff_screen_width = (screen_width - safearea_pad[0] - safearea_pad[1]);\n    let eff_screen_height = (screen_height - safearea_pad[2] - safearea_pad[3]);\n    let inv_desired_aspect = eff_screen_height / eff_screen_width;\n    if (inv_aspect > inv_desired_aspect) {\n      let margin = (render_height / inv_desired_aspect - render_width * pa) / 2 *\n        eff_screen_height / render_height;\n      render_offset_x = safearea_pad[0] + round(margin);\n      render_offset_y_top = safearea_pad[2];\n      render_offset_y_bottom = safearea_pad[3];\n      render_viewport_w = round(eff_screen_width - margin * 2);\n      render_viewport_h = eff_screen_height;\n    } else {\n      let margin = (render_width * inv_desired_aspect - render_height / pa) / 2 *\n        eff_screen_width / render_width;\n      render_offset_x = safearea_pad[0];\n      render_offset_y_top = safearea_pad[2] + round(margin);\n      render_offset_y_bottom = safearea_pad[3] + round(margin);\n      render_viewport_w = eff_screen_width;\n      render_viewport_h = round(eff_screen_height - margin * 2);\n    }\n    viewport[2] = render_width;\n    viewport[3] = render_height;\n  } else {\n    render_width = render_height = 0;\n    render_offset_x = 0;\n    render_offset_y_top = 0;\n    render_offset_y_bottom = 0;\n  }\n\n  reapply();\n\n  // let screen_width = engine.width;\n  // let screen_height = engine.height;\n  // let screen_aspect = screen_width / screen_height;\n  // let view_aspect = game_width / game_height;\n  // if (screen_aspect > view_aspect) {\n  //   let viewport_width = game_height * screen_aspect;\n  //   let half_diff = (viewport_width - game_width) / 2;\n  //   viewportRectangle = [-half_diff, 0, game_width + half_diff, game_height];\n  // } else {\n  //   let viewport_height = game_width / screen_aspect;\n  //   let half_diff = (viewport_height - game_height) / 2;\n  //   viewportRectangle = [0, -half_diff, game_width, game_height + half_diff];\n  // }\n\n  engine.setViewport(viewport);\n}\n\nexport function startup() {\n  set(0, 0, engine.width, engine.height);\n  tickCamera2D();\n}\n","// Portions Copyright 2019 Jimb Esser (https://github.com/Jimbly/)\n// Released under MIT License: https://opensource.org/licenses/MIT\n\nconst cmd_parse_mod = require('../../common/cmd_parse.js');\nconst local_storage = require('./local_storage.js');\nexport let cmd_parse = cmd_parse_mod.create({ storage: local_storage });\n\nconst engine = require('./engine.js');\nconst textures = require('./textures.js');\nconst { PI, round } = Math;\n\nwindow.cmd = function (str) {\n  cmd_parse.handle(null, str, cmd_parse_mod.defaultHandler);\n};\n\ncmd_parse.registerValue('fov', {\n  type: cmd_parse.TYPE_FLOAT,\n  label: 'FOV',\n  range: [1,179],\n  get: () => round(engine.fov_min * 180 / PI),\n  set: (v) => engine.setFOV(v * PI / 180),\n  store: true,\n});\n\nfunction byteFormat(bytes) {\n  if (bytes > 850000) {\n    return `${(bytes/(1024*1024)).toFixed(2)}MB`;\n  }\n  if (bytes > 850) {\n    return `${(bytes/1024).toFixed(2)}KB`;\n  }\n  return `${bytes}B`;\n}\n\ncmd_parse.register({\n  cmd: 'texmem',\n  help: 'Displays texture memory usage',\n  func: function (str, resp_func) {\n    let keys = Object.keys(textures.textures);\n    keys = keys.filter((a) => textures.textures[a].gpu_mem > 1024);\n    keys.sort((a, b) => textures.textures[a].gpu_mem - textures.textures[b].gpu_mem);\n    resp_func(null, keys.map((a) => `${byteFormat(textures.textures[a].gpu_mem)} ${a}`).join('\\n'));\n  }\n});\n\ncmd_parse.register({\n  cmd: 'gpumem',\n  help: 'Displays GPU memory usage summary',\n  func: function (str, resp_func) {\n    let { gpu_mem } = engine.perf_state;\n    resp_func(null, `${byteFormat(gpu_mem.geom)} Geo\\n${byteFormat(gpu_mem.tex)} Tex\\n${\n      byteFormat(gpu_mem.geom + gpu_mem.tex)} Total`);\n  }\n});\n\ncmd_parse.register({\n  cmd: 'd',\n  help: 'Toggles a debug define',\n  func: function (str, resp_func) {\n    str = str.toUpperCase();\n    engine.defines[str] = !engine.defines[str];\n    resp_func(null, `D=${str} now ${engine.defines[str]?'SET':'unset'}`);\n    engine.definesChanged();\n  }\n});\n\ncmd_parse.register({\n  cmd: 'renderer',\n  help: 'Displays current renderer',\n  func: function (str, resp_func) {\n    resp_func(null, `Renderer=WebGL${engine.webgl2?2:1}`);\n  }\n});\n\nfunction cmdDesc(cmd_data) {\n  return `/${cmd_data.cmd} - ${cmd_data.help}`;\n}\n\ncmd_parse.register({\n  cmd: 'help',\n  help: 'Searches commands',\n  func: function (str, resp_func) {\n    let list = cmd_parse.autoComplete('', this && this.access);\n    if (str) {\n      let str_cname = cmd_parse.canonical(str);\n      let str_lc = str.toLowerCase();\n      list = list.filter((cmd_data) => cmd_data.cname.indexOf(str_cname) !== -1 ||\n          cmd_data.help.toLowerCase().indexOf(str_lc) !== -1);\n    }\n    if (!list.length) {\n      return void resp_func(null, `No commands found matching \"${str}\"`);\n    }\n    resp_func(null, list.map(cmdDesc).join('\\n'));\n  }\n});\n\nexport let safearea = [-1,-1,-1,-1];\ncmd_parse.registerValue('safe_area', {\n  label: 'Safe Area',\n  type: cmd_parse.TYPE_STRING,\n  usage: 'Safe Area value: Use -1 for auto based on browser environment,\\n' +\n    'or 0-25 for percentage of screen size\\n' +\n    '  Usage: /safe_area [value]\\n' +\n    '  Usage: /safe_area horizontal,vertical\\n' +\n    '  Usage: /safe_area left,right,top,bottom',\n  default_value: '-1',\n  get: () => (safearea[0] === -1 ? '-1 (auto)' : safearea.join(',')),\n  set: (v) => {\n    v = String(v);\n    let keys = v.split(',');\n    if (v && keys.length === 1) {\n      safearea[0] = safearea[1] = safearea[2] = safearea[3] = Number(v);\n    } else if (keys.length === 2) {\n      safearea[0] = safearea[1] = Number(keys[0]);\n      safearea[2] = safearea[3] = Number(keys[1]);\n    } else if (keys.length === 4) {\n      for (let ii = 0; ii < 4; ++ii) {\n        safearea[ii] = Number(keys[ii]);\n      }\n    } else {\n      // error, ignore?\n    }\n  },\n  store: true,\n});\n\ncmd_parse.register({\n  cmd: 'webgl2_auto',\n  help: 'Resets WebGL2 auto-detection',\n  func: function (str, resp_func) {\n    let disable_data = local_storage.getJSON('webgl2_disable');\n    if (!disable_data) {\n      return resp_func(null, 'WebGL2 is already being auto-detected');\n    }\n    local_storage.setJSON('webgl2_disable', undefined);\n    return resp_func(null, 'WebGL2 was disabled, will attempt to use it again on the next load');\n  },\n});\n\ncmd_parse.registerValue('postprocessing', {\n  label: 'Postprocessing',\n  type: cmd_parse.TYPE_INT,\n  help: 'Enables/disables postprocessing',\n  get: () => (engine.postprocessing ? 1 : 0),\n  set: (v) => engine.postprocessingAllow(v),\n});\n","// Portions Copyright 2019 Jimb Esser (https://github.com/Jimbly/)\n// Released under MIT License: https://opensource.org/licenses/MIT\n\nconst camera2d = require('./camera2d.js');\nconst engine = require('./engine.js');\nconst glov_input = require('./input.js');\nconst glov_ui = require('./ui.js');\n\nconst { focuslog } = glov_ui;\n\nclass GlovUIEditBox {\n  constructor(params) {\n    this.x = 0;\n    this.y = 0;\n    this.z = Z.UI; // actually in DOM, so above everything!\n    this.w = glov_ui.button_width;\n    this.type = 'text';\n    this.allow_modal = false;\n    // this.h = glov_ui.button_height;\n    this.font_height = glov_ui.font_height;\n    this.text = '';\n    this.placeholder = '';\n    this.max_len = 0;\n    this.initial_focus = false;\n    this.onetime_focus = false;\n    this.auto_unfocus = false;\n    this.initial_select = false;\n    this.spellcheck = true;\n    this.esc_clears = true;\n    this.applyParams(params);\n\n    this.is_focused = false;\n    this.elem = null;\n    this.input = null;\n    this.submitted = false;\n    this.pointer_lock = false;\n    this.last_frame = 0;\n  }\n  applyParams(params) {\n    if (!params) {\n      return;\n    }\n    for (let f in params) {\n      this[f] = params[f];\n    }\n  }\n  getText() {\n    return this.text;\n  }\n  setText(new_text) {\n    if (this.input) {\n      this.input.value = new_text;\n    }\n    this.text = new_text;\n  }\n  focus() {\n    if (this.input) {\n      this.input.focus();\n    } else {\n      this.onetime_focus = true;\n    }\n    glov_ui.focusSteal(this);\n    this.is_focused = true;\n    if (this.pointer_lock && glov_input.pointerLocked()) {\n      glov_input.pointerLockExit();\n    }\n  }\n  unfocus() {\n    glov_ui.focusNext(this);\n  }\n  isFocused() { // call after .run()\n    return this.is_focused;\n  }\n\n  updateFocus() {\n    let was_glov_focused = this.is_focused;\n    let glov_focused = glov_ui.focusCheck(this);\n    let dom_focused = this.input && document.activeElement === this.input;\n    if (was_glov_focused !== glov_focused) {\n      // something external (from clicks/keys in GLOV) changed, apply it if it doesn't match\n      if (glov_focused && !dom_focused && this.input) {\n        focuslog('GLOV focused, DOM not, focusing', this);\n        this.input.focus();\n      }\n      if (!glov_focused && dom_focused) {\n        focuslog('DOM focused, GLOV not, and changed, blurring', this);\n        this.input.blur();\n      }\n    } else if (dom_focused && !glov_focused) {\n      focuslog('DOM focused, GLOV not, stealing', this);\n      glov_ui.focusSteal(this);\n      glov_focused = true;\n    } else if (!dom_focused && glov_focused) {\n      // Leave it alone, it may be a browser pop-up such as for passwords\n    }\n    let focused = glov_focused;\n\n    if (focused) {\n      let key_opt = (this.pointer_lock && !this.text) ? { in_event_cb: glov_input.pointerLockEnter } : null;\n      if (glov_input.keyUpEdge(glov_input.KEYS.ESC, key_opt)) {\n        if (this.text && this.esc_clears) {\n          this.setText('');\n        } else {\n          glov_ui.focusCanvas();\n          if (this.input) {\n            this.input.blur();\n          }\n          focused = false;\n          this.canceled = true;\n        }\n      }\n    }\n    this.is_focused = focused;\n    return focused;\n  }\n\n  run(params) {\n    this.applyParams(params);\n\n    if (this.last_frame !== engine.frame_index - 1) {\n      // it's been more than a frame, we must have not been running, discard async events\n      this.submitted = false;\n    }\n    this.last_frame = engine.frame_index;\n\n    this.canceled = false;\n    let focused = this.updateFocus();\n\n    glov_ui.this_frame_edit_boxes.push(this);\n    let elem = glov_ui.getElem(this.allow_modal, this.elem);\n    if (elem !== this.elem) {\n      if (elem) {\n        // new DOM element, initialize\n        elem.textContent = '';\n        let form = document.createElement('form');\n        form.setAttribute('autocomplete', 'off');\n        let input = document.createElement('input');\n        input.setAttribute('autocomplete', `auto_off_${Math.random()}`);\n        input.setAttribute('type', this.type);\n        input.setAttribute('placeholder', this.placeholder);\n        if (this.max_len) {\n          input.setAttribute('maxLength', this.max_len);\n        }\n        input.setAttribute('tabindex', 2);\n        form.addEventListener('submit', (ev) => {\n          ev.preventDefault();\n          this.submitted = true;\n          this.text = this.input.value;\n          if (this.pointer_lock && !this.text) {\n            glov_input.pointerLockEnter('edit_box_submit');\n          }\n        }, true);\n        form.appendChild(input);\n        let span = document.createElement('span');\n        span.setAttribute('tabindex', 3);\n        form.appendChild(span);\n        elem.appendChild(form);\n        input.value = this.text;\n        this.input = input;\n        if (this.initial_focus || this.onetime_focus) {\n          input.focus();\n          this.onetime_focus = false;\n        }\n        if (this.initial_select) {\n          input.select();\n        }\n      } else {\n        this.input = null;\n      }\n      this.submitted = false;\n      this.elem = elem;\n    } else {\n      if (this.input) {\n        this.text = this.input.value;\n      }\n    }\n    if (elem) {\n      let pos = camera2d.htmlPos(this.x, this.y);\n      if (!this.spellcheck) {\n        elem.spellcheck = false;\n      }\n      elem.style.left = `${pos[0]}%`;\n      elem.style.top = `${pos[1]}%`;\n      let size = camera2d.htmlSize(this.w, 0);\n      elem.style.width = `${size[0]}%`;\n      let old_fontsize = elem.style.fontSize || '?px';\n      let new_fontsize = `${camera2d.virtualToFontSize(this.font_height).toFixed(0)}px`;\n      if (new_fontsize !== old_fontsize) {\n        elem.style.fontSize = new_fontsize;\n      }\n    }\n\n    if (focused) {\n      if (this.auto_unfocus) {\n        if (glov_input.click({ peek: true })) {\n          glov_ui.focusSteal('canvas');\n        }\n      }\n      // keyboard input is handled by the INPUT element, but allow mouse events to trickle\n      glov_input.eatAllKeyboardInput();\n    }\n\n    if (this.submitted) {\n      this.submitted = false;\n      return this.SUBMIT;\n    }\n    if (this.canceled) {\n      this.canceled = false;\n      return this.CANCEL;\n    }\n    return null;\n  }\n  unrun() {\n    // remove from DOM or hide\n    this.elem = null;\n    this.input = null;\n  }\n}\nGlovUIEditBox.prototype.SUBMIT = 'submit';\nGlovUIEditBox.prototype.CANCEL = 'cancel';\n\nexport function create(params) {\n  return new GlovUIEditBox(params);\n}\n","// Portions Copyright 2019 Jimb Esser (https://github.com/Jimbly/)\n// Released under MIT License: https://opensource.org/licenses/MIT\n// Some code from Turbulenz: Copyright (c) 2012-2013 Turbulenz Limited\n// Released under MIT License: https://opensource.org/licenses/MIT\n\nconst engine = require('./engine.js');\nconst geom = require('./geom.js');\nconst shaders = require('./shaders.js');\nconst textures = require('./textures.js');\nconst { vec2, vec3, vec4, v4set } = require('./vmath.js');\n\nconst shader_data = {\n  vp_copy: {\n    vp: 'glov/shaders/effects_copy.vp',\n  },\n  copy: {\n    fp: 'glov/shaders/effects_copy.fp',\n  },\n  pixely_expand: {\n    fp: 'glov/shaders/pixely_expand.fp',\n  },\n  gaussian_blur: {\n    fp: 'glov/shaders/effects_gaussian_blur.fp',\n  },\n  // bloom_merge: {\n  //   fp: 'glov/shaders/effects_bloom_merge.fp',\n  // },\n  // bloom_threshold: {\n  //   fp: 'glov/shaders/effects_bloom_threshold.fp',\n  // },\n  color_matrix: {\n    fp: 'glov/shaders/effects_color_matrix.fp',\n  },\n  // distort: {\n  //   fp: 'glov/shaders/effects_distort.fp',\n  // },\n};\n\nexport function registerShader(key, obj) {\n  shader_data[key] = obj;\n}\n\nfunction getShader(key) {\n  let elem = shader_data[key];\n  if (!elem.shader) {\n    if (elem.fp) {\n      elem.shader = shaders.create(elem.fp);\n    } else {\n      elem.shader = shaders.create(elem.vp);\n    }\n  }\n  return elem.shader;\n}\n\n\nlet inited = false;\nlet clip_space = vec4(2, 2, -1, -1);\nlet copy_uv_scale = vec2(1, 1);\nlet shader_params_default = {\n  clip_space,\n  copy_uv_scale,\n};\n// let shader_params_distort;\nlet shader_params_color_matrix;\n// let shader_params_bloom;\n// let shader_params_bloom_merge;\nlet shader_params_gaussian_blur;\nlet shader_params_pixely_expand;\nlet quad_geom;\nfunction startup() {\n  inited = true;\n\n  quad_geom = geom.create(\n    [[shaders.semantic.POSITION, gl.FLOAT, 2, false]],\n    new Float32Array([\n      0, 0,\n      1, 0,\n      1, 1,\n      0, 1,\n    ]), null, geom.QUADS); // TODO: use gl.TRIANGLE_STRIP instead, save index buffer binding\n\n  // shader_params_distort = {\n  //   clip_space,\n  //   copy_uv_scale,\n  //   strength: vec2(0, 0),\n  //   transform: new Float32Array([0, 0, 0, 0, 0, 0]),\n  //   invTransform: vec4(0, 0, 0, 0),\n  // };\n\n  shader_params_color_matrix = {\n    clip_space,\n    copy_uv_scale,\n    colorMatrix: new Float32Array([0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]),\n  };\n\n  // shader_params_bloom = {\n  //   clip_space,\n  //   copy_uv_scale,\n  //   bloomThreshold: 0,\n  //   thresholdCuttoff: 0,\n  // };\n\n  // shader_params_bloom_merge = {\n  //   clip_space,\n  //   copy_uv_scale,\n  //   bloomIntensity: 0,\n  //   bloomSaturation: 0,\n  //   originalIntensity: 0,\n  //   originalSaturation: 0,\n  // };\n\n  // Gaussian Blur effect (also used by bloom)\n  shader_params_gaussian_blur = {\n    clip_space,\n    copy_uv_scale,\n    sampleRadius: vec3(1, 1, 1),\n    Gauss: new Float32Array([0.93, 0.8, 0.7, 0.6, 0.5, 0.4, 0.3, 0.2, 0.1]),\n  };\n\n  shader_params_pixely_expand = {\n    clip_space,\n    copy_uv_scale,\n    orig_pixel_size: vec4(),\n  };\n}\n\nexport function grayScaleMatrix(dst) {\n  dst[0] = 0.2126;\n  dst[1] = 0.2126;\n  dst[2] = 0.2126;\n  dst[3] = 0.7152;\n  dst[4] = 0.7152;\n  dst[5] = 0.7152;\n  dst[6] = 0.0722;\n  dst[7] = 0.0722;\n  dst[8] = 0.0722;\n  dst[9] = dst[10] = dst[11] = 0;\n}\n\nexport function sepiaMatrix(dst) {\n  dst[0] = 0.393;\n  dst[1] = 0.349;\n  dst[2] = 0.272;\n  dst[3] = 0.769;\n  dst[4] = 0.686;\n  dst[5] = 0.534;\n  dst[6] = 0.189;\n  dst[7] = 0.168;\n  dst[8] = 0.131;\n  dst[9] = dst[10] = dst[11] = 0;\n}\n\nexport function negativeMatrix(dst) {\n  dst[0] = dst[4] = dst[8] = -1;\n  dst[1] = dst[2] = dst[3] = dst[5] = dst[6] = dst[7] = 0;\n  dst[9] = dst[10] = dst[11] = 1;\n}\n\nexport function saturationMatrix(dst, saturationScale) {\n  let is = (1 - saturationScale);\n  dst[0] = (is * 0.2126) + saturationScale;\n  dst[1] = (is * 0.2126);\n  dst[2] = (is * 0.2126);\n  dst[3] = (is * 0.7152);\n  dst[4] = (is * 0.7152) + saturationScale;\n  dst[5] = (is * 0.7152);\n  dst[6] = (is * 0.0722);\n  dst[7] = (is * 0.0722);\n  dst[8] = (is * 0.0722) + saturationScale;\n  dst[9] = dst[10] = dst[11] = 0;\n}\n\nexport function hueMatrix(dst, angle) {\n  ////\n  //// Uncomment to calculate new coeffecients should luminance\n  //// values 0.2126 0.7152 0.0722 change.\n  //let lumR = 0.2126;\n  //let lumG = 0.7152;\n  //let lumB = 0.0722;\n  ////\n  //let r23 = Math.sqrt(2 / 3);\n  //let r12 = 1 / Math.sqrt(2);\n  //let r13 = 1 / Math.sqrt(3);\n  //let r16 = 1 / Math.sqrt(6);\n  //let M = [r23, 0, r13, -r16, r12, r13, -r16, -r12, r13, 0, 0, 0];\n  //let zx = (r23 * lumR) - (r16 * lumG) - (r16 * lumB);\n  //let zy =                (r12 * lumG) - (r12 * lumB);\n  //let zz = (r13 * lumR) + (r13 * lumG) + (r13 * lumB);\n  //let x = zx / zz;\n  //let y = zy / zz;\n  //let C = [1, 0, x, 0, 1, y, 0, 0, 1, 0, 0, 0];\n  //m43mul(M, M, C);\n  //console.log(\"Pre transform = \", M);\n  //let E = [1, 0, -x, 0, 1, -y, 0, 0, 1, 0, 0, 0];\n  //let N = [r23, -r16, -r16, 0, r12, -r12, r13, r13, r13, 0, 0, 0];\n  //m43mul(N, E, N);\n  //console.log(\"Post transform = \", N);\n  ////\n  //// Final matrix is then: m43Mul(Pre, [c, s, 0, -s, c, 0, 0, 0, 1, 0, 0, 0, ], Post);\n  //// for c = cos(angle), s = sin(angle)\n  ////\n  //let out = \"\";\n  //out += \"let c = Math.cos(angle);\\n\";\n  //out += \"let s = Math.sin(angle);\\n\";\n  //out += \"dst[0] = (\" + (N[0]*M[0]+N[3]*M[1]) + \" * c) + (\" + (N[3]*M[0]-N[0]*M[1]) + \" * s) + \" + lumR+\";\\n\";\n  //out += \"dst[1] = (\" + (-lumR)               + \" * c) + (\" + (N[4]*M[0]-N[1]*M[1]) + \" * s) + \" + lumR+\";\\n\";\n  //out += \"dst[2] = (\" + (-lumR)               + \" * c) + (\" + (N[5]*M[0]-N[2]*M[1]) + \" * s) + \" + lumR+\";\\n\";\n  //out += \"dst[3] = (\" + (-lumG)               + \" * c) + (\" + (N[3]*M[3]-N[0]*M[4]) + \" * s) + \" + lumG+\";\\n\";\n  //out += \"dst[4] = (\" + (N[1]*M[3]+N[4]*M[4]) + \" * c) + (\" + (N[4]*M[3]-N[1]*M[4]) + \" * s) + \" + lumG+\";\\n\";\n  //out += \"dst[5] = (\" + (-lumG)               + \" * c) + (\" + (N[5]*M[3]-N[2]*M[4]) + \" * s) + \" + lumG+\";\\n\";\n  //out += \"dst[6] = (\" + (-lumB)               + \" * c) + (\" + (N[3]*M[6]-N[0]*M[7]) + \" * s) + \" + lumB+\";\\n\";\n  //out += \"dst[7] = (\" + (-lumB)               + \" * c) + (\" + (N[4]*M[6]-N[1]*M[7]) + \" * s) + \" + lumB+\";\\n\";\n  //out += \"dst[8] = (\" + (N[2]*M[6]+N[5]*M[7]) + \" * c) + (\" + (N[5]*M[6]-N[2]*M[7]) + \" * s) + \" + lumB+\";\\n\";\n  //console.log(out);\n  let c = Math.cos(angle);\n  let s = Math.sin(angle);\n  dst[0] = (0.7874 * c) + (-0.3712362230889293 * s) + 0.2126;\n  dst[1] = (-0.2126 * c) + (0.20611404610069642 * s) + 0.2126;\n  dst[2] = (-0.2126 * c) + (-0.9485864922785551 * s) + 0.2126;\n  dst[3] = (-0.7152 * c) + (-0.4962902913954023 * s) + 0.7152;\n  dst[4] = (0.2848 * c) + (0.08105997779422341 * s) + 0.7152;\n  dst[5] = (-0.7152 * c) + (0.6584102469838492 * s) + 0.7152;\n  dst[6] = (-0.0722 * c) + (0.8675265144843316 * s) + 0.0722;\n  dst[7] = (-0.0722 * c) + (-0.28717402389491986 * s) + 0.0722;\n  dst[8] = (0.9278 * c) + (0.290176245294706 * s) + 0.0722;\n  dst[9] = dst[10] = dst[11] = 0;\n}\n\nexport function brightnessAddMatrix(dst, brightnessOffset) {\n  dst[0] = dst[4] = dst[8] = 1;\n  dst[1] = dst[2] = dst[3] = dst[5] = dst[6] = dst[7] = 0;\n  dst[9] = dst[10] = dst[11] = brightnessOffset;\n}\n\nexport function brightnessScaleMatrix(dst, scale) {\n  dst[0] = dst[4] = dst[8] = scale;\n  dst[1] = dst[2] = dst[3] = dst[5] = dst[6] = dst[7] = 0;\n  dst[9] = dst[10] = dst[11] = 0;\n}\n\nexport function additiveMatrix(dst, additiveRGB) {\n  dst[0] = dst[4] = dst[8] = 1;\n  dst[1] = dst[2] = dst[3] = dst[5] = dst[6] = dst[7] = 0;\n  dst[9] = additiveRGB[0];\n  dst[10] = additiveRGB[1];\n  dst[11] = additiveRGB[2];\n}\n\nexport function contrastMatrix(dst, contrastScale) {\n  dst[0] = dst[4] = dst[8] = contrastScale;\n  dst[1] = dst[2] = dst[3] = dst[5] = dst[6] = dst[7] = 0;\n  dst[9] = dst[10] = dst[11] = 0.5 * (1 - contrastScale);\n}\n\n// effect: { shader, params, texs }\nfunction applyEffect(effect, view_w, view_h) {\n  let viewport = engine.viewport;\n  let target_w = viewport[2];\n  let target_h = viewport[3];\n  view_w = view_w || target_w;\n  view_h = view_h || target_h;\n\n  // Set values for parameters used by all effects\n  clip_space[0] = 2.0 * view_w / target_w;\n  clip_space[1] = 2.0 * view_h / target_h;\n  // clip_space[2] = -1.0;\n  // clip_space[3] = -1.0;\n  // copy_uv_scale[0] = target_w / effect.coord_source.width;\n  // copy_uv_scale[1] = target_h / effect.coord_source.height;\n\n  shaders.bind(getShader('vp_copy'), getShader(effect.shader), effect.params);\n  textures.bindArray(effect.texs);\n  quad_geom.draw();\n}\n\n// // TODO: Update for RTBBCTT and port to new GLOV.js\n// function applyBloomTODO(params) {\n//   let source = params.source;\n//   let blur1 = params.blurTarget1;\n//   let blur2 = params.blurTarget2;\n//   let dest = params.destination;\n//   if (!source || !dest || !blur1 || !blur2 || !blur1.colorTexture0 ||\n//     !blur2.colorTexture0 || blur1 === blur2 || blur1 === dest ||\n//     source === blur1.colorTexture0 || source === dest.colorTexture0) {\n//     return false;\n//   }\n//\n//   let effectParams = this.effectParams;\n//   let techparams;\n//\n//   // Threshold copy.\n//   techparams = this.bloomThresholdParameters;\n//   effectParams.technique = this.bloomThresholdTechnique;\n//   effectParams.params = techparams;\n//\n//   techparams.bloomThreshold = (params.bloomThreshold !== undefined) ? params.bloomThreshold : 0.65;\n//   techparams.thresholdCutoff = Math.exp((params.thresholdCutoff !== undefined) ? params.thresholdCutoff : 3);\n//   techparams.inputTexture0 = source;\n//   effectParams.destination = blur1;\n//   this.applyEffect(effectParams);\n//\n//   // Gaussian blur.\n//   techparams = this.gaussianBlurParameters;\n//   effectParams.technique = this.gaussianBlurTechnique;\n//   effectParams.params = techparams;\n//\n//   let sampleRadius = (params.blurRadius || 20);\n//   techparams.sampleRadius[0] = sampleRadius / source.width;\n//   techparams.sampleRadius[1] = 0;\n//   techparams.sampleRadius[2] = 1;\n//   techparams.inputTexture0 = blur1.colorTexture0;\n//   effectParams.destination = blur2;\n//   this.applyEffect(effectParams);\n//\n//   techparams.sampleRadius[0] = 0;\n//   techparams.sampleRadius[1] = sampleRadius / source.height;\n//   techparams.sampleRadius[2] = 1;\n//   techparams.inputTexture0 = blur2.colorTexture0;\n//   effectParams.destination = blur1;\n//   this.applyEffect(effectParams);\n//\n//   // Merge.\n//   techparams = this.bloomMergeParameters;\n//   effectParams.technique = this.bloomMergeTechnique;\n//   effectParams.params = techparams;\n//\n//   techparams.bloomIntensity = (params.bloomIntensity !== undefined) ? params.bloomIntensity : 1.2;\n//   techparams.bloomSaturation = (params.bloomSaturation !== undefined) ? params.bloomSaturation : 1.2;\n//   techparams.originalIntensity = (params.originalIntensity !== undefined) ? params.originalIntensity : 1.0;\n//   techparams.originalSaturation = (params.originalSaturation !== undefined) ? params.originalSaturation : 1.0;\n//   techparams.inputTexture0 = source;\n//   techparams.inputTexture1 = blur1.colorTexture0;\n//   effectParams.destination = dest;\n//   this.applyEffect(effectParams);\n//\n//   return true;\n// }\n\nexport function applyCopy(params) {\n  if (!inited) {\n    startup();\n  }\n  applyEffect({\n    shader: params.shader || 'copy',\n    params: shader_params_default,\n    texs: [params.source],\n  });\n}\n\nexport function applyPixelyExpand(params) {\n  if (!inited) {\n    startup();\n  }\n  let source = params.source;\n  source.setSamplerState({\n    filter_min: gl.LINEAR,\n    filter_mag: gl.LINEAR,\n    wrap_s: gl.CLAMP_TO_EDGE,\n    wrap_t: gl.CLAMP_TO_EDGE,\n  });\n\n  // do horizontal blur for primary lines\n  let resx = source.width;\n  let resy = source.height;\n  let sampleRadius = (params.hblur || 0.25) / resx;\n  shader_params_gaussian_blur.sampleRadius[0] = sampleRadius;\n  shader_params_gaussian_blur.sampleRadius[1] = 0;\n  shader_params_gaussian_blur.sampleRadius[2] = 1;\n  applyEffect({\n    shader: 'gaussian_blur',\n    params: shader_params_gaussian_blur,\n    texs: [source],\n  }, resx, resy);\n  let hblur = engine.captureFramebuffer(null, resx, resy, true, false);\n\n  // do seperable gaussian blur for scanlines (using horizontal blur from above)\n  sampleRadius = (params.vblur || 0.75) / resy;\n  shader_params_gaussian_blur.sampleRadius[0] = 0;\n  shader_params_gaussian_blur.sampleRadius[1] = sampleRadius;\n  shader_params_gaussian_blur.sampleRadius[2] = 1;\n  applyEffect({\n    shader: 'gaussian_blur',\n    params: shader_params_gaussian_blur,\n    texs: [hblur],\n  }, resx, resy);\n  let vblur = engine.captureFramebuffer(null, resx, resy, true, false);\n\n  // combine at full res\n  v4set(shader_params_pixely_expand.orig_pixel_size,\n    source.width, source.height, 1/source.width, 1/source.height);\n\n  engine.setViewport(params.final_viewport);\n  if (params.clear_color) {\n    gl.clearColor(params.clear_color[0], params.clear_color[1], params.clear_color[2], params.clear_color[3]);\n    gl.clear(gl.COLOR_BUFFER_BIT);\n  }\n\n  applyEffect({\n    shader: 'pixely_expand',\n    params: shader_params_pixely_expand,\n    texs: [source, hblur, vblur],\n  });\n}\n\nexport function applyGaussianBlur(params) {\n  if (!inited) {\n    startup();\n  }\n  let source = params.source;\n  source.setSamplerState({\n    filter_min: gl.LINEAR,\n    filter_mag: gl.LINEAR,\n    wrap_s: gl.CLAMP_TO_EDGE,\n    wrap_t: gl.CLAMP_TO_EDGE,\n  });\n  let max_size = params.max_size || 512;\n  let min_size = params.min_size || 128;\n\n  // Quick shrink down to 512->256->128 (or other specified min/max size)\n  let inputTexture0 = source;\n\n  let viewport = engine.viewport;\n  let res = max_size;\n  while (res > viewport[2] || res > viewport[3]) {\n    res /= 2;\n  }\n\n  while (res > min_size) {\n    applyEffect({\n      shader: params.shader_copy || 'copy',\n      params: shader_params_default,\n      texs: [inputTexture0],\n    }, res, res);\n    inputTexture0 = engine.captureFramebuffer(null, res, res, true, false);\n    res /= 2;\n  }\n\n  // Do seperable blur\n  let sampleRadius = (params.blur || 1) / res;\n  shader_params_gaussian_blur.sampleRadius[0] = sampleRadius;\n  shader_params_gaussian_blur.sampleRadius[1] = 0;\n  shader_params_gaussian_blur.sampleRadius[2] = params.glow || 1;\n  applyEffect({\n    shader: 'gaussian_blur',\n    params: shader_params_gaussian_blur,\n    texs: [inputTexture0],\n  }, res, res);\n  let blur = engine.captureFramebuffer(null, res, res, true, false);\n\n  shader_params_gaussian_blur.sampleRadius[0] = 0;\n  shader_params_gaussian_blur.sampleRadius[1] = sampleRadius;\n  shader_params_gaussian_blur.sampleRadius[2] = params.glow || 1;\n  applyEffect({\n    shader: 'gaussian_blur',\n    params: shader_params_gaussian_blur,\n    texs: [blur],\n  });\n\n  return true;\n}\n\nexport function applyColorMatrix(params) {\n  if (!inited) {\n    startup();\n  }\n  let source = params.source;\n  source.setSamplerState({\n    filter_min: gl.LINEAR,\n    filter_mag: gl.LINEAR,\n    wrap_s: gl.CLAMP_TO_EDGE,\n    wrap_t: gl.CLAMP_TO_EDGE,\n  });\n\n  let matrix = params.colorMatrix;\n  let mout = shader_params_color_matrix.colorMatrix;\n\n  mout[0] = matrix[0];\n  mout[1] = matrix[3];\n  mout[2] = matrix[6];\n  mout[3] = matrix[9];\n  mout[4] = matrix[1];\n  mout[5] = matrix[4];\n  mout[6] = matrix[7];\n  mout[7] = matrix[10];\n  mout[8] = matrix[2];\n  mout[9] = matrix[5];\n  mout[10] = matrix[8];\n  mout[11] = matrix[11];\n\n  applyEffect({\n    shader: 'color_matrix',\n    params: shader_params_color_matrix,\n    texs: [source],\n  });\n\n  return true;\n}\n\n// // TODO: Update for RTBBCTT and port to new GLOV.js\n// export function applyDistortTODO(params) {\n//   let source = params.source;\n//   let dest = params.destination;\n//   let distort = params.distortion;\n//   if (!source || !dest || !distort || !dest.colorTexture0 ||\n//     source === dest.colorTexture0 || distort === dest.colorTexture0) {\n//     return false;\n//   }\n//\n//   // input transform.\n//   //  a b tx\n//   //  c d ty\n//   let a;\n//   let b;\n//   let c;\n//   let d;\n//   let tx;\n//   let ty;\n//\n//   let transform = params.transform;\n//   if (transform) {\n//     // transform col-major.\n//     a = transform[0];\n//     b = transform[2];\n//     tx = transform[4];\n//     c = transform[1];\n//     d = transform[3];\n//     ty = transform[5];\n//   } else {\n//     a = d = 1;\n//     b = c = 0;\n//     tx = ty = 0;\n//   }\n//\n//   let effectParams = this.effectParams;\n//   let techparams = this.distortParameters;\n//   effectParams.technique = this.distortTechnique;\n//   effectParams.params = techparams;\n//\n//   // TODO: Cache 'transform', 'invTransform', etc in the code below\n//   techparams.transform[0] = a;\n//   techparams.transform[1] = b;\n//   techparams.transform[2] = tx;\n//   techparams.transform[3] = c;\n//   techparams.transform[4] = d;\n//   techparams.transform[5] = ty;\n//\n//   // Compute inverse transform to use in distort texture displacement..\n//   let idet = 1 / (a * d - b * c);\n//   let ia = techparams.invTransform[0] = (idet * d);\n//   let ib = techparams.invTransform[1] = (idet * -b);\n//   let ic = techparams.invTransform[2] = (idet * -c);\n//   let id = techparams.invTransform[3] = (idet * a);\n//\n//   // Compute max pixel offset after transform for normalisation.\n//   let x1 = ((ia + ib) * (ia + ib)) + ((ic + id) * (ic + id));\n//   let x2 = ((ia - ib) * (ia - ib)) + ((ic - id) * (ic - id));\n//   let x3 = ((-ia + ib) * (-ia + ib)) + ((-ic + id) * (-ic + id));\n//   let x4 = ((-ia - ib) * (-ia - ib)) + ((-ic - id) * (-ic - id));\n//   let xmax = 0.5 * Math.sqrt(Math.max(x1, x2, x3, x4));\n//\n//   let strength = (params.strength || 10);\n//   techparams.strength[0] = strength / (source.width * xmax);\n//   techparams.strength[1] = strength / (source.height * xmax);\n//\n//   techparams.inputTexture0 = source;\n//   techparams.distortTexture = distort; // linear / repeat\n//   effectParams.destination = dest;\n//   this.applyEffect(effectParams);\n//\n//   return true;\n// }\n\nexport function clearAlpha() {\n  let old_dt = gl.getParameter(gl.DEPTH_TEST);\n  if (old_dt) {\n    gl.disable(gl.DEPTH_TEST);\n  }\n  gl.colorMask(false, false, false, true);\n  applyCopy({ source: textures.textures.white });\n  gl.colorMask(true, true, true, true);\n  if (old_dt) {\n    gl.enable(gl.DEPTH_TEST);\n  }\n}\n","// Portions Copyright 2019 Jimb Esser (https://github.com/Jimbly/)\n// Released under MIT License: https://opensource.org/licenses/MIT\n/* eslint-env browser */\n\nrequire('./bootstrap.js'); // Just in case it's not in app.js\n\nexport let DEBUG = String(document.location).match(/^https?:\\/\\/localhost/);\n\nrequire('not_worker'); // This module cannot be required from a worker bundle\n\nconst assert = require('assert');\nconst camera2d = require('./camera2d.js');\nconst cmds = require('./cmds.js');\nconst effects = require('./effects.js');\nconst glov_font = require('./font.js');\nconst font_info_palanquin32 = require('../img/font/palanquin32.json');\nconst geom = require('./geom.js');\nconst input = require('./input.js');\nconst local_storage = require('./local_storage.js');\nconst mat3FromMat4 = require('gl-mat3/fromMat4');\nconst mat4Copy = require('gl-mat4/copy');\nconst mat4Invert = require('gl-mat4/invert');\nconst mat4Mul = require('gl-mat4/multiply');\nconst mat4Transpose = require('gl-mat4/transpose');\nconst mat4Perspective = require('gl-mat4/perspective');\nconst { asin, cos, floor, min, max, PI, round, sin, sqrt } = Math;\nconst models = require('./models.js');\nconst perf = require('./perf.js');\nconst settings = require('./settings.js');\nconst shaders = require('./shaders.js');\nconst { soundLoading, soundStartup, soundTick } = require('./sound.js');\nconst sprites = require('./sprites.js');\nconst textures = require('./textures.js');\nconst { texturesTick } = textures;\nconst glov_transition = require('./transition.js');\nconst glov_ui = require('./ui.js');\nconst urlhash = require('./urlhash.js');\nconst { clamp, defaults, nearSame, ridx } = require('../../common/util.js');\nconst { mat3, mat4, vec3, vec4, v3mulMat4, v3iNormalize, v4copy, v4same, v4set } = require('./vmath.js');\n\nexport let canvas;\nexport let webgl2;\nexport let glov_particles;\n\nexport let width;\nexport let height;\nexport let pixel_aspect = 1;\nexport let antialias;\n\nexport let game_width;\nexport let game_height;\n\nexport let render_width;\nexport let render_height;\n\n//eslint-disable-next-line no-use-before-define\nexport let defines = urlhash.register({ key: 'D', type: urlhash.TYPE_SET, change: definesChanged });\n\nexport let any_3d = false;\nexport let ZFAR;\nexport let ZNEAR;\nexport let fov_y = 1;\nexport let fov_x = 1;\nexport let fov_min = 60 * PI / 180;\n\nexport let mat_projection = mat4();\nexport let mat_view = mat4();\nlet mat_m = mat4();\nexport let mat_vp = mat4();\nlet mat_mv = mat4();\nlet mat_mv_no_skew = mat4();\nlet mat_mvp = mat4();\nlet mat_mv_inv_transform = mat3();\nlet mat_inv_view = mat3();\nlet projection_inverse = vec4();\n\nexport let light_diffuse = vec3(0.75, 0.75, 0.75);\nlet light_dir_vs = vec3(0, 0, 0);\nexport let light_ambient = vec3(0.25, 0.25, 0.25);\nexport let light_dir_ws = vec3(-1, -2, -3);\n\nexport let font;\nexport let app_state = null;\nexport const border_color = vec4(0, 0, 0, 1);\n\nlet mat_temp = mat4();\nexport function setGlobalMatrices(_mat_view) {\n  mat4Copy(mat_view, _mat_view);\n  mat4Mul(mat_vp, mat_projection, mat_view);\n  v3iNormalize(light_dir_ws);\n  v3mulMat4(light_dir_vs, light_dir_ws, mat_view);\n  mat4Invert(mat_temp, mat_view);\n  mat3FromMat4(mat_inv_view, mat_temp);\n}\n\nexport function setFOV(new_fov) {\n  fov_min = new_fov;\n}\n\nexport function setGameDims(w, h) {\n  game_width = w;\n  game_height = h;\n}\n\nlet is_ios_safari = (function () {\n  let ua = window.navigator.userAgent;\n  let is_ios = ua.match(/iPad/i) || ua.match(/iPhone/i);\n  let webkit = ua.match(/WebKit/i);\n  return is_ios && webkit && !ua.match(/CriOS/i);\n}());\n\n// Didn't need this for a while, but got slow on iOS recently :(\nconst postprocessing_reset_version = '4';\nexport let postprocessing = local_storage.get('glov_no_postprocessing') !== postprocessing_reset_version;\nexport function postprocessingAllow(allow) {\n  local_storage.set('glov_no_postprocessing', allow ? undefined : postprocessing_reset_version);\n  postprocessing = allow;\n}\n\nexport function glCheckError() {\n  let gl_err = gl.getError();\n  if (gl_err) {\n    console.error(gl_err);\n    throw new Error(gl_err);\n  }\n}\n\nexport function releaseCanvas() {\n  try {\n    if (gl) {\n      let ext = gl.getExtension('WEBGL_lose_context');\n      if (ext) {\n        ext.loseContext();\n      }\n    }\n  } catch (ignored) {\n    // nothing, it's fine\n  }\n}\n\nlet error_report_disabled = false;\nexport function reloadSafe() {\n  // Do not report any errors after this point\n  error_report_disabled = true;\n  // Release canvas to not leak memory on Firefox\n  releaseCanvas();\n  document.location.reload();\n}\nwindow.reloadSafe = reloadSafe;\n\nlet reloading_defines = {};\nexport function defineCausesReload(define) {\n  reloading_defines[define] = defines[define];\n}\ndefineCausesReload('FORCEWEBGL2');\ndefineCausesReload('NOWEBGL2');\nexport function definesChanged() {\n  for (let key in reloading_defines) {\n    if (defines[key] !== reloading_defines[key]) {\n      urlhash.onURLChange(reloadSafe);\n      break;\n    }\n  }\n  shaders.handleDefinesChanged();\n}\n\nfunction normalizeRow(m, idx) {\n  let len = m[idx]*m[idx] + m[idx+1]*m[idx+1] + m[idx+2]*m[idx+2];\n  if (len > 0) {\n    len = 1 / sqrt(len);\n    m[idx] *= len;\n    m[idx+1] *= len;\n    m[idx+2] *= len;\n  }\n}\n\nexport function updateMatrices(mat_model) {\n  // PERFTODO: depending on rendering path, only some of these are needed (m + vp or just mvp)\n  mat4Copy(mat_m, mat_model);\n\n  mat4Mul(mat_mv, mat_view, mat_model);\n  mat4Mul(mat_mvp, mat_projection, mat_mv);\n  // TODO: Can expand and simplify all of this, especially below\n  // Compute the inverse transform of thee model_view matrix, discarding scale,\n  // to be used for getting normals into view space\n  mat4Copy(mat_temp, mat_model);\n  normalizeRow(mat_temp, 0);\n  normalizeRow(mat_temp, 4);\n  normalizeRow(mat_temp, 8);\n  mat4Mul(mat_mv_no_skew, mat_view, mat_temp);\n  mat4Invert(mat_temp, mat_mv_no_skew);\n  mat4Transpose(mat_temp, mat_temp);\n  mat3FromMat4(mat_mv_inv_transform, mat_temp);\n}\nexport let frame_timestamp = 0;\nexport function getFrameTimestamp() {\n  return frame_timestamp;\n}\n\nexport let frame_index = 0;\nexport function getFrameIndex() {\n  return frame_index;\n}\n\nexport let frame_dt = 0;\nexport function getFrameDt() {\n  return frame_dt;\n}\n\nexport let hrtime = 0;\n\n// Wall time, may contain large jumps, may be 0 or negative\nlet this_frame_time_actual = 0;\nexport function getFrameDtActual() {\n  return this_frame_time_actual;\n}\n\nlet after_loading_state = null;\nexport let is_loading = true;\nexport function setState(new_state) {\n  if (is_loading) {\n    after_loading_state = new_state;\n  } else {\n    app_state = new_state;\n  }\n}\n\nexport function stateActive(test_state) {\n  if (is_loading) {\n    return after_loading_state === test_state;\n  } else {\n    return app_state === test_state;\n  }\n}\n\nlet mspf = 1000;\nlet mspf_update_time = 0;\nlet mspf_frame_count = 0;\nlet last_tick_cpu = 0;\nlet mspf_tick = 1000;\n// let net_time = 1000;\nlet mspf_tick_accum = 0;\n// let net_time_accum = 0;\nexport const PERF_HISTORY_SIZE = 128;\nexport let perf_state = window.glov_perf_state = {\n  fpsgraph: {\n    index: 0,\n    history: new Float32Array(PERF_HISTORY_SIZE * 2),\n  },\n  gpu_mem: {\n    tex: 0,\n    geom: 0,\n  },\n};\nlet fpsgraph = perf_state.fpsgraph;\n\nperf.addMetric({\n  name: 'fps',\n  show_stat: 'show_fps', // always, if we're showing any metrics\n  show_graph: 'fps_graph',\n  labels: {\n    'fps: ': () => (1000 / mspf).toFixed(1),\n    'ms/f: ': () => mspf.toFixed(0),\n    'cpu: ': () => mspf_tick.toFixed(0),\n    // 'net: ': () => net_time.toFixed(0),\n  },\n  data: fpsgraph, // contain .index and .history (stride of colors.length)\n  line_scale_top: 50,\n  colors: [\n    // vec4(0.161, 0.678, 1, 1), // net time\n    vec4(1, 0.925, 0.153, 1), // cpu/tick time\n    vec4(0, 0.894, 0.212, 1), // total time (GPU)\n  ],\n  interactable: DEBUG,\n});\n\nlet do_borders = true;\nlet do_viewport_postprocess = false;\nlet need_repos = 0;\n\nexport function resizing() {\n  return need_repos;\n}\n\nlet app_tick_functions = [];\nexport function addTickFunc(cb) {\n  app_tick_functions.push(cb);\n}\n\nlet post_tick = [];\nexport function postTick(opts) {\n  opts.ticks = opts.ticks || 1; // run in how many ticks?\n  opts.inactive = opts.inactive || false; // run even if inactive?\n  assert.equal(typeof opts.fn, 'function');\n  post_tick.push(opts);\n}\n\nlet temporary_textures = {};\n\nfunction resetEffects() {\n  for (let key in temporary_textures) {\n    let temp = temporary_textures[key];\n    // Release unused textures\n    while (temp.list.length > temp.idx) {\n      temp.list.pop().destroy();\n    }\n    if (!temp.idx) {\n      delete temporary_textures[key];\n    } else {\n      temp.idx = 0;\n    }\n  }\n}\n\nconst SAFARI_FULLSCREEN_ASPECT = (function () {\n  let screen = window.screen;\n  if (!is_ios_safari || !screen) {\n    return 0;\n  }\n  const SAFARI_DIMS = { // wxh : [fullscreen aspect]\n    // iPhone XR\n    // iPhone 11 Pro Max\n    // iPhone XS Max\n    // iPhone 11\n    '896,414': 896/414,\n    // iPhone 11 Pro\n    // iPhone X (probably)\n    '812,375': 812/375,\n    // iPhone 8 Plus\n    '736,414': 736/414,\n    // iPhone 6s+\n    // iPhone 6+\n    '716,414': 736/414, // (screen.availWidth reports 20 less)\n    // iPhone 8\n    // iPhone 7 (10.1)\n    // iPhone 7 (11.4)\n    '667,375': 667/375,\n    // iPhone 6s\n    // iPhone 6\n    '647,375': 667/375, // (screen.availWidth reports 20 less)\n    // iPhone 5s\n    '548,320': 568/320, // (screen.availWidth reports 20 less)\n  };\n  let key = `${max(screen.availWidth, screen.availHeight)},${min(screen.availWidth, screen.availHeight)}`;\n  return SAFARI_DIMS[key] || 0;\n}());\nfunction safariTopSafeArea(view_w, view_h) {\n  // Detect if the URL bar is hidden, but should be a safe area\n  if (SAFARI_FULLSCREEN_ASPECT && nearSame(view_w/view_h, SAFARI_FULLSCREEN_ASPECT, 0.001)) {\n    // Note: if user has scaling enabled, the padding required might be different\n    //   but the same holds true for the safe area padding detected via CSS!\n    return 50 * (window.devicePixelRatio || 1); // seems to be 50pts on all devices\n  }\n  return 0;\n}\n\n\nlet last_canvas_width;\nlet last_canvas_height;\nlet last_body_height;\nlet safearea_elem;\nlet safearea_ignore_bottom = false;\nlet safearea_values = [0,0,0,0];\nlet last_safearea_values = [0,0,0,0];\nfunction checkResize() {\n  // use VisualViewport on at least iOS Safari - deal with tabs and keyboard\n  //   shrinking the viewport without changing the window height\n  let vv = window.visualViewport || {};\n  let css_to_real = window.devicePixelRatio || 1;\n  let view_w = (vv.width || window.innerWidth);\n  let view_h = (vv.height || window.innerHeight);\n  if (view_h !== last_body_height) {\n    // set this *before* getting canvas and safearea_elem dims below\n    last_body_height = view_h;\n    document.body.style.height = `${view_h}px`;\n  }\n  let new_width = round(canvas.clientWidth * css_to_real) || 1;\n  let new_height = round(canvas.clientHeight * css_to_real) || 1;\n\n  if (cmds.safearea[0] === -1) {\n    if (safearea_elem) {\n      let sa_width = safearea_elem.offsetWidth;\n      let sa_height = safearea_elem.offsetHeight;\n      if (sa_width && sa_height) {\n        v4set(safearea_values,\n          safearea_elem.offsetLeft * css_to_real,\n          new_width - (sa_width + safearea_elem.offsetLeft) * css_to_real,\n          max(safearea_elem.offsetTop * css_to_real, safariTopSafeArea(view_w, view_h)),\n          // Note: Possibly ignoring bottom safe area, it seems not useful on iPhones (does not\n          //  adjust when keyboard is up, only obscured in the middle, if obeying left/right safe area)\n          safearea_ignore_bottom ? 0 : new_height - (sa_height + safearea_elem.offsetTop) * css_to_real);\n      }\n    }\n  } else {\n    v4set(safearea_values,\n      new_width * clamp(cmds.safearea[0], 0, 25)/100,\n      new_width * clamp(cmds.safearea[1], 0, 25)/100,\n      new_height * clamp(cmds.safearea[2], 0, 25)/100,\n      new_height * clamp(cmds.safearea[3], 0, 25)/100);\n  }\n  if (!v4same(safearea_values, last_safearea_values)) {\n    v4copy(last_safearea_values, safearea_values);\n    camera2d.setSafeAreaPadding(safearea_values[0], safearea_values[1], safearea_values[2], safearea_values[3]);\n    need_repos = max(need_repos, 1);\n  }\n\n  if (new_width !== last_canvas_width || new_height !== last_canvas_height) {\n    window.pixel_scale = css_to_real; // for debug\n    last_canvas_width = canvas.width = new_width || 1;\n    last_canvas_height = canvas.height = new_height || 1;\n    // For the next 10 frames, make sure font size is correct\n    need_repos = 10;\n  }\n  if (is_ios_safari && (window.visualViewport || need_repos)) {\n    // we have accurate view information, or screen was just rotated / resized\n    // force scroll to top\n    window.scroll(0,0);\n  }\n}\n\nexport let viewport = vec4(0,0,1,1);\nexport function setViewport(xywh) {\n  v4copy(viewport, xywh);\n  gl.viewport(xywh[0], xywh[1], xywh[2], xywh[3]);\n}\n\nlet last_temp_idx = 0;\nexport function getTemporaryTexture(w, h) {\n  let key = w ? `${w}_${h}` : 'screen';\n  let temp = temporary_textures[key];\n  if (!temp) {\n    temp = temporary_textures[key] = { list: [], idx: 0 };\n  }\n  if (temp.idx >= temp.list.length) {\n    let tex = textures.createForCapture(`temp_${key}_${++last_temp_idx}`);\n    temp.list.push(tex);\n  }\n  let tex = temp.list[temp.idx++];\n  return tex;\n}\n\nexport function captureFramebuffer(tex, w, h, do_filter_linear, do_wrap) {\n  if (!w && render_width) {\n    w = render_width;\n    h = render_height;\n  }\n  if (!tex) {\n    tex = getTemporaryTexture(w, h);\n  }\n  if (w) {\n    tex.copyTexImage(viewport[0], viewport[1], w, h);\n  } else {\n    tex.copyTexImage(0, 0, width, height);\n  }\n  tex.setSamplerState({\n    filter_min: do_filter_linear ? gl.LINEAR : gl.NEAREST,\n    filter_mag: do_filter_linear ? gl.LINEAR : gl.NEAREST,\n    wrap_s: do_wrap ? gl.REPEAT : gl.CLAMP_TO_EDGE,\n    wrap_t: do_wrap ? gl.REPEAT : gl.CLAMP_TO_EDGE,\n  });\n  return tex;\n}\n\nlet frame_requested = false;\nfunction requestFrame() {\n  if (frame_requested) {\n    return;\n  }\n  frame_requested = true;\n  let max_fps = settings.max_fps;\n  if (defines.SLOWLOAD && is_loading) {\n    // Safari on CrossBrowserTesting needs this in order to have some time to load/decode audio data\n    // TODO: Instead, generally, if loading, compare last_tick_cpu vs dt, and if\n    //   we're not idle for at least half of the time and we have *internal*\n    //   loads (textures, sounds, models, NOT user code), delay so that we are.\n    max_fps = 2;\n  }\n  if (max_fps) {\n    // eslint-disable-next-line no-use-before-define\n    setTimeout(tick, round(1000 / max_fps));\n  } else {\n    // eslint-disable-next-line no-use-before-define\n    requestAnimationFrame(tick);\n  }\n}\n\nlet mat_projection_10;\nexport let had_3d_this_frame;\n\nexport function setupProjection(use_fov_y, use_width, use_height, znear, zfar) {\n  mat4Perspective(mat_projection, use_fov_y, use_width/use_height, znear, zfar);\n  mat_projection_10 = mat_projection[10];\n  v4set(projection_inverse,\n    2 / (use_width * mat_projection[0]), // projection_matrix.m00),\n    2 / (use_height * mat_projection[5]), // projection_matrix.m11),\n    -(1 + mat_projection[8]) / mat_projection[0], // projection_matrix.m20) / projection_matrix.m00,\n    -(1 + mat_projection[9]) / mat_projection[5] // projection_matrix.m21) / projection_matrix.m11\n  );\n}\n\nexport function setZRange(znear, zfar) {\n  ZNEAR = znear;\n  ZFAR = zfar;\n  if (had_3d_this_frame) {\n    setupProjection(fov_y, width, height, ZNEAR, ZFAR);\n  }\n}\n\nexport function start3DRendering() {\n  had_3d_this_frame = true;\n  gl.blendFunc(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA);\n  gl.enable(gl.BLEND);\n  gl.enable(gl.DEPTH_TEST);\n  gl.depthMask(true);\n\n  setupProjection(fov_y, width, height, ZNEAR, ZFAR);\n\n  gl.viewport(viewport[0], viewport[1], viewport[2], viewport[3]);\n  gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT); // eslint-disable-line no-bitwise\n  gl.enable(gl.CULL_FACE);\n}\n\nexport function startSpriteRendering() {\n  gl.disable(gl.CULL_FACE);\n  gl.blendFunc(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA);\n  gl.enable(gl.BLEND);\n  gl.disable(gl.DEPTH_TEST);\n  gl.depthMask(false);\n}\n\nexport function projectionZBias(dist, at_z) {\n  if (!dist) {\n    mat_projection[10] = mat_projection_10;\n    return;\n  }\n  //let e = 2 * ZFAR * ZNEAR / (ZFAR - ZNEAR) * (dist / (at_z * (at_z + dist)));\n  let e = 0.2 * (dist / (at_z * (at_z + dist)));\n  e = max(e, 2e-7);\n  mat_projection[10] = mat_projection_10 + e;\n}\n\nfunction fixNatives(is_startup) {\n  // If any browser extensions have added things to the Array prototype, remove them!\n  let b = [];\n  for (let a in b) {\n    console[is_startup ? 'log' : 'error'](`Found invasive enumerable property \"${a}\" on Array.prototype, removing...`);\n    let old_val = b[a];\n    delete Array.prototype[a];\n    // If this fails to work, perhaps try using Object.preventExtensions(Array.prototype) in an inline header script?\n    // eslint-disable-next-line no-extend-native\n    Object.defineProperty(Array.prototype, a, { value: old_val, enumerable: false });\n  }\n  for (let a in b) {\n    // Failed: code that iterates arrays will fail\n    assert(false, `Array.prototype has unremovable member ${a}`);\n  }\n}\n\nexport const hrnow = window.performance ? window.performance.now.bind(window.performance) : Date.now.bind(Date);\n\nlet last_tick = 0;\nfunction tick(timestamp) {\n  frame_requested = false;\n  // if (timestamp < 1e12) { // high resolution timer\n  //   this ends up being a value way back in time, relative to what hrnow() returns,\n  //   and even back in time relative to input events already dispatched,\n  //   causing timing confusion, so ignore it, just call hrnow()\n  //   hrtime = timestamp;\n  // } else { // probably integer milliseconds since epoch, or nothing\n  hrtime = hrnow();\n  // }\n  let now = round(hrtime); // Code assumes integer milliseconds\n  if (!last_tick) {\n    last_tick = now;\n  }\n  this_frame_time_actual = now - last_tick;\n  let dt = min(max(this_frame_time_actual, 1), 250);\n  frame_dt = dt;\n  last_tick = now;\n  frame_timestamp += dt;\n  ++frame_index;\n\n  fixNatives(false);\n\n  // let this_net_time = wsclient.getNetTime();\n  // fpsgraph.history[(fpsgraph.index % PERF_HISTORY_SIZE) * 3 + 0] = this_net_time;\n  fpsgraph.history[(fpsgraph.index % PERF_HISTORY_SIZE) * 2 + 1] = this_frame_time_actual;\n  fpsgraph.index++;\n  fpsgraph.history[(fpsgraph.index % PERF_HISTORY_SIZE) * 2 + 0] = 0;\n\n  ++mspf_frame_count;\n  mspf_tick_accum += last_tick_cpu;\n  // net_time_accum += this_net_time;\n  if (now - mspf_update_time > 1000) {\n    if (!mspf_update_time) {\n      mspf_update_time = now;\n    } else {\n      mspf = (now - mspf_update_time) / mspf_frame_count;\n      mspf_tick = mspf_tick_accum / mspf_frame_count;\n      mspf_tick_accum = 0;\n      // net_time = net_time_accum / mspf_frame_count;\n      // net_time_accum = 0;\n      mspf_frame_count = 0;\n      mspf_update_time = now;\n    }\n  }\n\n  if (document.hidden || document.webkitHidden) {\n    resetEffects();\n    last_tick_cpu = 0;\n    for (let ii = post_tick.length - 1; ii >= 0; --ii) {\n      if (post_tick[ii].inactive && !--post_tick[ii].ticks) {\n        post_tick[ii].fn();\n        ridx(post_tick, ii);\n      }\n    }\n    requestFrame();\n    return;\n  }\n\n  had_3d_this_frame = false;\n  checkResize();\n  width = canvas.width;\n  height = canvas.height;\n\n  if (any_3d) {\n    // setting the fov values for the frame even if we don't do 3D this frame, because something\n    // might need it before start3DRendering() (e.g. mouse click inverse projection)\n    if (width > height) {\n      fov_y = fov_min;\n      let rise = width/height * sin(fov_y / 2) / cos(fov_y / 2);\n      fov_x = 2 * asin(rise / sqrt(rise * rise + 1));\n    } else {\n      fov_x = fov_min;\n      let rise = height/width * sin(fov_x / 2) / cos(fov_x / 2);\n      fov_y = 2 * asin(rise / sqrt(rise * rise + 1));\n    }\n  }\n  textures.bind(0, textures.textures.error);\n\n  camera2d.tickCamera2D();\n  camera2d.setAspectFixed(game_width, game_height);\n\n  soundTick(dt);\n  input.tickInput();\n  glov_ui.tickUI(dt);\n\n  if (need_repos) {\n    --need_repos;\n    let ul = [];\n    camera2d.virtualToDom(ul, [0,0]);\n    let lr = [];\n    camera2d.virtualToDom(lr, [game_width-1,game_height-1]);\n    let viewport2 = [ul[0], ul[1], lr[0], lr[1]];\n    let view_height = viewport2[3] - viewport2[1];\n    // default font size of 16 when at height of game_height\n    let font_size = min(256, max(2, floor(view_height/800 * 16)));\n    let elem_fullscreen = document.getElementById('fullscreen');\n    if (elem_fullscreen) {\n      elem_fullscreen.style['font-size'] = `${font_size}px`;\n    }\n  }\n\n  if (do_borders) {\n    // Borders\n    glov_ui.drawRect(camera2d.x0Real(), camera2d.y0Real(), camera2d.x1Real(), 0, Z.BORDERS, border_color);\n    glov_ui.drawRect(camera2d.x0Real(), game_height, camera2d.x1Real(), camera2d.y1Real(), Z.BORDERS, border_color);\n    glov_ui.drawRect(camera2d.x0Real(), 0, 0, game_height, Z.BORDERS, border_color);\n    glov_ui.drawRect(game_width, 0, camera2d.x1Real(), game_height, Z.BORDERS, border_color);\n  }\n\n  if (settings.show_metrics) {\n    perf.draw();\n  }\n\n  for (let ii = 0; ii < app_tick_functions.length; ++ii) {\n    app_tick_functions[ii](dt);\n  }\n  if (app_state) {\n    app_state(dt);\n  }\n\n  glov_particles.tick(dt); // *after* app_tick, so newly added/killed particles can be queued into the draw list\n  glov_transition.render(dt);\n\n  if (!had_3d_this_frame) {\n    // delayed clear (and general GL init) until after app_state, app might change clear color\n    gl.viewport(viewport[0], viewport[1], viewport[2], viewport[3]);\n    // TODO: for do_viewport_post_process, we need to enable gl.scissor to avoid clearing the whole screen!\n    // gl.scissor(0, 0, viewport[2] - viewport[0], viewport[3] - viewport[1]);\n    gl.clear(gl.COLOR_BUFFER_BIT);\n  }\n\n  startSpriteRendering();\n  sprites.draw();\n\n  glov_ui.endFrame();\n\n  if (render_width) {\n    let source = captureFramebuffer();\n    let clear_color = [0, 0, 0, 1];\n    let final_viewport = [\n      camera2d.render_offset_x, camera2d.render_offset_y_bottom,\n      camera2d.render_viewport_w, camera2d.render_viewport_h\n    ];\n    if (do_viewport_postprocess) {\n      effects.applyPixelyExpand({ source, final_viewport, clear_color });\n    } else {\n      if (clear_color) {\n        gl.clearColor(clear_color[0], clear_color[1], clear_color[2], clear_color[3]);\n        gl.clear(gl.COLOR_BUFFER_BIT);\n      }\n      setViewport(final_viewport);\n      // gl.scissor(0, 0, width, height);\n      effects.applyCopy({ source });\n    }\n  }\n\n  input.endFrame();\n  resetEffects();\n  texturesTick();\n\n  for (let ii = post_tick.length - 1; ii >= 0; --ii) {\n    if (!--post_tick[ii].ticks) {\n      post_tick[ii].fn();\n      ridx(post_tick, ii);\n    }\n  }\n\n  last_tick_cpu = hrnow() - now;\n  fpsgraph.history[(fpsgraph.index % PERF_HISTORY_SIZE) * 2 + 0] = last_tick_cpu;\n  requestFrame();\n}\n\nlet error_report_details = {};\nlet error_report_details_str = '';\nexport function setErrorReportDetails(key, value) {\n  if (value) {\n    error_report_details[key] = escape(String(value));\n  } else {\n    delete error_report_details[key];\n  }\n  error_report_details_str = `&${Object.keys(error_report_details)\n    .map((k) => `${k}=${error_report_details[k]}`)\n    .join('&')}`;\n}\nsetErrorReportDetails('ver', BUILD_TIMESTAMP);\nlet last_error_time = 0;\nlet crash_idx = 0;\n// Errors from plugins that we don't want to get reported to us, or show the user!\nlet filtered_errors = /avast_submit|vc_request_action/;\nfunction glovErrorReport(msg, file, line, col) {\n  ++crash_idx;\n  let now = Date.now();\n  setTimeout(requestFrame, 1);\n  let dt = now - last_error_time;\n  last_error_time = now;\n  if (error_report_disabled) {\n    return false;\n  }\n  if (dt < 30*1000) {\n    // Less than 30 seconds since the last error, either we're erroring every\n    // frame, or this is a secondary error caused by the first, do not report it.\n    // Could maybe hash the error message and just report each message once, and\n    // flag errors as primary or secondary.\n    return false;\n  }\n  if (msg.match(filtered_errors)) {\n    return false;\n  }\n  // Post to an error reporting endpoint that (probably) doesn't exist - it'll get in the logs anyway!\n  let url = urlhash.getAPIPath(); // base like http://foo.com/bar/ (without index.html)\n  url += `errorReport?cidx=${crash_idx}&file=${escape(file)}&line=${line}&col=${col}&url=${escape(location.href)}` +\n    `&msg=${escape(msg)}${error_report_details_str}`;\n  let xhr = new XMLHttpRequest();\n  xhr.open('POST', url, true);\n  xhr.send(null);\n  return true;\n}\n\nfunction periodiclyRequestFrame() {\n  requestFrame();\n  setTimeout(periodiclyRequestFrame, 5000);\n}\n\nexport function startup(params) {\n  fixNatives(true);\n\n  canvas = document.getElementById('canvas');\n  safearea_elem = document.getElementById('safearea');\n\n  if (params.error_report !== false) {\n    window.glov_error_report = glovErrorReport;\n  }\n\n  safearea_ignore_bottom = params.safearea_ignore_bottom || false;\n\n  // resize the canvas to fill browser window dynamically\n  window.addEventListener('resize', checkResize, false);\n  checkResize();\n\n  let is_pixely = params.pixely && params.pixely !== 'off';\n  antialias = params.antialias || !is_pixely && params.antialias !== false;\n  let powerPreference = params.high ? 'high-performance' : 'default';\n  let context_names = ['webgl2', 'webgl', 'experimental-webgl'];\n  let force_webgl1 = defines.NOWEBGL2;\n  let disable_data = local_storage.getJSON('webgl2_disable');\n  // Check if a previous, recent run had an error that hinted we should disable WebGL2\n  if (disable_data && disable_data.ua === navigator.userAgent && disable_data.ts > Date.now() - 7*24*60*60*1000) {\n    console.log('Disabling WebGL2 because a previous run encountered a related error');\n    force_webgl1 = true;\n  }\n  if (DEBUG && !defines.FORCEWEBGL2) {\n    let rc = local_storage.getJSON('run_count', 0) + 1;\n    local_storage.setJSON('run_count', rc);\n    if (rc % 2) {\n      force_webgl1 = true;\n    }\n  }\n  if (force_webgl1) {\n    context_names.splice(0, 1);\n  }\n  let context_opts = [{ antialias, powerPreference }, { powerPreference }, {}];\n  let good = false;\n  webgl2 = false;\n  for (let i = 0; !good && i < context_names.length; i += 1) {\n    for (let jj = 0; !good && jj < context_opts.length; ++jj) {\n      try {\n        window.gl = canvas.getContext(context_names[i], context_opts[jj]);\n        if (window.gl) {\n          if (context_names[i] === 'webgl2') {\n            webgl2 = true;\n          }\n          good = true;\n          break;\n        }\n      } catch (e) {\n        // ignore\n      }\n    }\n  }\n  if (!good) {\n    // eslint-disable-next-line no-alert\n    window.alert('Sorry, but your browser does not support WebGL or does not have it enabled.');\n    document.getElementById('loading').style.visibility = 'hidden';\n    document.getElementById('nowebgl').style.visibility = 'visible';\n    return false;\n  }\n  console.log(`Using WebGL${webgl2?2:1}`);\n\n  assert(gl);\n  canvas.focus();\n  width = canvas.width;\n  height = canvas.height;\n  game_width = params.game_width || 1280;\n  game_height = params.game_height || 960;\n  any_3d = params.any_3d || false;\n  ZNEAR = params.znear || 0.7;\n  ZFAR = params.zfar || 10000;\n  if (params.pixely === 'strict') {\n    render_width = game_width;\n    render_height = game_height;\n    if (params.viewport_postprocess) {\n      do_viewport_postprocess = true;\n    }\n  } else {\n    render_width = undefined;\n    render_height = undefined;\n  }\n  pixel_aspect = params.pixel_aspect || 1;\n\n  gl.depthFunc(gl.LEQUAL);\n  // gl.enable(gl.SCISSOR_TEST);\n  if (!any_3d) {\n    gl.disable(gl.CULL_FACE);\n  }\n  gl.cullFace(gl.BACK);\n  gl.clearColor(0, 0.1, 0.2, 1);\n  gl.pixelStorei(gl.UNPACK_ALIGNMENT, 1); // Allow RGB texture data with non-mult-4 widths\n\n  textures.startup();\n  geom.startup();\n  shaders.startup({\n    light_diffuse,\n    light_dir_vs,\n    ambient: light_ambient,\n    mat_m: mat_m,\n    mat_mv: mat_mv,\n    mat_vp: mat_vp,\n    mvp: mat_mvp,\n    mv_inv_trans: mat_mv_inv_transform,\n    mat_inv_view: mat_inv_view,\n    view: mat_view,\n    projection: mat_projection,\n    projection_inverse,\n  });\n  camera2d.startup();\n  sprites.startup();\n  input.startup(canvas, params);\n  if (any_3d) {\n    models.startup();\n  }\n\n  /* eslint-disable global-require */\n  glov_particles = require('./particles.js').create();\n\n  if (is_pixely) {\n    textures.defaultFilters(gl.NEAREST, gl.NEAREST);\n  } else {\n    textures.defaultFilters(gl.LINEAR_MIPMAP_LINEAR, gl.LINEAR);\n  }\n\n  const font_info_04b03x2 = require('../img/font/04b03_8x2.json');\n  const font_info_04b03x1 = require('../img/font/04b03_8x1.json');\n  if (params.font) {\n    font = glov_font.create(params.font.info, params.font.texture);\n  } else if (params.pixely === 'strict') {\n    font = glov_font.create(font_info_04b03x1, 'font/04b03_8x1');\n  } else if (is_pixely) {\n    font = glov_font.create(font_info_04b03x2, 'font/04b03_8x2');\n  } else {\n    font = glov_font.create(font_info_palanquin32, 'font/palanquin32');\n  }\n  params.font = font;\n  glov_ui.startup(params);\n\n  soundStartup(params.sound);\n  glov_ui.bindSounds(defaults(params.ui_sounds || {}, {\n    button_click: 'button_click',\n    rollover: 'rollover',\n  }));\n\n  camera2d.setAspectFixed(game_width, game_height);\n\n  if (params.state) {\n    setState(params.state);\n  }\n  if (params.do_borders !== undefined) {\n    do_borders = params.do_borders;\n  }\n  if (params.show_fps !== undefined) {\n    settings.show_fps = params.show_fps;\n  }\n\n  periodiclyRequestFrame();\n  return true;\n}\n\nexport function loadsPending() {\n  return textures.load_count + soundLoading() + models.load_count;\n}\n\nfunction loading() {\n  let load_count = loadsPending();\n  let elem_loading_text = document.getElementById('loading_text');\n  if (elem_loading_text) {\n    elem_loading_text.innerText = `Loading (${load_count})...`;\n  }\n  if (!load_count) {\n    is_loading = false;\n    app_state = after_loading_state;\n    // Clear after next frame, so something is rendered to the canvas\n    postTick({\n      ticks: 2,\n      fn: function () {\n        let loading_elem = document.getElementById('loading');\n        if (loading_elem) {\n          loading_elem.style.visibility = 'hidden';\n        }\n      }\n    });\n  }\n}\napp_state = loading;\n\nwindow.glov_engine = exports;\n","/* globals FBInstant */\nconst urlhash = require('./urlhash.js');\n\nexport let ready = false;\nlet onreadycallbacks = [];\nexport function onready(callback) {\n  if (ready) {\n    return void callback();\n  }\n  onreadycallbacks.push(callback);\n}\nexport function init() {\n  if (!window.FBInstant) {\n    return;\n  }\n\n  let left = 1;\n  let fake_load_interval = setInterval(function () {\n    left *= 0.9;\n    FBInstant.setLoadingProgress(100-(left*100)>>0);\n  },100);\n\n  FBInstant.initializeAsync().then(function () {\n    let entryPointData = FBInstant.getEntryPointData()||{};\n    // let entryPointData = { querystring: { w: '4675', wg: '1' } }; // FRVR\n    // let entryPointData = { querystring: { blueprint: 'RKWVAE26XS24Z' } }; // FRVR\n    let querystring = entryPointData.querystring||{};\n    for (let x in querystring) {\n      urlhash.set(x, querystring[x]);\n    }\n\n    clearInterval(fake_load_interval);\n    ready = true;\n    FBInstant.startGameAsync().then(function () {\n      onreadycallbacks.forEach((e) => e());\n      onreadycallbacks = [];\n    });\n  }).catch(function (e) {\n    console.warn('initializeAsync failed', e);\n  });\n}\n","const assert = require('assert');\n\nlet by_ext = {};\nlet by_match = [];\n\n// cb(filename)\nexport function filewatchOn(ext_or_search, cb) {\n  if (ext_or_search[0] === '.') {\n    assert(!by_ext[ext_or_search]);\n    by_ext[ext_or_search] = cb;\n  } else {\n    by_match.push([ext_or_search, cb]);\n  }\n}\n\nlet message_cb;\n// cb(message)\nexport function filewatchMessageHandler(cb) {\n  message_cb = cb;\n}\n\nfunction onFileChange(filename) {\n  console.log(`FileWatch change: ${filename}`);\n  let ext_idx = filename.lastIndexOf('.');\n  let did_reload = false;\n  if (ext_idx !== -1) {\n    let ext = filename.slice(ext_idx);\n    if (by_ext[ext]) {\n      if (by_ext[ext](filename) !== false) {\n        did_reload = true;\n      }\n    }\n  }\n  for (let ii = 0; ii < by_match.length; ++ii) {\n    if (filename.match(by_match[ii][0])) {\n      if (by_match[ii][1](filename) !== false) {\n        did_reload = true;\n      }\n    }\n  }\n  if (message_cb && did_reload) {\n    message_cb(`Reloading: ${filename}`);\n  }\n}\n\nexport function filewatchTriggerChange(filename) {\n  onFileChange(filename);\n}\n\nexport function filewatchStartup(client) {\n  client.onMsg('filewatch', onFileChange);\n}\n","// Portions Copyright 2019 Jimb Esser (https://github.com/Jimbly/)\n// Released under MIT License: https://opensource.org/licenses/MIT\n/* eslint no-bitwise:off, complexity:off, no-shadow:off */\n\nconst assert = require('assert');\nconst camera2d = require('./camera2d.js');\nconst { floor, max, round } = Math;\nconst shaders = require('./shaders.js');\nconst sprites = require('./sprites.js');\nconst textures = require('./textures.js');\nconst { clamp } = require('../../common/util.js');\nconst { vec4, v4clone, v4scale } = require('./vmath.js');\n\n/*\n\nfont_style = glov_font.style(null, {\n  color: 0xFFFFFFff,\n  outline_width: 0,\n  outline_color: 0x00000000,\n  glow_xoffs: 0,\n  glow_yoffs: 0,\n  glow_inner: 0,\n  glow_outer: 0,\n  glow_color: 0x000000ff,\n});\n\n */\n\n// typedef struct FontCharInfo {\n//   int c;\n//   float x0;\n//   float y0;\n//   int w;\n//   int h;\n//   int imgIdx;\n// } FontCharInfo;\n\n// typedef struct FontInfo {\n//   AS_NAME(CharInfo) FontCharInfo **char_infos;\n//   int font_size;\n//   float x0;\n//   float y0;\n//   int imageW;\n//   int imageH;\n//   int spread;\n// } FontInfo;\n\nexport const COLOR_MODE = {\n  SINGLE: 0,\n  GRADIENT: 1,\n};\n\nexport const ALIGN = {\n  HLEFT: 0,\n  HCENTER: 1,\n  HRIGHT: 2,\n  HMASK: 3,\n\n  VTOP: 0 << 2,\n  VCENTER: 1 << 2,\n  VBOTTOM: 2 << 2,\n  VMASK: 3 << 2,\n\n  HFIT: 1 << 4,\n  HWRAP: 1 << 5, // only for glovMarkup*, not drawSizedAligned below, use drawSizedWrapped below instead\n\n  HCENTERFIT: 1 | (1 << 4),\n  HVCENTER: 1 | (1 << 2), // to avoid doing bitwise ops elsewhere\n  HVCENTERFIT: 1 | (1 << 2) | (1 << 4), // to avoid doing bitwise ops elsewhere\n};\n\n\n// typedef struct GlovFontStyle\n// {\n//   // These members will never be changed (safe to initialize with GlovFontStyle foo = {1.0, 0xfff, etc};\n//   float outline_width;\n//   U32 outline_color;\n//   // Glow: can be used for a dropshadow as well\n//   //   inner can be negative to have the glow be less opaque (can also just change the alpha of the glow color)\n//   //   a glow would be e.g. (0, 0, -1, 5)\n//   //   a dropshadow would be e.g. (3.25, 3.25, -2.5, 5)\n//   float glow_xoffs;\n//   float glow_yoffs;\n//   float glow_inner;\n//   float glow_outer;\n//   U32 glow_color;\n//   U32 color; // upper left, or single color\n//   U32 colorUR; // upper right\n//   U32 colorLR; // lower right\n//   U32 colorLL; // lower left\n//   GlovFontColorMode color_mode;\n// } GlovFontStyle;\n\n/* Default GlovFontStyle:\n  font_style = {\n    outline_width: 0, outline_color: 0x00000000,\n    glow_xoffs: 0, glow_yoffs: 0, glow_inner: 0, glow_outer: 0, glow_color: 0x00000000,\n    color: 0xFFFFFFff\n  };\n\n  font_style = {\n    outline_width: 0, outline_color: 0x00000000,\n    glow_xoffs: 0, glow_yoffs: 0, glow_inner: 0, glow_outer: 0, glow_color: 0x00000000,\n    // Color gradient: UL, UR, LR, LL\n    color: 0xFFFFFFff, colorUR: 0xFFFFFFff, colorLR: 0x000000ff, colorLL: 0x000000ff,\n    color_mode: glov_font.COLOR_MODE.GRADIENT,\n  };\n*/\n\nfunction GlovFontStyle() {\n  this.color_vec4 = vec4(1,1,1,1); // Matches GlovFontStyle.prototype.color below\n}\nGlovFontStyle.prototype.outline_width = 0;\nGlovFontStyle.prototype.outline_color = 0x00000000;\nGlovFontStyle.prototype.glow_xoffs = 0;\nGlovFontStyle.prototype.glow_yoffs = 0;\nGlovFontStyle.prototype.glow_inner = 0;\nGlovFontStyle.prototype.glow_outer = 0;\nGlovFontStyle.prototype.glow_color = 0x00000000;\nGlovFontStyle.prototype.color = 0xFFFFFFff;\nGlovFontStyle.prototype.colorUR = 0;\nGlovFontStyle.prototype.colorLR = 0;\nGlovFontStyle.prototype.colorLL = 0;\nGlovFontStyle.prototype.color_mode = COLOR_MODE.SINGLE;\n\nexport const font_shaders = {};\n\nexport function intColorFromVec4Color(v) {\n  return ((v[0] * 255 | 0) << 24) |\n    ((v[1] * 255 | 0) << 16) |\n    ((v[2] * 255 | 0) << 8) |\n    ((v[3] * 255 | 0));\n}\n\nexport function vec4ColorFromIntColor(v, c) {\n  v[0] = ((c >> 24) & 0xFF) / 255;\n  v[1] = ((c >> 16) & 0xFF) / 255;\n  v[2] = ((c >> 8) & 0xFF) / 255;\n  v[3] = (c & 0xFF) / 255;\n}\n\nexport const glov_font_default_style = new GlovFontStyle();\n\nexport function style(font_style, fields) {\n  let ret = new GlovFontStyle();\n  let { color_vec4 } = ret;\n  if (font_style) {\n    for (let f in font_style) {\n      ret[f] = font_style[f];\n    }\n  }\n  for (let f in fields) {\n    ret[f] = fields[f];\n  }\n  ret.color_vec4 = color_vec4; // Restore\n  vec4ColorFromIntColor(ret.color_vec4, ret.color);\n  return ret;\n}\n\nexport function styleColored(font_style, color) {\n  return style(font_style, {\n    color\n  });\n}\n\nfunction colorAlpha(color, alpha) {\n  alpha = clamp(round((color & 0xFF) * alpha), 0, 255);\n  return color & 0xFFFFFF00 | alpha;\n}\n\nexport function styleAlpha(font_style, alpha) {\n  return style(font_style, {\n    color: colorAlpha((font_style || glov_font_default_style).color, alpha),\n    outline_color: colorAlpha((font_style || glov_font_default_style).outline_color, alpha),\n    glow_color: colorAlpha((font_style || glov_font_default_style).glow_color, alpha),\n  });\n}\n\nlet tech_params = null;\nlet tech_params_dirty = false;\nlet temp_color = null;\n\nfunction createTechniqueParameters() {\n  if (tech_params) {\n    return;\n  }\n\n  tech_params = {\n    param0: vec4(),\n    outlineColor: vec4(),\n    glowColor: vec4(),\n    glowParams: vec4(),\n    tex0: null\n  };\n  if (!temp_color) {\n    temp_color = vec4();\n  }\n}\n\nfunction techParamsSet(param, value) {\n  let tpv = tech_params[param];\n  // not dirty, if anything changes, we need a new object!\n  if (!tech_params_dirty) {\n    if (tpv[0] !== value[0] || tpv[1] !== value[1] || tpv[2] !== value[2] || tpv[3] !== value[3]) {\n      // clone\n      tech_params = {\n        param0: v4clone(tech_params.param0),\n        outlineColor: v4clone(tech_params.outlineColor),\n        glowColor: v4clone(tech_params.glowColor),\n        glowParams: v4clone(tech_params.glowParams),\n      };\n      tech_params_dirty = true;\n      tpv = tech_params[param];\n    } else {\n      // identical, do nothing\n      return;\n    }\n  }\n  if (tech_params_dirty) {\n    // just set\n    tpv[0] = value[0];\n    tpv[1] = value[1];\n    tpv[2] = value[2];\n    tpv[3] = value[3];\n    // return;\n  }\n}\n\nfunction techParamsGet() {\n  tech_params_dirty = false;\n  return tech_params;\n}\n\nfunction GlovFont(font_info, texture_name) {\n  assert(font_info.font_size !== 0); // Got lost somewhere\n\n  this.texture = textures.load({\n    url: `img/${texture_name}.png`,\n    filter_min: font_info.noFilter ? gl.NEAREST : gl.LINEAR,\n    filter_mag: font_info.noFilter ? gl.NEAREST : gl.LINEAR,\n    wrap_s: gl.CLAMP_TO_EDGE,\n    wrap_t: gl.CLAMP_TO_EDGE,\n  });\n  this.textures = [this.texture];\n\n  this.font_info = font_info;\n  this.shader = font_shaders.font_aa;\n  this.tex_w = font_info.imageW;\n  this.tex_h = font_info.imageH;\n\n  // Calculate inverse scale\n  for (let ii = 0; ii < font_info.char_infos.length; ++ii) {\n    let char_info = font_info.char_infos[ii];\n    char_info.scale = 1 / (char_info.sc || 1);\n  }\n\n  // build lookup\n  this.char_infos = [];\n  for (let ii = 0; ii < font_info.char_infos.length; ++ii) {\n    let char_info = font_info.char_infos[ii];\n    this.char_infos[font_info.char_infos[ii].c] = char_info;\n    char_info.xpad = char_info.xpad || 0;\n    char_info.yoffs = char_info.yoffs || 0;\n  }\n  this.replacement_character = this.infoFromChar(0xFFFD);\n  if (!this.replacement_character) {\n    this.replacement_character = this.infoFromChar(63); // '?'\n  }\n\n  this.default_style = new GlovFontStyle();\n  this.applied_style = new GlovFontStyle();\n\n  createTechniqueParameters();\n}\n\n// General draw functions return width\n// Pass NULL for style to use default style\n// If the function takes a color, this overrides the color on the style\nGlovFont.prototype.drawSizedColor = function (style, x, y, z, size, color, text) {\n  return this.drawSized(styleColored(style, color), x, y, z, size, text);\n};\nGlovFont.prototype.drawSized = function (style, x, y, z, size, text) {\n  return this.drawScaled(style, x, y, z, size / this.font_info.font_size, size / this.font_info.font_size, text);\n};\n\nGlovFont.prototype.drawSizedAligned = function (style, _x, _y, z, size, align, w, h, text) {\n  let x_size = size;\n  let y_size = size;\n  let width = this.getStringWidth(style, x_size, text);\n  if ((align & ALIGN.HFIT) && width > w) {\n    let scale = w / width;\n    x_size *= scale;\n    width = w;\n    // Additionally, if we're really squishing things horizontally, shrink the font size\n    // and offset to be centered.\n    if (scale < 0.5) {\n      if ((align & ALIGN.VMASK) !== ALIGN.VCENTER && (align & ALIGN.VMASK) !== ALIGN.VBOTTOM) {\n        // Offset to be roughly centered in the original line bounds\n        _y += (y_size - (y_size * scale * 2)) / 2;\n      }\n      y_size *= scale * 2;\n    }\n  }\n  let height = y_size;\n  let x;\n  let y;\n  switch (align & ALIGN.HMASK) {\n    case ALIGN.HCENTER:\n      x = _x + (w - width) / 2;\n      if (this.font_info.noFilter) {\n        x |= 0; // ensure integral\n      }\n      break;\n    case ALIGN.HRIGHT:\n      x = _x + w - width;\n      break;\n    case ALIGN.HLEFT:\n      x = _x;\n      break;\n    default:\n      x = _x;\n  }\n  switch (align & ALIGN.VMASK) {\n    case ALIGN.VCENTER:\n      y = _y + (h - height) / 2;\n      if (this.font_info.noFilter) {\n        y |= 0; // ensure integral\n      }\n      break;\n    case ALIGN.VBOTTOM:\n      y = _y + h - height;\n      break;\n    case ALIGN.VTOP:\n      y = _y;\n      break;\n    default:\n      y = _y;\n  }\n\n  return this.drawScaled(style, x, y, z, x_size / this.font_info.font_size, y_size / this.font_info.font_size, text);\n};\n\n// returns height\nGlovFont.prototype.drawSizedColorWrapped = function (style, x, y, z, w, indent, size, color, text) {\n  return this.drawScaledWrapped(styleColored(style, color), x, y, z, w,\n    indent, size / this.font_info.font_size, size / this.font_info.font_size, text);\n};\nGlovFont.prototype.drawSizedWrapped = function (style, x, y, z, w, indent, size, text) {\n  return this.drawScaledWrapped(style, x, y, z, w,\n    indent, size / this.font_info.font_size, size / this.font_info.font_size, text);\n};\n\nGlovFont.prototype.wrapLines = function (w, indent, size, text, word_cb /*(x, int linenum, const char *word)*/) {\n  return this.wrapLinesScaled(w, indent, size / this.font_info.font_size, text, word_cb);\n};\n\nGlovFont.prototype.numLines = function (style, w, indent, size, text) {\n  this.applyStyle(style);\n  let numlines = 0;\n  function wordCallback(ignored, linenum, word) {\n    numlines = max(numlines, linenum);\n  }\n  this.wrapLines(w, indent, size, text, wordCallback);\n  return numlines + 1;\n};\n\nGlovFont.prototype.infoFromChar = function (c) {\n  let ret = this.char_infos[c];\n  if (ret) {\n    return ret;\n  }\n  if (c > 127) {\n    // no char info, and non-ascii, non-control code\n    return this.replacement_character;\n  }\n  return null;\n};\n\nGlovFont.prototype.getCharacterWidth = function (style, x_size, c) {\n  assert.equal(typeof c, 'number');\n  this.applyStyle(style);\n  let char_info = this.infoFromChar(c);\n  let xsc = x_size / this.font_info.font_size;\n  let x_advance = this.calcXAdvance(xsc);\n  if (char_info) {\n    return (char_info.w + char_info.xpad) * xsc * char_info.scale + x_advance;\n  }\n  return 0;\n};\n\nGlovFont.prototype.getStringWidth = function (style, x_size, text) {\n  this.applyStyle(style);\n  let ret=0;\n  let xsc = x_size / this.font_info.font_size;\n  let x_advance = this.calcXAdvance(xsc);\n  for (let ii = 0; ii < text.length; ++ii) {\n    let c = text.charCodeAt(ii);\n    let char_info = this.infoFromChar(c);\n    if (!char_info) {\n      char_info = this.infoFromChar(13);\n    }\n    if (char_info) {\n      ret += (char_info.w + char_info.xpad) * xsc * char_info.scale + x_advance;\n    }\n  }\n  return ret;\n};\n\n// word_cb(x, int linenum, const char *word)\nGlovFont.prototype.wrapLinesScaled = function (w, indent, xsc, text, word_cb) {\n  let len = text.length;\n  let s = 0;\n  let word_start = 0;\n  let word_x0 = 0;\n  let x = word_x0;\n  let linenum = 0;\n  let space_info = this.infoFromChar(32); // ' '\n  let space_size = (space_info ? space_info.w + space_info.xpad : this.font_info.font_size) * xsc;\n  let hard_wrap = false;\n  let x_advance = this.calcXAdvance(xsc);\n\n  do {\n    let c = s < len ? text.charCodeAt(s) : 0;\n    let newx = x;\n    let char_w;\n    if (c === 9) { // '\\t') {\n      let tabsize = xsc * this.font_info.font_size * 4;\n      newx = (floor(x / tabsize) + 1) * tabsize;\n      char_w = tabsize;\n    } else {\n      let char_info = this.infoFromChar(c);\n      if (!char_info) {\n        char_info = this.infoFromChar(10);\n      }\n      if (char_info) {\n        char_w = (char_info.w + char_info.xpad) * xsc * char_info.scale + x_advance;\n        newx = x + char_w;\n      }\n    }\n    if (newx >= w && hard_wrap) {\n      // flush the word so far!\n      if (word_cb) {\n        word_cb(word_x0, linenum, text.slice(word_start, s));\n      }\n      word_start = s;\n      word_x0 = indent;\n      x = word_x0 + char_w;\n      linenum++;\n    } else {\n      x = newx;\n    }\n    if (!(c === 32 /*' '*/ || c === 0 || c === 10 /*'\\n'*/)) {\n      s++;\n      c = s < len ? text.charCodeAt(s) : 0;\n    }\n    if (c === 32 /*' '*/ || c === 0 || c === 10 /*'\\n'*/) {\n      hard_wrap = false;\n      // draw word until s\n      if (x > w) {\n        // maybe wrap\n        let word_width = x - word_x0;\n        if (word_width > w - indent) {\n          // not going to fit, split it up!\n          hard_wrap = true;\n          // recover and restart at word start\n          s = word_start;\n          x = word_x0;\n          continue;\n        } else {\n          word_x0 = indent;\n          x = word_x0 + word_width;\n          linenum++;\n        }\n      }\n      if (word_cb) {\n        word_cb(word_x0, linenum, text.slice(word_start, s));\n      }\n      word_start = s+1;\n      if (c === 10 /*'\\n'*/) {\n        x = indent;\n        linenum++;\n      } else {\n        x += space_size;\n      }\n      word_x0 = x;\n      if (c === 32 /*' '*/ || c === 10 /*'\\n'*/) {\n        s++; // advance past space\n      }\n    }\n  } while (s < len);\n  ++linenum;\n  return linenum;\n};\n\nGlovFont.prototype.drawScaledWrapped = function (style, x, y, z, w, indent, xsc, ysc, text) {\n  if (text === null || text === undefined) {\n    text = '(null)';\n  }\n  this.applyStyle(style);\n  this.last_width = 0;\n  let num_lines = this.wrapLinesScaled(w, indent, xsc, text, (xoffs, linenum, word) => {\n    let y2 = y + this.font_info.font_size * ysc * linenum;\n    let x2 = x + xoffs;\n    let word_w = this.drawScaled(style, x2, y2, z, xsc, ysc, word);\n    this.last_width = max(this.last_width, xoffs + word_w);\n  });\n  return num_lines * this.font_info.font_size * ysc;\n};\n\nGlovFont.prototype.calcXAdvance = function (xsc) {\n  // Assume called: applyStyle(style);\n\n  // scale all supplied values by this so that if we swap in a font with twice the resolution (and twice the spread)\n  //   things look almost identical, just crisper\n  let font_texel_scale = this.font_info.font_size / 32;\n  // As a compromise, -2 bias here seems to work well\n  let x_advance = xsc * font_texel_scale * max(this.applied_style.outline_width - 2, 0);\n  // As a compromise, there's a -3 bias in there, so it only kicks in under extreme circumstances\n  x_advance = max(x_advance, xsc * font_texel_scale *\n    max(this.applied_style.glow_outer - this.applied_style.glow_xoffs - 3, 0));\n  return x_advance;\n};\n\n//////////////////////////////////////////////////////////////////////////\n// Main implementation\n\nGlovFont.prototype.drawScaled = function (style, _x, y, z, xsc, ysc, text) {\n  let x = _x;\n  assert(isFinite(x));\n  assert(isFinite(y));\n  assert(isFinite(z));\n  let font_info = this.font_info;\n  // Debug: show expect area of glyphs\n  // require('./ui.js').drawRect(_x, y,\n  //   _x + xsc * font_info.font_size * 20, y + ysc * font_info.font_size,\n  //   1000, [1, 0, 1, 0.5]);\n  y += (font_info.y_offset || 0) * ysc;\n  let texs = this.textures;\n  if (text === null || text === undefined) {\n    text = '(null)';\n  }\n  const len = text.length;\n  if (xsc === 0 || ysc === 0) {\n    return 0;\n  }\n\n  this.applyStyle(style);\n\n  const avg_scale_font = (xsc + ysc) * 0.5;\n  const camera_xscale = camera2d.data[4];\n  const camera_yscale = camera2d.data[5];\n  let avg_scale_combined = (xsc * camera_xscale + ysc * camera_yscale) * 0.5;\n  // avg_scale_combined *= glov_settings.render_scale;\n\n  // scale all supplied values by this so that if we swap in a font with twice the resolution (and twice the spread)\n  //   things look almost identical, just crisper\n  let x_advance = this.calcXAdvance(xsc);\n  let font_texel_scale = font_info.font_size / 32;\n  let tile_state = 0;\n\n  let applied_style = this.applied_style;\n\n  // Calculate anti-aliasing values\n  let delta_per_source_pixel = 0.5 / font_info.spread;\n  let delta_per_dest_pixel = delta_per_source_pixel / avg_scale_combined;\n  let value = vec4(\n    1 / delta_per_dest_pixel, // AA Mult and Outline Mult\n    -0.5 / delta_per_dest_pixel + 0.5, // AA Add\n    // Outline Add\n    -0.5 / delta_per_dest_pixel + 0.5 + applied_style.outline_width*font_texel_scale*avg_scale_combined,\n    0, // Unused\n  );\n  if (value[2] > 0) {\n    value[2] = 0;\n  }\n  let padding1 = max(0, applied_style.outline_width*font_texel_scale*avg_scale_font);\n  let padding4 = vec4();\n  const outer_scaled = applied_style.glow_outer*font_texel_scale;\n  padding4[0] = max(outer_scaled*xsc - applied_style.glow_xoffs*font_texel_scale*xsc, padding1);\n  padding4[2] = max(outer_scaled*xsc + applied_style.glow_xoffs*font_texel_scale*xsc, padding1);\n  padding4[1] = max(outer_scaled*ysc - applied_style.glow_yoffs*font_texel_scale*ysc, padding1);\n  padding4[3] = max(outer_scaled*ysc + applied_style.glow_yoffs*font_texel_scale*ysc, padding1);\n\n  techParamsSet('param0', value);\n  let value2 = vec4(\n    0, // filled later\n    0, // filled later\n    // Glow mult\n    1 / ((applied_style.glow_outer - applied_style.glow_inner) * delta_per_source_pixel * font_texel_scale),\n    -(0.5 - applied_style.glow_outer * delta_per_source_pixel * font_texel_scale) / ((applied_style.glow_outer -\n      applied_style.glow_inner) * delta_per_source_pixel * font_texel_scale)\n  );\n  if (value2[3] > 0) {\n    value2[3] = 0;\n  }\n\n  let padding_in_font_space = vec4();\n  v4scale(padding_in_font_space, padding4, 1 / avg_scale_font);\n  for (let ii = 0; ii < 4; ++ii) {\n    if (padding_in_font_space[ii] > font_info.spread) {\n      // Not enough buffer\n      let sc = font_info.spread / padding_in_font_space[ii];\n      padding4[ii] *= sc;\n      padding_in_font_space[ii] *= sc;\n    }\n  }\n\n  // Choose appropriate z advance so that character are drawn left to right (or RTL if the glow is on the other side)\n  const z_advance = applied_style.glow_xoffs < 0 ? -0.0001 : 0.0001;\n\n\n  // For non-1:1 aspect ration rendering, need to scale our coordinates' padding differently in each axis\n  let rel_x_scale = xsc / avg_scale_font;\n  let rel_y_scale = ysc / avg_scale_font;\n\n  for (let i=0; i<len; i++) {\n    const c = text.charCodeAt(i);\n    if (c === 9) { // '\\t'.charCodeAt(0)) {\n      let tabsize = xsc * font_info.font_size * 4;\n      x = ((((x - _x) / tabsize) | 0) + 1) * tabsize + _x;\n    } else {\n      let char_info = this.infoFromChar(c);\n      if (!char_info) {\n        char_info = this.infoFromChar(13);\n      }\n      if (char_info) {\n        let char_scale = char_info.scale;\n        let xsc2 = xsc * char_scale;\n        if (char_info.w) {\n          let ysc2 = ysc * char_scale;\n          let pad_scale = 1 / char_scale;\n          let tile_width = this.tex_w;\n          let tile_height = this.tex_h;\n          // Lazy update params here\n          if (char_scale !== tile_state) {\n            value2[0] = -applied_style.glow_xoffs * font_texel_scale * pad_scale / tile_width;\n            value2[1] = -applied_style.glow_yoffs * font_texel_scale * pad_scale / tile_height;\n            techParamsSet('glowParams', value2);\n          }\n\n          let u0 = (char_info.x0 - padding_in_font_space[0] * pad_scale) / tile_width;\n          let u1 = (char_info.x0 + char_info.w + padding_in_font_space[2] * pad_scale) / tile_width;\n          let v0 = (char_info.y0 - padding_in_font_space[1] * pad_scale) / tile_height;\n          let v1 = (char_info.y0 + char_info.h + padding_in_font_space[3] * pad_scale) / tile_height;\n\n          let w = char_info.w * xsc2 + (padding4[0] + padding4[2]) * rel_x_scale;\n          let h = char_info.h * ysc2 + (padding4[1] + padding4[3]) * rel_y_scale;\n\n          sprites.queueraw(\n            texs,\n            x - rel_x_scale * padding4[0], y - rel_y_scale * padding4[2] + char_info.yoffs * ysc2,\n            z + z_advance * i, w, h,\n            u0, v0, u1, v1,\n            applied_style.color_vec4,\n            this.shader, techParamsGet());\n\n          // require('./ui.js').drawRect(x - rel_x_scale * padding4[0],\n          //   y - rel_y_scale * padding4[2] + char_info.yoffs * ysc2,\n          //   w + x - rel_x_scale * padding4[0],\n          //   h + y - rel_y_scale * padding4[2] + char_info.yoffs * ysc2,\n          //   1000, [i & 1, (i & 2)>>1, (i & 4)>>2, 0.5]);\n        }\n\n        x += (char_info.w + char_info.xpad) * xsc2 + x_advance;\n      }\n    }\n  }\n  return x - _x;\n};\n\nGlovFont.prototype.determineShader = function () {\n  let outline = this.applied_style.outline_width && (this.applied_style.outline_color & 0xff);\n  let glow = this.applied_style.glow_outer > 0 && (this.applied_style.glow_color & 0xff);\n  if (outline) {\n    if (glow) {\n      this.shader = font_shaders.font_aa_outline_glow;\n    } else {\n      this.shader = font_shaders.font_aa_outline;\n    }\n  } else if (glow) {\n    this.shader = font_shaders.font_aa_glow;\n  } else {\n    this.shader = font_shaders.font_aa;\n  }\n};\n\nGlovFont.prototype.applyStyle = function (style) {\n  if (!style) {\n    style = this.default_style;\n  }\n  // outline\n  vec4ColorFromIntColor(temp_color, style.outline_color);\n  techParamsSet('outlineColor', temp_color);\n\n  // glow\n  vec4ColorFromIntColor(temp_color, style.glow_color);\n  techParamsSet('glowColor', temp_color);\n\n  // everything else\n  this.applied_style.outline_width = style.outline_width;\n  this.applied_style.outline_color = style.outline_color;\n  this.applied_style.glow_xoffs = style.glow_xoffs;\n  this.applied_style.glow_yoffs = style.glow_yoffs;\n  this.applied_style.glow_inner = style.glow_inner;\n  this.applied_style.glow_outer = style.glow_outer;\n  this.applied_style.glow_color = style.glow_color;\n  this.applied_style.color = style.color;\n  this.applied_style.color_vec4 = style.color_vec4;\n  this.applied_style.colorUR = style.colorUR;\n  this.applied_style.colorLR = style.colorLR;\n  this.applied_style.colorLL = style.colorLL;\n  this.applied_style.color_mode = style.color_mode;\n\n  if (this.applied_style.color_mode === COLOR_MODE.SINGLE) {\n    this.applied_style.colorUR = this.applied_style.colorLL = this.applied_style.colorLR = this.applied_style.color;\n  }\n\n  this.determineShader();\n};\n\n// Replicate constants and utility functions on all font instances as well\nGlovFont.prototype.COLOR_MODE = COLOR_MODE;\nGlovFont.prototype.ALIGN = ALIGN;\nGlovFont.prototype.style = style;\nGlovFont.prototype.styleAlpha = styleAlpha;\nGlovFont.prototype.styleColored = styleColored;\n\nfunction fontShadersInit() {\n  if (font_shaders.font_aa) {\n    return;\n  }\n  font_shaders.font_aa = shaders.create('glov/shaders/font_aa.fp');\n  font_shaders.font_aa_glow = shaders.create('glov/shaders/font_aa_glow.fp');\n  font_shaders.font_aa_outline = shaders.create('glov/shaders/font_aa_outline.fp');\n  font_shaders.font_aa_outline_glow = shaders.create('glov/shaders/font_aa_outline_glow.fp');\n}\n\nexport function create(font_info, texture_name) {\n  fontShadersInit();\n  return new GlovFont(font_info, texture_name);\n}\n","// Portions Copyright 2019 Jimb Esser (https://github.com/Jimbly/)\n// Released under MIT License: https://opensource.org/licenses/MIT\n/* eslint no-bitwise:off */\n\nconst assert = require('assert');\nconst engine = require('./engine.js');\nconst { ceil, max, min } = Math;\n\nexport const TRIANGLES = 4;\nexport const TRIANGLE_FAN = 6;\nexport const QUADS = 7;\n\nconst gl_byte_size = {\n  0x1400: 1, // GL_BYTE\n  0x1401: 1, // GL_UNSIGNED_BYTE\n  0x1402: 2, // GL_SHORT\n  0x1403: 2, // GL_UNSIGNED_SHORT\n  0x1406: 4, // GL_FLOAT\n};\n\n// let unit_buf;\n// let unit_buf_len = 0;\n\nlet bound_geom;\n\nlet bound_array_buf = null;\nlet bound_index_buf = null;\n\nlet quad_index_buf;\nlet quad_index_buf_len = 0;\n\nfunction deleteBuffer(handle) {\n  if (!handle) {\n    return;\n  }\n  if (bound_array_buf === handle) {\n    gl.bindBuffer(gl.ARRAY_BUFFER, null);\n    bound_array_buf = null;\n  }\n  if (bound_index_buf === handle) {\n    gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, null);\n    bound_index_buf = null;\n  }\n  gl.deleteBuffer(handle);\n}\n\nlet attrib_enabled = 0;\nfunction enableVertexAttribArray(bits) {\n  if (bits === attrib_enabled) {\n    return;\n  }\n  let disable_mask = (attrib_enabled & (~bits));\n  let enable_mask = ((~attrib_enabled) & bits);\n  attrib_enabled = bits;\n\n  if (disable_mask) {\n    let n = 0;\n    do {\n      if (disable_mask & 1) {\n        gl.disableVertexAttribArray(n);\n      }\n      n++;\n      disable_mask >>= 1;\n    } while (disable_mask);\n  }\n\n  if (enable_mask) {\n    let n = 0;\n    do {\n      if (enable_mask & 1) {\n        gl.enableVertexAttribArray(n);\n      }\n      n++;\n      enable_mask >>= 1;\n    } while (enable_mask);\n  }\n}\n\n// function bindUnitBuf(arr_idx, len) {\n//   if (len > unit_buf_len) {\n//     deleteBuffer(unit_buf);\n//     unit_buf = gl.createBuffer();\n//     unit_buf_len = max(ceil(unit_buf_len * 1.5), len);\n//     gl.bindBuffer(gl.ARRAY_BUFFER, unit_buf);\n//     bound_array_buf = unit_buf;\n//     let arr = new Uint8Array(unit_buf_len * 4);\n//     for (let ii = 0; ii < unit_buf_len * 4; ++ii) {\n//       arr[ii] = 255;\n//     }\n//     gl.bufferData(gl.ARRAY_BUFFER, arr, gl.STATIC_DRAW);\n//   } else {\n//     if (bound_array_buf !== unit_buf) {\n//       gl.bindBuffer(gl.ARRAY_BUFFER, unit_buf);\n//       bound_array_buf = unit_buf;\n//     }\n//   }\n//   gl.vertexAttribPointer(arr_idx, 4, gl.UNSIGNED_BYTE, true, 0, 0);\n// }\n\n// Verts should be ordered counter-clockwise from the upper left\nfunction getQuadIndexBuf(quad_count) {\n  assert(quad_count <= 16384);\n  // If not, need to split into multiple vertex and index buffers (fairly easy),\n  //   or use the OES_element_index_uint extension (trivial, but probably slower, maybe not supported on mobile?)\n  if (quad_count * 6 > quad_index_buf_len) {\n    if (!quad_index_buf) {\n      quad_index_buf = gl.createBuffer();\n    } else {\n      // freeing old one\n      engine.perf_state.gpu_mem.geom -= quad_index_buf_len * 2;\n    }\n    quad_index_buf_len = max(ceil(quad_index_buf_len * 1.5), quad_count * 6);\n    if (bound_index_buf !== quad_index_buf) {\n      gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, quad_index_buf);\n      bound_index_buf = quad_index_buf;\n    }\n    let arr = new Uint16Array(quad_index_buf_len);\n    let vidx = 0;\n    for (let ii = 0; ii < quad_index_buf_len;) {\n      arr[ii++] = vidx + 1;\n      arr[ii++] = vidx + 3;\n      arr[ii++] = vidx++; // 0\n      arr[ii++] = vidx++; // 1\n      arr[ii++] = vidx++; // 2\n      arr[ii++] = vidx++; // 3\n    }\n    gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, arr, gl.STATIC_DRAW);\n    engine.perf_state.gpu_mem.geom += quad_index_buf_len * 2;\n  }\n  return quad_index_buf;\n}\n\nexport function createIndices(idxs) {\n  let ret = {\n    ibo: gl.createBuffer(),\n    ibo_size: idxs.length,\n  };\n  gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, ret.ibo);\n  bound_index_buf = ret.ibo;\n  gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, idxs, gl.STATIC_DRAW);\n  engine.perf_state.gpu_mem.geom += idxs.length * 2;\n  return ret;\n}\n\nfunction formatInfo(format) {\n  if (!format.info) {\n    let stride = 0;\n    let elem_count = 0;\n    let used_attribs = 0;\n    let common_byte_size = 0;\n    for (let ii = 0; ii < format.length; ++ii) {\n      let fmt = format[ii];\n      let sem = fmt[0];\n      let gltype = fmt[1];\n      let count = fmt[2];\n      used_attribs |= (1 << sem);\n      let byte_size = gl_byte_size[gltype];\n      assert(byte_size);\n      assert(!common_byte_size || byte_size === common_byte_size);\n      common_byte_size = byte_size;\n      fmt[3] = fmt[3] || false;\n      fmt[4] = byte_size;\n      stride += count * byte_size;\n      elem_count += count;\n    }\n    format.info = {\n      stride, elem_count, used_attribs, common_byte_size\n    };\n  }\n  return format.info;\n}\n\n// format is [shaders.semantic.foo, gl.FLOAT/UNSIGNED_BYTE/etc, count, normalized]\nfunction Geom(format, verts, idxs, mode) {\n  this.mode = mode || TRIANGLES;\n  this.format = format;\n  let info = this.format_info = formatInfo(format);\n  this.stride = info.stride;\n  this.used_attribs = info.used_attribs;\n\n  this.vert_count = verts.length / this.format_info.elem_count;\n  this.vert_gpu_mem = verts.length * this.format_info.common_byte_size;\n  if (verts.length) {\n    this.vbo = gl.createBuffer();\n    gl.bindBuffer(gl.ARRAY_BUFFER, this.vbo);\n    bound_array_buf = this.vbo;\n    gl.bufferData(gl.ARRAY_BUFFER, verts, gl.STATIC_DRAW);\n    engine.perf_state.gpu_mem.geom += this.vert_gpu_mem;\n  }\n  this.orig_mode = mode;\n  if (idxs) {\n    if (idxs.ibo) {\n      this.ibo = idxs.ibo;\n      this.ibo_owned = false;\n      this.ibo_size = idxs.ibo_size;\n    } else {\n      this.ibo = gl.createBuffer();\n      this.ibo_owned = true;\n      this.ibo_size = idxs.length;\n      gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, this.ibo);\n      bound_index_buf = this.ibo;\n      gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, idxs, gl.STATIC_DRAW);\n      engine.perf_state.gpu_mem.geom += idxs.length * 2;\n    }\n  } else if (mode === QUADS) {\n    assert.equal(this.vert_count % 4, 0);\n    let quad_count = this.vert_count / 4;\n    // PERFTODO: Use GL_QUADS_OES extension\n    this.ibo = getQuadIndexBuf(quad_count);\n    this.ibo_owned = false;\n    this.ibo_size = quad_count * 6;\n    this.mode = TRIANGLES;\n  } else if (mode === TRIANGLE_FAN) {\n    this.mode = TRIANGLE_FAN;\n  } else {\n    this.ibo = null;\n    this.ibo_owned = false;\n  }\n}\n\nGeom.prototype.updateSub = function (offset, verts) {\n  if (bound_array_buf !== this.vbo) {\n    gl.bindBuffer(gl.ARRAY_BUFFER, this.vbo);\n    bound_array_buf = this.vbo;\n  }\n  gl.bufferSubData(gl.ARRAY_BUFFER, offset, verts);\n};\n\nGeom.prototype.update = function (verts, num_verts) {\n  assert.equal(this.ibo_owned, false);\n  if (num_verts > this.vert_count) {\n    if (bound_geom === this) {\n      bound_geom = null;\n    }\n    engine.perf_state.gpu_mem.geom -= this.vert_gpu_mem;\n    deleteBuffer(this.vbo);\n    // Note: matching size, ignoring num_verts\n    this.vert_count = verts.length / this.format_info.elem_count;\n    this.vert_gpu_mem = verts.length * this.format_info.common_byte_size;\n    this.vbo = gl.createBuffer();\n    gl.bindBuffer(gl.ARRAY_BUFFER, this.vbo);\n    bound_array_buf = this.vbo;\n    gl.bufferData(gl.ARRAY_BUFFER, verts, gl.DYNAMIC_DRAW);\n    engine.perf_state.gpu_mem.geom += this.vert_gpu_mem;\n  } else {\n    // Fits\n    if (bound_array_buf !== this.vbo) {\n      gl.bindBuffer(gl.ARRAY_BUFFER, this.vbo);\n      bound_array_buf = this.vbo;\n    }\n    gl.bufferSubData(gl.ARRAY_BUFFER, 0, verts.subarray(0, num_verts * this.format_info.elem_count));\n    // gl.bufferData(gl.ARRAY_BUFFER, verts, gl.DYNAMIC_DRAW);\n  }\n  if (this.orig_mode === QUADS) {\n    let quad_count = num_verts / 4;\n    this.ibo = getQuadIndexBuf(quad_count);\n    this.ibo_size = quad_count * 6;\n  }\n};\n\nGeom.prototype.dispose = function () {\n  if (this.ibo_owned) {\n    deleteBuffer(this.ibo);\n  }\n  this.ibo = null;\n  deleteBuffer(this.vbo);\n  this.vbo = null;\n  engine.perf_state.gpu_mem.geom -= this.vert_gpu_mem;\n  this.vert_gpu_mem = 0;\n};\n\n\nlet bound_attribs = (function () {\n  let r = [];\n  for (let ii = 0; ii < 16; ++ii) {\n    r.push({\n      vbo: null,\n      offset: 0,\n    });\n  }\n  return r;\n}());\nGeom.prototype.bind = function () {\n  if (bound_geom !== this) {\n    bound_geom = this;\n    let vbo = this.vbo;\n\n    let offset = 0;\n    for (let ii = 0; ii < this.format.length; ++ii) {\n      let fmt = this.format[ii];\n      let count = fmt[2];\n      let byte_size = fmt[4];\n      if (bound_attribs[ii].vbo === vbo) { //  && bound_attribs[ii].offset = offset\n        // already bound\n      } else {\n        if (bound_array_buf !== vbo) {\n          gl.bindBuffer(gl.ARRAY_BUFFER, vbo);\n          bound_array_buf = vbo;\n        }\n        let sem = fmt[0];\n        let gltype = fmt[1];\n        let normalized = fmt[3];\n        gl.vertexAttribPointer(sem, count, gltype, normalized, this.stride, offset);\n        bound_attribs[ii].vbo = bound_array_buf;\n        // bound_attribs[ii].offset = offset;\n      }\n      offset += count * byte_size;\n    }\n    // if (!used[1]) { // COLOR\n    //   used_attribs |= 1 << shader.semantics.COLOR;\n    //   bindUnitBuf(1, this.vert_count);\n    // }\n    enableVertexAttribArray(this.used_attribs);\n  }\n\n  if (this.ibo && bound_index_buf !== this.ibo) {\n    gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, this.ibo);\n    bound_index_buf = this.ibo;\n  }\n};\nGeom.prototype.draw = function () {\n  this.bind();\n  if (this.ibo) {\n    gl.drawElements(this.mode, this.ibo_size, gl.UNSIGNED_SHORT, 0);\n  } else {\n    gl.drawArrays(this.mode, 0, this.vert_count);\n  }\n};\n\nfunction GeomMultiQuads(format, verts) {\n  let format_info = formatInfo(format);\n  let ec = format_info.elem_count;\n  let vert_count = verts.length / ec;\n  this.geoms = [];\n  for (let idx = 0; idx < vert_count; idx += 65536) {\n    let num_sub_verts = min(vert_count - idx, 65536);\n    let sub_data = new Uint8Array(verts.buffer, idx * ec, num_sub_verts * ec);\n    this.geoms.push(new Geom(format, sub_data, null, QUADS));\n  }\n}\nGeomMultiQuads.prototype.draw = function () {\n  for (let ii = 0; ii < this.geoms.length; ++ii) {\n    this.geoms[ii].draw();\n  }\n};\nGeomMultiQuads.prototype.dispose = function () {\n  for (let ii = 0; ii < this.geoms.length; ++ii) {\n    this.geoms[ii].dispose();\n  }\n  this.geoms = null;\n};\n\nexport function create(format, verts, idxs, mode) {\n  return new Geom(format, verts, idxs, mode);\n}\n\nexport function createQuads(format, verts) {\n  let format_info = formatInfo(format);\n  assert(verts instanceof Uint8Array); // only one handled by GeomMultiQuads for now\n  let vert_count = verts.length / format_info.elem_count;\n  if (vert_count > 65536) {\n    return new GeomMultiQuads(format, verts);\n  }\n  return new Geom(format, verts, null, QUADS);\n}\n\nexport function startup() {\n  // Nothing for now.\n}\n","/* eslint no-bitwise:off */\n// From https://stackoverflow.com/questions/8936984/uint8array-to-string-in-javascript\n\nlet charCache = new Array(128);  // Preallocate the cache for the common single byte chars\nlet charFromCodePt = String.fromCodePoint || String.fromCharCode;\nlet result = [];\nexport function decode(array) {\n  let codePt;\n  let byte1;\n  let buffLen = array.length;\n\n  result.length = 0;\n\n  for (let i = 0; i < buffLen;) {\n    byte1 = array[i++];\n\n    if (byte1 <= 0x7F) {\n      codePt = byte1;\n    } else if (byte1 <= 0xDF) {\n      codePt = ((byte1 & 0x1F) << 6) | (array[i++] & 0x3F);\n    } else if (byte1 <= 0xEF) {\n      codePt = ((byte1 & 0x0F) << 12) | ((array[i++] & 0x3F) << 6) | (array[i++] & 0x3F);\n    } else if (String.fromCodePoint) {\n      codePt = ((byte1 & 0x07) << 18) | ((array[i++] & 0x3F) << 12) | ((array[i++] & 0x3F) << 6) | (array[i++] & 0x3F);\n    } else {\n      codePt = 63;    // Cannot convert four byte code points, so use \"?\" instead\n      i += 3;\n    }\n\n    result.push(charCache[codePt] || (charCache[codePt] = charFromCodePt(codePt)));\n  }\n\n  return result.join('');\n}\n","// Derived from (MIT Licensed) https://github.com/uber-web/loaders.gl/tree/master/modules/gltf\n\nconst TYPES = ['SCALAR', 'VEC2', 'VEC3', 'VEC4'];\n\nexport function getAccessorTypeFromSize(size) {\n  const type = TYPES[size - 1];\n  return type || TYPES[0];\n}\n\n// glTF ACCESSOR CONSTANTS\n\nexport const ATTRIBUTE_TYPE_TO_COMPONENTS = {\n  SCALAR: 1,\n  VEC2: 2,\n  VEC3: 3,\n  VEC4: 4,\n  MAT2: 4,\n  MAT3: 9,\n  MAT4: 16\n};\n\nexport const ATTRIBUTE_COMPONENT_TYPE_TO_BYTE_SIZE = {\n  5120: 1,\n  5121: 1,\n  5122: 2,\n  5123: 2,\n  5125: 4,\n  5126: 4\n};\n\nexport const ATTRIBUTE_COMPONENT_TYPE_TO_ARRAY = {\n  5120: Int8Array,\n  5121: Uint8Array,\n  5122: Int16Array,\n  5123: Uint16Array,\n  5125: Uint32Array,\n  5126: Float32Array\n};\n","// Derived from (MIT Licensed) https://github.com/uber-web/loaders.gl/tree/master/modules/gltf\n/* eslint-env browser */\n\nconst assert = require('assert');\n\n/* eslint-disable camelcase, max-statements */\nconst { unpackGLBBuffers } = require('./unpack-glb-buffers.js');\nconst { unpackBinaryJson } = require('./unpack-binary-json.js');\n\nfunction padTo4Bytes(byteLength) {\n  return (byteLength + 3) & ~3; //eslint-disable-line no-bitwise\n}\n\nconst decode_utf8 = require('./decode-utf8.js');\n\nconst {\n  ATTRIBUTE_TYPE_TO_COMPONENTS,\n  ATTRIBUTE_COMPONENT_TYPE_TO_BYTE_SIZE,\n  ATTRIBUTE_COMPONENT_TYPE_TO_ARRAY\n} = require('./gltf-type-utils.js');\n\nconst MAGIC_glTF = 0x676c5446; // glTF in Big-Endian ASCII\n\nconst GLB_FILE_HEADER_SIZE = 12;\nconst GLB_CHUNK_HEADER_SIZE = 8;\n\nconst GLB_CHUNK_TYPE_JSON = 0x4e4f534a;\nconst GLB_CHUNK_TYPE_BIN = 0x004e4942;\n\nconst LE = true; // Binary GLTF is little endian.\nconst BE = false; // Magic needs to be written as BE\n\n// https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#glb-file-format-specification\nfunction GLBParser() {\n  // Result\n  this.binaryByteOffset = null;\n  this.packedJson = null;\n  this.json = null;\n}\n\nfunction parseBinary(self) {\n  // GLB Header\n  const dataView = new DataView(self.glbArrayBuffer);\n  const magic1 = dataView.getUint32(0, BE); // Magic number (the ASCII string 'glTF').\n  const version = dataView.getUint32(4, LE); // Version 2 of binary glTF container format\n  const fileLength = dataView.getUint32(8, LE); // Total byte length of generated file\n\n  let valid = magic1 === MAGIC_glTF;\n  if (!valid) {\n    console.warn('Invalid GLB magic string');\n  }\n\n  assert(version === 2, `Invalid GLB version ${version}. Only .glb v2 supported`);\n  assert(fileLength > 20);\n\n  // Write the JSON chunk\n  const jsonChunkLength = dataView.getUint32(12, LE); // Byte length of json chunk\n  const jsonChunkFormat = dataView.getUint32(16, LE); // Chunk format as uint32\n\n  valid = jsonChunkFormat === GLB_CHUNK_TYPE_JSON || jsonChunkFormat === 0; // Back compat\n  assert(valid, `JSON chunk format ${jsonChunkFormat}`);\n\n  // Create a \"view\" of the binary encoded JSON data\n  const jsonChunkOffset = GLB_FILE_HEADER_SIZE + GLB_CHUNK_HEADER_SIZE; // First headers: 20 bytes\n  const jsonChunk = new Uint8Array(self.glbArrayBuffer, jsonChunkOffset, jsonChunkLength);\n\n  // Decode the JSON binary array into clear text\n  const jsonText = decode_utf8.decode(jsonChunk);\n\n  // Parse the JSON text into a JavaScript data structure\n  self.json = JSON.parse(jsonText);\n\n  // TODO - BIN chunk can be optional\n  const binaryChunkStart = jsonChunkOffset + padTo4Bytes(jsonChunkLength);\n  self.binaryByteOffset = binaryChunkStart + GLB_CHUNK_HEADER_SIZE;\n\n  const binChunkFormat = dataView.getUint32(binaryChunkStart + 4, LE); // Chunk format as uint32\n  valid = binChunkFormat === GLB_CHUNK_TYPE_BIN || binChunkFormat === 1; // Back compat\n  assert(valid, `BIN chunk format ${binChunkFormat}`);\n\n  return {\n    arrayBuffer: self.glbArrayBuffer,\n    binaryByteOffset: self.binaryByteOffset,\n    json: self.json\n  };\n}\n\nfunction parseInternal(self) {\n  const result = parseBinary(self);\n  self.packedJson = result.json;\n  self.unpackedBuffers = unpackGLBBuffers(self.glbArrayBuffer, self.json, self.binaryByteOffset);\n  self.json = unpackBinaryJson(self.json, self.unpackedBuffers);\n}\n\nGLBParser.prototype.parseSync = function (arrayBuffer) {\n  // Input\n  this.glbArrayBuffer = arrayBuffer;\n\n  // Only parse once\n  if (this.json === null && this.binaryByteOffset === null) {\n    parseInternal(this);\n  }\n  return this;\n};\n\n// Return the gltf JSON and the original arrayBuffer\nGLBParser.prototype.parse = function (arrayBuffer) {\n  return this.parseSync(arrayBuffer);\n};\n\n// Returns application JSON data stored in `key`\nGLBParser.prototype.getApplicationData = function (key) {\n  return this.json[key];\n};\n\n// Returns JSON envelope\nGLBParser.prototype.getJSON = function () {\n  return this.json;\n};\n\n// Return binary chunk\nGLBParser.prototype.getArrayBuffer = function () {\n  return this.glbArrayBuffer;\n};\n\n// Return index into binary chunk\nGLBParser.prototype.getBinaryByteOffset = function () {\n  return this.binaryByteOffset;\n};\n\n// Unpacks a bufferview into a new Uint8Array that is a view into the binary chunk\nGLBParser.prototype.getBufferView = function (glTFBufferView) {\n  const byteOffset = (glTFBufferView.byteOffset || 0) + this.binaryByteOffset;\n  return new Uint8Array(this.glbArrayBuffer, byteOffset, glTFBufferView.byteLength);\n};\n\n// Unpacks a glTF accessor into a new typed array that is a view into the binary chunk\nGLBParser.prototype.getBuffer = function (glTFAccessor) {\n  // Decode the glTF accessor format\n  const ArrayType = ATTRIBUTE_COMPONENT_TYPE_TO_ARRAY[glTFAccessor.componentType];\n  const components = ATTRIBUTE_TYPE_TO_COMPONENTS[glTFAccessor.type];\n  const bytesPerComponent = ATTRIBUTE_COMPONENT_TYPE_TO_BYTE_SIZE[glTFAccessor.componentType];\n  const length = glTFAccessor.count * components;\n  const byteLength = glTFAccessor.count * components * bytesPerComponent;\n\n  // Get the boundaries of the binary sub-chunk for this bufferView\n  const glTFBufferView = this.json.bufferViews[glTFAccessor.bufferView];\n  assert(byteLength >= 0 && glTFAccessor.byteOffset + byteLength <= glTFBufferView.byteLength);\n\n  const byteOffset = glTFBufferView.byteOffset + this.binaryByteOffset + glTFAccessor.byteOffset;\n  return new ArrayType(this.glbArrayBuffer, byteOffset, length);\n};\n\n// Unpacks an image into an HTML image\nGLBParser.prototype.getImageData = function (glTFImage) {\n  return {\n    typedArray: this.getBufferView(glTFImage.bufferView),\n    mimeType: glTFImage.mimeType || 'image/jpeg'\n  };\n};\n\nGLBParser.prototype.getImage = function (glTFImage) {\n  const arrayBufferView = this.getBufferView(glTFImage.bufferView);\n  const mimeType = glTFImage.mimeType || 'image/jpeg';\n  const blob = new Blob([arrayBufferView], { type: mimeType });\n  const urlCreator = window.URL || window.webkitURL;\n  const imageUrl = urlCreator.createObjectURL(blob);\n  const img = new Image();\n  img.src = imageUrl;\n  return img;\n};\n\n// GLBParser.prototype.getImageAsync = function (glTFImage) {\n//   return new Promise(resolve => {\n//     const arrayBufferView = this.getBufferView(glTFImage.bufferView);\n//     const mimeType = glTFImage.mimeType || 'image/jpeg';\n//     const blob = new Blob([arrayBufferView], {type: mimeType});\n//     const urlCreator = window.URL || window.webkitURL;\n//     const imageUrl = urlCreator.createObjectURL(blob);\n//     const img = new Image();\n//     img.onload = () => resolve(img);\n//     img.src = imageUrl;\n//   });\n// };\n\nmodule.exports = GLBParser;\nGLBParser.parse = function (data) {\n  let parser = new GLBParser();\n  return parser.parse(data);\n};\n","// Derived from (MIT Licensed) https://github.com/uber-web/loaders.gl/tree/master/modules/gltf\n\nfunction parseJSONPointer(value) {\n  if (typeof value === 'string') {\n    // Remove escape character\n    if (value.indexOf('##/') === 0) {\n      return value.slice(1);\n    }\n\n    let matches = value.match(/#\\/([a-z]+)\\/([0-9]+)/);\n    if (matches) {\n      const index = parseInt(matches[2], 10);\n      return [matches[1], index];\n    }\n\n    // Legacy: `$$$i`\n    matches = value.match(/\\$\\$\\$([0-9]+)/);\n    if (matches) {\n      const index = parseInt(matches[1], 10);\n      return ['accessors', index];\n    }\n  }\n\n  return null;\n}\n\nfunction decodeJSONPointer(object, buffers) {\n  const pointer = parseJSONPointer(object);\n  if (pointer) {\n    const field = pointer[0];\n    const index = pointer[1];\n    const buffer = buffers[field] && buffers[field][index];\n    if (buffer) {\n      return buffer;\n    }\n    console.error(`Invalid JSON pointer ${object}: #/${field}/${index}`);\n  }\n  return null;\n}\n\n// Recursively unpacks objects, replacing \"JSON pointers\" with typed arrays\nfunction unpackJsonArraysRecursive(json, topJson, buffers, options = {}) {\n  const object = json;\n\n  const buffer = decodeJSONPointer(object, buffers);\n  if (buffer) {\n    return buffer;\n  }\n\n  // Copy array\n  if (Array.isArray(object)) {\n    return object.map((element) => unpackJsonArraysRecursive(element, topJson, buffers, options));\n  }\n\n  // Copy object\n  if (object !== null && typeof object === 'object') {\n    const newObject = {};\n    for (const key in object) {\n      newObject[key] = unpackJsonArraysRecursive(object[key], topJson, buffers, options);\n    }\n    return newObject;\n  }\n\n  return object;\n}\n\nexport function unpackBinaryJson(json, buffers, options = {}) {\n  return unpackJsonArraysRecursive(json, json, buffers, options);\n}\n","// Derived from (MIT Licensed) https://github.com/uber-web/loaders.gl/tree/master/modules/gltf\n\nconst assert = require('assert');\n\nconst {\n  ATTRIBUTE_TYPE_TO_COMPONENTS,\n  ATTRIBUTE_COMPONENT_TYPE_TO_BYTE_SIZE,\n  ATTRIBUTE_COMPONENT_TYPE_TO_ARRAY\n} = require('./gltf-type-utils.js');\n\n// Creates a new ArrayBuffer starting at the offset, containing all remaining bytes\n// TODO - should not be needed, see above\nfunction getArrayBufferAtOffset(arrayBuffer, byteOffset) {\n  const length = arrayBuffer.byteLength - byteOffset;\n  const binaryBuffer = new ArrayBuffer(length);\n  const sourceArray = new Uint8Array(arrayBuffer);\n  const binaryArray = new Uint8Array(binaryBuffer);\n  for (let i = 0; i < length; i++) {\n    binaryArray[i] = sourceArray[byteOffset + i];\n  }\n  return binaryBuffer;\n}\n\nfunction getArrayTypeAndLength(accessor, bufferView) {\n  const ArrayType = ATTRIBUTE_COMPONENT_TYPE_TO_ARRAY[accessor.componentType];\n  const components = ATTRIBUTE_TYPE_TO_COMPONENTS[accessor.type];\n  const bytesPerComponent = ATTRIBUTE_COMPONENT_TYPE_TO_BYTE_SIZE[accessor.componentType];\n  const length = accessor.count * components;\n  const byteLength = accessor.count * components * bytesPerComponent;\n  assert(byteLength >= 0 && byteLength <= bufferView.byteLength);\n  return { ArrayType, length, byteLength };\n}\n\nfunction unpackAccessors(arrayBuffer, bufferViews, json) {\n  // unpack accessors\n  const accessors = json.accessors || [];\n\n  const accessorBuffers = [];\n\n  for (let i = 0; i < accessors.length; ++i) {\n    const accessor = accessors[i];\n    assert(accessor);\n\n    const bufferView = bufferViews[accessor.bufferView];\n    // Draco encoded meshes don't have bufferView in accessor\n    if (bufferView) {\n      // Create a new typed array as a view into the combined buffer\n      const { ArrayType, length } = getArrayTypeAndLength(accessor, bufferView);\n      const array = new ArrayType(arrayBuffer, bufferView.byteOffset, length);\n      // Store the metadata on the array (e.g. needed to determine number of components per element)\n      array.accessor = accessor;\n      accessorBuffers.push(array);\n    }\n  }\n\n  return accessorBuffers;\n}\n\nfunction unpackImages(arrayBuffer, bufferViews, json) {\n  // unpack images\n  const images = json.images || [];\n\n  const imageBuffers = [];\n\n  for (let i = 0; i < images.length; ++i) {\n    const image = images[i];\n    assert(image);\n\n    if (image.bufferView === undefined) {\n      imageBuffers.push(null);\n      continue;\n    }\n\n    const bufferView = bufferViews[image.bufferView];\n    assert(bufferView);\n\n    // Create a new typed array as a view into the combined buffer\n    const array = new Uint8Array(arrayBuffer, bufferView.byteOffset, bufferView.byteLength);\n    // Store the metadata on the array (e.g. needed to determine number of components per element)\n    array.imate = image;\n    imageBuffers.push(array);\n  }\n\n  return imageBuffers;\n}\n\nexport function unpackGLBBuffers(arrayBuffer, json, binaryByteOffset) {\n  // TODO - really inefficient, should just use the offset into the original array buffer\n  if (binaryByteOffset) {\n    arrayBuffer = getArrayBufferAtOffset(arrayBuffer, binaryByteOffset);\n  }\n\n  const bufferViews = json.bufferViews || [];\n\n  for (let i = 0; i < bufferViews.length; ++i) {\n    const bufferView = bufferViews[i];\n    assert(bufferView.byteLength >= 0);\n  }\n\n  return {\n    // TODO: delete unpackAccessors and use buffer views only?\n    accessors: unpackAccessors(arrayBuffer, bufferViews, json),\n    images: unpackImages(arrayBuffer, bufferViews, json)\n  };\n}\n","// Portions Copyright 2019 Jimb Esser (https://github.com/Jimbly/)\n// Released under MIT License: https://opensource.org/licenses/MIT\n\n// System for registering callbacks to run in event handlers on the next frame\n// Used to get around restrictions on APIs like pointer lock, fullscreen, or\n// screen orientation.\n\nconst assert = require('assert');\n\nlet cbs = {};\nexport function topOfFrame() {\n  cbs = {};\n}\n\nexport function on(type, code_or_pos, cb) {\n  let list = cbs[type] = cbs[type] || [];\n  if (typeof code_or_pos === 'number') {\n    list[code_or_pos] = cb;\n  } else {\n    list.push([code_or_pos, cb]);\n  }\n}\n\nexport function handle(type, event) {\n  let list = cbs[type];\n  if (!list) {\n    return;\n  }\n  switch (type) {\n    case 'keydown':\n    case 'keyup':\n      if (list[event.keyCode]) {\n        list[event.keyCode](type, event);\n      }\n      break;\n    case 'mouseup':\n    case 'mousedown': {\n      let x = event.pageX;\n      let y = event.pageY;\n      let button = event.button;\n      for (let ii = 0; ii < list.length; ++ii) {\n        let elem = list[ii];\n        let pos = elem[0];\n        if (x >= pos.x && x < pos.x + pos.w &&\n          y >= pos.y && y < pos.y + pos.h &&\n          (pos.button < 0 || pos.button === button)\n        ) {\n          elem[1](type, event);\n          break;\n        }\n      }\n    } break;\n    default:\n      assert(false);\n  }\n}\n","// Portions Copyright 2019 Jimb Esser (https://github.com/Jimbly/)\n// Released under MIT License: https://opensource.org/licenses/MIT\n// Some code from Turbulenz: Copyright (c) 2012-2013 Turbulenz Limited\n// Released under MIT License: https://opensource.org/licenses/MIT\n/* global navigator */\n\nconst assert = require('assert');\nconst camera2d = require('./camera2d.js');\nconst { cmd_parse } = require('./cmds.js');\nconst engine = require('./engine.js');\nconst in_event = require('./in_event.js');\nconst local_storage = require('./local_storage.js');\nconst { abs, max, min, sqrt } = Math;\nconst pointer_lock = require('./pointer_lock.js');\nconst { soundResume } = require('./sound.js');\nconst { vec2, v2add, v2copy, v2lengthSq, v2set, v2scale, v2sub } = require('./vmath.js');\n\nconst UP_EDGE = 0; // only for pads, which use === null as \"up\"\nconst UP = 0; // only for key/mouse\nconst DOWN = 1;\nconst DOWN_EDGE = 2; // only for pads\n\n// per-app overrideable options\nconst TOUCH_AS_MOUSE = true;\nlet map_analog_to_dpad = true;\n\nlet mouse_log = false;\n\nexport const ANY = -2;\nexport const POINTERLOCK = -1;\n\nexport let KEYS = {\n  BACKSPACE: 8,\n  TAB: 9,\n  ENTER: 13,\n  RETURN: 13,\n  SHIFT: 16,\n  CTRL: 17,\n  ALT: 18,\n  ESC: 27,\n  SPACE: 32,\n  PAGEUP: 33,\n  PAGEDOWN: 34,\n  END: 35,\n  HOME: 36,\n  LEFT: 37,\n  UP: 38,\n  RIGHT: 39,\n  DOWN: 40,\n  INS: 45,\n  DEL: 46,\n  NUMPAD_DIVIDE: 111,\n  EQUALS: 187,\n  MINUS: 189,\n  SLASH: 191,\n  TILDE: 192,\n};\n(function () {\n  for (let ii = 1; ii <= 12; ++ii) {\n    KEYS[`F${ii}`] = 111 + ii;\n  }\n  for (let ii = 48; ii <= 90; ++ii) { // 0-9;A-Z\n    KEYS[String.fromCharCode(ii)] = ii;\n  }\n}());\nif (typeof Proxy === 'function') {\n  // Catch referencing keys that are not in our map\n  KEYS = new Proxy(KEYS, {\n    get: function (target, prop) {\n      let ret = target[prop];\n      assert(ret);\n      return ret;\n    }\n  });\n}\nexport const PAD = {\n  A: 0,\n  SELECT: 0, // GLOV name\n  B: 1,\n  CANCEL: 1, // GLOV name\n  X: 2,\n  Y: 3,\n  LB: 4,\n  LEFT_BUMPER: 4,\n  RB: 5,\n  RIGHT_BUMPER: 5,\n  LT: 6,\n  LEFT_TRIGGER: 6,\n  RT: 7,\n  RIGHT_TRIGGER: 7,\n  BACK: 8,\n  START: 9,\n  LEFT_STICK: 10,\n  RIGHT_STICK: 11,\n  UP: 12,\n  DOWN: 13,\n  LEFT: 14,\n  RIGHT: 15,\n  ANALOG_UP: 20,\n  ANALOG_LEFT: 21,\n  ANALOG_DOWN: 22,\n  ANALOG_RIGHT: 23,\n};\n\nlet pad_to_touch;\n\nlet canvas;\nlet key_state_new = {};\nlet pad_states = []; // One map per gamepad to pad button states\nlet gamepad_data = []; // Other tracking data per gamepad\nlet mouse_pos = vec2(); // in DOM coordinates, not canvas or virtual\nlet last_mouse_pos = vec2();\nlet mouse_pos_is_touch = false;\nlet mouse_over_captured = false;\nlet mouse_down = [];\nlet wheel_events = [];\nlet movement_questionable_frames = 0;\nconst MOVEMENT_QUESTIONABLE_FRAMES = 2; // Need at least 2\n\nlet input_eaten_kb = false;\nlet input_eaten_mouse = false;\n\nlet touches = {}; // `m${button}` or touch_id -> TouchData\n\nexport let touch_mode = local_storage.getJSON('touch_mode', false);\nexport let pad_mode = local_storage.getJSON('pad_mode', false);\n\ncmd_parse.registerValue('mouse_log', {\n  type: cmd_parse.TYPE_INT,\n  range: [0, 1],\n  get: () => mouse_log,\n  set: (v) => (mouse_log = v),\n});\n\nfunction eventTimestamp(event) {\n  if (event && event.timeStamp) {\n    // assert((event.timeStamp < 1e12) === (engine.hrtime < 1e12));\n    // Must both be high res times, or both not!\n    if ((event.timeStamp < 1e12) !== (engine.hrtime < 1e12)) {\n      return engine.hrtime;\n    }\n    return event.timeStamp;\n  }\n  return engine.hrtime;\n}\n\nfunction TouchData(pos, touch, button, event) {\n  this.delta = vec2();\n  this.total = 0;\n  this.cur_pos = pos.slice(0);\n  this.start_pos = pos.slice(0);\n  this.touch = touch;\n  this.button = button;\n  this.start_time = Date.now();\n  this.dispatched = false;\n  this.dispatched_drag = false;\n  this.dispatched_drag_over = false;\n  this.up_edge = 0;\n  this.down_edge = 0;\n  this.state = DOWN;\n  this.down_time = 0;\n  this.origin_time = eventTimestamp(event);\n}\nTouchData.prototype.down = function (event, is_edge) {\n  if (is_edge) {\n    this.down_edge++;\n  }\n  this.state = DOWN;\n  this.origin_time = eventTimestamp(event);\n};\n\nconst MIN_EVENT_TIME_DELTA = 0.01; // fractions of a millisecond\nfunction timeDelta(event, origin_time) {\n  let et = eventTimestamp(event);\n  // timestamps on events are often back in time relative to the last tick time\n  return max(et - origin_time, MIN_EVENT_TIME_DELTA);\n}\n\nfunction KeyData() {\n  this.down_edge = 0;\n  // this.down_start = 0;\n  this.origin_time = 0;\n  this.down_time = 0;\n  this.up_edge = 0;\n  this.state = UP;\n}\nKeyData.prototype.keyUp = function (event) {\n  ++this.up_edge;\n  this.down_time += timeDelta(event, this.origin_time);\n  this.state = UP;\n};\n\nfunction setMouseToMid() {\n  v2set(mouse_pos, engine.width*0.5/camera2d.domToCanvasRatio(), engine.height*0.5/camera2d.domToCanvasRatio());\n}\n\nexport function pointerLocked() {\n  return pointer_lock.isLocked();\n}\nlet pointerlock_touch_id = `m${POINTERLOCK}`;\n// only works reliably when called from an event handler\nexport function pointerLockEnter(when) {\n  pointer_lock.enter(when);\n}\nfunction onPointerLockEnter() {\n  if (touch_mode) {\n    return;\n  }\n  let touch_data = touches[pointerlock_touch_id];\n  setMouseToMid();\n  if (touch_data) {\n    v2copy(touch_data.start_pos, mouse_pos);\n    touch_data.state = DOWN;\n    touch_data.origin_time = engine.hrtime;\n  } else {\n    touch_data = touches[pointerlock_touch_id] = new TouchData(mouse_pos, false, POINTERLOCK, null);\n  }\n  movement_questionable_frames = MOVEMENT_QUESTIONABLE_FRAMES;\n}\nexport function pointerLockExit() {\n  let touch_data = touches[pointerlock_touch_id];\n  if (touch_data) {\n    v2copy(touch_data.cur_pos, mouse_pos);\n    // no UP_EDGE for this\n    touch_data.state = UP;\n  }\n  pointer_lock.exit();\n  movement_questionable_frames = MOVEMENT_QUESTIONABLE_FRAMES;\n}\n\nlet last_event;\nconst skip = { isTrusted: 1, sourceCapabilities: 1, path: 1, currentTarget: 1, view: 1 };\nfunction eventlog(event) {\n  if (event === last_event) {\n    return;\n  }\n  last_event = event;\n  let pairs = [];\n  for (let k in event) {\n    let v = event[k];\n    if (!v || typeof v === 'function' || k.toUpperCase() === k || skip[k]) {\n      continue;\n    }\n    pairs.push(`${k}:${v.id || v}`);\n  }\n  console.log(`${engine.frame_index} ${event.type} ${pointerLocked()?'ptrlck':'unlckd'} ${pairs.join(',')}`);\n}\n\nfunction letEventThrough(event) {\n  return event.target.tagName === 'INPUT' || String(event.target.className).indexOf('noglov') !== -1;\n}\n\nfunction ignored(event) {\n  // eventlog(event);\n  if (!letEventThrough(event)) {\n    event.preventDefault();\n    event.stopPropagation();\n  }\n}\n\nlet unload_protected = false;\nfunction beforeUnload(e) {\n  if (unload_protected) {\n    // Cancel the event\n    e.preventDefault();\n    // Chrome requires returnValue to be set\n    e.returnValue = 'Are you sure you want to quit?';\n  } else {\n    engine.releaseCanvas();\n  }\n}\nfunction protectUnload(enable) {\n  unload_protected = enable;\n}\n\nfunction onKeyUp(event) {\n  protectUnload(event.ctrlKey);\n  let code = event.keyCode;\n  if (!letEventThrough(event)) {\n    event.stopPropagation();\n    event.preventDefault();\n  }\n\n  if (code === KEYS.ESC && pointerLocked()) {\n    pointerLockExit();\n  }\n  // Letting through to our code regardless of no_stop, because we handle things like ESC in INPUT elements\n\n  let ks = key_state_new[code];\n  if (ks && ks.state === DOWN) {\n    ks.keyUp(event);\n  }\n\n  in_event.handle('keyup', event);\n}\n\nfunction onKeyDown(event) {\n  protectUnload(event.ctrlKey);\n  let code = event.keyCode;\n  let no_stop = letEventThrough(event) ||\n    code >= KEYS.F5 && code <= KEYS.F12 || // Chrome debug hotkeys\n    code === KEYS.I && (event.altKey && event.metaKey || event.ctrlKey && event.shiftKey); // Safari, alternate Chrome\n  if (!no_stop) {\n    event.stopPropagation();\n    event.preventDefault();\n  }\n  // console.log(`${event.code} ${event.keyCode}`);\n  soundResume();\n\n  // Letting through to our code regardless of no_stop, because we handle things like ESC in INPUT elements\n  let ks = key_state_new[code];\n  if (!ks) {\n    ks = key_state_new[code] = new KeyData();\n  }\n  if (ks.state !== DOWN) { // not a repeat event\n    ++ks.down_edge;\n    ks.state = DOWN;\n    ks.origin_time = eventTimestamp(event);\n    // ks.down_start = ks.origin_time;\n\n    in_event.handle('keydown', event);\n  }\n}\n\nlet mouse_move_x = 0;\nexport function debugGetMouseMoveX() {\n  let ret = mouse_move_x;\n  mouse_move_x = 0;\n  return ret;\n}\n\nlet mouse_moved = false;\nlet temp_delta = vec2();\nlet last_abs_move = 0;\nlet last_abs_move_time = 0;\nfunction onMouseMove(event, no_stop) {\n  /// eventlog(event);\n  // Don't block mouse button 3, that's the Back button\n  if (!letEventThrough(event) && !no_stop && event.button !== 3) {\n    event.preventDefault();\n    event.stopPropagation();\n    if (touch_mode) {\n      local_storage.setJSON('touch_mode', false);\n      touch_mode = false;\n    }\n    if (pad_mode) {\n      local_storage.setJSON('pad_mode', false);\n      pad_mode = false;\n    }\n  }\n  mouse_moved = true;\n  // offsetX/layerX return position relative to text-entry boxes, not good!\n  // clientX/clientY do not handle weird scrolling that happens on iOS, but\n  //   should not affect mouse events (but maybe on Safari desktop?)\n  mouse_pos[0] = event.pageX;\n  mouse_pos[1] = event.pageY;\n  // if (event.offsetX !== undefined) {\n  //   mouse_pos[0] = event.offsetX;\n  //   mouse_pos[1] = event.offsetY;\n  // } else {\n  //   mouse_pos[0] = event.layerX;\n  //   mouse_pos[1] = event.layerY;\n  // }\n  mouse_pos_is_touch = false;\n\n  mouse_move_x += (event.movementX || 0);\n\n  let any_movement = false;\n  if (pointerLocked()) {\n    setMouseToMid();\n    if (event.movementX || event.movementY) {\n      // Smooth out (ignore) large jumps in movement\n      // This is, I believe, just a bug with Chromium on Windows, as it repositions the hidden mouse cursor\n      let ts = event.timeStamp || Date.now();\n      let abs_move = abs(event.movementX) + abs(event.movementY);\n      if (abs_move > 200 && (abs_move > 3 * last_abs_move || ts - last_abs_move_time > 1000)) {\n        console.log(`Ignoring mousemove with sudden large delta: ${event.movementX},${event.movementY}`);\n      } else {\n        v2set(temp_delta, event.movementX || 0, event.movementY || 0);\n        any_movement = true;\n      }\n      last_abs_move = abs_move;\n      last_abs_move_time = ts;\n    }\n  } else {\n    v2sub(temp_delta, mouse_pos, last_mouse_pos);\n    if (temp_delta[0] || temp_delta[1]) {\n      any_movement = true;\n    }\n    v2copy(last_mouse_pos, mouse_pos);\n  }\n  if (any_movement && movement_questionable_frames && v2lengthSq(temp_delta) > 100*100) {\n    // giant movement right after entering or exiting pointer lock, ignore (Chrome bug)\n    // We get these unreasonable jumps in both movementXY and the other, presumably\n    // because pointerLocked() is slightly out of sync, though the large .movementX/Y\n    // is clearly erroneous.\n    any_movement = false;\n  }\n  if (any_movement) {\n    for (let button = POINTERLOCK; button < mouse_down.length; ++button) {\n      if (mouse_down[button] || button === POINTERLOCK && pointerLocked()) {\n        let touch_data = touches[`m${button}`];\n        if (touch_data) {\n          v2add(touch_data.delta, touch_data.delta, temp_delta);\n          touch_data.total += abs(temp_delta[0]) + abs(temp_delta[1]);\n          v2copy(touch_data.cur_pos, mouse_pos);\n        }\n      }\n    }\n  }\n}\n\nfunction onMouseDown(event) {\n  if (mouse_log) {\n    eventlog(event);\n  }\n  onMouseMove(event); // update mouse_pos\n  soundResume();\n  let no_click = letEventThrough(event);\n\n  let button = event.button;\n  mouse_down[button] = true;\n  let touch_id = `m${button}`;\n  if (touches[touch_id]) {\n    v2copy(touches[touch_id].start_pos, mouse_pos);\n  } else {\n    touches[touch_id] = new TouchData(mouse_pos, false, button, event);\n  }\n  touches[touch_id].down(event, !no_click);\n  if (!no_click) {\n    in_event.handle('mousedown', event);\n  }\n  //This solves input bug when game is running as iframe. E.g. Facebook Instant\n  if (window.focus) {\n    window.focus();\n  }\n}\n\nfunction onMouseUp(event) {\n  if (mouse_log) {\n    eventlog(event);\n  }\n  onMouseMove(event); // update mouse_pos\n  let no_click = letEventThrough(event);\n  let button = event.button;\n  if (mouse_down[button]) {\n    let touch_id = `m${button}`;\n    let touch_data = touches[touch_id];\n    if (touch_data) {\n      v2copy(touch_data.cur_pos, mouse_pos);\n      if (!no_click) {\n        touch_data.up_edge++;\n      }\n      touch_data.state = UP;\n      touch_data.down_time += timeDelta(event, touch_data.origin_time);\n    }\n    delete mouse_down[button];\n  }\n  if (!no_click) {\n    in_event.handle('mouseup', event);\n  }\n}\n\nfunction onWheel(event) {\n  onMouseMove(event, true);\n  let delta = -event.deltaY || event.wheelDelta || -event.detail;\n  wheel_events.push({\n    pos: [event.pageX, event.pageY],\n    delta: delta > 0 ? 1 : -1,\n    dispatched: false,\n  });\n}\n\nlet touch_pos = vec2();\nlet released_touch_id = 0;\nfunction onTouchChange(event) {\n  // eventlog(event);\n  // Using .pageX/Y here because on iOS when a text entry is selected, it scrolls\n  // our canvas offscreen.  Should maybe have the canvas resize and use clientX\n  // instead, but this works well enough.\n  soundResume();\n  if (!touch_mode) {\n    local_storage.set('touch_mode', true);\n    touch_mode = true;\n  }\n  if (pad_mode) {\n    local_storage.set('pad_mode', true);\n    pad_mode = true;\n  }\n  if (event.cancelable !== false) {\n    event.preventDefault();\n  }\n  let ct = event.touches;\n  let seen = {};\n\n  let new_count = ct.length;\n  let old_count = new_count;\n  // Look for press and movement\n  for (let ii = 0; ii < new_count; ++ii) {\n    let touch = ct[ii];\n    let last_touch = touches[touch.identifier];\n    v2set(touch_pos, touch.pageX, touch.pageY);\n    if (!last_touch) {\n      last_touch = touches[touch.identifier] = new TouchData(touch_pos, true, 0, event);\n      last_touch.down(event, true);\n      --old_count;\n      in_event.handle('mousedown', touch);\n    } else {\n      v2sub(temp_delta, touch_pos, last_touch.cur_pos);\n      v2add(last_touch.delta, last_touch.delta, temp_delta);\n      last_touch.total += abs(temp_delta[0]) + abs(temp_delta[1]);\n      v2copy(last_touch.cur_pos, touch_pos);\n    }\n\n    seen[touch.identifier] = true;\n    if (TOUCH_AS_MOUSE && new_count === 1) {\n      // Single touch, treat as mouse movement\n      v2copy(mouse_pos, touch_pos);\n      mouse_pos_is_touch = true;\n    }\n  }\n  // Look for release, if releasing exactly one final touch\n  let released_touch;\n  let released_ids = [];\n  for (let id in touches) {\n    if (!seen[id]) {\n      let touch = touches[id];\n      if (touch.touch && touch.state === DOWN) {\n        ++old_count;\n        released_touch = touch;\n        released_ids.push(id);\n        in_event.handle('mouseup', { pageX: touch.cur_pos[0], pageY: touch.cur_pos[1] });\n        touch.up_edge++;\n        touch.state = UP;\n        touch.down_time += timeDelta(event, touch.origin_time);\n        touch.release = true;\n      }\n    }\n  }\n  for (let ii = 0; ii < released_ids.length; ++ii) {\n    let id = released_ids[ii];\n    let touch = touches[id];\n    // get new id, not overlapping with touch.identifier values,\n    // so that if we get a new touch event before the next tick, we still see the release, etc\n    let new_id = `r${++released_touch_id}`;\n    delete touches[id];\n    touches[new_id] = touch;\n  }\n  if (TOUCH_AS_MOUSE) {\n    if (old_count === 1 && new_count === 0) {\n      delete mouse_down[0];\n      v2copy(mouse_pos, released_touch.cur_pos);\n      mouse_pos_is_touch = true;\n    } else if (new_count === 1) {\n      let touch = ct[0];\n      if (!old_count) {\n        mouse_down[0] = true;\n      }\n      v2set(mouse_pos, touch.pageX, touch.pageY);\n      mouse_pos_is_touch = true;\n    } else if (new_count > 1) {\n      // multiple touches, release mouse_down without emitting click\n      delete mouse_down[0];\n    }\n  }\n}\n\nfunction onBlurOrFocus(evt) {\n  protectUnload(false);\n  for (let code in key_state_new) {\n    let ks = key_state_new[code];\n    if (ks.state === DOWN) {\n      ks.keyUp(evt);\n    }\n  }\n}\n\nlet ANALOG_MAP = {};\nfunction genAnalogMap() {\n  if (map_analog_to_dpad) {\n    ANALOG_MAP[PAD.LEFT] = PAD.ANALOG_LEFT;\n    ANALOG_MAP[PAD.RIGHT] = PAD.ANALOG_RIGHT;\n    ANALOG_MAP[PAD.UP] = PAD.ANALOG_UP;\n    ANALOG_MAP[PAD.DOWN] = PAD.ANALOG_DOWN;\n  }\n}\n\nlet passive_param = false;\nexport function handleTouches(elem) {\n  elem.addEventListener('touchstart', onTouchChange, passive_param);\n  elem.addEventListener('touchmove', onTouchChange, passive_param);\n  elem.addEventListener('touchend', onTouchChange, passive_param);\n  elem.addEventListener('touchcancel', onTouchChange, passive_param);\n}\n\nexport function startup(_canvas, params) {\n  canvas = _canvas;\n  pointer_lock.startup(canvas, onPointerLockEnter);\n  if (params.map_analog_to_dpad !== undefined) {\n    map_analog_to_dpad = params.map_analog_to_dpad;\n  }\n  pad_to_touch = params.pad_to_touch;\n  genAnalogMap();\n\n  try {\n    let opts = Object.defineProperty({}, 'passive', {\n      get: function () {\n        passive_param = { passive: false };\n        return false;\n      }\n    });\n    window.addEventListener('test', null, opts);\n    window.removeEventListener('test', null, opts);\n  } catch (e) {\n    passive_param = false;\n  }\n\n  window.addEventListener('keydown', onKeyDown, false);\n  window.addEventListener('keyup', onKeyUp, false);\n\n  window.addEventListener('click', ignored, false);\n  window.addEventListener('contextmenu', ignored, false);\n  window.addEventListener('mousemove', onMouseMove, false);\n  window.addEventListener('mousedown', onMouseDown, false);\n  window.addEventListener('mouseup', onMouseUp, false);\n  if (window.WheelEvent) {\n    window.addEventListener('wheel', onWheel, passive_param);\n  } else {\n    window.addEventListener('DOMMouseScroll', onWheel, false);\n    window.addEventListener('mousewheel', onWheel, false);\n  }\n\n  window.addEventListener('blur', onBlurOrFocus, false);\n  window.addEventListener('focus', onBlurOrFocus, false);\n\n  handleTouches(canvas);\n\n  // For iOS, this is needed in test_fullscreen, but not here, for some reason\n  //window.addEventListener('gesturestart', ignored, false);\n\n  window.addEventListener('beforeunload', beforeUnload, false);\n}\n\n\nconst DEADZONE = 0.26;\nconst DEADZONE_SQ = DEADZONE * DEADZONE;\nconst NUM_STICKS = 2;\nconst PAD_THRESHOLD = 0.25; // for turning analog motion into digital events\n\nfunction getGamepadData(idx) {\n  let gpd = gamepad_data[idx];\n  if (!gpd) {\n    gpd = gamepad_data[idx] = {\n      id: idx,\n      timestamp: 0,\n      sticks: new Array(NUM_STICKS),\n    };\n    for (let ii = 0; ii < NUM_STICKS; ++ii) {\n      gpd.sticks[ii] = vec2();\n    }\n    pad_states[idx] = {};\n  }\n  return gpd;\n}\n\nfunction updatePadState(gpd, ps, b, padcode) {\n  if (b && !ps[padcode]) {\n    ps[padcode] = DOWN_EDGE;\n    if (!pad_mode) {\n      local_storage.setJSON('pad_mode', true);\n      pad_mode = true;\n    }\n    if (padcode === pad_to_touch) {\n      let touch_id = `g${gpd.id}`;\n      if (touches[touch_id]) {\n        setMouseToMid();\n        v2copy(touches[touch_id].start_pos, mouse_pos);\n      } else {\n        touches[touch_id] = new TouchData(mouse_pos, false, 0, null);\n      }\n      touches[touch_id].down(null, true);\n    }\n  } else if (!b && ps[padcode]) {\n    ps[padcode] = UP_EDGE;\n    if (padcode === pad_to_touch) {\n      let touch_id = `g${gpd.id}`;\n      let touch_data = touches[touch_id];\n      if (touch_data) {\n        setMouseToMid();\n        v2copy(touch_data.cur_pos, mouse_pos);\n        touch_data.up_edge++;\n        touch_data.state = UP;\n        touch_data.down_time += max(engine.hrtime - touch_data.origin_time, MIN_EVENT_TIME_DELTA);\n      }\n    }\n  }\n}\n\nfunction gamepadUpdate() {\n  let gamepads = (navigator.gamepads ||\n    navigator.webkitGamepads ||\n    (navigator.getGamepads && navigator.getGamepads()) ||\n    (navigator.webkitGetGamepads && navigator.webkitGetGamepads()));\n\n  if (gamepads) {\n    let numGamePads = gamepads.length;\n    for (let ii = 0; ii < numGamePads; ii++) {\n      let gamepad = gamepads[ii];\n      if (!gamepad) {\n        continue;\n      }\n      let gpd = getGamepadData(ii);\n      let ps = pad_states[ii];\n      // Update button states\n      if (gpd.timestamp < gamepad.timestamp) {\n        let buttons = gamepad.buttons;\n        gpd.timestamp = gamepad.timestamp;\n\n        let numButtons = buttons.length;\n        for (let n = 0; n < numButtons; n++) {\n          let value = buttons[n];\n          if (typeof value === 'object') {\n            value = value.value;\n          }\n          value = value > 0.5;\n          updatePadState(gpd, ps, value, n);\n        }\n      }\n\n      // Update axes states\n      let axes = gamepad.axes;\n      if (axes.length >= NUM_STICKS * 2) {\n        for (let n = 0; n < NUM_STICKS; ++n) {\n          let pair = gpd.sticks[n];\n          v2set(pair, axes[n*2], -axes[n*2 + 1]);\n          let magnitude = v2lengthSq(pair);\n          if (magnitude > DEADZONE_SQ) {\n            magnitude = sqrt(magnitude);\n\n            // Normalize lX and lY\n            v2scale(pair, pair, 1 / magnitude);\n\n            // Clip the magnitude at its max possible value\n            magnitude = min(magnitude, 1);\n\n            // Adjust magnitude relative to the end of the dead zone\n            magnitude = ((magnitude - DEADZONE) / (1 - DEADZONE));\n\n            v2scale(pair, pair, magnitude);\n          } else {\n            v2set(pair, 0, 0);\n          }\n\n          // Apply \"movement\" to drag events\n          if (n <= 1 && pad_to_touch !== undefined) {\n            let touch_data = touches[`g${gpd.id}`];\n            if (touch_data) {\n              v2scale(temp_delta, pair, engine.frame_dt);\n              v2add(touch_data.delta, touch_data.delta, temp_delta);\n              touch_data.total += abs(temp_delta[0]) + abs(temp_delta[1]);\n              setMouseToMid();\n              v2copy(touch_data.cur_pos, mouse_pos);\n            }\n          }\n        }\n\n        // Calculate virtual directional buttons\n        updatePadState(gpd, ps, gpd.sticks[0][0] < -PAD_THRESHOLD, PAD.ANALOG_LEFT);\n        updatePadState(gpd, ps, gpd.sticks[0][0] > PAD_THRESHOLD, PAD.ANALOG_RIGHT);\n        updatePadState(gpd, ps, gpd.sticks[0][1] < -PAD_THRESHOLD, PAD.ANALOG_DOWN);\n        updatePadState(gpd, ps, gpd.sticks[0][1] > PAD_THRESHOLD, PAD.ANALOG_UP);\n      }\n    }\n  }\n}\n\nexport function tickInput() {\n  // browser frame has occurred since the call to endFrame(),\n  // we should now have `touches` and `key_state` populated with edge events\n  if (movement_questionable_frames) {\n    --movement_questionable_frames;\n  }\n\n  // update timing of key down states\n  let hrtime = engine.hrtime;\n  for (let code in key_state_new) {\n    let ks = key_state_new[code];\n    if (ks.state === DOWN) {\n      ks.down_time += max(hrtime - ks.origin_time, MIN_EVENT_TIME_DELTA);\n      // assert(hrtime >= ks.origin_time); - should be true, but often isn't\n      ks.origin_time = hrtime;\n    }\n  }\n\n  for (let touch_id in touches) {\n    let touch_data = touches[touch_id];\n    if (touch_data.state === DOWN) {\n      touch_data.down_time += max(hrtime - touch_data.origin_time, MIN_EVENT_TIME_DELTA);\n      // assert(hrtime >= touch_data.origin_time); - should be true, but often isn't\n      touch_data.origin_time = hrtime;\n    }\n  }\n\n  mouse_over_captured = false;\n  gamepadUpdate();\n  in_event.topOfFrame();\n  if (touches[pointerlock_touch_id] && !pointerLocked()) {\n    pointerLockExit();\n  }\n}\n\nfunction endFrameTickMap(map) {\n  Object.keys(map).forEach((keycode) => {\n    switch (map[keycode]) {\n      case DOWN_EDGE:\n        map[keycode] = DOWN;\n        break;\n      case UP_EDGE:\n        delete map[keycode];\n        break;\n      default:\n    }\n  });\n}\nexport function endFrame(skip_mouse) {\n  for (let code in key_state_new) {\n    let ks = key_state_new[code];\n    if (ks.state === UP) {\n      key_state_new[code] = null;\n      delete key_state_new[code];\n    } else {\n      ks.up_edge = 0;\n      ks.down_edge = 0;\n      ks.down_time = 0;\n    }\n  }\n\n  pad_states.forEach(endFrameTickMap);\n  if (!skip_mouse) {\n    for (let touch_id in touches) {\n      let touch_data = touches[touch_id];\n      if (touch_data.state === UP) {\n        // Manually null out touches[touch_id] - some Chrome optimizer bug causes\n        // callers to later get this old value (instead of the newly added on with\n        // the same ID) unless we null it out (then they seem to get the new one).\n        touches[touch_id] = null;\n        delete touches[touch_id];\n      } else {\n        touch_data.delta[0] = touch_data.delta[1] = 0;\n        touch_data.dispatched = false;\n        touch_data.dispatched_drag = false;\n        touch_data.dispatched_drag_over = false;\n        touch_data.up_edge = 0;\n        touch_data.down_edge = 0;\n        touch_data.down_time = 0;\n      }\n    }\n    wheel_events.length = 0;\n    input_eaten_mouse = false;\n  }\n  input_eaten_kb = false;\n  mouse_moved = false;\n}\n\nexport function eatAllInput(skip_mouse) {\n  // destroy touches, remove all down and up edges\n  endFrame(skip_mouse);\n  if (!skip_mouse) {\n    mouse_over_captured = true;\n    input_eaten_mouse = true;\n  }\n  input_eaten_kb = true;\n}\n\nexport function eatAllKeyboardInput() {\n  eatAllInput(true);\n}\n\n// returns position mapped to current camera view\nexport function mousePos(dst) {\n  dst = dst || vec2();\n  camera2d.domToVirtual(dst, mouse_pos);\n  return dst;\n}\n\nexport function mouseMoved() {\n  return mouse_moved;\n}\n\nfunction mousePosParam(param) {\n  param = param || {};\n  return {\n    x: param.x === undefined ? camera2d.x0Real() : param.x,\n    y: param.y === undefined ? camera2d.y0Real() : param.y,\n    w: param.w === undefined ? camera2d.wReal() : param.w,\n    h: param.h === undefined ? camera2d.hReal() : param.h,\n    button: param.button === undefined ? ANY : param.button,\n  };\n}\n\nlet check_pos = vec2();\nfunction checkPos(pos, param) {\n  if (!camera2d.domToVirtual(check_pos, pos)) {\n    return false;\n  }\n  return check_pos[0] >= param.x && (param.w === Infinity || check_pos[0] < param.x + param.w) &&\n    check_pos[1] >= param.y && (param.h === Infinity || check_pos[1] < param.y + param.h);\n}\n\nexport function mouseWheel(param) {\n  if (input_eaten_mouse || !wheel_events.length) {\n    return 0;\n  }\n  param = param || {};\n  let pos_param = mousePosParam(param);\n  let ret = 0;\n  for (let ii = 0; ii < wheel_events.length; ++ii) {\n    let data = wheel_events[ii];\n    if (data.dispatched) {\n      continue;\n    }\n    if (checkPos(data.pos, pos_param)) {\n      ret += data.delta;\n      data.dispatched = true;\n    }\n  }\n  return ret;\n}\n\nexport function mouseOver(param) {\n  if (mouse_over_captured || pointerLocked()) {\n    return false;\n  }\n  param = param || {};\n  let pos_param = mousePosParam(param);\n\n  // eat mouse up/down/drag events\n  if (!param.peek) {\n    for (let id in touches) {\n      let touch = touches[id];\n      if (checkPos(touch.cur_pos, pos_param)) {\n        touch.down_edge = 0;\n        touch.up_edge = 0;\n        if (!param || !param.drag_target) {\n          touch.dispatched = true;\n        }\n      }\n    }\n  }\n\n  if (checkPos(mouse_pos, pos_param)) {\n    if (!param.peek) {\n      mouse_over_captured = true;\n    }\n    return true;\n  }\n  return false;\n}\n\nexport function mouseDown(param) {\n  if (input_eaten_mouse) {\n    return null;\n  }\n  param = param || {};\n  let pos_param = mousePosParam(param);\n  let button = pos_param.button;\n  // *maybe* should default to Infinite, but for now, defaulting to the same as mouseUpEdge()\n  let max_click_dist = param.max_dist || 50; // TODO: relative to camera distance?\n\n  for (let touch_id in touches) {\n    let touch_data = touches[touch_id];\n    if (touch_data.state !== DOWN ||\n      !(button === ANY || button === touch_data.button) ||\n      touch_data.total > max_click_dist\n    ) {\n      continue;\n    }\n    if (checkPos(touch_data.cur_pos, pos_param)) {\n      // if (!param.peek) {\n      //   touch_data.up_edge = 0;\n      // }\n      return {\n        button: touch_data.button,\n        pos: check_pos.slice(0),\n        start_time: touch_data.start_time,\n      };\n    }\n  }\n\n  return null;\n}\n\nexport function mousePosIsTouch() {\n  return mouse_pos_is_touch;\n}\n\nexport function numTouches() {\n  return Object.keys(touches).length;\n}\n\nexport function keyDown(keycode) {\n  if (input_eaten_kb) {\n    return 0;\n  }\n  let ks = key_state_new[keycode];\n  if (!ks) {\n    return 0;\n  }\n  if (ks.state === DOWN) {\n    assert(ks.down_time); // Will fire if we call keyDown() before tickInput()\n  }\n  return ks.down_time;\n}\nexport function keyDownEdge(keycode, opts) {\n  if (opts && opts.in_event_cb && !input_eaten_kb) {\n    in_event.on('keydown', keycode, opts.in_event_cb);\n  }\n\n  let ks = key_state_new[keycode];\n  if (!ks) {\n    return 0;\n  }\n  let r = ks.down_edge;\n  ks.down_edge = 0;\n  return r;\n}\nexport function keyUpEdge(keycode, opts) {\n  if (opts && opts.in_event_cb && !input_eaten_kb) {\n    in_event.on('keyup', keycode, opts.in_event_cb);\n  }\n\n  let ks = key_state_new[keycode];\n  if (!ks) {\n    return 0;\n  }\n  let r = ks.up_edge;\n  ks.up_edge = 0;\n  return r;\n}\n\nexport function padGetAxes(out, stickindex, padindex) {\n  assert(stickindex >= 0 && stickindex < NUM_STICKS);\n  if (padindex === undefined) {\n    let sub = vec2();\n    v2set(out, 0, 0);\n    for (let ii = 0; ii < gamepad_data.length; ++ii) {\n      padGetAxes(sub, stickindex, ii);\n      v2add(out, out, sub);\n    }\n    return;\n  }\n  let sticks = getGamepadData(padindex).sticks;\n  v2copy(out, sticks[stickindex]);\n}\n\nfunction padButtonDownInternal(gpd, ps, padcode) {\n  if (ps[padcode]) {\n    return engine.frame_dt;\n  }\n  return 0;\n}\nfunction padButtonDownEdgeInternal(gpd, ps, padcode) {\n  if (ps[padcode] === DOWN_EDGE) {\n    ps[padcode] = DOWN;\n    return engine.frame_dt;\n  }\n  return 0;\n}\nfunction padButtonUpEdgeInternal(gpd, ps, padcode) {\n  if (ps[padcode] === UP_EDGE) {\n    delete ps[padcode];\n    return engine.frame_dt;\n  }\n  return 0;\n}\n\nfunction padButtonShared(fn, padcode, padindex) {\n  assert(padcode !== undefined);\n  let r = 0;\n  // Handle calling without a specific pad index\n  if (padindex === undefined) {\n    for (let ii = 0; ii < pad_states.length; ++ii) {\n      r += padButtonShared(fn, padcode, ii);\n    }\n    return r;\n  }\n\n  if (input_eaten_mouse) {\n    return 0;\n  }\n  let gpd = gamepad_data[padindex];\n  if (!gpd) {\n    return 0;\n  }\n  let ps = pad_states[padindex];\n\n  r += ANALOG_MAP[padcode] && fn(gpd, ps, ANALOG_MAP[padcode]) || 0;\n  r += fn(gpd, ps, padcode);\n  return r;\n}\nexport function padButtonDown(padcode, padindex) {\n  return padButtonShared(padButtonDownInternal, padcode, padindex);\n}\nexport function padButtonDownEdge(padcode, padindex) {\n  return padButtonShared(padButtonDownEdgeInternal, padcode, padindex);\n}\nexport function padButtonUpEdge(padcode, padindex) {\n  return padButtonShared(padButtonUpEdgeInternal, padcode, padindex);\n}\n\nlet start_pos = vec2();\nlet cur_pos = vec2();\nlet delta = vec2();\n\nexport function mouseUpEdge(param) {\n  param = param || {};\n  let pos_param = mousePosParam(param);\n  let button = pos_param.button;\n  let max_click_dist = param.max_dist || 50; // TODO: relative to camera distance?\n\n  for (let touch_id in touches) {\n    let touch_data = touches[touch_id];\n    if (!touch_data.up_edge) {\n      continue;\n    }\n    if (!(button === ANY || button === touch_data.button) ||\n      touch_data.total > max_click_dist\n    ) {\n      continue;\n    }\n    if (checkPos(touch_data.cur_pos, pos_param)) {\n      if (!param.peek) {\n        touch_data.up_edge = 0;\n      }\n      return {\n        button: touch_data.button,\n        pos: check_pos.slice(0),\n        start_time: touch_data.start_time,\n      };\n    }\n  }\n\n  if (param.in_event_cb && !input_eaten_mouse && !mouse_over_captured) {\n    // TODO: Maybe need to also pass along earlier exclusions?  Working okay for now though.\n    if (!param.phys) {\n      param.phys = {};\n    }\n    param.phys.button = typeof param.in_event_button === 'number' ? param.in_event_button : button;\n    camera2d.virtualToDomPosParam(param.phys, pos_param);\n    in_event.on('mouseup', param.phys, param.in_event_cb);\n  }\n  return false;\n}\nexports.click = mouseUpEdge;\n\nexport function mouseDownEdge(param) {\n  param = param || {};\n  let pos_param = mousePosParam(param);\n  let button = pos_param.button;\n\n  for (let touch_id in touches) {\n    let touch_data = touches[touch_id];\n    if (!touch_data.down_edge ||\n      !(button === ANY || button === touch_data.button)\n    ) {\n      continue;\n    }\n    if (checkPos(touch_data.cur_pos, pos_param)) {\n      if (!param.peek) {\n        touch_data.down_edge = 0;\n      }\n      return {\n        button: touch_data.button,\n        pos: check_pos.slice(0),\n        start_time: touch_data.start_time,\n      };\n    }\n  }\n\n  if (param.in_event_cb && !input_eaten_mouse && !mouse_over_captured) {\n    // TODO: Maybe need to also pass along earlier exclusions?  Working okay for now though.\n    if (!param.phys) {\n      param.phys = {};\n    }\n    param.phys.button = button;\n    camera2d.virtualToDomPosParam(param.phys, pos_param);\n    in_event.on('mousedown', param.phys, param.in_event_cb);\n  }\n  return false;\n}\n\n// Completely consume any clicks or drags coming from a mouse down event in this\n// area - used to catch focus leaving an edit box without wanting to do what\n// a click would normally do.\nexport function mouseConsumeClicks(param) {\n  param = param || {};\n  let pos_param = mousePosParam(param);\n  let button = pos_param.button;\n  for (let touch_id in touches) {\n    let touch_data = touches[touch_id];\n    // Skipping those that already dispatched a drag this frame, must have been handled, do not consume it!\n    if (!(button === ANY || button === touch_data.button) || touch_data.dispatched_drag) {\n      continue;\n    }\n    if (checkPos(touch_data.start_pos, pos_param)) {\n      touch_data.down_edge = 0;\n      // Set start pos so that it will not pass checkPos\n      touch_data.start_pos[0] = touch_data.start_pos[1] = Infinity;\n      // Set .total so that mouseUpEdge will not detect it as a click\n      touch_data.total = Infinity;\n    }\n  }\n}\n\nexport function drag(param) {\n  param = param || {};\n  let pos_param = mousePosParam(param);\n  let button = pos_param.button;\n  let min_dist = param.min_dist || 0;\n\n  for (let touch_id in touches) {\n    let touch_data = touches[touch_id];\n    if (!(button === ANY || button === touch_data.button) || touch_data.dispatched_drag) {\n      continue;\n    }\n    if (checkPos(touch_data.start_pos, pos_param)) {\n      camera2d.domDeltaToVirtual(delta, [touch_data.total/2, touch_data.total/2]);\n      let total = delta[0] + delta[1];\n      if (total < min_dist) {\n        continue;\n      }\n      if (!param.peek) {\n        touch_data.dispatched_drag = true;\n      }\n      let is_down_edge = touch_data.down_edge;\n      if (param.eat_clicks) {\n        touch_data.down_edge = touch_data.up_edge = 0;\n      }\n      if (param.payload) {\n        touch_data.drag_payload = param.payload;\n      }\n      camera2d.domToVirtual(start_pos, touch_data.start_pos);\n      camera2d.domToVirtual(cur_pos, touch_data.cur_pos);\n      camera2d.domDeltaToVirtual(delta, touch_data.delta);\n      return {\n        cur_pos,\n        start_pos,\n        delta, // this frame's delta\n        total, // total (linear) distance dragged\n        button: touch_data.button,\n        touch: touch_data.touch,\n        start_time: touch_data.start_time,\n        is_down_edge,\n        down_time: touch_data.down_time,\n      };\n    }\n  }\n  return null;\n}\n\n// a lot like drag(), refactor to share more?\nexport function longPress(param) {\n  param = param || {};\n  let pos_param = mousePosParam(param);\n  let button = pos_param.button;\n  let max_dist = param.max_dist || 0;\n  let min_time = param.min_time || 500;\n\n  for (let touch_id in touches) {\n    let touch_data = touches[touch_id];\n    if (!(button === ANY || button === touch_data.button) || touch_data.long_press_dispatched) {\n      continue;\n    }\n    if (checkPos(touch_data.start_pos, pos_param)) {\n      camera2d.domDeltaToVirtual(delta, [touch_data.total/2, touch_data.total/2]);\n      let total = delta[0] + delta[1];\n      if (total > max_dist) {\n        continue;\n      }\n      let time = Date.now() - touch_data.start_time;\n      if (time < min_time) {\n        continue;\n      }\n      if (!param.peek) {\n        // ? touch_data.dispatched = true;\n        touch_data.long_press_dispatched = true;\n      }\n      let is_down_edge = touch_data.down_edge;\n      if (param.eat_clicks) {\n        touch_data.down_edge = touch_data.up_edge = 0;\n      }\n      camera2d.domToVirtual(start_pos, touch_data.start_pos);\n      camera2d.domToVirtual(cur_pos, touch_data.cur_pos);\n      camera2d.domDeltaToVirtual(delta, touch_data.delta);\n      return {\n        long_press: true,\n        cur_pos,\n        start_pos,\n        delta, // this frame's delta\n        total, // total (linear) distance dragged\n        button: touch_data.button,\n        touch: touch_data.touch,\n        start_time: touch_data.start_time,\n        is_down_edge,\n        down_time: touch_data.down_time,\n      };\n    }\n  }\n  return null;\n}\n\nexport function dragDrop(param) {\n  param = param || {};\n  let pos_param = mousePosParam(param);\n  let button = pos_param.button;\n\n  for (let touch_id in touches) {\n    let touch_data = touches[touch_id];\n    // Maybe touch_data.dispatched_drag_over instead/as well?\n    if (!(button === ANY || button === touch_data.button) || touch_data.dispatched || !touch_data.drag_payload) {\n      continue;\n    }\n    if (!touch_data.up_edge) {\n      continue;\n    }\n    if (checkPos(touch_data.cur_pos, pos_param)) {\n      if (!param.peek) {\n        // don't want the source (possibly called later this frame) to still think it's dragging\n        touch_data.dispatched_drag_over = true;\n        touch_data.dispatched_drag = true;\n        touch_data.dispatched = true;\n      }\n      return { drag_payload: touch_data.drag_payload };\n    }\n  }\n  return null;\n}\n\nexport function dragOver(param) {\n  param = param || {};\n  let pos_param = mousePosParam(param);\n  let button = pos_param.button;\n\n  for (let touch_id in touches) {\n    let touch_data = touches[touch_id];\n    if (!(button === ANY || button === touch_data.button) ||\n      touch_data.dispatched_drag_over ||\n      !touch_data.drag_payload\n    ) {\n      continue;\n    }\n    if (touch_data.state !== DOWN) {\n      continue;\n    }\n    if (checkPos(touch_data.cur_pos, pos_param)) {\n      // Separate 'dispatched' for dragOver (target) and drag (source) - they both need one dispatch per frame\n      if (!param.peek) {\n        touch_data.dispatched_drag_over = true;\n      }\n      camera2d.domToVirtual(cur_pos, touch_data.cur_pos);\n      return {\n        cur_pos,\n        drag_payload: touch_data.drag_payload\n      };\n    }\n  }\n  return null;\n}\n","// Portions Copyright 2020 Jimb Esser (https://github.com/Jimbly/)\n// Released under MIT License: https://opensource.org/licenses/MIT\n\nconst engine = require('./engine.js');\nconst camera2d = require('./camera2d.js');\nconst in_event = require('./in_event.js');\nconst input = require('./input.js');\nconst { abs } = Math;\nconst ui = require('./ui.js');\n\nlet state_cache = {};\nlet good_url = /https?:\\/\\//;\n\n// Create an invisible A elem in the DOM so we get all of the good browsery\n// behavior for a link area.\nexport function link(param) {\n  let { x, y, w, h, url, internal, allow_modal } = param;\n  if (!url.match(good_url)) {\n    url = `${document.location.protocol}//${url}`;\n  }\n  let key = `${x}_${y}`;\n  let state = state_cache[key];\n  if (!state) {\n    state = state_cache[key] = { clicked: false };\n  }\n  let elem = ui.getElem(allow_modal, state.elem);\n  state.frame = engine.frame_index;\n  if (elem !== state.elem) {\n    state.elem = elem;\n    if (elem) {\n      // new DOM element, initialize\n      elem.textContent = '';\n      let a_elem = document.createElement('a');\n      a_elem.setAttribute('draggable', false);\n      a_elem.textContent = ' ';\n      a_elem.className = 'glovui_link noglov';\n      a_elem.setAttribute('target', '_blank');\n      a_elem.setAttribute('href', url);\n      state.url = url;\n      if (internal) {\n        let down_x;\n        let down_y;\n        input.handleTouches(a_elem);\n        a_elem.onmousedown = function (ev) {\n          down_x = ev.pageX;\n          down_y = ev.pageY;\n        };\n        a_elem.onclick = function (ev) {\n          ev.preventDefault();\n          if (down_x) {\n            let dist = abs(ev.pageX - down_x) + abs(ev.pageY - down_y);\n            if (dist > 50) {\n              return;\n            }\n          }\n          state.clicked = true;\n          in_event.handle('mouseup', ev);\n        };\n      }\n      elem.appendChild(a_elem);\n      state.a_elem = a_elem;\n    }\n  }\n  if (elem) {\n    if (url !== state.url) {\n      state.a_elem.setAttribute('href', url);\n      state.url = url;\n    }\n\n    let pos = camera2d.htmlPos(x, y);\n    elem.style.left = `${pos[0]}%`;\n    elem.style.top = `${pos[1]}%`;\n    let size = camera2d.htmlSize(w, h);\n    elem.style.width = `${size[0]}%`;\n    elem.style.height = `${size[1]}%`;\n  }\n  let clicked = state.clicked;\n  state.clicked = false;\n  return clicked;\n}\n\nexport function linkText(param) {\n  let { style_link, style_link_hover, x, y, z, font_size, text, url } = param;\n  text = text || url;\n  z = z || Z.UI;\n  font_size = font_size || ui.font_height;\n  // Also: any parameter to link(), e.g. url\n  let w = ui.font.getStringWidth(style_link, font_size, text);\n  let h = font_size;\n  let mouseover = input.mouseOver({ x, y, w, h, peek: true }) && !input.mousePosIsTouch();\n  let style = mouseover ? style_link_hover : style_link;\n  ui.font.drawSized(style, x, y, z, font_size, text);\n  let underline_w = 1;\n  ui.drawLine(x, y + h - underline_w, x + w, y + h - underline_w, z - 0.5, underline_w, 0.99, style.color_vec4);\n  param.w = w;\n  param.h = h;\n  return link(param);\n}\n\nexport function linkTick() {\n  for (let key in state_cache) {\n    let state = state_cache[key];\n    if (state.frame !== engine.frame_index - 1) {\n      delete state_cache[key];\n    }\n  }\n}\n","// Portions Copyright 2019 Jimb Esser (https://github.com/Jimbly/)\n// Released under MIT License: https://opensource.org/licenses/MIT\n/* eslint-env browser */\n\nexports.storage_prefix = 'demo';\n\nlet lsd = (function () {\n  try {\n    localStorage.test = 'test';\n    return localStorage;\n  } catch (e) {\n    return {};\n  }\n}());\nexport function get(key) {\n  key = `${exports.storage_prefix}_${key}`;\n  let ret = lsd[key];\n  if (ret === 'undefined') {\n    ret = undefined;\n  }\n  return ret;\n}\n\nexport function set(key, value) {\n  key = `${exports.storage_prefix}_${key}`;\n  if (value === undefined || value === null) {\n    delete lsd[key];\n  } else {\n    lsd[key] = value;\n  }\n}\n\nexport function setJSON(key, value) {\n  set(key, JSON.stringify(value));\n}\n\nexport function getJSON(key, def) {\n  let value = get(key);\n  if (value === undefined) {\n    return def;\n  }\n  try {\n    return JSON.parse(value);\n  } catch (e) {\n    // ignore\n  }\n  return def;\n}\n\nexport function clearAll(key_prefix) {\n  let prefix = new RegExp(`^${exports.storage_prefix}_${key_prefix || ''}`, 'u');\n  for (let key in lsd) {\n    if (key.match(prefix)) {\n      delete lsd[key];\n    }\n  }\n}\n\nexport function exportAll() {\n  let obj = {};\n  let prefix = new RegExp(`^${exports.storage_prefix}_(.*)`, 'u');\n  for (let key in lsd) {\n    let m = key.match(prefix);\n    if (m) {\n      let v = lsd[key];\n      if (v && v !== 'undefined') {\n        obj[m[1]] = v;\n      }\n    }\n  }\n  return JSON.stringify(obj);\n}\n\nexport function importAll(serialized) {\n  let obj = JSON.parse(serialized);\n  clearAll();\n  for (let key in obj) {\n    set(key, obj[key]);\n  }\n}\n","// Portions Copyright 2019 Jimb Esser (https://github.com/Jimbly/)\n// Released under MIT License: https://opensource.org/licenses/MIT\n// Some code from Turbulenz: Copyright (c) 2012-2013 Turbulenz Limited\n// Released under MIT License: https://opensource.org/licenses/MIT\n\nexport function mat43() {\n  let r = new Float32Array(12);\n  r[0] = r[4] = r[8] = 1;\n  return r;\n}\n\nexport function m43identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 1;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  out[9] = 0;\n  out[10] = 0;\n  out[11] = 0;\n}\n\nexport function m43mul(out, a, b) {\n  let a0 = a[0];\n  let a1 = a[1];\n  let a2 = a[2];\n  let a3 = a[3];\n  let a4 = a[4];\n  let a5 = a[5];\n  let a6 = a[6];\n  let a7 = a[7];\n  let a8 = a[8];\n  let a9 = a[9];\n  let a10 = a[10];\n  let a11 = a[11];\n\n  let b0 = b[0];\n  let b1 = b[1];\n  let b2 = b[2];\n  let b3 = b[3];\n  let b4 = b[4];\n  let b5 = b[5];\n  let b6 = b[6];\n  let b7 = b[7];\n  let b8 = b[8];\n\n  out[0] = (b0 * a0 + b3 * a1 + b6 * a2);\n  out[1] = (b1 * a0 + b4 * a1 + b7 * a2);\n  out[2] = (b2 * a0 + b5 * a1 + b8 * a2);\n  out[3] = (b0 * a3 + b3 * a4 + b6 * a5);\n  out[4] = (b1 * a3 + b4 * a4 + b7 * a5);\n  out[5] = (b2 * a3 + b5 * a4 + b8 * a5);\n  out[6] = (b0 * a6 + b3 * a7 + b6 * a8);\n  out[7] = (b1 * a6 + b4 * a7 + b7 * a8);\n  out[8] = (b2 * a6 + b5 * a7 + b8 * a8);\n  out[9] = (b0 * a9 + b3 * a10 + b6 * a11 + b[9]);\n  out[10] = (b1 * a9 + b4 * a10 + b7 * a11 + b[10]);\n  out[11] = (b2 * a9 + b5 * a10 + b8 * a11 + b[11]);\n\n  return out;\n}\n","// Portions Copyright 2019 Jimb Esser (https://github.com/Jimbly/)\n// Released under MIT License: https://opensource.org/licenses/MIT\n/* eslint-env browser */\n\n/*\n  Convert models to GLB with:\n  node_modules\\.bin\\gltf-pipeline.cmd -t -i src/client/models/box.gltf -o src/client/models/box.glb\n  // The -t tells it not to embed the textures, but just leave the URIs\n */\n\nconst assert = require('assert');\nconst geom = require('./geom.js');\nconst glb_parser = require('./glb/parser.js');\nconst { ATTRIBUTE_TYPE_TO_COMPONENTS } = require('./glb/gltf-type-utils.js');\nconst renderer = require('./engine.js');\nconst shaders = require('./shaders.js');\nconst textures = require('./textures.js');\nconst { vec4 } = require('./vmath.js');\nconst { webFSGetFile } = require('./webfs.js');\n\nexport let load_count = 0;\n\nexport let models = {};\n\nexport let default_vshader;\nexport let default_fshader;\n\nfunction initShaders() {\n  default_vshader = shaders.create('glov/shaders/default.vp');\n  default_fshader = shaders.create('glov/shaders/default.fp');\n}\n\nfunction Model(url) {\n  this.url = url;\n  let idx = url.lastIndexOf('/');\n  if (idx !== -1) {\n    this.base_url = url.slice(0, idx + 1);\n  } else {\n    this.base_url = '';\n  }\n}\n\nModel.prototype.load = function () {\n  ++load_count;\n  let xhr = new XMLHttpRequest();\n  xhr.open('GET', this.url, true);\n  xhr.responseType = 'arraybuffer';\n  xhr.onload = () => {\n    --load_count;\n    try {\n      let array_buffer = xhr.response; // Note: not xhr.responseText\n      if ((xhr.status === 200 || xhr.status === 0) && array_buffer) {\n        this.parse(array_buffer);\n      }\n    } catch (e) {\n      window.onerror('Model loading error', 'models.js', 0, 0, e);\n    }\n  };\n  xhr.send(null);\n};\n\nconst skip_attr = {\n  'TANGENT': true,\n};\n\nModel.prototype.parse = function (glb_data) {\n  let glb = glb_parser.parse(glb_data);\n  if (!glb) {\n    return;\n  }\n  // Make Geoms for each primitives within each mesh\n  let glb_json = glb.getJSON();\n  let objs = [];\n  for (let ii = 0; ii < glb_json.meshes.length; ++ii) {\n    let mesh = glb_json.meshes[ii];\n    for (let jj = 0; jj < mesh.primitives.length; ++jj) {\n      let primitives = mesh.primitives[jj];\n      let material = glb_json.materials[primitives.material];\n      let texture = null;\n      if (material) {\n        // Just grabbing the base color texture, nothing else\n        let bct = (material.pbrMetallicRoughness || {}).baseColorTexture || {};\n        let texture_def = glb_json.textures && glb_json.textures[bct.index] || {};\n        let sampler_def = glb_json.samplers && glb_json.samplers[texture_def.sampler] || {};\n        let image = glb_json.images && glb_json.images[texture_def.source] || {};\n        if (image.uri) {\n          let params = {\n            url: `${this.base_url}${image.uri}`,\n            filter_mag: sampler_def.magFilter,\n            filter_min: sampler_def.minFilter,\n            wrap_s: sampler_def.wrapS,\n            wrap_t: sampler_def.wrapT,\n          };\n          texture = textures.load(params);\n        }\n      }\n      let format = [];\n      let buffers = [];\n      let bidx = [];\n      let total_size = 0;\n      let vert_count = 0;\n      for (let attr in primitives.attributes) {\n        if (skip_attr[attr]) {\n          continue;\n        }\n        assert(shaders.semantic[attr] !== undefined);\n        let accessor = glb_json.accessors[primitives.attributes[attr]];\n        assert.equal(accessor.componentType, 5126); // F32\n        let geom_format = gl.FLOAT;\n        let geom_count = ATTRIBUTE_TYPE_TO_COMPONENTS[accessor.type];\n        assert(geom_count);\n        let my_vert_count = accessor.count/* / geom_count*/;\n        if (!vert_count) {\n          vert_count = my_vert_count;\n        } else {\n          assert.equal(vert_count, my_vert_count);\n        }\n        format.push([shaders.semantic[attr], geom_format, geom_count]);\n        let buffer = glb.getBuffer(accessor);\n        buffers.push(buffer);\n        bidx.push(0);\n        total_size += buffer.length;\n      }\n      // Interleave\n      let verts = new Float32Array(total_size);\n      let idx = 0;\n      for (let vert = 0; vert < vert_count; ++vert) {\n        for (let attr = 0; attr < format.length; ++attr) {\n          for (let kk = 0; kk < format[attr][2]; ++kk) {\n            verts[idx++] = buffers[attr][bidx[attr]++];\n          }\n        }\n      }\n      // Get indices\n      let accessor = glb_json.accessors[primitives.indices];\n      assert(accessor); // must be an indexed primitive set\n      assert.equal(accessor.type, 'SCALAR');\n      let idxs = glb.getBuffer(accessor);\n      if (accessor.componentType === 5125) { // Uint32\n        assert(vert_count < 65536); // Fits in 16-bits\n        // Just convert to 16-bit\n        idxs = new Uint16Array(idxs);\n      } else {\n        assert.equal(accessor.componentType, 5123); // Uint16\n      }\n      objs.push({\n        geom: geom.create(format, verts, idxs, primitives.mode),\n        texture,\n      });\n    }\n  }\n  // TODO: Something with nodes to tie together and position the meshes\n  this.data = {\n    objs,\n    // glb, - Don't keep this, release it and any unreferenced data/buffers\n  };\n};\n\nModel.prototype.draw = function (mat) {\n  renderer.updateMatrices(mat); // before setting shader\n  shaders.bind(default_vshader, default_fshader, {\n    color: vec4(1, 1, 1, 1),\n  });\n  let objs = this.data.objs;\n  for (let ii = 0; ii < objs.length; ++ii) {\n    let obj = objs[ii];\n    if (obj.texture) {\n      textures.bind(0, obj.texture);\n    }\n    obj.geom.draw();\n  }\n};\n\n// Just draw the geometry, without any other binding\nModel.prototype.drawGeom = function () {\n  let objs = this.data.objs;\n  for (let ii = 0; ii < objs.length; ++ii) {\n    let obj = objs[ii];\n    obj.geom.draw();\n  }\n};\n\nexport function load(url) {\n  if (models[url]) {\n    return models[url];\n  }\n  let model = models[url] = new Model(url);\n  model.data = models.box.data; // stub until loaded\n  model.load();\n  return model;\n}\n\nexport function startup() {\n  initShaders();\n  let model_box = models.box = new Model('box');\n  model_box.parse(webFSGetFile('glov/models/box_textured_embed.glb').buffer);\n}\n","// Portions Copyright 2019 Jimb Esser (https://github.com/Jimbly/)\n// Released under MIT License: https://opensource.org/licenses/MIT\n\nconst { filewatchStartup } = require('./filewatch.js');\nconst packet = require('../../common/packet.js');\nconst subscription_manager = require('./subscription_manager.js');\nconst WSClient = require('./wsclient.js').WSClient;\nconst wscommon = require('../../common/wscommon.js');\n\nlet client;\nlet subs;\n\nexport function init(params) {\n  params = params || {};\n  if (params.pver) {\n    wscommon.PROTOCOL_VERSION = params.pver;\n  }\n  if (String(document.location).match(/^https?:\\/\\/localhost/)) {\n    console.log('PacketDebug: ON');\n    packet.default_flags |= packet.PACKET_DEBUG;\n  }\n  client = new WSClient(params.path);\n  subs = subscription_manager.create(client, params.cmd_parse);\n  subs.auto_create_user = Boolean(params.auto_create_user);\n  window.subs = subs; // for debugging\n  exports.subs = subs;\n  exports.client = client;\n  filewatchStartup(client);\n\n  if (params.engine) {\n    params.engine.addTickFunc((dt) => {\n      subs.tick(dt);\n    });\n  }\n}\n\nconst build_timestamp_string = new Date(Number(BUILD_TIMESTAMP))\n  .toISOString()\n  .replace('T', ' ')\n  .slice(0, -8);\nexport function buildString() {\n  return build_timestamp_string;\n}\n","// Portions Copyright 2019 Jimb Esser (https://github.com/Jimbly/)\n// Released under MIT License: https://opensource.org/licenses/MIT\n\n//////////////////////////////////////////////////////////////////////////\n// Particle System Spec\n\n/*\n// Definitions\n// value = number or\n// value = [base, add_max] -> generates a number in the range [base, base + add_max)\nlet def_fire = {\n  particles: {\n    fire: {\n      blend: 'additive',\n      texture: 'fire.png',\n      color: [1,1,1,1], // multiplied by animation track, default 1,1,1,1, can be omitted\n      color_track: [ // just values, NOT random range\n        { t: 0.0, v: [1,0.4,0.4,1] },\n        { t: 0.7, v: [1,0,0,1] },\n        { t: 0.9, v: [0.2,0,0,1] },\n        { t: 1.0, v: [0,0,0,1] },\n      ],\n      size: [[32,16], [32,16]], // multiplied by animation track\n      size_track: [ // just values, NOT random range\n        { t: 0.0, v: [1,1] },\n        { t: 0.4, v: [0.5,0.5] },\n        { t: 0.7, v: [1,1] },\n        { t: 1.0, v: [1.5,1.5] },\n      ],\n      accel: [0,0],\n      rot: [0,360], // degrees\n      rot_vel: [10,2], // degrees per second\n      lifespan: [450,0], // milliseconds\n      kill_time_accel: 5,\n    },\n  },\n  emitters: {\n    fire: {\n      particle: 'fire',\n      // Random ranges affect each emitted particle:\n      pos: [[0,28], [0,28]],\n      vel: [0,0],\n      emit_rate: [60,20], // emissions per second\n      // Random ranges only calculated upon instantiation:\n      emit_time: [0,Infinity],\n      emit_initial: 10,\n    },\n  },\n  system_lifespan: Infinity, // must be manually killed\n};\n\n// Usage\nlet system = glov_engine.glov_particles.createSystem(def_fire, [50, 50, Z.PARTICLES]);\nsystem.updatePos(75, 75);\nsystem.killSoft(); // stops emitting and speeds up particles by kill_time_accel\nsystem.killHard(); // immediately stops drawing\n\n*/\n\n//////////////////////////////////////////////////////////////////////////\n// Implementation\n\nconst assert = require('assert');\nconst sprites = require('./sprites.js');\nconst textures = require('./textures.js');\nconst { vec2, v2copy, v2lerp, v2mul } = require('./vmath.js');\nconst { vec3, vec4, v3add, v4copy, v4lerp, v4mul } = require('./vmath.js');\n\nconst blend_map = {\n  alpha: sprites.BLEND_ALPHA,\n  additive: sprites.BLEND_ADDITIVE,\n};\n\nexport function preloadParticleData(particle_data) {\n  // Preload all referenced particle textures\n  for (let key in particle_data.defs) {\n    let def = particle_data.defs[key];\n    for (let part_name in def.particles) {\n      let part_def = def.particles[part_name];\n      textures.load({ url: `img/${part_def.texture}.png` });\n    }\n  }\n}\n\n// Expect all values to be a pair of [base, add_max]\nfunction normalizeValue(v) {\n  if (v instanceof Float32Array && v.length >= 2) {\n    return v;\n  } else if (typeof v === 'number') {\n    return vec2(v, 0);\n  } else if (Array.isArray(v) || v instanceof Float32Array) {\n    // already an array, convert to Vec2\n    return vec2(v[0] || 0, v[1] || 0);\n  } else {\n    return assert(false);\n  }\n}\n\nfunction normalizeValueVec(vec, length) {\n  assert(length);\n  assert(Array.isArray(vec));\n  let ret = new Array(length);\n  for (let ii = 0; ii < length; ++ii) {\n    ret[ii] = normalizeValue(vec[ii]);\n  }\n  return ret;\n}\n\nfunction normalizeParticle(def, particle_manager) {\n  if (!def.normalized) {\n    let norm = def.normalized = {\n      blend: blend_map[def.blend] || sprites.BLEND_ALPHA,\n      texture: textures.load({ url: def.texture ? `img/${def.texture}.png` : 'img/glov/util_circle.png' }),\n      color: normalizeValueVec(def.color || [1,1,1,1], 4),\n      color_track: null,\n      size: normalizeValueVec(def.size || [1,1], 2),\n      size_track: null,\n      accel: normalizeValueVec(def.accel || [0,0,0], 3),\n      rot: normalizeValue(def.rot || 0),\n      rot_vel: normalizeValue(def.rot || 0),\n      lifespan: normalizeValue(def.lifespan || 1000),\n      kill_time_accel: normalizeValue(def.kill_time_accel || 1),\n    };\n    assert(norm.kill_time_accel[0] >= 1); // cannot slow down on kill!\n    if (def.color_track && def.color_track.length) {\n      assert(def.color_track.length > 1);\n      norm.color_track = [];\n      for (let ii = 0; ii < def.color_track.length; ++ii) {\n        let e = def.color_track[ii];\n        assert(typeof e.t === 'number');\n        let arr = new Float32Array(5);\n        arr[0] = e.v[0];\n        arr[1] = e.v[1];\n        arr[2] = e.v[2];\n        arr[3] = e.v[3];\n        arr[4] = e.t;\n        norm.color_track.push(arr);\n      }\n    }\n    if (def.size_track && def.size_track.length) {\n      assert(def.size_track.length > 1);\n      norm.size_track = [];\n      for (let ii = 0; ii < def.size_track.length; ++ii) {\n        let e = def.size_track[ii];\n        assert(typeof e.t === 'number');\n        let arr = new Float32Array(3);\n        arr[0] = e.v[0];\n        arr[1] = e.v[1];\n        arr[2] = e.t;\n        norm.size_track.push(arr);\n      }\n    }\n  }\n  return def.normalized;\n}\n\nfunction findParticle(particles, name) {\n  assert(particles[name] !== undefined);\n  return particles[name];\n}\n\nfunction normalizeEmitter(def, part_map) {\n  if (!def.normalized) {\n    def.normalized = {\n      part_idx: findParticle(part_map, def.particle),\n      pos: normalizeValueVec(def.pos || [0,0,0], 3),\n      vel: normalizeValueVec(def.vel || [0,0,0], 3),\n      emit_rate: normalizeValue(def.emit_rate || 10),\n      emit_time: normalizeValueVec(def.emit_time || [0,Infinity], 2),\n      emit_initial: normalizeValue(def.emit_initial || 1),\n    };\n    // convert particles per second to ms per emission\n    let min = def.normalized.emit_rate[0];\n    let max = def.normalized.emit_rate[0] + def.normalized.emit_rate[1];\n    def.normalized.emit_rate[0] = 1000 / max;\n    def.normalized.emit_rate[1] = 1000 / min;\n    assert(def.normalized.emit_rate[0] > 1); // Not more than 1000 per second, that's ridic'.\n  }\n  return def.normalized;\n}\n\nfunction normalizeDef(def, particle_manager) {\n  if (!def.normalized) {\n    let norm = def.normalized = {\n      system_lifespan: normalizeValue(def.system_lifespan || Infinity),\n      particles: [],\n      emitters: [],\n    };\n    let part_map = {};\n    for (let key in def.particles) {\n      part_map[key] = norm.particles.length;\n      norm.particles.push(normalizeParticle(def.particles[key], particle_manager));\n    }\n    for (let key in def.emitters) {\n      norm.emitters.push(normalizeEmitter(def.emitters[key], part_map));\n    }\n  }\n  return def.normalized;\n}\n\nfunction instValue(v) {\n  return v[0] + Math.random() * v[1];\n}\nfunction instValueVec(v) {\n  let ret = new Float32Array(v.length);\n  for (let ii = 0; ii < v.length; ++ii) {\n    ret[ii] = instValue(v[ii]);\n  }\n  return ret;\n}\n\nlet temp_color = vec4();\nlet temp_color2 = vec4();\nlet temp_size = vec2();\nlet temp_size2 = vec2();\n// let temp_pos = v3allocZero();\n\nclass ParticleSystem {\n  constructor(parent, def_in, pos) {\n    assert(pos.length === 3);\n    this.parent = parent;\n    this.def = normalizeDef(def_in, parent);\n    this.system_lifespan = instValue(this.def.system_lifespan);\n    assert(this.system_lifespan > 0);\n    this.age = 0;\n    this.kill_hard = false;\n    this.kill_soft = false;\n    this.pos = vec3(pos[0], pos[1], pos[2]);\n    this.part_sets = [];\n    for (let ii = 0; ii < this.def.particles.length; ++ii) {\n      let def = this.def.particles[ii];\n      let part_set = {\n        def,\n        parts: [],\n      };\n      this.part_sets.push(part_set);\n    }\n    this.emitters = [];\n    // Instantiate emitters\n    for (let ii = 0; ii < this.def.emitters.length; ++ii) {\n      let def = this.def.emitters[ii];\n      let emitter = {\n        def,\n        emit_time: instValueVec(def.emit_time),\n        countdown: 0,\n        started: false,\n        stopped: false,\n      };\n      this.emitters.push(emitter);\n    }\n    // do initial tick for things that have an emit_time[0] of 0 and have an emit_initial\n    this.tick(0);\n  }\n\n  tickParticle(part, dt) { // eslint-disable-line class-methods-use-this\n    let def = part.def;\n    part.age += dt;\n    let age_norm = part.age / part.lifespan;\n    if (age_norm >= 1) {\n      return true;\n    }\n\n    // Pos, vel - incrementally computed\n    let dts = dt / 1000;\n    part.pos[0] += part.vel[0] * dts;\n    part.pos[1] += part.vel[1] * dts;\n    part.pos[2] += part.vel[2] * dts;\n    part.vel[0] += part.accel[0] * dts;\n    part.vel[1] += part.accel[1] * dts;\n    part.vel[2] += part.accel[2] * dts;\n\n    // Color, size, rot - explicitly computed\n    v4copy(temp_color, part.color, temp_color);\n    if (def.color_track) {\n      if (age_norm < def.color_track[0][4]) {\n        v4mul(temp_color, temp_color, def.color_track[0]);\n      } else if (age_norm >= def.color_track[def.color_track.length - 1][4]) {\n        v4mul(temp_color, temp_color, def.color_track[def.color_track.length - 1]);\n      } else {\n        for (let ii = 0; ii < def.color_track.length - 1; ++ii) {\n          if (age_norm >= def.color_track[ii][4] && age_norm < def.color_track[ii + 1][4]) {\n            let weight = (age_norm - def.color_track[ii][4]) / (def.color_track[ii + 1][4] - def.color_track[ii][4]);\n            v4lerp(temp_color2, weight, def.color_track[ii], def.color_track[ii + 1]);\n            v4mul(temp_color, temp_color, temp_color2);\n            break;\n          }\n        }\n      }\n    }\n\n    v2copy(temp_size, part.size);\n    if (def.size_track) {\n      if (age_norm < def.size_track[0][4]) {\n        v2mul(temp_size, temp_size, def.size_track[0]);\n      } else if (age_norm >= def.size_track[def.size_track.length - 1][4]) {\n        v2mul(temp_size, temp_size, def.size_track[def.size_track.length - 1]);\n      } else {\n        for (let ii = 0; ii < def.size_track.length - 1; ++ii) {\n          if (age_norm >= def.size_track[ii][4] && age_norm < def.size_track[ii + 1][4]) {\n            let weight = (age_norm - def.size_track[ii][4]) / (def.size_track[ii + 1][4] - def.size_track[ii][4]);\n            v2lerp(temp_size2, weight, def.size_track[ii], def.size_track[ii + 1]);\n            v2mul(temp_size, temp_size, temp_size2);\n            break;\n          }\n        }\n      }\n    }\n\n    // TODO: let rot = part.rot + part.age * part.rot_vel;\n\n    // TODO: draw using:\n    //   rot\n    let w = part.size[0];\n    let h = part.size[1];\n    let x = part.pos[0] - w/2;\n    let y = part.pos[1] - h/2;\n    let z = part.pos[2];\n    sprites.queueraw4([def.texture],\n      x, y, x, y + h, x + w, y + h, x + w, y, z, 0, 0, 1, 1,\n      temp_color, null, null, def.blend);\n\n    return false;\n  }\n\n  tickPartSet(dt_orig, part_set) {\n    //let def = part_set.def;\n    let parts = part_set.parts;\n    for (let ii = parts.length - 1; ii >= 0; --ii) {\n      let part = parts[ii];\n      let dt = this.kill_soft ? dt_orig * part.kill_time_accel : dt_orig;\n      if (this.tickParticle(part, dt)) {\n        parts[ii] = parts[parts.length - 1];\n        parts.pop();\n      }\n    }\n  }\n\n  emitParticle(init_dt, emitter) {\n    let emitter_def = emitter.def;\n    let part_set = this.part_sets[emitter_def.part_idx];\n    let def = part_set.def;\n    let pos = instValueVec(emitter_def.pos, 3);\n    v3add(pos, pos, this.pos);\n    // PERFTODO: Make the whole Particle just a data[] Float32Array\n    let part = {\n      def,\n      pos,\n      color: instValueVec(def.color, 4),\n      size: instValueVec(def.size, 4),\n      vel: instValueVec(emitter_def.vel, 3),\n      accel: instValueVec(def.accel, 3),\n      rot: instValue(def.rot),\n      rot_vel: instValue(def.rot_vel),\n      lifespan: instValue(def.lifespan),\n      kill_time_accel: instValue(def.kill_time_accel),\n      age: 0,\n    };\n    if (!this.tickParticle(part, init_dt)) {\n      part_set.parts.push(part);\n    }\n  }\n\n  tickEmitter(dt, emitter) {\n    let def = emitter.def;\n    // check for initial emission\n    if (!emitter.started && this.age >= emitter.emit_time[0]) {\n      emitter.started = true;\n      // ignore time before we started emitting\n      dt = this.age - emitter.emit_time[0];\n      let num = instValue(def.emit_initial);\n      for (let ii = 0; ii < num; ++ii) {\n        this.emitParticle(dt, emitter);\n      }\n      emitter.countdown = instValue(def.emit_rate);\n    }\n    if (emitter.started && !emitter.stopped) {\n      // should we stop?\n      let remaining_dt = dt;\n      let emit_dt = dt;\n      if (this.age >= emitter.emit_time[1]) {\n        emitter.stopped = true;\n        // Do not emit during time after we stopped\n        emit_dt -= this.age - emitter.emit_time[1];\n      }\n      // Emit dt's worth of particles\n      while (emit_dt >= emitter.countdown) {\n        emit_dt -= emitter.countdown;\n        remaining_dt -= emitter.countdown;\n        emitter.countdown = instValue(def.emit_rate);\n        this.emitParticle(remaining_dt, emitter);\n      }\n      emitter.countdown -= emit_dt;\n    }\n  }\n\n  tick(dt) {\n    if (this.kill_hard) {\n      return true;\n    }\n    // tick existing particles\n    for (let ii = this.part_sets.length - 1; ii >= 0; --ii) {\n      this.tickPartSet(dt, this.part_sets[ii]);\n    }\n    // advance time and spawn new ones (with partial ticks)\n    this.age += dt;\n    for (let ii = 0; ii < this.emitters.length; ++ii) {\n      this.tickEmitter(dt, this.emitters[ii]);\n    }\n\n    return this.age >= this.system_lifespan; // kill if past lifespan\n  }\n}\n\nclass ParticleManager {\n  constructor() {\n    this.systems = [];\n  }\n\n  createSystem(def, pos) {\n    let system = new ParticleSystem(this, def, pos);\n    this.systems.push(system);\n    return system;\n  }\n\n  tick(dt) {\n    for (let ii = this.systems.length - 1; ii >= 0; --ii) {\n      if (this.systems[ii].tick(dt)) {\n        this.systems[ii] = this.systems[this.systems.length - 1];\n        this.systems.pop();\n      }\n    }\n  }\n}\n\nexport function create() {\n  return new ParticleManager();\n}\n","// Portions Copyright 2019 Jimb Esser (https://github.com/Jimbly/)\n// Released under MIT License: https://opensource.org/licenses/MIT\n\nconst camera2d = require('./camera2d.js');\nconst { cmd_parse } = require('./cmds.js');\nconst engine = require('./engine.js');\nconst glov_font = require('./font.js');\nconst input = require('./input.js');\nconst { max } = Math;\nconst settings = require('./settings.js');\nconst ui = require('./ui.js');\nconst { vec4, v3copy } = require('./vmath.js');\n\nlet metrics = [];\n\nconst METRIC_PAD = 2;\n\nlet bg_default = vec4(0,0,0,0.5);\nlet bg_mouse_over = vec4(0,0,0,0.75);\nlet bg_fade = vec4();\n\n// referenced in engine.js\nsettings.register({\n  show_metrics: {\n    default_value: 1,\n    type: cmd_parse.TYPE_INT,\n    range: [0,1],\n  },\n  show_fps: {\n    label: 'Show FPS',\n    default_value: 1,\n    type: cmd_parse.TYPE_INT,\n    range: [0,3],\n  },\n  fps_graph: {\n    label: 'FPS Graph',\n    default_value: 0,\n    type: cmd_parse.TYPE_INT,\n    range: [0,1],\n  },\n});\n\ncmd_parse.register({\n  cmd: 'fps',\n  help: 'Toggles FPS display',\n  func: function (str, resp_func) {\n    if (settings.show_fps && settings.show_metrics || str === '0') {\n      settings.set('show_fps', 0);\n    } else {\n      settings.set('show_fps', 1);\n      settings.set('show_metrics', 1);\n    }\n    resp_func();\n  },\n});\n\nlet fps_style = glov_font.style({\n  outline_width: 2, outline_color: 0x00000080,\n  color: 0xFFFFFFff,\n});\n\nexport function addMetric(metric) {\n  if (metric.show_graph) {\n    metric.num_lines = metric.colors.length;\n    metric.history_size = metric.data.history.length / metric.num_lines;\n  }\n  metric.num_labels = Object.keys(metric.labels).length;\n  if (metric.interactable === undefined) {\n    metric.interactable = metric.num_labels > 1 || metric.show_graph;\n  }\n  metrics.push(metric);\n}\n\nfunction showMetric(y, metric) {\n  let font = engine.font;\n  let pad = METRIC_PAD;\n  let METRIC_VALUE_WIDTH = ui.font_height * 2.5;\n  let x = camera2d.x1Real() - METRIC_VALUE_WIDTH - pad;\n  let y0 = y;\n  y += pad;\n  let line_height = ui.font_height;\n  let max_label_w = 0;\n  let max_labels = settings[metric.show_stat];\n  let drew_any = false;\n  let alpha = 1;\n  for (let label in metric.labels) {\n    let value = metric.labels[label]();\n    if (value) {\n      let style = fps_style;\n      if (value.alpha) {\n        alpha = value.alpha;\n        value = value.value;\n        style = glov_font.styleAlpha(fps_style, alpha);\n      }\n      let label_w = font.drawSizedAligned(style, x, y, Z.FPSMETER + 1, line_height,\n        glov_font.ALIGN.HRIGHT, 0, 0, label);\n      max_label_w = max(max_label_w, label_w);\n      font.drawSizedAligned(style, x, y, Z.FPSMETER + 1, line_height,\n        glov_font.ALIGN.HFIT, METRIC_VALUE_WIDTH, 0, value);\n      y += line_height;\n      drew_any = true;\n    }\n    if (!--max_labels) {\n      break;\n    }\n  }\n  let w = METRIC_VALUE_WIDTH + max_label_w + METRIC_PAD;\n  x -= max_label_w + METRIC_PAD;\n\n  if (!drew_any) {\n    return y - pad;\n  }\n\n  y += pad;\n  let bg = bg_default;\n  let pos_param = {\n    x: x - pad,\n    y: y0,\n    w: w + pad * 2,\n    h: y - y0,\n  };\n  if (metric.interactable) {\n    if (input.mouseUpEdge(pos_param)) {\n      if (metric.num_labels > 1 && settings[metric.show_stat] <= 1) {\n        settings.set(metric.show_stat, metric.num_labels);\n      } else if (metric.show_graph && !settings[metric.show_graph]) {\n        settings.set(metric.show_graph, 1);\n      } else {\n        if (metric.show_graph) {\n          settings.set(metric.show_graph, 0);\n        }\n        settings.set(metric.show_stat, 1);\n      }\n    }\n    if (input.mouseOver(pos_param)) {\n      bg = bg_mouse_over;\n    }\n  }\n  if (alpha !== 1) {\n    bg_fade[3] = bg[3] * alpha;\n    bg = v3copy(bg_fade, bg);\n  }\n  ui.drawRect(pos_param.x, pos_param.y, pos_param.x + pos_param.w, y, Z.FPSMETER, bg);\n  return y;\n}\n\nfunction showMetricGraph(y, metric) {\n  const small = engine.game_height < 300;\n  const LINE_WIDTH = small ? 1 : 3;\n  const LINE_PAD = small ? 0 : 1;\n  const LINE_HEIGHT = small ? 64 : 128;\n  const NUM_LINES = metric.history_size - 1;\n  let w = (LINE_WIDTH + LINE_PAD) * NUM_LINES;\n  let x = camera2d.x1Real() - w;\n  let h = LINE_HEIGHT + LINE_PAD * 2;\n  let z = Z.FPSMETER;\n  ui.drawRect(x, y - h, x + w, y, z++, bg_default);\n  x += LINE_PAD;\n  y -= LINE_PAD;\n  let history_index = metric.data.index;\n  let line_scale = LINE_HEIGHT / metric.line_scale_top;\n  for (let ii = 0; ii < NUM_LINES; ii++) {\n    let line_index = ((ii + history_index + 1) % metric.history_size) * metric.num_lines;\n    let data = metric.data.history;\n    let bar_max = 0;\n    for (let jj = 0; jj < metric.num_lines; jj++) {\n      let line_jj = data[line_index + jj];\n      let bar_min;\n      if (metric.bars_stack) {\n        bar_min = bar_max;\n        bar_max += line_jj;\n      } else {\n        // bars overlap, figure out how big this bar should be relative to next smallest\n        let lesser = 0;\n        for (let kk = 0; kk < metric.num_lines; kk++) {\n          if (kk === jj) {\n            continue;\n          }\n          let line_kk = data[line_index + kk];\n          if ((line_kk < line_jj || line_kk === line_jj && kk < jj) && line_kk > lesser) {\n            lesser = line_kk;\n          }\n        }\n        bar_min = lesser;\n        bar_max = line_jj;\n      }\n      let color = metric.colors[jj];\n      ui.drawRect(x, y - bar_max * line_scale, x + LINE_WIDTH, y - bar_min * line_scale, z, color);\n    }\n    x += LINE_WIDTH + LINE_PAD;\n  }\n  z += NUM_LINES;\n  y -= LINE_HEIGHT + LINE_PAD;\n  return y;\n}\n\nexport function draw() {\n  camera2d.setAspectFixed(engine.game_width, engine.game_height);\n  let y = camera2d.y0Real();\n  let y_graph = camera2d.y1Real();\n  for (let ii = 0; ii < metrics.length; ++ii) {\n    let metric = metrics[ii];\n    if (settings[metric.show_stat]) {\n      y = showMetric(y, metric);\n      y += METRIC_PAD;\n    }\n    if (settings[metric.show_graph]) {\n      y_graph = showMetricGraph(y_graph, metric);\n      y_graph -= METRIC_PAD;\n    }\n  }\n}\n","// Portions Copyright 2019 Jimb Esser (https://github.com/Jimbly/)\n// Released under MIT License: https://opensource.org/licenses/MIT\n\nlet user_want_locked = false;\nlet elem;\nlet on_ptr_lock;\n\nexport function isLocked() {\n  return user_want_locked; // Either it's locked, or there's an async attempt to lock it outstanding\n}\n\nfunction pointerLog(msg) {\n  console.log(`PointerLock: ${msg}`); // TODO: Disable this after things settle\n}\n\nexport function exit() {\n  pointerLog('Lock exit requested');\n  user_want_locked = false;\n  document.exitPointerLock();\n}\n\nexport function enter(when) {\n  user_want_locked = true;\n  on_ptr_lock();\n  pointerLog(`Trying pointer lock in response to ${when}`);\n  elem.requestPointerLock();\n}\n\nfunction onPointerLockChange() {\n  if (document.pointerLockElement || document.mozPointerLockElement || document.webkitPointerLockElement) {\n    pointerLog('Lock successful');\n    if (!user_want_locked) {\n      pointerLog('User canceled lock');\n      document.exitPointerLock();\n    }\n  } else {\n    if (user_want_locked) {\n      pointerLog('Lock lost');\n      user_want_locked = false;\n    }\n  }\n}\n\nfunction onPointerLockError(e) {\n  pointerLog('Error');\n  user_want_locked = false;\n}\n\nexport function startup(_elem, _on_ptr_lock) {\n  elem = _elem;\n  on_ptr_lock = _on_ptr_lock;\n\n  elem.requestPointerLock = elem.requestPointerLock || elem.mozRequestPointerLock ||\n    elem.webkitRequestPointerLock || function () { /* nop */ };\n  document.exitPointerLock = document.exitPointerLock || document.mozExitPointerLock ||\n    document.webkitExitPointerLock || function () { /* nop */ };\n\n  document.addEventListener('pointerlockchange', onPointerLockChange, false);\n  document.addEventListener('mozpointerlockchange', onPointerLockChange, false);\n  document.addEventListener('webkitpointerlockchange', onPointerLockChange, false);\n\n  document.addEventListener('pointerlockerror', onPointerLockError, false);\n  document.addEventListener('mozpointerlockerror', onPointerLockError, false);\n  document.addEventListener('webkitpointerlockerror', onPointerLockError, false);\n}\n","/* eslint no-extend-native:off,no-invalid-this:off */\n\n// TypedArray.slice, fill, join, sort, etc - not supported on IE, some older Safari, older Android\nlet typedarrays = [Int8Array, Uint8Array, Int16Array, Uint16Array, Int32Array, Uint32Array, Float32Array];\n\nif (!Uint8Array.prototype.slice) {\n  typedarrays.forEach(function (ArrayType) {\n    Object.defineProperty(ArrayType.prototype, 'slice', {\n      value: function (begin, end) {\n        if (end === undefined) {\n          end = this.length;\n        }\n        if (end < 0) {\n          end = this.length - end;\n        }\n        begin = begin || 0;\n        if (begin >= this.length) {\n          begin = this.length - 1;\n        }\n        if (end > this.length) {\n          end = this.length;\n        }\n        if (end < begin) {\n          end = begin;\n        }\n        let len = end - begin;\n        let ret = new ArrayType(len);\n        for (let ii = begin; ii < end; ++ii) {\n          ret[ii] = this[ii];\n        }\n        return ret;\n      }\n    });\n  });\n}\n\nfunction cmpDefault(a, b) {\n  return a - b;\n}\nlet replacements = {\n  join: function (delim) {\n    return Array.prototype.join.call(this, delim);\n  },\n  fill: function (value, begin, end) {\n    if (end === undefined) {\n      end = this.length;\n    }\n    for (let ii = begin || 0; ii < end; ++ii) {\n      this[ii] = value;\n    }\n    return this;\n  },\n  sort: function (cmp) {\n    Array.prototype.sort.call(this, cmp || cmpDefault);\n  },\n};\n\nfor (let key in replacements) {\n  if (!Uint8Array.prototype[key]) {\n    typedarrays.forEach(function (ArrayType) {\n      Object.defineProperty(ArrayType.prototype, key, {\n        value: replacements[key],\n      });\n    });\n  }\n}\n\nif (!String.prototype.endsWith) {\n  Object.defineProperty(String.prototype, 'endsWith', {\n    value: function (test) {\n      return this.slice(-test.length) === test;\n    },\n  });\n  Object.defineProperty(String.prototype, 'startsWith', {\n    value: function (test) {\n      return this.slice(0, test.length) === test;\n    },\n  });\n}\n","// Portions Copyright 2019 Jimb Esser (https://github.com/Jimbly/)\n// Released under MIT License: https://opensource.org/licenses/MIT\n\n// Alea PRNG\n// Based on code from Johannes Baagøe <baagoe@baagoe.com>, 2010\n// From https://github.com/coverslide/node-alea/blob/master/alea.js, MIT Licensed\n// From http://baagoe.com/en/RandomMusings/javascript/\n\nexport function mashString(data) {\n  let n = 0xefc8249d;\n  for (let i = 0; i < data.length; i++) {\n    n += data.charCodeAt(i);\n    let h = 0.02519603282416938 * n;\n    n = h >>> 0;\n    h -= n;\n    h *= n;\n    n = h >>> 0;\n    h -= n;\n    n += h * 0x100000000; // 2^32\n  }\n  return n >>> 0;\n  // return (n >>> 0) * 2.3283064365386963e-10; // 2^-32\n}\n\nfunction Mash() {\n  this.n = 0xc06c5fc8; // 0xefc8249d;\n}\nMash.prototype.mash = function (data) {\n  let n = this.n + data;\n  let h = 0.02519603282416938 * n;\n  n = h >>> 0;\n  h -= n;\n  h *= n;\n  n = h >>> 0;\n  h -= n;\n  n += h * 0x100000000; // 2^32\n  this.n = n;\n  return (n >>> 0) * 2.3283064365386963e-10; // 2^-32\n};\n\nfunction Alea(seed) {\n  this.reseed(seed);\n}\nAlea.prototype.reseed = function (seed) {\n  // this.s0/s1/s2 are floating point between 0 and 1\n  // this.c is a 32-bit int\n  this.c = 1;\n  let mash = new Mash();\n  // Hard-coded results of initial mash(' ') found in original implementation\n  this.s0 = 0.3014581324532628;\n  this.s1 = 0.2643220406025648;\n  this.s2 = 0.7516536582261324;\n\n  this.s0 -= mash.mash(seed);\n  if (this.s0 < 0) {\n    this.s0 += 1;\n  }\n  this.s1 -= mash.mash(seed);\n  if (this.s1 < 0) {\n    this.s1 += 1;\n  }\n  this.s2 -= mash.mash(seed);\n  if (this.s2 < 0) {\n    this.s2 += 1;\n  }\n};\nAlea.prototype.step = function () {\n  let t = 2091639 * this.s0 + this.c * 2.3283064365386963e-10; // 2^-32\n  this.s0 = this.s1;\n  this.s1 = this.s2;\n  return (this.s2 = t - (this.c = t | 0));\n};\nAlea.prototype.uint32 = function () {\n  return this.step() * 0x100000000; // 2^32\n};\nAlea.prototype.fract53 = function () {\n  return this.step() +\n    (this.step() * 0x200000 | 0) * 1.1102230246251565e-16; // 2^-53\n};\nAlea.prototype.random = Alea.prototype.step;\nAlea.prototype.range = function (range) {\n  return (this.step() * range) | 0;\n};\nAlea.prototype.floatBetween = function (a, b) {\n  return a + (b - a) * this.random();\n};\n\n// Note: import/export probably needs more precision than F32 or JSON provide\n// Alea.prototype.exportState = function () {\n//   return [this.s0, this.s1, this.s2, this.c];\n// };\n// Alea.prototype.importState = function (i) {\n//   this.s0 = i[0];\n//   this.s1 = i[1];\n//   this.s2 = i[2];\n//   this.c = i[3];\n// };\n\nexport function randCreate(seed) {\n  return new Alea(seed);\n}\n","// Portions Copyright 2019 Jimb Esser (https://github.com/Jimbly/)\n// Released under MIT License: https://opensource.org/licenses/MIT\n\nconst { titleCase } = require('../../common/util.js');\nconst { cmd_parse } = require('./cmds.js');\n\nexports.true = true; // for perf.js\n\nexport function get(key) {\n  return exports[key];\n}\n\nexport function set(key, value) {\n  if (exports[key] !== value) {\n    cmd_parse.handle(null, `${key} ${value}`, null); // uses default cmd_parse handler\n  }\n}\n\nexport function register(defs) {\n  Object.keys(defs).forEach(function (key) {\n    let def = defs[key];\n    exports[key] = def.default_value;\n    cmd_parse.registerValue(key, {\n      type: def.type,\n      label: def.label || titleCase(key.replace(/_/g, ' ')),\n      range: def.range,\n      get: () => exports[key],\n      set: (v) => (exports[key] = v),\n      store: true,\n      ver: def.ver,\n      help: def.help,\n      usage: def.usage,\n    });\n  });\n}\n\nregister({\n  show_metrics: {\n    default_value: 1,\n    type: cmd_parse.TYPE_INT,\n    range: [0,1],\n  },\n  max_fps: {\n    label: 'Max FPS',\n    default_value: 0,\n    type: cmd_parse.TYPE_FLOAT,\n  },\n});\n","// Portions Copyright 2019 Jimb Esser (https://github.com/Jimbly/)\n// Released under MIT License: https://opensource.org/licenses/MIT\n\nconst assert = require('assert');\nconst engine = require('./engine.js');\nconst { filewatchOn } = require('./filewatch.js');\nconst { matchAll } = require('../../common/util.js');\nconst { texturesUnloadDynamic } = require('./textures.js');\nconst { webFSGetFile } = require('./webfs.js');\n\nlet last_id = 0;\n\nlet bound_prog = null;\n\nexport const semantic = {\n  'ATTR0': 0,\n  'POSITION': 0,\n  'ATTR1': 1,\n  'COLOR': 1,\n  'COLOR_0': 1,\n  'ATTR2': 2,\n  'TEXCOORD': 2,\n  'TEXCOORD_0': 2,\n  'ATTR3': 3,\n  'NORMAL': 3,\n  'ATTR4': 4,\n  'TEXCOORD_1': 4,\n};\n\nexport let globals;\nlet defines;\n\nlet error_fp;\nlet error_vp;\n\nlet shaders = [];\n\nconst vp_attr_regex = /attribute [^ ]+ ([^ ;]+);/g;\nconst uniform_regex = /uniform (?:(?:low|medium|high)p )?((?:(?:vec|mat)\\d(?:x\\d)?|float) [^ ;]+);/g;\nconst sampler_regex = /uniform sampler(?:2D|Cube) ([^ ;]+);/g;\nconst include_regex = /\\n#include \"([^\"]+)\"/g;\n\nconst type_size = {\n  float: 1,\n  vec2: 2*1,\n  vec3: 3*1,\n  vec4: 4*1,\n  mat3: 3*3,\n  mat4: 4*4,\n};\n\nlet includes = {};\n\nfunction loadInclude(key) {\n  let text = webFSGetFile(includes[key].filename, 'text');\n  includes[key].text = `\\n// from include \"${key}\":\\n${text}\\n`;\n}\n\nexport function addInclude(key, filename) {\n  assert(!includes[key]);\n  includes[key] = { filename };\n  loadInclude(key);\n}\n\nlet report_queued = false;\nlet shader_errors;\nfunction reportShaderError(err) {\n  function doReport() {\n    assert(false, `Shader error(s):\\n    ${shader_errors.join('\\n    ')}`);\n    shader_errors = null;\n  }\n  if (!report_queued) {\n    setTimeout(doReport, 1000);\n    report_queued = true;\n    shader_errors = [];\n  }\n  shader_errors.push(err);\n}\n\nfunction parseIncludes(text) {\n  let supplied_uniforms = {};\n  text.replace(uniform_regex, function (str, key) {\n    supplied_uniforms[key] = true;\n  });\n  text = text.replace(include_regex, function (str, filename) {\n    let replacement = includes[filename];\n    if (!replacement) {\n      console.error(`Could not evaluate ${str}`);\n      return str;\n    }\n    replacement = replacement.text;\n    // Remove duplicate uniforms\n    replacement = replacement.replace(uniform_regex, function (str2, key) {\n      if (supplied_uniforms[key]) {\n        return `// [removed ${key}]`;\n      }\n      supplied_uniforms[key] = true;\n      return str2;\n    });\n    return replacement;\n  });\n  return text;\n}\n\nconst webgl2_header = [\n  '#version 300 es',\n  '#define WEBGL2',\n].join('\\n');\nconst webgl2_header_fp = [\n  webgl2_header,\n  '#define varying in',\n  'out lowp vec4 fragColor;',\n  '#define gl_FragColor fragColor',\n  '#define texture2D texture',\n  '#define textureCube texture',\n  ''\n].join('\\n');\nconst webgl2_header_vp = [\n  webgl2_header,\n  '#define varying out',\n  '#define attribute in',\n  ''\n].join('\\n');\n\nfunction Shader(params) {\n  let { filename } = params;\n  assert.equal(typeof filename, 'string');\n  let type = filename.endsWith('.fp') ? gl.FRAGMENT_SHADER : filename.endsWith('.vp') ? gl.VERTEX_SHADER : 0;\n  assert(type);\n  this.type = type;\n  this.filename = filename;\n  this.shader = gl.createShader(type);\n  this.id = ++last_id;\n  if (type === gl.VERTEX_SHADER) {\n    this.programs = {};\n  }\n  shaders.push(this);\n  this.compile();\n}\n\nShader.prototype.compile = function () {\n  let { type, filename } = this;\n  let header = '';\n  let text = webFSGetFile(filename, 'text');\n  if (engine.webgl2 && text.indexOf('#pragma WebGL2') !== -1) {\n    header = type === gl.VERTEX_SHADER ? webgl2_header_vp : webgl2_header_fp;\n  }\n  text = `${header}${defines}${text}`;\n  text = parseIncludes(text);\n  text = text.replace(/#pragma WebGL2?/g, '');\n  if (type === gl.VERTEX_SHADER) {\n    this.attributes = matchAll(text, vp_attr_regex);\n    // Ensure they are known names so we can give them indices\n    // Add to semantic[] above as needed\n    this.attributes.forEach((v) => assert(semantic[v] !== undefined));\n  } else {\n    this.samplers = matchAll(text, sampler_regex);\n    // Ensure all samplers end in a unique number\n    let found = [];\n    this.samplers.forEach((v) => {\n      let num = Number(v.slice(-1));\n      assert(!isNaN(num));\n      assert(!found[num]);\n      found[num] = true;\n    });\n  }\n  this.uniforms = matchAll(text, uniform_regex);\n  // Ensure a known type\n  this.uniforms.forEach((v) => {\n    let type_name = v.split(' ')[0];\n    assert(type_size[type_name]);\n  });\n  gl.shaderSource(this.shader, text);\n  gl.compileShader(this.shader);\n\n  if (!gl.getShaderParameter(this.shader, gl.COMPILE_STATUS)) {\n    let error_text = gl.getShaderInfoLog(this.shader);\n    if (error_text) { // sometimes null on iOS\n      error_text = error_text.replace(/\\0/g, '').trim();\n    }\n    console.error(`Error compiling ${filename}: ${error_text}`);\n    reportShaderError(`${filename}: ${error_text}`);\n    // eslint-disable-next-line newline-per-chained-call\n    console.log(text.split('\\n').map((line, idx) => `${idx+1}: ${line}`).join('\\n'));\n  }\n};\n\nexport function create(filename) {\n  if (typeof filename === 'object') {\n    return new Shader(filename);\n  }\n  return new Shader({ filename });\n}\n\nfunction uniformSetValue(unif) {\n  switch (unif.width) { // eslint-disable-line default-case\n    case 1:\n      gl.uniform1fv(unif.location, unif.value);\n      break;\n    case 2:\n      gl.uniform2fv(unif.location, unif.value);\n      break;\n    case 3:\n      gl.uniform3fv(unif.location, unif.value);\n      break;\n    case 4:\n      gl.uniform4fv(unif.location, unif.value);\n      break;\n    case 9:\n      gl.uniformMatrix3fv(unif.location, false, unif.value);\n      break;\n    case 16:\n      gl.uniformMatrix4fv(unif.location, false, unif.value);\n      break;\n  }\n}\n\nfunction link(vp, fp) {\n  let prog = vp.programs[fp.id] = {\n    handle: gl.createProgram(),\n    uniforms: null,\n  };\n  if (!prog.handle) {\n    assert(false, `gl.createProgram() returned ${prog.handle}${gl.createProgram() ? ', retry would succeed' : ''}`);\n  }\n  gl.attachShader(prog.handle, vp.shader);\n  gl.attachShader(prog.handle, fp.shader);\n  // call this for all relevant semantic\n  for (let ii = 0; ii < vp.attributes.length; ++ii) {\n    gl.bindAttribLocation(prog.handle, semantic[vp.attributes[ii]], vp.attributes[ii]);\n  }\n  gl.linkProgram(prog.handle);\n\n  prog.valid = gl.getProgramParameter(prog.handle, gl.LINK_STATUS);\n  if (!prog.valid) {\n    reportShaderError(`Shader link error (${vp.filename} & ${fp.filename}): ${gl.getProgramInfoLog(prog.handle)}`);\n    console.error(`Shader link error: ${gl.getProgramInfoLog(prog.handle)}`);\n  }\n\n  gl.useProgram(prog.handle);\n  bound_prog = prog;\n\n  let uniforms = vp.uniforms.slice(0);\n  for (let ii = 0; ii < fp.uniforms.length; ++ii) {\n    let name = fp.uniforms[ii];\n    if (uniforms.indexOf(name) === -1) {\n      uniforms.push(name);\n    }\n  }\n  prog.uniforms = uniforms.map((v) => {\n    v = v.split(' ');\n    let type = v[0];\n    let name = v[1];\n    let count = 1;\n    let m = name.match(/([^[]+)\\[(\\d+)\\]/);\n    if (m) {\n      name = m[1];\n      count = Number(m[2]);\n    }\n    let location = gl.getUniformLocation(prog.handle, name);\n    if (location === null) {\n      // Not in either shader, (commented out?), remove (via filter below)\n      return null;\n    }\n    let width = type_size[type];\n    let size = width * count;\n    let glob = globals[name];\n    let value = new Float32Array(size);\n    // set initial value\n    let unif = {\n      name,\n      size,\n      width,\n      count,\n      value,\n      location,\n      glob,\n    };\n    uniformSetValue(unif);\n    return unif;\n  }).filter((v) => v);\n\n  for (let ii = 0; ii < fp.samplers.length; ++ii) {\n    let name = fp.samplers[ii];\n    let num = Number(name.slice(-1));\n    let location = gl.getUniformLocation(prog.handle, name);\n    if (location !== null) {\n      gl.uniform1i(location, num);\n    }\n  }\n  return prog;\n}\n\nexport function bind(vp, fp, params) {\n  let prog = vp.programs[fp.id];\n  if (!prog) {\n    prog = link(vp, fp);\n  }\n  if (!prog.valid) {\n    prog = link(vp, error_fp);\n    if (!prog.valid) {\n      prog = link(error_vp, error_fp);\n    }\n    vp.programs[fp.id] = prog;\n  }\n  if (prog !== bound_prog) {\n    bound_prog = prog;\n    gl.useProgram(prog.handle);\n  }\n  for (let ii = 0; ii < prog.uniforms.length; ++ii) {\n    let unif = prog.uniforms[ii];\n    let value = params[unif.name] || unif.glob;\n    if (!value) {\n      continue;\n    }\n    let diff = false;\n    for (let jj = 0; jj < unif.size; ++jj) {\n      if (value[jj] !== unif.value[jj]) {\n        diff = true;\n        break;\n      }\n    }\n    if (diff) {\n      for (let jj = 0; jj < unif.size; ++jj) {\n        unif.value[jj] = value[jj];\n      }\n      uniformSetValue(unif);\n    }\n  }\n}\n\nconst reserved = { WEBGL2: 1 };\nexport function addReservedDefine(key) {\n  reserved[key] = 1;\n}\nlet internal_defines = {};\nfunction applyDefines() {\n  defines = Object.keys(engine.defines).filter((v) => !reserved[v])\n    .concat(Object.keys(internal_defines))\n    .map((v) => `#define ${v}\\n`)\n    .join('');\n}\n\nfunction shaderReload() {\n  if (shaders.length) {\n    window.debugmsg('', true);\n    gl.useProgram(null);\n    for (let ii = 0; ii < shaders.length; ++ii) {\n      let programs = shaders[ii].programs;\n      if (programs) {\n        for (let id in programs) {\n          gl.deleteProgram(programs[id].handle);\n        }\n        shaders[ii].programs = {};\n      }\n    }\n    for (let ii = 0; ii < shaders.length; ++ii) {\n      shaders[ii].compile();\n    }\n    texturesUnloadDynamic();\n  }\n}\n\nexport function handleDefinesChanged() {\n  applyDefines();\n  shaderReload();\n}\n\nexport function setInternalDefines(new_values) {\n  for (let key in new_values) {\n    if (new_values[key]) {\n      internal_defines[key] = new_values[key];\n    } else {\n      delete internal_defines[key];\n    }\n  }\n  handleDefinesChanged();\n}\n\nfunction onShaderChange(filename) {\n  for (let key in includes) {\n    loadInclude(key);\n  }\n  shaderReload();\n}\n\nexport function startup(_globals) {\n  applyDefines();\n  globals = _globals;\n\n  error_fp = create('glov/shaders/error.fp');\n  error_vp = create('glov/shaders/error.vp');\n\n  filewatchOn('.fp', onShaderChange);\n  filewatchOn('.vp', onShaderChange);\n}\n\nexport function addGlobal(key, vec) {\n  assert(!globals[key]);\n  globals[key] = vec;\n}\n","// Portions Copyright 2019 Jimb Esser (https://github.com/Jimbly/)\n// Released under MIT License: https://opensource.org/licenses/MIT\n\nexport const FADE_DEFAULT = 0;\nexport const FADE_OUT = 1;\nexport const FADE_IN = 2;\nexport const FADE = FADE_OUT + FADE_IN;\n\nconst assert = require('assert');\nconst { cmd_parse } = require('./cmds.js');\nconst { filewatchOn } = require('./filewatch.js');\nconst { Howl, Howler } = require('@jimbly/howler/src/howler.core.js');\nconst { abs, floor, max, min, random } = Math;\nconst settings = require('./settings.js');\nconst urlhash = require('./urlhash.js');\nconst { defaults, ridx } = require('../../common/util.js');\n\nconst DEFAULT_FADE_RATE = 0.001;\n\nlet sounds = {};\nlet num_loading = 0;\n\n// Howler.usingWebAudio = false; // Disable WebAudio for testing HTML5 fallbacks\n\nconst default_params = {\n  ext_list: ['mp3', 'wav'], // (recommended) try loading .mp3 versions first, then fallback to .wav\n  //  also covers all browsers: ['webm', 'mp3']\n  fade_rate: DEFAULT_FADE_RATE,\n};\nlet sound_params;\n\nlet last_played = {};\nlet frame_timestamp = 0;\nlet fades = [];\nlet music;\n\nsettings.register({\n  volume: {\n    default_value: 1,\n    type: cmd_parse.TYPE_FLOAT,\n    range: [0,1],\n  },\n});\n\nsettings.register({\n  sound: {\n    default_value: 1,\n    type: cmd_parse.TYPE_INT,\n    range: [0,1],\n  },\n});\n\nsettings.register({\n  music: {\n    default_value: 1,\n    type: cmd_parse.TYPE_INT,\n    range: [0,1],\n  },\n});\n\nexport function soundLoad(base, opts, cb) {\n  opts = opts || {};\n  if (Array.isArray(base)) {\n    assert(!cb);\n    for (let ii = 0; ii < base.length; ++ii) {\n      soundLoad(base[ii], opts);\n    }\n    return;\n  }\n  let key = base;\n  if (sounds[key]) {\n    if (cb) {\n      cb();\n    }\n    return;\n  }\n  let m = base.match(/^(.*)\\.(mp3|ogg|wav|webm)$/u);\n  let preferred_ext;\n  if (m) {\n    base = m[1];\n    preferred_ext = m[2];\n  }\n  let src = `sounds/${base}`;\n  let srcs = [];\n  let suffix = '';\n  if (opts.for_reload) {\n    suffix = `?rl=${Date.now()}`;\n  }\n  if (preferred_ext) {\n    srcs.push(`${urlhash.getURLBase()}${src}.${preferred_ext}${suffix}`);\n  }\n  for (let ii = 0; ii < sound_params.ext_list.length; ++ii) {\n    let ext = sound_params.ext_list[ii];\n    if (ext !== preferred_ext) {\n      srcs.push(`${urlhash.getURLBase()}${src}.${ext}${suffix}`);\n    }\n  }\n  // Try loading desired sound types one at a time.\n  // Cannot rely on Howler's built-in support for this because it only continues\n  //   through the list on *some* load errors, not all :(.\n  function tryLoad(idx) {\n    if (idx === srcs.length) {\n      console.error(`Error loading sound ${base}: All fallbacks exhausted, giving up`);\n      if (cb) {\n        cb('Error loading sound');\n      }\n      return;\n    }\n    ++num_loading;\n    let once = false;\n    let sound = new Howl({\n      src: srcs.slice(idx),\n      html5: Boolean(opts.streaming),\n      loop: Boolean(opts.loop),\n      volume: 0,\n      onload: function () {\n        if (!once) {\n          --num_loading;\n          once = true;\n          sound.glov_load_opts = opts;\n          sounds[key] = sound;\n          if (cb) {\n            cb(null);\n          }\n        }\n      },\n      onloaderror: function (id, err, extra) {\n        if (idx === srcs.length - 1) {\n          console.error(`Error loading sound ${srcs[idx]}: ${err}`);\n        } else {\n          console.log(`Error loading sound ${srcs[idx]}: ${err}, trying fallback...`);\n        }\n        if (!once) {\n          --num_loading;\n          once = true;\n          tryLoad(idx + 1);\n        }\n      },\n    });\n  }\n  tryLoad(0);\n}\n\nfunction soundReload(filename) {\n  let sound_name = filename.match(/^sounds\\/([^.]+)\\.\\w+$/);\n  sound_name = sound_name && sound_name[1];\n  if (!sound_name) {\n    return;\n  }\n  if (!sounds[sound_name]) {\n    console.log(`Reload trigged for non-existent sound: ${filename}`);\n    return;\n  }\n  let opts = sounds[sound_name].glov_load_opts;\n  opts.for_reload = true;\n  delete sounds[sound_name];\n  soundLoad(sound_name, opts);\n}\n\nexport function soundStartup(params) {\n  sound_params = defaults(params || {}, default_params);\n\n  // Music\n  music = []; // 0 is current, 1 is previous (fading out)\n  for (let ii = 0; ii < 2; ++ii) {\n    music.push({\n      sound: null,\n      id: 0,\n      current_volume: 0,\n      target_volume: 0,\n      sys_volume: 0,\n      need_play: false,\n    });\n  }\n  filewatchOn('.mp3', soundReload);\n  filewatchOn('.ogg', soundReload);\n  filewatchOn('.wav', soundReload);\n  filewatchOn('.webm', soundReload);\n}\n\nexport function soundResume() {\n  // Handled internally by Howler, leaving hooks in for now, though\n  // Maybe more reliable than `Howler.safeToPlay`...\n}\n\nexport function soundResumed() {\n  return !Howler.noAudio && Howler.safeToPlay;\n}\n\nexport function soundTick(dt) {\n  frame_timestamp += dt;\n  if (!soundResumed()) {\n    return;\n  }\n  // Do music fading\n  // Cannot rely on Howler's fading because starting a fade when one is in progress\n  //   messes things up, as well causes snaps in volume :(\n  let max_fade = dt * sound_params.fade_rate;\n  for (let ii = 0; ii < music.length; ++ii) {\n    let mus = music[ii];\n    if (!mus.sound) {\n      continue;\n    }\n    let target = settings.music ? mus.target_volume : 0;\n    if (mus.current_volume !== target) {\n      let delta = target - mus.current_volume;\n      let fade_amt = min(abs(delta), max_fade);\n      if (delta < 0) {\n        mus.current_volume = max(target, mus.current_volume - fade_amt);\n      } else {\n        mus.current_volume = min(target, mus.current_volume + fade_amt);\n      }\n      if (!mus.target_volume && !mus.current_volume) {\n        if (!mus.need_play) {\n          mus.sound.stop(mus.id);\n        }\n        mus.sound = null;\n      }\n    }\n    if (mus.sound) {\n      let sys_volume = mus.current_volume * settings.volume;\n      if (mus.need_play) {\n        mus.need_play= false;\n        mus.id = mus.sound.play();\n        mus.sys_volume = -1;\n      }\n      if (mus.sys_volume !== sys_volume) {\n        mus.sound.volume(sys_volume, mus.id);\n        mus.sys_volume = sys_volume;\n      }\n    }\n  }\n\n  for (let ii = fades.length - 1; ii >= 0; --ii) {\n    let fade = fades[ii];\n    fade.volume = max(0, fade.volume - max_fade);\n    fade.sound.volume(fade.volume * settings.volume, fade.id);\n    if (!fade.volume) {\n      fade.sound.stop(fade.id);\n      ridx(fades, ii);\n    }\n  }\n}\n\nexport function soundPlay(soundname, volume, as_music) {\n  volume = volume || 1;\n  if (!as_music && !settings.sound || as_music && !settings.music) {\n    return null;\n  }\n  if (!soundResumed()) {\n    return null;\n  }\n  if (Array.isArray(soundname)) {\n    soundname = soundname[floor(random() * soundname.length)];\n  }\n  let sound = sounds[soundname];\n  if (!sound) {\n    return null;\n  }\n  let last_played_time = last_played[soundname] || -9e9;\n  if (frame_timestamp - last_played_time < 45) {\n    return null;\n  }\n\n  let id = sound.play(undefined, volume * settings.volume);\n  // sound.volume(volume * settings.volume, id);\n  last_played[soundname] = frame_timestamp;\n  return {\n    stop: sound.stop.bind(sound, id),\n    playing: sound.playing.bind(sound, id), // not reliable if it hasn't started yet? :(\n    fadeOut: (time) => {\n      fades.push({\n        volume,\n        sound,\n        id,\n        time,\n      });\n    },\n  };\n}\n\nexport function soundPlayMusic(soundname, volume, transition) {\n  if (!settings.music) {\n    return;\n  }\n  if (volume === undefined) {\n    volume = 1;\n  }\n  transition = transition || FADE_DEFAULT;\n  soundLoad(soundname, { streaming: true, loop: true }, (err) => {\n    assert(!err);\n    let sound = sounds[soundname];\n    assert(sound);\n    if (music[0].sound === sound) {\n      // Same sound, just adjust volume, if required\n      music[0].target_volume = volume;\n      if (!transition) {\n        if (!volume) {\n          sound.stop(music[0].id);\n          music[0].sound = null;\n        } else {\n          let sys_volume = music[0].sys_volume = volume * settings.volume;\n          sound.volume(sys_volume, music[0].id);\n        }\n      }\n      return;\n    }\n    // fade out previous music, if any\n    if (music[0].current_volume) {\n      if (transition & FADE_OUT) {\n        // swap to position 1, start fadeout\n        let temp = music[1];\n        music[1] = music[0];\n        music[0] = temp;\n        music[1].target_volume = 0;\n      }\n    }\n    if (music[0].sound) {\n      music[0].sound.stop(music[0].id);\n    }\n    music[0].sound = sound;\n    music[0].target_volume = volume;\n    let start_vol = (transition & FADE_IN) ? 0 : volume;\n    music[0].current_volume = start_vol;\n    if (soundResumed()) {\n      let sys_volume = start_vol * settings.volume;\n      music[0].id = sound.play(undefined, sys_volume);\n      // sound.volume(sys_volume, music[0].id);\n      music[0].sys_volume = sys_volume;\n      music[0].need_play = false;\n    } else {\n      music[0].need_play = true;\n    }\n  });\n}\n\nexport function soundLoading() {\n  return num_loading;\n}\n","// Portions Copyright 2019 Jimb Esser (https://github.com/Jimbly/)\n// Released under MIT License: https://opensource.org/licenses/MIT\n// Some code from Turbulenz: Copyright (c) 2012-2013 Turbulenz Limited\n// Released under MIT License: https://opensource.org/licenses/MIT\n\nconst assert = require('assert');\nconst camera2d = require('./camera2d.js');\nconst engine = require('./engine.js');\nconst geom = require('./geom.js');\nconst { cos, max, min, round, sin } = Math;\nconst textures = require('./textures.js');\nconst shaders = require('./shaders.js');\nconst { nextHighestPowerOfTwo } = require('../../common/util.js');\nconst { vec2, vec4 } = require('./vmath.js');\n\nexport const BLEND_ALPHA = 0;\nexport const BLEND_ADDITIVE = 1;\n\nlet sprite_vshader;\nlet sprite_fshader;\nlet sprite_dual_fshader;\nlet clip_space = vec4();\nlet sprite_shader_params = {\n  clip_space\n};\nlet last_uid = 0;\n\nlet sprite_queue = [];\n\nlet sprite_freelist = [];\n\nlet sprite_queue_stack = null;\nexport function spriteQueuePush() {\n  assert(!sprite_queue_stack);\n  sprite_queue_stack = sprite_queue;\n  sprite_queue = [];\n}\nexport function spriteQueuePop() {\n  assert(sprite_queue_stack);\n  assert(!sprite_queue.length);\n  sprite_queue = sprite_queue_stack;\n  sprite_queue_stack = null;\n}\n\nfunction SpriteData() {\n  // x1 y1 x2 y2 x3 y3 x4 y4 - vertices [0,8)\n  // cr cg cb ca u1 v1 u2 v2 - normalized color + texture [8,16)\n  // data for GL queuing\n  this.data = new Float32Array(16);\n  // data for sorting/binding/etc\n  this.texs = null;\n  this.shader = null;\n  this.shader_params = null;\n  this.x = 0;\n  this.y = 0;\n  this.z = 0;\n  this.blend = 0; // BLEND_ALPHA\n  this.uid = 0;\n}\n\nfunction spriteDataAlloc() {\n  if (sprite_freelist.length) {\n    return sprite_freelist.pop();\n  }\n  return new SpriteData();\n}\n\nfunction cmpSprite(a, b) {\n  if (a.z !== b.z) {\n    return a.z - b.z;\n  }\n  if (a.y !== b.y) {\n    return a.y - b.y;\n  }\n  if (a.x !== b.x) {\n    return a.x - b.x;\n  }\n  return a.uid - b.uid;\n}\n\nexport function queuefn(z, fn) {\n  assert(isFinite(z));\n  sprite_queue.push({\n    fn,\n    x: 0,\n    y: 0,\n    z,\n    uid: ++last_uid,\n  });\n}\n\n// coordinates must be in counter-clockwise winding order\nexport function queueraw4(\n  texs, x0, y0, x1, y1, x2, y2, x3, y3, z,\n  u0, v0, u1, v1,\n  color, shader, shader_params, blend\n) {\n  assert(isFinite(z));\n  let elem = spriteDataAlloc();\n  let data = elem.data;\n  // x1 y1 x2 y2 x3 y3 x4 y4 - vertices [0,8)\n  // cr cg cb ca u1 v1 u2 v2 - normalized color + texture [8,16)\n  // Minor perf improvement: convert by clip_space here (still just a single MAD\n  //   if pre-calculated in the camera) and remove it from the shader.\n  data[0] = (x0 - camera2d.data[0]) * camera2d.data[4];\n  data[1] = (y0 - camera2d.data[1]) * camera2d.data[5];\n  data[2] = (x1 - camera2d.data[0]) * camera2d.data[4];\n  data[3] = (y1 - camera2d.data[1]) * camera2d.data[5];\n  data[4] = (x2 - camera2d.data[0]) * camera2d.data[4];\n  data[5] = (y2 - camera2d.data[1]) * camera2d.data[5];\n  data[6] = (x3 - camera2d.data[0]) * camera2d.data[4];\n  data[7] = (y3 - camera2d.data[1]) * camera2d.data[5];\n  data[8] = color[0];\n  data[9] = color[1];\n  data[10] = color[2];\n  data[11] = color[3];\n  data[12] = u0;\n  data[13] = v0;\n  data[14] = u1;\n  data[15] = v1;\n\n  elem.texs = texs;\n  elem.x = data[0];\n  elem.y = data[1];\n  elem.z = z;\n  elem.shader = shader || null;\n  if (shader_params) {\n    shader_params.clip_space = sprite_shader_params.clip_space;\n    elem.shader_params = shader_params;\n  } else {\n    elem.shader_params = null;\n  }\n  elem.blend = blend || 0; // BLEND_ALPHA\n  //elem.bucket = bucket || this.default_bucket;\n  //elem.tech_params = tech_params || null;\n  elem.uid = ++last_uid;\n  sprite_queue.push(elem);\n  return elem;\n}\n\nexport function queueraw(\n  texs, x, y, z, w, h,\n  u0, v0, u1, v1,\n  color, shader, shader_params, blend\n) {\n  return queueraw4(texs,\n    x, y,\n    x, y + h,\n    x + w, y + h,\n    x + w, y,\n    z,\n    u0, v0, u1, v1,\n    color, shader, shader_params, blend);\n}\n\nexport function queuesprite(sprite, x, y, z, w, h, rot, uvs, color, shader, shader_params, nozoom, pixel_perfect) {\n  assert(isFinite(z));\n  let elem = spriteDataAlloc();\n  elem.texs = sprite.texs;\n  x = (x - camera2d.data[0]) * camera2d.data[4];\n  y = (y - camera2d.data[1]) * camera2d.data[5];\n  elem.z = z;\n  w *= camera2d.data[4];\n  h *= camera2d.data[5];\n  if (pixel_perfect) {\n    x |= 0;\n    y |= 0;\n    w |= 0;\n    h |= 0;\n  }\n  elem.x = x;\n  elem.y = y;\n  color = color || sprite.color;\n  let data = elem.data;\n  if (!rot) {\n    let x1 = x - sprite.origin[0] * w;\n    let y1 = y - sprite.origin[1] * h;\n    let x2 = x1 + w;\n    let y2 = y1 + h;\n    data[0] = x1;\n    data[1] = y1;\n    data[2] = x1;\n    data[3] = y2;\n    data[4] = x2;\n    data[5] = y2;\n    data[6] = x2;\n    data[7] = y1;\n  } else {\n    let dx = sprite.origin[0] * w;\n    let dy = sprite.origin[1] * h;\n\n    let cosr = cos(rot);\n    let sinr = sin(rot);\n\n    let x1 = x - cosr * dx + sinr * dy;\n    let y1 = y - sinr * dx - cosr * dy;\n    let ch = cosr * h;\n    let cw = cosr * w;\n    let sh = sinr * h;\n    let sw = sinr * w;\n\n    data[0] = x1;\n    data[1] = y1;\n    data[2] = x1 - sh;\n    data[3] = y1 + ch;\n    data[4] = x1 + cw - sh;\n    data[5] = y1 + sw + ch;\n    data[6] = x1 + cw;\n    data[7] = y1 + sw;\n  }\n\n  data[8] = color[0];\n  data[9] = color[1];\n  data[10] = color[2];\n  data[11] = color[3];\n\n  let ubias = 0;\n  let vbias = 0;\n  let tex = elem.texs[0];\n  if (!nozoom && !tex.nozoom) {\n    // Bias the texture coordinates depending on the minification/magnification\n    //   level so we do not get pixels from neighboring frames bleeding in\n    // Use min here (was max in libGlov), to solve tooltip edges being wrong in strict pixely\n    // Use max here to solve box buttons not lining up, but instead using nozoom in drawBox/drawHBox,\n    //   but, that only works for magnification - need the max here for minification!\n    let zoom_level = max(\n      (uvs[2] - uvs[0]) * tex.width / w,\n      (uvs[3] - uvs[1]) * tex.height / h,\n    ); // in texels per pixel\n    if (zoom_level < 1) { // magnification\n      if (tex.filter_mag === gl.LINEAR) {\n        // Need to bias by half a texel, so we're doing absolutely no blending with the neighboring texel\n        ubias = vbias = 0.5;\n      } else if (tex.filter_mag === gl.NEAREST && engine.antialias) {\n        // When antialiasing is on, even nearest sampling samples from adjacent texels, do slight bias\n        // Want to bias by one *pixel's* worth\n        ubias = vbias = zoom_level / 2;\n      }\n    } else if (zoom_level > 1) { // minification\n      // need to apply this bias even with nearest filtering, not exactly sure why\n      let mipped_texels = zoom_level / 2;\n      ubias = vbias = 0.5 + mipped_texels;\n\n    }\n    if (uvs[0] > uvs[2]) {\n      ubias *= -1;\n    }\n    if (uvs[1] > uvs[3]) {\n      vbias *= -1;\n    }\n  }\n\n  data[12] = uvs[0] + ubias / tex.width;\n  data[13] = uvs[1] + vbias / tex.height;\n  data[14] = uvs[2] - ubias / tex.width;\n  data[15] = uvs[3] - vbias / tex.height;\n\n  elem.uid = ++last_uid;\n  elem.shader = shader || null;\n  elem.blend = 0; // BLEND_ALPHA\n\n  if (shader_params) {\n    shader_params.clip_space = sprite_shader_params.clip_space;\n    elem.shader_params = shader_params;\n  } else {\n    elem.shader_params = null;\n  }\n  sprite_queue.push(elem);\n}\n\n\nlet clip_temp_xy = vec2();\nlet clip_temp_wh = vec2();\nfunction clipCoordsScissor(x, y, w, h) {\n  camera2d.virtualToCanvas(clip_temp_xy, [x, y]);\n  clip_temp_xy[0] = round(clip_temp_xy[0]);\n  clip_temp_xy[1] = round(clip_temp_xy[1]);\n  camera2d.virtualToCanvas(clip_temp_wh, [x + w, y + h]);\n  clip_temp_wh[0] = round(clip_temp_wh[0]) - clip_temp_xy[0];\n  clip_temp_wh[1] = round(clip_temp_wh[1]) - clip_temp_xy[1];\n\n  // let gd_w = engine.render_width || engine.width;\n  let gd_h = engine.render_height || engine.height;\n  return [clip_temp_xy[0], gd_h - (clip_temp_xy[1] + clip_temp_wh[1]), clip_temp_wh[0], clip_temp_wh[1]];\n}\n\nfunction clipCoordsDom(x, y, w, h) {\n  let xywh = vec4();\n  camera2d.virtualToDom(xywh, [x + w, y + h]);\n  xywh[2] = xywh[0];\n  xywh[3] = xywh[1];\n  camera2d.virtualToDom(xywh, [x, y]);\n  xywh[0] = round(xywh[0]);\n  xywh[1] = round(xywh[1]);\n  xywh[2] = round(xywh[2]) - xywh[0];\n  xywh[3] = round(xywh[3]) - xywh[1];\n\n  return xywh;\n}\n\nexport function clip(z_start, z_end, x, y, w, h) {\n  let scissor = clipCoordsScissor(x, y, w, h);\n  queuefn(z_start - 0.01, () => {\n    gl.enable(gl.SCISSOR_TEST);\n    gl.scissor(scissor[0], scissor[1], scissor[2], scissor[3]);\n  });\n  queuefn(z_end - 0.01, () => {\n    gl.disable(gl.SCISSOR_TEST);\n  });\n}\n\nlet clip_stack = [];\nexport function clipPush(z, x, y, w, h) {\n  assert(clip_stack.length < 1); // do not currently support nesting; maybe leaking?\n  let scissor = clipCoordsScissor(x, y, w, h);\n  let dom_clip = clipCoordsDom(x, y, w, h);\n  camera2d.setInputClipping(dom_clip);\n  spriteQueuePush();\n  clip_stack.push({\n    z, scissor\n  });\n}\n\nexport function clipPop() {\n  assert(clip_stack.length);\n  queuefn(Z.TOOLTIP - 0.1, () => {\n    gl.disable(gl.SCISSOR_TEST);\n  });\n  let { z, scissor } = clip_stack.pop();\n  let sprites = sprite_queue;\n  sprite_queue = [];\n  spriteQueuePop();\n  camera2d.setInputClipping(null);\n  queuefn(z, () => {\n    gl.enable(gl.SCISSOR_TEST);\n    gl.scissor(scissor[0], scissor[1], scissor[2], scissor[3]);\n    spriteQueuePush();\n    sprite_queue = sprites;\n    exports.draw();\n    spriteQueuePop();\n    // done at Z.TOOLTIP: gl.disable(gl.SCISSOR_TEST);\n  });\n}\n\nfunction diffTextures(texsa, texsb) {\n  if (texsa.length !== texsb.length) {\n    return true;\n  }\n  for (let ii = 0; ii < texsa.length; ++ii) {\n    if (texsa[ii] !== texsb[ii]) {\n      return true;\n    }\n  }\n  return false;\n}\n\nlet batch_state;\nlet sprite_geom;\nlet sprite_buffer; // Float32Array with 8 entries per vert\nlet sprite_buffer_len = 0; // in verts\nlet sprite_buffer_batch_start = 0;\nlet sprite_buffer_idx = 0; // in verts\nlet last_blend_mode;\nlet last_bound_shader;\nconst MAX_VERT_COUNT = 65536;\nlet batches = [];\n\nfunction commit() {\n  if (sprite_buffer_idx === sprite_buffer_batch_start) {\n    return;\n  }\n  batches.push({\n    state: batch_state,\n    start: sprite_buffer_batch_start,\n    end: sprite_buffer_idx,\n  });\n  sprite_buffer_batch_start = sprite_buffer_idx;\n}\n\nfunction commitAndFlush() {\n  commit();\n  if (!batches.length) {\n    return;\n  }\n  assert(sprite_buffer_idx);\n  sprite_geom.update(sprite_buffer, sprite_buffer_idx);\n  sprite_geom.bind();\n\n  for (let ii = 0; ii < batches.length; ++ii) {\n    let batch = batches[ii];\n    let { state, start, end } = batch;\n    if (last_bound_shader !== state.shader || state.shader_params) {\n      shaders.bind(sprite_vshader,\n        state.shader || sprite_fshader,\n        state.shader_params || sprite_shader_params);\n      last_bound_shader = state.shader;\n    }\n    if (last_blend_mode !== state.blend) {\n      last_blend_mode = state.blend;\n      if (last_blend_mode === BLEND_ADDITIVE) {\n        gl.blendFunc(gl.SRC_ALPHA, gl.ONE);\n      } else {\n        gl.blendFunc(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA);\n      }\n    }\n    textures.bindArray(state.texs);\n    gl.drawElements(sprite_geom.mode, (end - start) * 3 / 2, gl.UNSIGNED_SHORT, start * 3);\n  }\n\n  batches.length = 0;\n  sprite_buffer_idx = 0;\n  sprite_buffer_batch_start = 0;\n}\n\nfunction bufferSpriteData(data) {\n  let index = sprite_buffer_idx * 8;\n  sprite_buffer_idx += 4;\n\n  let c1 = data[8];\n  let c2 = data[9];\n  let c3 = data[10];\n  let c4 = data[11];\n  let u1 = data[12];\n  let v1 = data[13];\n  let u2 = data[14];\n  let v2 = data[15];\n\n  sprite_buffer[index] = data[0];\n  sprite_buffer[index + 1] = data[1];\n  sprite_buffer[index + 2] = c1;\n  sprite_buffer[index + 3] = c2;\n  sprite_buffer[index + 4] = c3;\n  sprite_buffer[index + 5] = c4;\n  sprite_buffer[index + 6] = u1;\n  sprite_buffer[index + 7] = v1;\n\n  sprite_buffer[index + 8] = data[2];\n  sprite_buffer[index + 9] = data[3];\n  sprite_buffer[index + 10] = c1;\n  sprite_buffer[index + 11] = c2;\n  sprite_buffer[index + 12] = c3;\n  sprite_buffer[index + 13] = c4;\n  sprite_buffer[index + 14] = u1;\n  sprite_buffer[index + 15] = v2;\n\n  sprite_buffer[index + 16] = data[4];\n  sprite_buffer[index + 17] = data[5];\n  sprite_buffer[index + 18] = c1;\n  sprite_buffer[index + 19] = c2;\n  sprite_buffer[index + 20] = c3;\n  sprite_buffer[index + 21] = c4;\n  sprite_buffer[index + 22] = u2;\n  sprite_buffer[index + 23] = v2;\n\n  sprite_buffer[index + 24] = data[6];\n  sprite_buffer[index + 25] = data[7];\n  sprite_buffer[index + 26] = c1;\n  sprite_buffer[index + 27] = c2;\n  sprite_buffer[index + 28] = c3;\n  sprite_buffer[index + 29] = c4;\n  sprite_buffer[index + 30] = u2;\n  sprite_buffer[index + 31] = v1;\n}\n\nexport function draw() {\n  if (!sprite_queue.length) {\n    return;\n  }\n\n  clip_space[0] = 2 / engine.viewport[2];\n  clip_space[1] = -2 / engine.viewport[3];\n\n  last_blend_mode = -1;\n  last_bound_shader = -1;\n\n  if (!sprite_geom) {\n    sprite_geom = geom.create([\n      [shaders.semantic.POSITION, gl.FLOAT, 2, false],\n      [shaders.semantic.COLOR, gl.FLOAT, 4, false],\n      [shaders.semantic.TEXCOORD, gl.FLOAT, 2, false],\n    ], [], null, geom.QUADS);\n    sprite_buffer = new Float32Array(1024);\n    sprite_buffer_len = sprite_buffer.length / 8;\n  }\n\n  sprite_queue.sort(cmpSprite);\n\n  batch_state = null;\n  assert.equal(sprite_buffer_idx, 0);\n  assert.equal(sprite_buffer_batch_start, 0);\n  assert.equal(batches.length, 0);\n  for (let ii = 0; ii < sprite_queue.length; ++ii) {\n    let elem = sprite_queue[ii];\n    if (elem.fn) {\n      commitAndFlush();\n      batch_state = null;\n      elem.fn();\n      last_bound_shader = -1;\n      last_blend_mode = -1;\n      assert.equal(sprite_buffer_idx, 0);\n      assert.equal(sprite_buffer_batch_start, 0);\n      assert.equal(batches.length, 0);\n\n      clip_space[0] = 2 / engine.viewport[2];\n      clip_space[1] = -2 / engine.viewport[3];\n    } else {\n      if (!batch_state ||\n        diffTextures(elem.texs, batch_state.texs) ||\n        elem.shader !== batch_state.shader ||\n        elem.shader_params !== batch_state.shader_params ||\n        elem.blend !== batch_state.blend\n      ) {\n        commit();\n        batch_state = elem;\n      }\n      if (sprite_buffer_idx + 4 > sprite_buffer_len) {\n        commitAndFlush();\n        // batch_state left alone\n        if (sprite_buffer_len !== MAX_VERT_COUNT) {\n          let new_length = min((sprite_buffer_len * 1.25 + 3) & ~3, MAX_VERT_COUNT); // eslint-disable-line no-bitwise\n          sprite_buffer_len = new_length;\n          sprite_buffer = new Float32Array(new_length * 8);\n        }\n      }\n\n      bufferSpriteData(elem.data);\n      sprite_freelist.push(elem);\n    }\n  }\n  commitAndFlush();\n\n  sprite_queue.length = 0;\n  if (last_blend_mode !== BLEND_ALPHA) {\n    // always reset to this\n    gl.blendFunc(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA);\n  }\n}\n\nexport function buildRects(ws, hs) {\n  let rects = [];\n  let total_w = 0;\n  for (let ii = 0; ii < ws.length; ++ii) {\n    total_w += ws[ii];\n  }\n  let total_h = 0;\n  for (let ii = 0; ii < hs.length; ++ii) {\n    total_h += hs[ii];\n  }\n  let tex_w = nextHighestPowerOfTwo(total_w);\n  let tex_h = nextHighestPowerOfTwo(total_h);\n  let wh = [];\n  for (let ii = 0; ii < ws.length; ++ii) {\n    wh.push(ws[ii] / total_h);\n  }\n  let hw = [];\n  for (let ii = 0; ii < hs.length; ++ii) {\n    hw.push(hs[ii] / total_w);\n  }\n  let aspect = [];\n  let non_square = false;\n  let y = 0;\n  for (let jj = 0; jj < hs.length; ++jj) {\n    let x = 0;\n    for (let ii = 0; ii < ws.length; ++ii) {\n      let r = vec4(x / tex_w, y / tex_h,\n        (x + ws[ii]) / tex_w, (y + hs[jj]) / tex_h);\n      rects.push(r);\n      let asp = ws[ii] / hs[jj];\n      if (asp !== 1) {\n        non_square = true;\n      }\n      aspect.push(asp);\n      x += ws[ii];\n    }\n    y += hs[jj];\n  }\n  return {\n    widths: ws,\n    heights: hs,\n    wh,\n    hw,\n    rects,\n    aspect: non_square ? aspect : null,\n    total_w,\n    total_h,\n  };\n}\n\nfunction Sprite(params) {\n  if (params.texs) {\n    this.texs = params.texs;\n  } else {\n    this.texs = [];\n    if (params.tex) {\n      this.texs.push(params.tex);\n    } else if (params.layers) {\n      assert(params.name);\n      this.texs = [];\n      for (let ii = 0; ii < params.layers; ++ii) {\n        this.texs.push(textures.load({\n          url: `img/${params.name}_${ii}.png`,\n          filter_min: params.filter_min,\n          filter_mag: params.filter_mag,\n          wrap_s: params.wrap_s,\n          wrap_t: params.wrap_t,\n        }));\n      }\n    } else if (params.name) {\n      this.texs.push(textures.load({\n        url: `img/${params.name}.png`,\n        filter_min: params.filter_min,\n        filter_mag: params.filter_mag,\n        wrap_s: params.wrap_s,\n        wrap_t: params.wrap_t,\n      }));\n    } else {\n      assert(params.url);\n      this.texs.push(textures.load(params));\n    }\n  }\n\n  this.origin = params.origin || vec2(0, 0); // [0,1] range\n  this.size = params.size || vec2(1, 1);\n  this.color = params.color || vec4(1,1,1,1);\n  this.uvs = params.uvs || vec4(0, 0, 1, 1);\n  if (!params.uvs) {\n    // Fix up non-power-of-two textures\n    this.texs[0].onLoad((tex) => {\n      this.uvs[2] = tex.src_width / tex.width;\n      this.uvs[3] = tex.src_height / tex.height;\n    });\n  }\n\n  if (params.ws) {\n    this.uidata = buildRects(params.ws, params.hs);\n  }\n  this.shader = params.shader || null;\n}\n\n// params:\n//   required: x, y\n//   optional: z, w, h, uvs, color, nozoom, pixel_perfect\nSprite.prototype.draw = function (params) {\n  if (params.w === 0 || params.h === 0) {\n    return;\n  }\n  let w = (params.w || 1) * this.size[0];\n  let h = (params.h || 1) * this.size[1];\n  let uvs = (typeof params.frame === 'number') ? this.uidata.rects[params.frame] : (params.uvs || this.uvs);\n  queuesprite(this, params.x, params.y, params.z || Z.UI, w, h, params.rot, uvs, params.color || this.color,\n    params.shader || this.shader, params.shader_params, params.nozoom, params.pixel_perfect);\n};\n\nSprite.prototype.drawDualTint = function (params) {\n  params.shader = sprite_dual_fshader;\n  params.shader_params = {\n    color1: params.color1,\n  };\n  this.draw(params);\n};\n\nexport function create(params) {\n  return new Sprite(params);\n}\n\nexport function startup() {\n  clip_space[2] = -1;\n  clip_space[3] = 1;\n  sprite_vshader = shaders.create('glov/shaders/sprite.vp');\n  sprite_fshader = shaders.create('glov/shaders/sprite.fp');\n  sprite_dual_fshader = shaders.create('glov/shaders/sprite_dual.fp');\n}\n","// Portions Copyright 2019 Jimb Esser (https://github.com/Jimbly/)\n// Released under MIT License: https://opensource.org/licenses/MIT\n\nconst assert = require('assert');\nconst dot_prop = require('dot-prop');\nconst EventEmitter = require('../../common/tiny-events.js');\nconst fbinstant = require('./fbinstant.js');\nconst local_storage = require('./local_storage.js');\nconst md5 = require('../../common/md5.js');\nconst { isPacket } = require('../../common/packet.js');\nconst util = require('../../common/util.js');\n\n// relevant events:\n//   .on('channel_data', cb(data [, mod_key, mod_value]));\n\nfunction ClientChannelWorker(subs, channel_id) {\n  EventEmitter.call(this);\n  this.subs = subs;\n  this.channel_id = channel_id;\n  this.subscriptions = 0;\n  this.subscribe_failed = false;\n  this.got_subscribe = false;\n  this.handlers = {};\n  this.data = {};\n  this.onMsg('channel_data', this.handleChannelData.bind(this));\n  this.onMsg('apply_channel_data', this.handleApplyChannelData.bind(this));\n}\nutil.inherits(ClientChannelWorker, EventEmitter);\n\n// cb(data)\nClientChannelWorker.prototype.onSubscribe = function (cb) {\n  assert(this.subscriptions || this.autosubscribed);\n  this.on('subscribe', cb);\n  if (this.got_subscribe) {\n    cb(this.data);\n  }\n};\n\n// cb(data)\nClientChannelWorker.prototype.onceSubscribe = function (cb) {\n  assert(this.subscriptions || this.autosubscribed);\n  if (this.got_subscribe) {\n    cb(this.data);\n  } else {\n    this.once('subscribe', cb);\n  }\n};\n\n\nClientChannelWorker.prototype.handleChannelData = function (data, resp_func) {\n  console.log(`got channel_data(${this.channel_id}):  ${JSON.stringify(data)}`);\n  this.data = data;\n  this.emit('channel_data', this.data);\n  this.got_subscribe = true;\n  this.emit('subscribe', this.data);\n\n  // Get command list upon first connect\n  let channel_type = this.channel_id.split('.')[0];\n  let cmd_list = this.subs.cmds_list_by_worker;\n  if (cmd_list && !cmd_list[channel_type]) {\n    cmd_list[channel_type] = {};\n    this.send('cmdparse', 'cmd_list', (err, resp) => {\n      if (err) { // already unsubscribed?\n        console.error(`Error getting cmd_list for ${channel_type}`);\n        delete cmd_list[channel_type];\n      } else if (resp.found) {\n        cmd_list[channel_type] = resp;\n        this.subs.cmd_parse.addServerCommands(resp.resp);\n      }\n    });\n  }\n\n  resp_func();\n};\n\nClientChannelWorker.prototype.handleApplyChannelData = function (data, resp_func) {\n  // already logged in handleChannelMessage\n  // if (!data.q) {\n  //   console.log(`got channel data mod: ${JSON.stringify(data)}`);\n  // }\n  if (data.value === undefined) {\n    dot_prop.delete(this.data, data.key);\n  } else {\n    dot_prop.set(this.data, data.key, data.value);\n  }\n  this.emit('channel_data', this.data, data.key, data.value);\n  resp_func();\n};\n\nClientChannelWorker.prototype.getChannelData = function (key, default_value) {\n  return dot_prop.get(this.data, key, default_value);\n};\n\nClientChannelWorker.prototype.setChannelData = function (key, value, skip_predict, resp_func) {\n  if (!skip_predict) {\n    dot_prop.set(this.data, key, value);\n  }\n  let q = value && value.q || undefined;\n  let pak = this.subs.client.wsPak('set_channel_data');\n  pak.writeAnsiString(this.channel_id);\n  pak.writeBool(q);\n  pak.writeAnsiString(key);\n  pak.writeJSON(value);\n  pak.send(resp_func);\n};\n\nClientChannelWorker.prototype.removeMsgHandler = function (msg, cb) {\n  assert(this.handlers[msg] === cb);\n  delete this.handlers[msg];\n};\n\nClientChannelWorker.prototype.onMsg = function (msg, cb) {\n  assert(!this.handlers[msg] || this.handlers[msg] === cb);\n  this.handlers[msg] = cb;\n};\n\nClientChannelWorker.prototype.pak = function (msg) {\n  let pak = this.subs.client.wsPak('channel_msg');\n  pak.writeAnsiString(this.channel_id);\n  pak.writeAnsiString(msg);\n  // pak.writeInt(flags);\n  return pak;\n};\n\nClientChannelWorker.prototype.send = function (msg, data, resp_func, old_fourth) {\n  assert(!resp_func || typeof resp_func === 'function');\n  assert(!old_fourth);\n  this.subs.client.send('channel_msg', {\n    channel_id: this.channel_id,\n    msg, data,\n  }, resp_func);\n};\n\nfunction SubscriptionManager(client, cmd_parse) {\n  EventEmitter.call(this);\n  this.client = client;\n  this.channels = {};\n  this.logged_in = false;\n  this.login_credentials = null;\n  this.logged_in_username = null;\n  this.was_logged_in = false;\n  this.logging_in = false;\n  this.logging_out = false;\n  this.auto_create_user = false;\n  this.cmd_parse = cmd_parse;\n  if (cmd_parse) {\n    this.cmds_list_by_worker = {};\n  }\n\n  this.first_connect = true;\n  this.server_time = 0;\n  this.server_time_interp = 0;\n  client.onMsg('connect', this.handleConnect.bind(this));\n  client.onMsg('channel_msg', this.handleChannelMessage.bind(this));\n  client.onMsg('server_time', this.handleServerTime.bind(this));\n  client.onMsg('admin_msg', this.handleAdminMsg.bind(this));\n}\nutil.inherits(SubscriptionManager, EventEmitter);\n\nSubscriptionManager.prototype.onceConnected = function (cb) {\n  if (this.client.connected) {\n    return void cb();\n  }\n  this.once('connect', cb);\n};\n\nSubscriptionManager.prototype.handleAdminMsg = function (data) {\n  console.error(data);\n  this.emit('admin_msg', data);\n};\n\nSubscriptionManager.prototype.handleConnect = function () {\n  let reconnect = false;\n  if (this.first_connect) {\n    this.first_connect = false;\n  } else {\n    reconnect = true;\n  }\n\n  if (!this.client.connected || this.client.socket.readyState !== 1) { // WebSocket.OPEN\n    // we got disconnected while trying to log in, we'll retry after reconnection\n    return;\n  }\n\n  let subs = this;\n  function resub() {\n    // (re-)subscribe to all channels\n    for (let channel_id in subs.channels) {\n      let channel = subs.channels[channel_id];\n      if (channel.subscriptions) {\n        subs.client.send('subscribe', channel_id, function (err) {\n          if (err) {\n            channel.subscribe_failed = true;\n            console.error(`Error subscribing to ${channel_id}: ${err}`);\n            channel.emit('subscribe_fail', err);\n          }\n        });\n      }\n    }\n    subs.emit('connect', reconnect);\n  }\n\n  if (this.was_logged_in) {\n    // Try to re-connect to existing login\n    this.loginInternal(this.login_credentials, function (err) {\n      if (err && err === 'ERR_DISCONNECTED') {\n        // we got disconnected while trying to log in, we'll retry after reconnection\n      } else if (err) {\n        // Error logging in upon re-connection, no good way to handle this?\n        // TODO: Show some message to the user and prompt them to refresh?  Stay in \"disconnected\" state?\n        assert(false);\n      } else {\n        resub();\n      }\n    });\n  } else {\n    // Try auto-login\n    if (window.FBInstant) {\n      this.loginFacebook(function () {\n        // ignore error on auto-login\n      });\n    } else if (local_storage.get('name') && local_storage.get('password')) {\n      this.login(local_storage.get('name'), local_storage.get('password'), function () {\n        // ignore error on auto-login\n      });\n    }\n\n    resub();\n  }\n\n};\n\nSubscriptionManager.prototype.handleChannelMessage = function (pak, resp_func) {\n  assert(isPacket(pak));\n  let channel_id = pak.readAnsiString();\n  let msg = pak.readAnsiString();\n  let is_packet = pak.readBool();\n  let data = is_packet ? pak : pak.readJSON();\n  if (!data || !data.q) {\n    let debug_msg;\n    if (!is_packet) {\n      debug_msg = JSON.stringify(data);\n    } else if (typeof data.contents === 'function') {\n      debug_msg = data.contents();\n    } else {\n      debug_msg = '(pak)';\n    }\n    console.log(`got channel_msg(${channel_id}) ${msg}: ${debug_msg}`);\n  }\n  let channel = this.getChannel(channel_id);\n  if (!channel.handlers[msg]) {\n    console.error(`no handler for channel_msg(${channel_id}) ${msg}: ${JSON.stringify(data)}`);\n    return;\n  }\n  channel.handlers[msg](data, resp_func);\n};\n\nSubscriptionManager.prototype.handleServerTime = function (pak) {\n  this.server_time = pak.readInt();\n  if (this.server_time < this.server_time_interp && this.server_time > this.server_time_interp - 250) {\n    // slight time travel backwards, this one packet must have been delayed,\n    // since we once got a packet quicker. Just ignore this, interpolate from\n    // where we were before\n    // TODO: If the server had a short stall (less than 250ms) we might be\n    // ahead from now on!  Slowly interp back to the specified time\n    // (run speed at 90% until it matches?, same thing for catching up to\n    // small jumps ahead)\n  } else {\n    this.server_time_interp = this.server_time;\n  }\n};\n\nSubscriptionManager.prototype.getServerTime = function () {\n  // Interpolated server time as of start of last tick\n  return this.server_time_interp;\n};\n\nSubscriptionManager.prototype.tick = function (dt) {\n  this.server_time_interp += dt;\n};\n\nSubscriptionManager.prototype.subscribe = function (channel_id) {\n  this.getChannel(channel_id, true);\n};\n\nSubscriptionManager.prototype.getChannel = function (channel_id, do_subscribe) {\n  let channel = this.channels[channel_id];\n  if (!channel) {\n    channel = this.channels[channel_id] = new ClientChannelWorker(this, channel_id);\n  }\n  if (do_subscribe) {\n    channel.subscriptions++;\n    if (this.client.connected && channel.subscriptions === 1) {\n      channel.subscribe_failed = false;\n      this.client.send('subscribe', channel_id, function (err) {\n        if (err) {\n          channel.subscribe_failed = true;\n          console.error(`Error subscribing to ${channel_id}: ${err}`);\n          channel.emit('subscribe_fail', err);\n        }\n      });\n    }\n  }\n  return channel;\n};\n\nSubscriptionManager.prototype.getUserId = function () {\n  return this.loggedIn();\n};\n\nSubscriptionManager.prototype.getMyUserChannel = function () {\n  let user_id = this.loggedIn();\n  if (!user_id) {\n    return null;\n  }\n  let channel = this.getChannel(`user.${user_id}`);\n  if (!this.logging_out) {\n    channel.autosubscribed = true;\n  }\n  return channel;\n};\n\nSubscriptionManager.prototype.unsubscribe = function (channel_id) {\n  let channel = this.channels[channel_id];\n  assert(channel);\n  assert(channel.subscriptions);\n  channel.subscriptions--;\n  if (!channel.subscriptions) {\n    channel.got_subscribe = false;\n  }\n  if (this.client.connected && !channel.subscriptions && !channel.subscribe_failed) {\n    this.client.send('unsubscribe', channel_id);\n  }\n};\n\nSubscriptionManager.prototype.onLogin = function (cb) {\n  this.getMyUserChannel();\n  this.on('login', cb);\n  if (this.logged_in) {\n    return void cb();\n  }\n};\n\nSubscriptionManager.prototype.loggedIn = function () {\n  return this.logged_in ? this.logged_in_username || 'missing_name' : false;\n};\n\nSubscriptionManager.prototype.handleLoginResponse = function (resp_func, err, resp) {\n  this.logging_in = false;\n  if (!err) {\n    this.logged_in_username = resp.user_id;\n    this.logged_in_display_name = resp.display_name;\n    this.logged_in = true;\n    this.was_logged_in = true;\n    this.getMyUserChannel();\n    this.emit('login');\n  } else {\n    this.emit('login_fail', err);\n  }\n  resp_func(err);\n};\n\nSubscriptionManager.prototype.loginInternal = function (login_credentials, resp_func) {\n  if (this.logging_in) {\n    return void resp_func('Login already in progress');\n  }\n  this.logging_in = true;\n  this.logged_in = false;\n\n  if (login_credentials.fb) {\n    fbinstant.onready(() => {\n      window.FBInstant.player.getSignedPlayerInfoAsync().then((result) => {\n        this.client.send('login_facebook', {\n          signature: result.getSignature(),\n          display_name: window.FBInstant.player.getName(),\n        }, this.handleLoginResponse.bind(this, resp_func));\n      }).catch((err) => {\n        this.handleLoginResponse(resp_func, err);\n      });\n    });\n  } else {\n    this.client.send('login', {\n      user_id: login_credentials.user_id,\n      password: md5(this.client.secret + login_credentials.password),\n    }, this.handleLoginResponse.bind(this, resp_func));\n  }\n};\n\nSubscriptionManager.prototype.userCreateInternal = function (params, resp_func) {\n  if (this.logging_in) {\n    return resp_func('Login already in progress');\n  }\n  this.logging_in = true;\n  this.logged_in = false;\n  return this.client.send('user_create', params, this.handleLoginResponse.bind(this, resp_func));\n};\n\nfunction hashedPassword(user_id, password) {\n  if (password.split('$$')[0] === 'prehashed') {\n    password = password.split('$$')[1];\n  } else {\n    password = md5(md5(user_id.toLowerCase()) + password);\n  }\n  return password;\n}\n\n\nSubscriptionManager.prototype.login = function (username, password, resp_func) {\n  username = (username || '').trim();\n  if (!username) {\n    return resp_func('Missing username');\n  }\n  password = (password || '').trim();\n  if (!password) {\n    return resp_func('Missing password');\n  }\n  let hashed_password = hashedPassword(username, password);\n  if (hashed_password !== password) {\n    local_storage.set('password', `prehashed$$${hashed_password}`);\n  }\n  this.login_credentials = { user_id: username, password: hashed_password };\n  if (!this.auto_create_user) {\n    // Just return result directly\n    return this.loginInternal(this.login_credentials, resp_func);\n  }\n  return this.loginInternal(this.login_credentials, (err, data) => {\n    if (!err || err !== 'ERR_USER_NOT_FOUND') {\n      return void resp_func(err, data);\n    }\n    // user not found, auto-create\n    this.userCreate({\n      user_id: username,\n      password,\n      password_confirm: password,\n      email: 'autocreate@glovjs.org',\n    }, resp_func);\n  });\n};\n\nSubscriptionManager.prototype.loginFacebook = function (resp_func) {\n  this.login_credentials = { fb: true };\n  return this.loginInternal(this.login_credentials, resp_func);\n};\n\nSubscriptionManager.prototype.userCreate = function (params, resp_func) {\n  params.user_id = (params.user_id || '').trim();\n  if (!params.user_id) {\n    return resp_func('Missing username');\n  }\n  params.password = (params.password || '').trim();\n  if (!params.password) {\n    return resp_func('Missing password');\n  }\n  params.password_confirm = (params.password_confirm || '').trim();\n  if (!this.auto_create_user && !params.password_confirm) {\n    return resp_func('Missing password confirmation');\n  }\n  params.email = (params.email || '').trim();\n  if (!this.auto_create_user && !params.email) {\n    return resp_func('Missing email');\n  }\n  params.display_name = (params.display_name || '').trim();\n  let hashed_password = hashedPassword(params.user_id, params.password);\n  if (hashed_password !== params.password) {\n    local_storage.set('password', `prehashed$$${hashed_password}`);\n  }\n  let hashed_password_confirm = hashedPassword(params.user_id, params.password_confirm);\n  if (hashed_password !== hashed_password_confirm) {\n    return resp_func('Passwords do not match');\n  }\n  this.login_credentials = { user_id: params.user_id, password: hashed_password };\n  return this.userCreateInternal({\n    display_name: params.display_name || params.user_id,\n    user_id: params.user_id,\n    email: params.email,\n    password: hashed_password,\n  }, resp_func);\n};\n\n\nSubscriptionManager.prototype.logout = function () {\n  assert(this.logged_in);\n  assert(!this.logging_in);\n  assert(!this.logging_out);\n  // Don't know how to gracefully handle logging out with subscriptions currently, assert we have none\n  for (let channel_id in this.channels) {\n    let channel = this.channels[channel_id];\n    assert(!channel.subscriptions, `Remaining active subscription for ${channel_id}`);\n    if (channel.autosubscribed) {\n      channel.autosubscribed = false;\n    }\n  }\n\n  this.logging_out = true;\n  this.client.send('logout', null, (err) => {\n    this.logging_out = false;\n    if (!err) {\n      local_storage.set('password', undefined);\n      this.logged_in = false;\n      this.logged_in_username = null;\n      this.was_logged_in = false;\n      this.login_credentials = null;\n      this.emit('logout');\n    }\n  });\n};\n\nSubscriptionManager.prototype.serverLog = function (type, data) {\n  this.client.send('log', { type, data });\n};\n\nSubscriptionManager.prototype.sendCmdParse = function (command, resp_func) {\n  let self = this;\n  let channel_ids = Object.keys(self.channels);\n  let idx = 0;\n  let last_error = 'Unknown command';\n  function tryNext() {\n    let channel_id;\n    let channel;\n    do {\n      channel_id = channel_ids[idx++];\n      channel = self.channels[channel_id];\n    } while (channel_id && (!channel || !(channel.subscriptions || channel.autosubscribed)));\n    if (!channel_id) {\n      self.serverLog('cmd_parse_unknown', command);\n      return resp_func(last_error);\n    }\n    return channel.send('cmdparse', command,\n      function (err, resp) {\n        if (err || resp && resp.found) {\n          return resp_func(err, resp ? resp.resp : null);\n        }\n        // otherwise, was not found\n        if (resp && resp.err) {\n          last_error = resp.err;\n        }\n        return self.onceConnected(tryNext);\n      }\n    );\n  }\n  self.onceConnected(tryNext);\n};\n\nexport function create(client, cmd_parse) {\n  return new SubscriptionManager(client, cmd_parse);\n}\n","// Portions Copyright 2019 Jimb Esser (https://github.com/Jimbly/)\n// Released under MIT License: https://opensource.org/licenses/MIT\n/* eslint-env browser */\n\nconst assert = require('assert');\nconst engine = require('./engine.js');\nconst { filewatchOn } = require('./filewatch.js');\nconst local_storage = require('./local_storage.js');\nconst urlhash = require('./urlhash.js');\nconst { callEach, isPowerOfTwo, nextHighestPowerOfTwo, ridx } = require('../../common/util.js');\n\nconst TEX_UNLOAD_TIME = 5 * 60 * 1000; // for textures loaded (each frame) with auto_unload: true\n\nexport let textures = {};\nexport let load_count = 0;\nlet aniso = 4;\nlet max_aniso = 0;\nlet aniso_enum;\n\nlet default_filter_min;\nlet default_filter_mag;\n\nconst cube_faces = [\n  { target: 'TEXTURE_CUBE_MAP_NEGATIVE_X', pos: [0,1] },\n  { target: 'TEXTURE_CUBE_MAP_POSITIVE_X', pos: [0,0] },\n  { target: 'TEXTURE_CUBE_MAP_NEGATIVE_Y', pos: [1,0] },\n  { target: 'TEXTURE_CUBE_MAP_POSITIVE_Y', pos: [1,1] },\n  { target: 'TEXTURE_CUBE_MAP_NEGATIVE_Z', pos: [2,0] },\n  { target: 'TEXTURE_CUBE_MAP_POSITIVE_Z', pos: [2,1] },\n];\n\nexport const format = {\n  R8: { count: 1 },\n  RGB8: { count: 3 },\n  RGBA8: { count: 4 },\n};\n\nexport function defaultFilters(min, mag) {\n  default_filter_min = min;\n  default_filter_mag = mag;\n}\n\nlet bound_unit = null;\nlet bound_tex = [];\n\nlet handle_loading;\nlet handle_error;\n\nlet frame_timestamp;\n\nfunction setUnit(unit) {\n  if (unit !== bound_unit) {\n    gl.activeTexture(gl.TEXTURE0 + unit);\n    bound_unit = unit;\n  }\n}\n\nfunction bindHandle(unit, target, handle) {\n  if (bound_tex[unit] !== handle) {\n    setUnit(unit);\n    gl.bindTexture(target, handle);\n    bound_tex[unit] = handle;\n  }\n}\n\nfunction unbindAll(target) {\n  for (let unit = 0; unit < bound_tex.length; ++unit) {\n    setUnit(unit);\n    gl.bindTexture(target, target === gl.TEXTURE_2D ? handle_loading : null);\n    bound_tex[unit] = null;\n  }\n}\n\nexport function bind(unit, tex) {\n  tex.last_use = frame_timestamp;\n  // May or may not change the unit\n  bindHandle(unit, tex.target, tex.eff_handle);\n}\n\n// hot path inlined for perf\nexport function bindArray(texs) {\n  for (let ii = 0; ii < texs.length; ++ii) {\n    let tex = texs[ii];\n    tex.last_use = frame_timestamp;\n    let handle = tex.eff_handle;\n    if (bound_tex[ii] !== handle) {\n      if (ii !== bound_unit) {\n        gl.activeTexture(gl.TEXTURE0 + ii);\n        bound_unit = ii;\n      }\n      gl.bindTexture(tex.target, handle);\n      bound_tex[ii] = handle;\n    }\n  }\n}\n\nexport function isArrayBound(texs) {\n  for (let ii = 0; ii < texs.length; ++ii) {\n    let tex = texs[ii];\n    let handle = tex.eff_handle;\n    if (bound_tex[ii] !== handle) {\n      return false;\n    }\n  }\n  return true;\n}\n\nlet auto_unload_textures = [];\n\nfunction Texture(params) {\n  this.name = params.name;\n  this.loaded = false;\n  this.load_fail = false;\n  this.target = params.target || gl.TEXTURE_2D;\n  this.is_array = this.target === gl.TEXTURE_2D_ARRAY;\n  this.is_cube = this.target === gl.TEXTURE_CUBE_MAP;\n  this.handle = gl.createTexture();\n  this.eff_handle = handle_loading;\n  this.setSamplerState(params);\n  this.src_width = this.src_height = 1;\n  this.width = this.height = 1;\n  this.nozoom = params.nozoom || false;\n  this.on_load = [];\n  this.gpu_mem = 0;\n  this.soft_error = params.soft_error || false;\n  this.last_use = frame_timestamp;\n  this.auto_unload = params.auto_unload || false;\n  if (this.auto_unload) {\n    auto_unload_textures.push(this);\n  }\n\n  this.format = params.format || format.RGBA8;\n\n  if (params.data) {\n    let err = this.updateData(params.width, params.height, params.data);\n    assert(!err, err);\n  } else {\n    // texture is not valid, do not leave bound\n    unbindAll(this.target);\n    if (params.url) {\n      this.url = params.url;\n      this.loadURL(params.url);\n    }\n  }\n}\n\nTexture.prototype.updateGPUMem = function () {\n  let new_size = this.width * this.height * this.format.count;\n  if (this.mipmaps) {\n    new_size *= 1.5;\n  }\n  let diff = new_size - this.gpu_mem;\n  engine.perf_state.gpu_mem.tex += diff;\n  this.gpu_mem = diff;\n};\n\nTexture.prototype.setSamplerState = function (params) {\n  let target = this.target;\n  setUnit(0);\n  bound_tex[0] = null; // Force a re-bind, no matter what\n  bindHandle(0, target, this.handle);\n\n  this.filter_min = params.filter_min || default_filter_min;\n  this.filter_mag = params.filter_mag || default_filter_mag;\n  gl.texParameteri(target, gl.TEXTURE_MIN_FILTER, this.filter_min);\n  gl.texParameteri(target, gl.TEXTURE_MAG_FILTER, this.filter_mag);\n  this.wrap_s = params.wrap_s || gl.REPEAT;\n  this.wrap_t = params.wrap_t || gl.REPEAT;\n  gl.texParameteri(target, gl.TEXTURE_WRAP_S, this.wrap_s);\n  gl.texParameteri(target, gl.TEXTURE_WRAP_T, this.wrap_t);\n\n  this.mipmaps = this.filter_min >= 0x2700 && this.filter_min <= 0x2703; // Probably gl.LINEAR_MIPMAP_LINEAR\n\n  if (max_aniso) {\n    if (this.mipmaps && params.filter_mag !== gl.NEAREST) {\n      gl.texParameterf(gl.TEXTURE_2D, aniso_enum, aniso);\n    } else {\n      gl.texParameterf(gl.TEXTURE_2D, aniso_enum, 1);\n    }\n  }\n};\n\nTexture.prototype.updateData = function updateData(w, h, data) {\n  assert(!this.destroyed);\n  setUnit(0);\n  bound_tex[0] = null; // Force a re-bind, no matter what\n  bindHandle(0, this.target, this.handle);\n  this.last_use = frame_timestamp;\n  this.src_width = w;\n  this.src_height = h;\n  this.width = w;\n  this.height = h;\n  gl.getError(); // clear the error flag if there is one\n  // Resize NP2 if this is not being used for a texture array, and it is not explicitly allowed (non-mipmapped, wrapped)\n  let np2 = (!isPowerOfTwo(w) || !isPowerOfTwo(h)) && !this.is_array && !this.is_cube &&\n    !(!this.mipmaps && this.wrap_s === gl.CLAMP_TO_EDGE && this.wrap_t === gl.CLAMP_TO_EDGE);\n  if (np2) {\n    this.width = nextHighestPowerOfTwo(w);\n    this.height = nextHighestPowerOfTwo(h);\n    gl.texImage2D(this.target, 0, this.format.internal_type, this.width, this.height, 0,\n      this.format.internal_type, this.format.gl_type, null);\n  }\n  if (data instanceof Uint8Array) {\n    assert(data.length >= w * h * this.format.count);\n    assert(!this.is_cube);\n    if (this.is_array) {\n      let num_images = h / w; // assume square\n      gl.texImage3D(this.target, 0, this.format.internal_type, w, w,\n        num_images, 0, this.format.internal_type, this.format.gl_type, data);\n    } else if (np2) {\n      // Could do multiple upload thing like below, but smarter, but we really shouldn't be doing this for\n      // in-process generated images!\n      gl.texSubImage2D(this.target, 0, 0, 0, w, h, this.format.internal_type, this.format.gl_type, data);\n    } else {\n      gl.texImage2D(this.target, 0, this.format.internal_type, w, h, 0,\n        this.format.internal_type, this.format.gl_type, data);\n    }\n  } else {\n    assert(data.width); // instanceof Image fails with ublock AdBlocker; also, this is either an Image or Canvas\n    if (this.is_cube) {\n      assert.equal(w * 2, h * 3);\n      let tex_size = h / 2;\n      let canvas = document.createElement('canvas');\n      canvas.width = tex_size;\n      canvas.height = tex_size;\n      let ctx = canvas.getContext('2d');\n      for (let ii = 0; ii < cube_faces.length; ++ii) {\n        let face = cube_faces[ii];\n        ctx.drawImage(data, face.pos[0] * tex_size, face.pos[1] * tex_size, tex_size, tex_size,\n          0, 0, tex_size, tex_size);\n        gl.texImage2D(gl[face.target], 0, this.format.internal_type, this.format.internal_type, this.format.gl_type,\n          canvas);\n      }\n    } else if (this.is_array) {\n      let num_images = h / w;\n      gl.texImage3D(this.target, 0, this.format.internal_type, w, w,\n        num_images, 0, this.format.internal_type, this.format.gl_type, data);\n\n      if (gl.getError()) {\n        // Fix for Samsung devices (Chris's and Galaxy S8 on CrossBrowserTesting)\n        // Also fixes locally on Chrome when using a 8K source texture (was 896x57344),\n        //  perhaps some auto-scaling is going on in the gl.texImage3D call if required?\n        // Try drawing to canvas first\n        let canvas = document.createElement('canvas');\n        canvas.width = w;\n        canvas.height = h;\n        let ctx = canvas.getContext('2d');\n        ctx.drawImage(data, 0, 0);\n        gl.texImage3D(this.target, 0, this.format.internal_type, w, w,\n          num_images, 0, this.format.internal_type, this.format.gl_type, canvas);\n      }\n\n    } else if (np2) {\n      // Pad up to power of two\n      // Duplicate right and bottom pixel row by sending image 3 times\n      if (w !== this.width) {\n        gl.texSubImage2D(this.target, 0, 1, 0, this.format.internal_type, this.format.gl_type, data);\n      }\n      if (h !== this.height) {\n        gl.texSubImage2D(this.target, 0, 0, 1, this.format.internal_type, this.format.gl_type, data);\n      }\n      gl.texSubImage2D(this.target, 0, 0, 0, this.format.internal_type, this.format.gl_type, data);\n    } else {\n      gl.texImage2D(this.target, 0, this.format.internal_type, this.format.internal_type, this.format.gl_type, data);\n    }\n  }\n  let gl_err = gl.getError();\n  if (gl_err) {\n    return gl_err;\n  }\n  if (this.mipmaps) {\n    gl.generateMipmap(this.target);\n    assert(!gl.getError());\n  }\n  this.updateGPUMem();\n  this.eff_handle = this.handle;\n  this.loaded = true;\n\n  callEach(this.on_load, this.on_load = null, this);\n\n  return 0;\n};\n\nTexture.prototype.onLoad = function (cb) {\n  if (this.loaded) {\n    cb(this);\n  } else {\n    this.on_load.push(cb);\n  }\n};\n\nlet texture_base_url = '';\nexport function getExternalTextureURL(url) {\n  if (!url.match(/^.{2,7}:/)) {\n    url = `${texture_base_url||urlhash.getURLBase()}${url}`;\n  }\n  return url;\n}\nexport function setExternalTextureBaseURL(base_url) {\n  texture_base_url = base_url;\n}\n\nconst TEX_RETRY_COUNT = 4;\nTexture.prototype.loadURL = function loadURL(url, filter) {\n  let tex = this;\n  assert(!tex.destroyed);\n\n  // When our browser's location has been changed from 'site.com/foo/' to\n  //  'site.com/foo/bar/7' our relative image URLs are still relative to the\n  //  base.  Maybe should set some meta tag to do this instead?\n  if (!url.match(/^.{2,7}:/)) {\n    url = `${urlhash.getURLBase()}${url}`;\n  }\n\n  let load_gen = tex.load_gen = (tex.load_gen || 0) + 1;\n  function tryLoad(next) {\n    let did_next = false;\n    function done(img) {\n      if (!did_next) {\n        did_next = true;\n        return void next(img);\n      }\n    }\n\n    let img = new Image();\n    img.onload = function () {\n      done(img);\n    };\n    function fail() {\n      done(null);\n    }\n    img.onerror = fail;\n    img.crossOrigin = 'anonymous';\n    img.src = url;\n  }\n\n  ++load_count;\n  let retries = 0;\n  function handleLoad(img) {\n    if (tex.load_gen !== load_gen || tex.destroyed) {\n      // someone else requested this texture to be loaded!  Or, it was already unloaded\n      --load_count;\n      return;\n    }\n    let err_details = '';\n    if (img) {\n      tex.format = format.RGBA8;\n      if (filter) {\n        img = filter(tex, img);\n      }\n      let err = tex.updateData(img.width, img.height, img);\n      if (err) {\n        err_details = `: GLError(${err})`;\n        // Samsung TV gets 1282 on texture arrays\n        // Samsung Galaxy S6 gets 1281 on texture arrays\n        // Note: Any failed image load (partial read of a bad png, etc) also results in 1281!\n        if (tex.is_array && (String(err) === '1282' || String(err) === '1281') && engine.webgl2 && !engine.DEBUG) {\n          local_storage.setJSON('webgl2_disable', {\n            ua: navigator.userAgent,\n            ts: Date.now(),\n          });\n          console.error(`Error loading array texture \"${url}\"${err_details}, reloading without WebGL2..`);\n          engine.reloadSafe();\n          return;\n        }\n        if (!tex.for_reload) {\n          retries = TEX_RETRY_COUNT; // do not retry this\n        }\n      } else {\n        --load_count;\n        return;\n      }\n    }\n    let err = `Error loading texture \"${url}\"${err_details}`;\n    retries++;\n    if (retries > TEX_RETRY_COUNT) {\n      --load_count;\n      tex.eff_handle = handle_error;\n      tex.load_fail = true;\n      console.error(`${err}${err_details ? '' : ', retries failed'}`);\n      if (tex.soft_error) {\n        tex.err = 'Load failed';\n      } else {\n        assert(false, err);\n      }\n      return;\n    }\n    console.error(`${err}, retrying... `);\n    setTimeout(tryLoad.bind(null, handleLoad), 100 * retries * retries);\n  }\n  tryLoad(handleLoad);\n};\n\nTexture.prototype.copyTexImage = function (x, y, w, h) {\n  assert(!this.destroyed);\n  assert(w && h);\n  bindHandle(0, this.target, this.handle);\n  gl.copyTexImage2D(this.target, 0, gl.RGB, x, y, w, h, 0);\n  this.last_use = frame_timestamp;\n  this.src_width = this.width = w;\n  this.src_height = this.height = h;\n  this.updateGPUMem();\n};\n\nTexture.prototype.destroy = function () {\n  if (this.destroyed) {\n    return;\n  }\n  assert(this.name);\n  let auto_unload = this.auto_unload;\n  if (auto_unload) {\n    this.auto_unload = null;\n    let idx = auto_unload_textures.indexOf(this);\n    assert(idx !== -1);\n    ridx(auto_unload_textures, idx);\n  }\n  delete textures[this.name];\n  unbindAll(this.target);\n  gl.deleteTexture(this.handle);\n  this.width = this.height = 0;\n  this.updateGPUMem();\n  this.destroyed = true;\n  if (typeof auto_unload === 'function') {\n    auto_unload();\n  }\n};\n\nfunction create(params) {\n  assert(params.name);\n  let texture = new Texture(params);\n  textures[params.name] = texture;\n  return texture;\n}\n\nlet last_temporary_id = 0;\nexport function createForCapture(unique_name, auto_unload) {\n  let name = unique_name || `screen_temporary_tex_${++last_temporary_id}`;\n  assert(!textures[name]);\n  let texture = create({\n    filter_min: gl.NEAREST,\n    filter_mag: gl.NEAREST,\n    wrap_s: gl.CLAMP_TO_EDGE,\n    wrap_t: gl.CLAMP_TO_EDGE,\n    format: format.RGB8,\n    name,\n    auto_unload,\n  });\n  texture.loaded = true;\n  texture.eff_handle = texture.handle;\n  return texture;\n}\n\nexport function load(params) {\n  let key = params.name = params.name || params.url;\n  assert(key);\n  let tex = textures[key];\n  if (!tex) {\n    tex = create(params);\n  }\n  tex.last_use = frame_timestamp;\n  return tex;\n}\n\nexport function cname(key) {\n  let idx = key.lastIndexOf('/');\n  if (idx !== -1) {\n    key = key.slice(idx+1);\n  }\n  idx = key.indexOf('.');\n  if (idx !== -1) {\n    key = key.slice(0, idx);\n  }\n  return key.toLowerCase();\n}\nexport function findTexForReplacement(search_key) {\n  search_key = cname(search_key);\n  for (let key in textures) {\n    let compare_key = cname(key);\n    if (compare_key === search_key) {\n      return textures[key];\n    }\n  }\n  return null;\n}\n\nlet tick_next_tex = 0;\nexport function texturesTick() {\n  frame_timestamp = engine.frame_timestamp;\n  let len = auto_unload_textures.length;\n  if (!len) {\n    return;\n  }\n  if (tick_next_tex >= len) {\n    tick_next_tex = 0;\n  }\n  let tex = auto_unload_textures[tick_next_tex];\n  if (tex.last_use < frame_timestamp - TEX_UNLOAD_TIME) {\n    console.log(`Unloading texture ${tex.name}`);\n    tex.destroy();\n  } else {\n    ++tick_next_tex;\n  }\n}\n\nexport function texturesUnloadDynamic() {\n  while (auto_unload_textures.length) {\n    auto_unload_textures[0].destroy();\n  }\n}\n\nfunction textureReload(filename) {\n  let tex = textures[filename];\n  if (tex && tex.url) {\n    tex.for_reload = true;\n    tex.loadURL(`${tex.url}?rl=${Date.now()}`);\n    return true;\n  }\n  return false;\n}\n\nexport function startup() {\n\n  default_filter_min = gl.LINEAR_MIPMAP_LINEAR;\n  default_filter_mag = gl.LINEAR;\n\n  format.R8.internal_type = gl.LUMINANCE;\n  format.R8.gl_type = gl.UNSIGNED_BYTE;\n  format.RGB8.internal_type = gl.RGB;\n  format.RGB8.gl_type = gl.UNSIGNED_BYTE;\n  format.RGBA8.internal_type = gl.RGBA;\n  format.RGBA8.gl_type = gl.UNSIGNED_BYTE;\n\n  let ext_anisotropic = (\n    gl.getExtension('EXT_texture_filter_anisotropic') ||\n    gl.getExtension('MOZ_EXT_texture_filter_anisotropic') ||\n    gl.getExtension('WEBKIT_EXT_texture_filter_anisotropic')\n  );\n  if (ext_anisotropic) {\n    aniso_enum = ext_anisotropic.TEXTURE_MAX_ANISOTROPY_EXT;\n    aniso = max_aniso = gl.getParameter(ext_anisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT);\n  }\n\n  handle_error = load({\n    name: 'error',\n    width: 2, height: 2,\n    nozoom: true,\n    format: format.RGBA8,\n    filter_mag: gl.NEAREST,\n    data: new Uint8Array([\n      255, 20, 147, 255,\n      255, 0, 0, 255,\n      255, 255, 255, 255,\n      255, 20, 147, 255\n    ]),\n  }).handle;\n\n  handle_loading = load({\n    name: 'loading',\n    width: 2, height: 2,\n    nozoom: true,\n    format: format.RGBA8,\n    data: new Uint8Array([\n      127, 127, 127, 255,\n      0, 0, 0, 255,\n      64, 64, 64, 255,\n      127, 127, 127, 255,\n    ]),\n  }).handle;\n\n  load({\n    name: 'white',\n    width: 2, height: 2,\n    nozoom: true,\n    format: format.RGBA8,\n    data: new Uint8Array([\n      255, 255, 255, 255,\n      255, 255, 255, 255,\n      255, 255, 255, 255,\n      255, 255, 255, 255,\n    ]),\n  });\n\n  load({\n    name: 'invisible',\n    width: 2, height: 2,\n    nozoom: true,\n    format: format.RGBA8,\n    data: new Uint8Array([\n      0, 0, 0, 0,\n      0, 0, 0, 0,\n      0, 0, 0, 0,\n      0, 0, 0, 0,\n    ]),\n  });\n\n  filewatchOn('.png', textureReload);\n}\n","// Portions Copyright 2019 Jimb Esser (https://github.com/Jimbly/)\n// Released under MIT License: https://opensource.org/licenses/MIT\n\nconst assert = require('assert');\nconst camera2d = require('./camera2d.js');\nconst glov_engine = require('./engine.js');\nconst { floor, min, pow, random } = Math;\nconst sprites = require('./sprites.js');\nconst shaders = require('./shaders.js');\nconst textures = require('./textures.js');\nconst glov_ui = require('./ui.js');\nconst { easeOut } = require('../../common/util.js');\nconst { unit_vec, vec4 } = require('./vmath.js');\n\nlet transitions = [];\n\nexport const IMMEDIATE = 'immediate';\n\nexport const REMOVE = 'remove';\nexport const CONTINUE = 'continue';\n\nconst shader_data = {\n  transition_pixelate: {\n    fp: 'glov/shaders/transition_pixelate.fp',\n  },\n};\n\nfunction getShader(key) {\n  let elem = shader_data[key];\n  if (!elem.shader) {\n    elem.shader = shaders.create(elem.fp);\n  }\n  return elem.shader;\n}\n\nclass GlovTransition {\n  constructor(z, func) {\n    this.z = z;\n    this.capture = null;\n    this.func = func;\n    this.accum_time = 0;\n  }\n}\n\nfunction transitionCapture(trans) {\n  assert(!trans.capture);\n  trans.capture = textures.createForCapture();\n  glov_engine.captureFramebuffer(trans.capture);\n}\n\nexport function queue(z, fn) {\n  let immediate = false;\n  if (z === IMMEDIATE) {\n    immediate = true;\n    z = Z.TRANSITION_FINAL;\n  }\n\n  for (let ii = 0; ii < transitions.length; ++ii) {\n    let trans = transitions[ii];\n    if (trans.z === z) {\n      // same Z\n      assert(trans.capture);\n      if (!trans.capture) {\n        // two transitions at the same Z on one frame!  ignore second\n        return false;\n      }\n    }\n  }\n  let trans = new GlovTransition(z, fn);\n  transitions.push(trans);\n\n  if (immediate) {\n    transitionCapture(trans);\n  }\n  return true;\n}\n\nfunction destroyTexture(tex) {\n  tex.destroy();\n}\n\nexport function render(dt) {\n  dt = min(dt, 100); // debug: clamp frame times\n  for (let trans_idx = 0; trans_idx < transitions.length; ++trans_idx) {\n    let trans = transitions[trans_idx];\n    trans.accum_time += dt;\n    if (!trans.capture) {\n      // queue up a capture past the specified Z, so transitions rendering at that Z (plus a handful) get captured\n      sprites.queuefn(trans.z + Z.TRANSITION_RANGE, transitionCapture.bind(null, trans));\n    } else if (trans.capture) {\n      // call the function and give them the Z\n      // If not the last one, want it to end now!\n      let force_end = trans_idx < transitions.length - 1;\n      let ret = trans.func(trans.z, trans.capture, trans.accum_time, force_end);\n      if (ret === REMOVE) {\n        setTimeout(destroyTexture.bind(null, trans.capture), 0);\n        transitions.splice(trans_idx, 1);\n        trans_idx--;\n      }\n    }\n  }\n}\n\nexport function active() {\n  return transitions.length;\n}\n\nfunction glovTransitionFadeFunc(fade_time, z, initial, ms_since_start, force_end) {\n  let progress = min(ms_since_start / fade_time, 1);\n  let alpha = (1 - easeOut(progress, 2));\n  let color = vec4(1, 1, 1, alpha);\n  camera2d.setNormalized();\n  sprites.queueraw4([initial],\n    0, 0, 0, 1,\n    1, 1, 1, 0,\n    z,\n    0, 1, 1, 0,\n    color);\n\n  if (force_end || progress === 1) {\n    return REMOVE;\n  }\n  return CONTINUE;\n}\n\n\n/*\n  // Doesn't work because we need more than just 2 UV values in the queue call\nfunction glovTransitionWipeFunc(wipe_time, wipe_angle, z, tex, ms_since_start, force_end) {\n  let progress = min(ms_since_start / wipe_time, 1);\n\n  camera2d.setNormalized();\n\n  let uvs = [[0,1], [1,0]];\n\n  let points = [{}, {}, {}, {}];\n  for (let ii = 0; ii < 4; ii++) {\n    let x = (ii === 1 || ii === 2) ? 1 : 0;\n    let y = (ii >= 2) ? 1 : 0;\n    points[ii].x = x;\n    points[ii].y = y;\n  }\n\n  while (wipe_angle > PI) {\n    wipe_angle -= (2 * PI);\n  }\n  while (wipe_angle < -PI) {\n    wipe_angle += (2 * PI);\n  }\n\n  // TODO: if anyone ever uses this, change 0 degrees to be up, not right, to match other things?\n  if (wipe_angle >= -PI_4 && wipe_angle <= PI_4) {\n    // horizontal wipe from left to right\n    let x0 = progress * 2; // rightmost x\n    let x1 = x0 - sin(abs(wipe_angle)) / SQRT1_2; // leftmost x\n    if (wipe_angle < 0) {\n      points[0].x = x1;\n      points[3].x = x0;\n    } else {\n      points[0].x = x0;\n      points[3].x = x1;\n    }\n    points[1].x = points[2].x = 2;\n  } else if (wipe_angle >= PI_2 + PI_4 || wipe_angle <= -PI_2 - PI_4) {\n    // horizontal wipe from right to left\n    let x0 = 1 - progress * 2; // leftmost x\n    let x1 = x0 + sin(abs(wipe_angle)) / SQRT1_2; // rightmost x,\n    if (wipe_angle < 0) {\n      points[1].x = x1;\n      points[2].x = x0;\n    } else {\n      points[1].x = x0;\n      points[2].x = x1;\n    }\n    points[0].x = points[3].x = -1;\n  } else if (wipe_angle > PI_4 && wipe_angle <= PI_2 + PI_4) {\n    // vertical wipe, top to bottom\n    let y0 = progress * 2; // bottommost y\n    let offs = cos(wipe_angle) / SQRT1_2;\n    let y1 = y0 - abs(offs); // topmost y,\n    if (offs > 0) {\n      points[0].y = y0;\n      points[1].y = y1;\n    } else {\n      points[0].y = y1;\n      points[1].y = y0;\n    }\n    points[2].y = points[3].y = 2;\n  } else {\n    // vertical wipe, bottom to top\n    let y0 = 1 - progress * 2; // topmost y\n    let offs = cos(wipe_angle) / SQRT1_2;\n    let y1 = y0 + abs(offs); // bottommost y,\n    if (offs > 0) {\n      points[2].y = y1;\n      points[3].y = y0;\n    } else {\n      points[2].y = y0;\n      points[3].y = y1;\n    }\n    points[0].y = points[1].y = -1;\n  }\n  // interp UVs based on points\n  points[0].u = lerp(points[0].x, uvs[0][0], uvs[1][0]);\n  points[1].u = lerp(points[1].x, uvs[0][0], uvs[1][0]);\n  points[2].u = lerp(points[2].x, uvs[0][0], uvs[1][0]);\n  points[3].u = lerp(points[3].x, uvs[0][0], uvs[1][0]);\n  points[0].v = lerp(points[0].y, uvs[0][1], uvs[1][1]);\n  points[1].v = lerp(points[1].y, uvs[0][1], uvs[1][1]);\n  points[2].v = lerp(points[2].y, uvs[0][1], uvs[1][1]);\n  points[3].v = lerp(points[3].y, uvs[0][1], uvs[1][1]);\n\n  sprites.queueraw4([tex],\n    points[0].x, points[0].y, points[3].x, points[3].y,\n    points[2].x, points[2].y, points[1].x, points[1].y,\n    z,\n    points[0].u, points[0].v, points[2].u, points[2].v,\n    unit_vec, 'alpha_nearest');\n\n  if (force_end || progress === 1) {\n    return REMOVE;\n  }\n  return CONTINUE;\n}\n\n*/\n\nfunction glovTransitionSplitScreenFunc(time, border_width, slide_window, z, tex, ms_since_start, force_end) {\n  let border_color = vec4(1, 1, 1, 1);\n  let progress = easeOut(min(ms_since_start / time, 1), 2);\n  camera2d.setNormalized();\n\n  let uvs = [[0,1], [1,0]];\n\n  let xoffs = progress;\n  let v_half = uvs[0][1] + (uvs[1][1] - uvs[0][1]) / 2;\n  if (slide_window) { // slide window\n    sprites.queueraw([tex], 0, 0, z, 1 - xoffs, 1 / 2,\n      0, uvs[0][1], uvs[1][0] * (1 - progress), v_half,\n      unit_vec);\n    sprites.queueraw([tex], 0 + xoffs, 1 / 2, z, 1 - xoffs, 1 / 2,\n      uvs[1][0] * progress, v_half, uvs[1][0], uvs[1][1],\n      unit_vec);\n  } else { // slide image\n    sprites.queueraw([tex], 0 - xoffs, 0, z, 1, 1 / 2,\n      uvs[0][0], uvs[0][1], uvs[1][0], v_half,\n      unit_vec);\n    sprites.queueraw([tex], 0 + xoffs, 1 / 2, z, 1, 1 / 2,\n      uvs[0][0], v_half, uvs[1][0], uvs[1][1],\n      unit_vec);\n  }\n  let border_grow_progress = min(progress * 4, 1);\n  border_color[3] = border_grow_progress;\n  border_width *= border_grow_progress;\n  // TODO: Would look better if the horizontal border grew from the middle out, so the overlapping bit is identical\n  // on both sides\n  glov_ui.drawRect(0, 0.5 - border_width, 1 - xoffs, 0.5, z + 1, border_color);\n  glov_ui.drawRect(1 - xoffs - border_width, 0, 1 - xoffs, 0.5, z + 1, border_color);\n  glov_ui.drawRect(xoffs, 0.5, 1, 0.5 + border_width, z + 1, border_color);\n  glov_ui.drawRect(xoffs, 0.5, xoffs + border_width, 1, z + 1, border_color);\n\n  if (force_end || progress === 1) {\n    return REMOVE;\n  }\n  return CONTINUE;\n}\n\nconst render_scale = 1;\nlet transition_pixelate_texture;\n\nfunction transitionPixelateCapture() {\n  if (!transition_pixelate_texture) {\n    transition_pixelate_texture = textures.createForCapture();\n  }\n  glov_engine.captureFramebuffer(transition_pixelate_texture);\n}\n\nfunction glovTransitionPixelateFunc(time, z, tex, ms_since_start, force_end) {\n  //ms_since_start %= time;\n  //let viewport = glov_engine.graphics_device.getViewport();\n  //let gd_width = viewport[2];\n  let gd_width = glov_engine.width;\n  let progress = min(ms_since_start / time, 1);\n  camera2d.setNormalized();\n\n  if (progress > 0.5) {\n    sprites.queuefn(z, transitionPixelateCapture);\n    if (transition_pixelate_texture) {\n      tex = transition_pixelate_texture;\n    }\n  }\n\n  let partial_progress = (progress > 0.5 ? 1 - progress : progress) * 2;\n  // Use power of two scalings, but then scale relative to a 1024px virtual screen, so the biggest\n  //  pixel is about the same percentage of the screen regardless of resolution.\n  let pixel_scale = pow(2, floor(partial_progress * 8.9)) / 1024 * gd_width * render_scale;\n\n  let param0 = vec4(tex.width / pixel_scale, tex.height / pixel_scale,\n    pixel_scale / tex.width, pixel_scale / tex.height);\n  let param1 = vec4(0.5 / tex.width, 0.5 / tex.height,\n    (tex.texSizeX - 1) / tex.width, (tex.texSizeY - 1) / tex.height);\n\n\n  sprites.queueraw([tex], 0, 0, z + 1, 1, 1,\n    0, 1, 1, 0,\n    unit_vec, getShader('transition_pixelate'), {\n      param0,\n      param1,\n    });\n\n  if (force_end || progress === 1) {\n    if (transition_pixelate_texture) {\n      setTimeout(destroyTexture.bind(null, transition_pixelate_texture), 0);\n    }\n    transition_pixelate_texture = null;\n    return REMOVE;\n  }\n  return CONTINUE;\n}\n\nexport function fade(fade_time) {\n  return glovTransitionFadeFunc.bind(null, fade_time);\n}\n\n// export function wipe(wipe_time, wipe_angle) {\n//   return glovTransitionWipeFunc.bind(null, wipe_time, wipe_angle);\n// }\n\n// border_width in camera-relative size\nexport function splitScreen(time, border_width, slide_window) {\n  border_width /= camera2d.w(); // convert to normalized units\n  return glovTransitionSplitScreenFunc.bind(null, time, border_width, slide_window);\n}\n\nexport function pixelate(fade_time) {\n  return glovTransitionPixelateFunc.bind(null, fade_time);\n}\n\n// export function logoZoom(time, logo) {\n//   return glovTransitionLogoZoomFunc.bind(null, time, logo);\n// }\n\nexport function randomTransition(fade_time_scale) {\n  fade_time_scale = fade_time_scale || 1;\n  let idx = floor(random() * 3);\n  switch (idx) {\n    case 0:\n      return fade(500 * fade_time_scale);\n    case 1:\n      return splitScreen(250 * fade_time_scale, 2, false);\n    case 2:\n      return pixelate(750 * fade_time_scale);\n    // case 3:\n    //   return wipe(250 * fade_time_scale, random() * 2 * PI);\n    // case 4:\n    //   if (!logo) {\n    //     GlovTextureLoadOptions options;\n    //     options.clamp_s = options.clamp_t = true;\n    //     logo = GlovTextures::loadtex(\"data/SampleLogoTransition.png\", &options);\n    //   }\n    //   glovTransitionQueue(Z_TRANSITION_FINAL, glovTransitionLogoZoom(500, logo));\n    //   break;\n    default:\n      assert(0);\n  }\n  return null;\n}\n","// Portions Copyright 2019 Jimb Esser (https://github.com/Jimbly/)\n// Released under MIT License: https://opensource.org/licenses/MIT\n/* eslint no-underscore-dangle:off */\n\nwindow.Z = window.Z || {};\nZ.BORDERS = Z.BORDERS || 90;\nZ.UI = Z.UI || 100;\nZ.MODAL = Z.MODAL || 1000;\nZ.TOOLTIP = Z.TOOLTIP || 2000;\nZ.DEBUG = Z.DEBUG || 9800;\n\n// very high, but can still add integers\nZ.TRANSITION_FINAL = Z.TRANSITION_FINAL || 9900;\n// how much Z range can be used for rendering transitions - the capture happens at z + Z_TRANSITION_RANGE\nZ.TRANSITION_RANGE = Z.TRANSITION_RANGE || 10;\n\nZ.FPSMETER = Z.FPSMETER || 10000;\n\nconst assert = require('assert');\nconst camera2d = require('./camera2d.js');\nconst glov_edit_box = require('./edit_box.js');\nconst effects = require('./effects.js');\nconst glov_engine = require('./engine.js');\nconst glov_font = require('./font.js');\nconst glov_input = require('./input.js');\nconst { linkTick } = require('./link.js');\nconst { abs, max, min, round, sqrt } = Math;\nconst { soundLoad, soundPlay } = require('./sound.js');\nconst glov_sprites = require('./sprites.js');\nconst textures = require('./textures.js');\nconst { clamp, clone, lerp, merge } = require('../../common/util.js');\nconst { mat43, m43identity, m43mul } = require('./mat43.js');\nconst { vec2, vec4, v4scale } = require('./vmath.js');\n\nconst MODAL_DARKEN = 0.75;\nlet KEYS;\nlet PAD;\n\nconst menu_fade_params_default = {\n  blur: [0.125, 0.865],\n  saturation: [0.5, 0.1],\n  brightness: [1, 1 - MODAL_DARKEN],\n  fallback_darken: vec4(0, 0, 0, MODAL_DARKEN),\n  z: Z.MODAL,\n};\n\nexport function focuslog(...args) {\n  // console.log(`focuslog(${glov_engine.frame_index}): `, ...args);\n}\n\nlet color_set_shades = vec4(1, 0.8, 0.7, 0.4);\n\nexport function makeColorSet(color) {\n  let ret = {\n    regular: vec4(),\n    rollover: vec4(),\n    down: vec4(),\n    disabled: vec4(),\n  };\n  v4scale(ret.regular, color, color_set_shades[0]);\n  v4scale(ret.rollover, color, color_set_shades[1]);\n  v4scale(ret.down, color, color_set_shades[2]);\n  v4scale(ret.disabled, color, color_set_shades[3]);\n  for (let field in ret) {\n    ret[field][3] = color[3];\n  }\n  return ret;\n}\n\nfunction doBlurEffect(factor, params) {\n  factor = lerp(factor, params.blur[0], params.blur[1]);\n  if (factor) {\n    effects.applyGaussianBlur({\n      source: glov_engine.captureFramebuffer(),\n      blur: factor,\n      // min_size: 128,\n    });\n  }\n}\n\nlet desaturate_xform = mat43();\nlet desaturate_tmp = mat43();\nfunction doDesaturateEffect(factor, params) {\n  let saturation = lerp(factor, params.saturation[0], params.saturation[1]);\n  let brightness = lerp(factor, params.brightness[0], params.brightness[1]);\n  if (saturation === 1 && brightness === 1) {\n    return;\n  }\n  m43identity(desaturate_xform);\n\n  effects.saturationMatrix(desaturate_tmp, saturation);\n  m43mul(desaturate_xform, desaturate_xform, desaturate_tmp);\n\n  effects.brightnessScaleMatrix(desaturate_tmp, brightness);\n  m43mul(desaturate_xform, desaturate_xform, desaturate_tmp);\n\n  // if ((hue % (Math.PI * 2)) !== 0) {\n  //   effects.hueMatrix(tmp, hue);\n  //   m43mul(xform, xform, tmp);\n  // }\n  // if (contrast !== 1) {\n  //   effects.contrastMatrix(tmp, contrast);\n  //   m43mul(xform, xform, tmp);\n  // }\n  // if (brightness !== 0) {\n  //   effects.brightnessMatrix(tmp, brightness);\n  //   m43mul(xform, xform, tmp);\n  // }\n  // if (additiveRGB[0] !== 0 || additiveRGB[1] !== 0 || additiveRGB[2] !== 0) {\n  //   effects.additiveMatrix(tmp, additiveRGB);\n  //   m43mul(xform, xform, tmp);\n  // }\n  // if (grayscale) {\n  //   effects.grayScaleMatrix(tmp);\n  //   m43mul(xform, xform, tmp);\n  // }\n  // if (negative) {\n  //   effects.negativeMatrix(tmp);\n  //   m43mul(xform, xform, tmp);\n  // }\n  // if (sepia) {\n  //   effects.sepiaMatrix(tmp);\n  //   m43mul(xform, xform, tmp);\n  // }\n  effects.applyColorMatrix({\n    colorMatrix: desaturate_xform,\n    source: glov_engine.captureFramebuffer(),\n  });\n}\n\n// overrideable default parameters\nexport let button_height = 32;\nexport let font_height = 24;\nexport let button_width = 200;\nexport let modal_button_width = 100;\nexport let button_img_size = button_height;\nexport let modal_width = 600;\nexport let modal_y0 = 200;\nexport let modal_title_scale = 1.2;\nexport let modal_pad = 16;\nexport let panel_pixel_scale = 32 / 13; // button_height / button pixel resolution\nexport let tooltip_panel_pixel_scale = panel_pixel_scale;\nexport let tooltip_width = 400;\nexport let tooltip_pad = 8;\n\nexport let font_style_focused = glov_font.style(null, {\n  color: 0x000000ff,\n  outline_width: 2,\n  outline_color: 0xFFFFFFff,\n});\nexport let font_style_normal = glov_font.styleColored(null, 0x000000ff);\n\nexport let font;\nexport let sprites = {};\n\nexport let color_button = makeColorSet([1,1,1,1]);\nexport let color_panel = vec4(1, 1, 0.75, 1);\nexport let modal_font_style = glov_font.styleColored(null, 0x000000ff);\n\nlet sounds = {};\nexport let button_mouseover = false; // for callers to poll the very last button\nexport let button_focused = false; // for callers to poll the very last button\nexport let button_click = null; // on click, for callers to poll which mouse button, etc\nexport let touch_changed_focus = false; // did a touch even this frame change focus?\n// For tracking global mouseover state\nlet last_frame_button_mouseover = false;\nlet frame_button_mouseover = false;\n\nlet modal_dialog = null;\nlet modal_stealing_focus = false;\nexport let menu_up = false; // Boolean to be set by app to impact behavior, similar to a modal\nlet menu_fade_params = merge({}, menu_fade_params_default);\nlet menu_up_time = 0;\n\nexports.this_frame_edit_boxes = [];\nlet last_frame_edit_boxes = [];\nlet dom_elems = [];\nlet dom_elems_issued = 0;\n\n// for modal dialogs\nlet button_keys;\n\nlet focused_last_frame;\nlet focused_this_frame;\nlet focused_key_not;\nlet focused_key;\nlet focused_key_prev1;\nlet focused_key_prev2;\n\nlet pad_focus_left;\nlet pad_focus_right;\n\nexport function colorSetSetShades(rollover, down, disabled) {\n  color_set_shades[1] = rollover;\n  color_set_shades[2] = down;\n  color_set_shades[3] = disabled;\n  color_button = makeColorSet([1,1,1,1]);\n}\n\nexport function loadUISprite(name, ws, hs, overrides, only_override) {\n  let override = overrides && overrides[name];\n  if (override === null) {\n    // skip it, assume not used\n  } else if (override) {\n    sprites[name] = glov_sprites.create({\n      name: override[0],\n      ws: override[1],\n      hs: override[2],\n    });\n  } else if (!only_override) {\n    sprites[name] = glov_sprites.create({\n      name: `ui/${name}`,\n      ws,\n      hs,\n    });\n  }\n}\n\nexport function startup(param) {\n  font = param.font;\n  let overrides = param.ui_sprites;\n  KEYS = glov_input.KEYS;\n  PAD = glov_input.PAD;\n  if (param.pad_focus_dpad) {\n    pad_focus_left = PAD.LEFT;\n    pad_focus_right = PAD.RIGHT;\n  } else {\n    pad_focus_left = PAD.LEFT_BUMPER;\n    pad_focus_right = PAD.RIGHT_BUMPER;\n  }\n\n  loadUISprite('button', [4, 5, 4], [13], overrides);\n  sprites.button_regular = sprites.button;\n  loadUISprite('button_rollover', [4, 5, 4], [13], overrides, true);\n  loadUISprite('button_down', [4, 5, 4], [13], overrides);\n  loadUISprite('button_disabled', [4, 5, 4], [13], overrides);\n  loadUISprite('panel', [3, 2, 3], [3, 10, 3], overrides);\n  loadUISprite('menu_entry', [4, 5, 4], [13], overrides);\n  loadUISprite('menu_selected', [4, 5, 4], [13], overrides);\n  loadUISprite('menu_down', [4, 5, 4], [13], overrides);\n  loadUISprite('menu_header', [4, 5, 12], [13], overrides);\n  loadUISprite('slider', [6, 2, 6], [13], overrides);\n  // loadUISprite('slider_notch', [3], [13], overrides);\n  loadUISprite('slider_handle', [9], [13], overrides);\n\n  loadUISprite('scrollbar_bottom', [11], [13], overrides);\n  loadUISprite('scrollbar_trough', [11], [8], overrides);\n  loadUISprite('scrollbar_top', [11], [13], overrides);\n  loadUISprite('scrollbar_handle_grabber', [11], [13], overrides);\n  loadUISprite('scrollbar_handle', [11], [3, 7, 3], overrides);\n\n  sprites.white = glov_sprites.create({ url: 'white' });\n\n  button_keys = {\n    ok: { key: [KEYS.O], pad: [PAD.X], low_key: [KEYS.ESC] },\n    cancel: { key: [KEYS.ESC], pad: [PAD.B, PAD.Y] },\n  };\n  button_keys.yes = clone(button_keys.ok);\n  button_keys.yes.key.push(KEYS.Y);\n  button_keys.no = clone(button_keys.cancel);\n  button_keys.no.key.push(KEYS.N);\n}\n\nlet dynamic_text_elem;\nlet per_frame_dom_alloc = [0,0,0,0,0,0,0];\nexport function getElem(allow_modal, last_elem) {\n  if (modal_dialog && !allow_modal) {\n    return null;\n  }\n  if (dom_elems_issued >= dom_elems.length || !last_elem) {\n    let elem = document.createElement('div');\n    if (glov_engine.DEBUG && !glov_engine.resizing()) {\n      per_frame_dom_alloc[glov_engine.frame_index % per_frame_dom_alloc.length] = 1;\n      let sum = 0;\n      for (let ii = 0; ii < per_frame_dom_alloc.length; ++ii) {\n        sum += per_frame_dom_alloc[ii];\n      }\n      assert(sum < per_frame_dom_alloc.length);\n    }\n    elem.setAttribute('class', 'glovui_dynamic');\n    if (!dynamic_text_elem) {\n      dynamic_text_elem = document.getElementById('dynamic_text');\n    }\n    dynamic_text_elem.appendChild(elem);\n    dom_elems.push(elem);\n    last_elem = elem;\n  }\n  if (dom_elems[dom_elems_issued] !== last_elem) {\n    for (let ii = dom_elems_issued + 1; ii < dom_elems.length; ++ii) {\n      if (dom_elems[ii] === last_elem) {\n        dom_elems[ii] = dom_elems[dom_elems_issued];\n        dom_elems[dom_elems_issued] = last_elem;\n      }\n    }\n  }\n  let elem = dom_elems[dom_elems_issued];\n  dom_elems_issued++;\n  return elem;\n}\n\nexport function bindSounds(_sounds) {\n  sounds = _sounds;\n  for (let key in sounds) {\n    soundLoad(sounds[key]);\n  }\n}\n\nexport function drawHBox(coords, s, color) {\n  let uidata = s.uidata;\n  let ws = [uidata.wh[0] * coords.h, 0, uidata.wh[2] * coords.h];\n  let x = coords.x;\n  ws[1] = max(0, coords.w - ws[0] - ws[2]);\n  for (let ii = 0; ii < ws.length; ++ii) {\n    let my_w = ws[ii];\n    s.draw({\n      x,\n      y: coords.y,\n      z: coords.z,\n      color,\n      w: my_w,\n      h: coords.h,\n      uvs: uidata.rects[ii],\n      // nozoom: true, // nozoom since different parts of the box get zoomed differently\n    });\n    x += my_w;\n  }\n}\n\nexport function drawVBox(coords, s, color) {\n  let uidata = s.uidata;\n  let hs = [uidata.hw[0] * coords.w, 0, uidata.hw[2] * coords.w];\n  let y = coords.y;\n  hs[1] = max(0, coords.h - hs[0] - hs[2]);\n  for (let ii = 0; ii < hs.length; ++ii) {\n    let my_h = hs[ii];\n    s.draw({\n      x: coords.x,\n      y,\n      z: coords.z,\n      color,\n      w: coords.w,\n      h: my_h,\n      uvs: uidata.rects[ii],\n      // nozoom: true, // nozoom since different parts of the box get zoomed differently\n    });\n    y += my_h;\n  }\n}\n\nexport function drawBox(coords, s, pixel_scale, color) {\n  let uidata = s.uidata;\n  let scale = pixel_scale;\n  let ws = [uidata.widths[0] * scale, 0, uidata.widths[2] * scale];\n  ws[1] = max(0, coords.w - ws[0] - ws[2]);\n  let hs = [uidata.heights[0] * scale, 0, uidata.heights[2] * scale];\n  hs[1] = max(0, coords.h - hs[0] - hs[2]);\n  let x = coords.x;\n  for (let ii = 0; ii < ws.length; ++ii) {\n    let my_w = ws[ii];\n    if (my_w) {\n      let y = coords.y;\n      for (let jj = 0; jj < hs.length; ++jj) {\n        let my_h = hs[jj];\n        if (my_h) {\n          s.draw({\n            x, y, z: coords.z,\n            color,\n            w: my_w,\n            h: my_h,\n            uvs: uidata.rects[jj * 3 + ii],\n            nozoom: true, // nozoom since different parts of the box get zoomed differently\n          });\n          y += my_h;\n        }\n      }\n      x += my_w;\n    }\n  }\n}\n\nexport function playUISound(name, volume) {\n  if (name === 'select') {\n    name = 'button_click';\n  }\n  if (sounds[name]) {\n    soundPlay(sounds[name], volume);\n  }\n}\n\nexport function setMouseOver(key, quiet) {\n  if (last_frame_button_mouseover !== key && frame_button_mouseover !== key && !quiet) {\n    playUISound('rollover');\n  }\n  frame_button_mouseover = key;\n  button_mouseover = true;\n}\n\nexport function focusSteal(key) {\n  if (key !== focused_key) {\n    focuslog('focusSteal ', key);\n  }\n  focused_this_frame = true;\n  focused_key = key;\n}\n\nexport function focusCanvas() {\n  focusSteal('canvas');\n}\n\nexport function isFocusedPeek(key) {\n  return focused_key === key;\n}\nexport function isFocused(key) {\n  if (key !== focused_key_prev2) {\n    focused_key_prev1 = focused_key_prev2;\n    focused_key_prev2 = key;\n  }\n  if (key === focused_key || key !== focused_key_not && !focused_this_frame &&\n    !focused_last_frame\n  ) {\n    if (key !== focused_key) {\n      focuslog('isFocused->focusSteal');\n    }\n    focusSteal(key);\n    return true;\n  }\n  return false;\n}\n\nexport function focusNext(key) {\n  focuslog('focusNext ', key);\n  playUISound('rollover');\n  focused_key = null;\n  focused_last_frame = focused_this_frame = false;\n  focused_key_not = key;\n  // Eat input events so a pair of keys (e.g. SDLK_DOWN and SDLK_CONTROLLER_DOWN)\n  // don't get consumed by two separate widgets\n  glov_input.eatAllInput(true);\n}\n\nexport function focusPrev(key) {\n  focuslog('focusPrev ', key);\n  playUISound('rollover');\n  if (key === focused_key_prev2) {\n    focusSteal(focused_key_prev1);\n  } else {\n    focusSteal(focused_key_prev2);\n  }\n  glov_input.eatAllInput(true);\n}\n\nexport function focusCheck(key) {\n  if (modal_stealing_focus) {\n    // hidden by modal, etc\n    return false;\n  }\n  // Returns true even if focusing previous element, since for this frame, we are still effectively focused!\n  let focused = isFocused(key);\n  if (focused) {\n    if (glov_input.keyDownEdge(KEYS.TAB)) {\n      if (glov_input.keyDown(KEYS.SHIFT)) {\n        focusPrev(key);\n      } else {\n        focusNext(key);\n        focused = false;\n      }\n    }\n    if (glov_input.padButtonDownEdge(pad_focus_right)) {\n      focusNext(key);\n      focused = false;\n    }\n    if (glov_input.padButtonDownEdge(pad_focus_left)) {\n      focusPrev(key);\n    }\n  }\n  return focused;\n}\n\nexport function panel(param) {\n  assert(typeof param.x === 'number');\n  assert(typeof param.y === 'number');\n  assert(typeof param.w === 'number');\n  assert(typeof param.h === 'number');\n  param.z = param.z || (Z.UI - 1);\n  let color = param.color || color_panel;\n  drawBox(param, sprites.panel, param.pixel_scale || panel_pixel_scale, color);\n  glov_input.click(param);\n  glov_input.mouseOver(param);\n}\n\nexport function drawTooltip(param) {\n  assert(typeof param.x === 'number');\n  assert(typeof param.y === 'number');\n  assert(typeof param.tooltip === 'string');\n\n  let tooltip_w = param.tooltip_width || tooltip_width;\n  let x = param.x;\n  if (x + tooltip_w > camera2d.x1()) {\n    x = camera2d.x1() - tooltip_w;\n  }\n  let z = param.z || Z.TOOLTIP;\n  let tooltip_y0 = param.y;\n  let eff_tooltip_pad = param.tooltip_pad || tooltip_pad;\n  let w = tooltip_w - eff_tooltip_pad * 2;\n  if (param.tooltip_above) {\n    tooltip_y0 -= font_height * font.numLines(modal_font_style, w, 0, font_height, param.tooltip) + eff_tooltip_pad * 2;\n  }\n  let y = tooltip_y0 + eff_tooltip_pad;\n  y += font.drawSizedWrapped(modal_font_style,\n    x + eff_tooltip_pad, y, z+1, w, 0, font_height,\n    param.tooltip);\n  y += eff_tooltip_pad;\n  let pixel_scale = param.pixel_scale || tooltip_panel_pixel_scale;\n\n  panel({\n    x,\n    y: tooltip_y0,\n    z,\n    w: tooltip_w,\n    h: y - tooltip_y0,\n    pixel_scale,\n  });\n}\n\n// eslint-disable-next-line complexity\nexport function buttonShared(param) {\n  let state = 'regular';\n  let ret = false;\n  if (param.draw_only) {\n    return { ret, state };\n  }\n  let key = param.key || `${param.x}_${param.y}`;\n  let rollover_quiet = param.rollover_quiet;\n  let focused = !param.disabled && !param.no_focus && focusCheck(key);\n  let key_opts = param.in_event_cb ? { in_event_cb: param.in_event_cb } : null;\n  button_mouseover = false;\n  if (param.disabled) {\n    if (glov_input.mouseOver(param)) { // Still eat mouse events\n      if (param.disabled_mouseover) {\n        setMouseOver(key, rollover_quiet);\n      }\n    }\n    state = 'disabled';\n  } else if (param.drag_target && (ret = glov_input.dragDrop(param))) {\n    if (!param.no_touch_mouseover || !glov_input.mousePosIsTouch()) {\n      setMouseOver(key, rollover_quiet);\n    }\n    if (!param.no_focus) {\n      focusSteal(key);\n      focused = true;\n    }\n  } else if ((button_click = glov_input.click(param)) ||\n    param.long_press && (button_click = glov_input.longPress(param))\n  ) {\n    if (!param.no_touch_mouseover || !glov_input.mousePosIsTouch()) {\n      setMouseOver(key, rollover_quiet);\n    }\n    if (param.touch_twice && glov_input.mousePosIsTouch() && !focused) {\n      // Just focus, show tooltip\n      touch_changed_focus = true;\n    } else {\n      ret = true;\n    }\n    if (!param.no_focus) {\n      focusSteal(key);\n      focused = true;\n    }\n  } else if (param.drag_target && glov_input.dragOver(param)) {\n    // Set this even if param.no_touch_mouse_over is set\n    setMouseOver(key, rollover_quiet);\n    state = glov_input.mouseDown({ max_dist: Infinity }) ? 'down' : 'rollover';\n  } else if (param.drag_over && glov_input.dragOver(param)) {\n    // do nothing\n  } else if (glov_input.mouseOver(param)) {\n    if (param.no_touch_mouseover && glov_input.mousePosIsTouch()) {\n      // do not set mouseover\n    } else if (param.touch_twice && !focused && glov_input.mousePosIsTouch()) {\n      // do not set mouseover\n    } else {\n      setMouseOver(key, rollover_quiet);\n      state = glov_input.mouseDown(param) ? 'down' : 'rollover';\n    }\n  }\n  button_focused = focused;\n  if (focused) {\n    if (glov_input.keyDownEdge(KEYS.SPACE, key_opts) || glov_input.keyDownEdge(KEYS.RETURN, key_opts) ||\n      glov_input.padButtonDownEdge(PAD.A)\n    ) {\n      ret = true;\n    }\n  }\n  if (ret) {\n    state = 'down';\n    playUISound('button_click');\n  }\n  if (button_mouseover && param.tooltip) {\n    drawTooltip({\n      x: param.x,\n      y: param.tooltip_above ? param.y - 2 : param.y + param.h + 2,\n      tooltip_above: param.tooltip_above,\n      tooltip: param.tooltip,\n      tooltip_width: param.tooltip_width,\n    });\n  }\n  param.z += param.z_bias && param.z_bias[state] || 0;\n  return { ret, state, focused };\n}\n\nexport let button_last_color;\nexport function buttonTextDraw(param, state, focused) {\n  let colors = param.colors || color_button;\n  let color = button_last_color = colors[state];\n  let base_name = param.base_name || 'button';\n  let sprite_name = `${base_name}_${state}`;\n  let sprite = sprites[sprite_name];\n  // Note: was if (sprite) color = colors.regular for specific-sprite matches\n  if (!sprite) {\n    sprite = sprites[base_name];\n  }\n\n  drawHBox(param, sprite, color);\n  let hpad = min(param.font_height * 0.25, param.w * 0.1);\n  font.drawSizedAligned(\n    focused ? font_style_focused : font_style_normal,\n    param.x + hpad, param.y, param.z + 0.1,\n    // eslint-disable-next-line no-bitwise\n    param.font_height, glov_font.ALIGN.HCENTERFIT | glov_font.ALIGN.VCENTER, param.w - hpad * 2, param.h, param.text);\n}\n\nexport function buttonText(param) {\n  // required params\n  assert(typeof param.x === 'number');\n  assert(typeof param.y === 'number');\n  assert(typeof param.text === 'string');\n  // optional params\n  param.z = param.z || Z.UI;\n  param.w = param.w || button_width;\n  param.h = param.h || button_height;\n  param.font_height = param.font_height || font_height;\n\n  let { ret, state, focused } = buttonShared(param);\n  buttonTextDraw(param, state, focused);\n  return ret;\n}\n\nexport function buttonImage(param) {\n  // required params\n  assert(typeof param.x === 'number');\n  assert(typeof param.y === 'number');\n  assert(param.img && param.img.draw); // should be a sprite\n  // optional params\n  param.z = param.z || Z.UI;\n  param.w = param.w || button_img_size;\n  param.h = param.h || param.w || button_img_size;\n  param.shrink = param.shrink || 0.75;\n  //param.img_rect; null -> full image\n  let uvs = param.img_rect;\n  if (typeof param.frame === 'number') {\n    uvs = param.img.uidata.rects[param.frame];\n  }\n\n  let { ret, state } = buttonShared(param);\n  let colors = param.colors || color_button;\n  let color = button_last_color = colors[state];\n  if (!param.no_bg) {\n    let base_name = param.base_name || 'button';\n    let sprite_name = `${base_name}_${state}`;\n    let sprite = sprites[sprite_name];\n    if (!sprite) {\n      sprite = sprites[base_name];\n    }\n\n    drawHBox(param, sprite, color);\n  }\n  let img_origin = param.img.origin;\n  let img_w = param.img.size[0];\n  let img_h = param.img.size[1];\n  let aspect = img_w / img_h;\n  if (typeof param.frame === 'number') {\n    aspect = param.img.uidata.aspect ? param.img.uidata.aspect[param.frame] : 1;\n  }\n  let largest_w_horiz = param.w * param.shrink;\n  let largest_w_vert = param.h * param.shrink * aspect;\n  img_w = min(largest_w_horiz, largest_w_vert);\n  img_h = img_w / aspect;\n  let pad_top = (param.h - img_h) / 2;\n  let draw_param = {\n    x: param.x + (param.left_align ? pad_top : (param.w - img_w) / 2) + img_origin[0] * img_w,\n    y: param.y + pad_top + img_origin[1] * img_h,\n    z: param.z + 0.1,\n    color: param.color1 && param.color ? param.color : color, // use explicit tint if doing dual-tinting\n    color1: param.color1,\n    w: img_w / param.img.size[0],\n    h: img_h / param.img.size[1],\n    uvs,\n    rot: param.rotation,\n  };\n  if (param.flip) {\n    let { x, w } = draw_param;\n    draw_param.x = x + w;\n    draw_param.w = -w;\n  }\n  if (param.color1) {\n    param.img.drawDualTint(draw_param);\n  } else {\n    param.img.draw(draw_param);\n  }\n  return ret;\n}\n\nexport function print(style, x, y, z, text) {\n  return font.drawSized(style, x, y, z, font_height, text);\n}\n\n// Note: modal dialogs not really compatible with HTML overlay on top of the canvas!\nexport function modalDialog(param) {\n  assert(!param.title || typeof param.title === 'string');\n  assert(!param.text || typeof param.text === 'string');\n  assert(!param.buttons || typeof param.buttons === 'object');\n  // assert(Object.keys(param.buttons).length);\n\n  modal_dialog = param;\n}\n\nexport function modalDialogClear() {\n  modal_dialog = null;\n}\n\nlet dom_requirement = vec2(24,24);\nlet virtual_size = vec2();\nfunction modalDialogRun() {\n  camera2d.domDeltaToVirtual(virtual_size, dom_requirement);\n  let fullscreen_mode = false;\n  let eff_font_height = modal_dialog.font_height || font_height;\n  let eff_button_height = button_height;\n  let pad = modal_pad;\n  let vpad = modal_pad * 0.5;\n  let general_scale = 1;\n  if (virtual_size[0] > 0.1 * camera2d.h() && camera2d.w() > camera2d.h() * 2) {\n    // If a 24-pt font is more than 10% of the camera height, we're probably super-wide-screen\n    // on a mobile device due to keyboard being visible\n    fullscreen_mode = true;\n    eff_button_height = eff_font_height;\n    vpad = pad = 4;\n\n    let old_h = camera2d.h();\n    camera2d.push();\n    camera2d.setAspectFixed2(1, eff_font_height * (modal_title_scale + 2) + pad * 4.5);\n    general_scale = camera2d.h() / old_h;\n  }\n\n  let { buttons, click_anywhere } = modal_dialog;\n  let keys = Object.keys(buttons || {});\n\n  const game_width = camera2d.x1() - camera2d.x0();\n  const eff_modal_width = fullscreen_mode ? game_width : (modal_dialog.width || modal_width);\n  let eff_button_width = modal_dialog.button_width || modal_button_width;\n  let max_total_button_width = eff_modal_width * 2 / 3;\n  eff_button_width = min(eff_button_width, max_total_button_width / keys.length);\n  const text_w = eff_modal_width - pad * 2;\n  const x0 = camera2d.x0() + round((game_width - eff_modal_width) / 2);\n  let x = x0 + pad;\n  const y0 = fullscreen_mode ? 0 : (modal_dialog.y0 || modal_y0);\n  let y = y0 + pad;\n\n  if (glov_input.pointerLocked()) {\n    glov_input.pointerLockExit();\n  }\n\n  if (modal_dialog.title) {\n    if (fullscreen_mode) {\n      font.drawSizedAligned(modal_font_style, x, y, Z.MODAL, eff_font_height * modal_title_scale,\n        glov_font.ALIGN.HFIT, text_w, 0, modal_dialog.title);\n      y += eff_font_height * modal_title_scale;\n    } else {\n      y += font.drawSizedWrapped(modal_font_style,\n        x, y, Z.MODAL, text_w, 0, eff_font_height * modal_title_scale,\n        modal_dialog.title);\n    }\n    y += round(vpad * 1.5);\n  }\n\n  if (modal_dialog.text) {\n    if (fullscreen_mode) {\n      font.drawSizedAligned(modal_font_style, x, y, Z.MODAL, eff_font_height,\n        glov_font.ALIGN.HFIT, text_w, 0, modal_dialog.text);\n      y += eff_font_height;\n    } else {\n      y += font.drawSizedWrapped(modal_font_style, x, y, Z.MODAL, text_w, 0, eff_font_height,\n        modal_dialog.text);\n    }\n    y += vpad;\n  }\n\n  let tick_key;\n  if (modal_dialog.tick) {\n    let avail_width = eff_modal_width - pad * 2;\n    if (fullscreen_mode) {\n      avail_width -= (pad + eff_button_width) * keys.length;\n    }\n    let param = {\n      x, y,\n      modal_width: eff_modal_width,\n      avail_width,\n      font_height: eff_font_height,\n      fullscreen_mode,\n    };\n    tick_key = modal_dialog.tick(param);\n    y = param.y;\n  }\n\n  x = x0 + eff_modal_width - (pad + eff_button_width) * keys.length;\n  let did_button = -1;\n  for (let ii = 0; ii < keys.length; ++ii) {\n    let key = keys[ii];\n    let eff_button_keys = button_keys[key.toLowerCase()];\n    let pressed = 0;\n    if (eff_button_keys) {\n      for (let jj = 0; jj < eff_button_keys.key.length; ++jj) {\n        pressed += glov_input.keyDownEdge(eff_button_keys.key[jj]);\n        if (eff_button_keys.key[jj] === tick_key) {\n          pressed++;\n        }\n      }\n      for (let jj = 0; jj < eff_button_keys.pad.length; ++jj) {\n        pressed += glov_input.padButtonDownEdge(eff_button_keys.pad[jj]);\n      }\n    }\n    if (click_anywhere && ii === 0 && glov_input.click()) {\n      ++pressed;\n    }\n    if (pressed) {\n      did_button = ii;\n    }\n    if (buttonText({\n      x: x,\n      y,\n      z: Z.MODAL,\n      w: eff_button_width,\n      h: eff_button_height,\n      text: key\n    })) {\n      did_button = ii;\n    }\n    x += pad + eff_button_width;\n  }\n  // Also check low-priority keys\n  if (did_button === -1) {\n    for (let ii = 0; ii < keys.length; ++ii) {\n      let key = keys[ii];\n      let eff_button_keys = button_keys[key.toLowerCase()];\n      if (eff_button_keys && eff_button_keys.low_key) {\n        for (let jj = 0; jj < eff_button_keys.low_key.length; ++jj) {\n          if (glov_input.keyDownEdge(eff_button_keys.low_key[jj]) || eff_button_keys.low_key[jj] === tick_key) {\n            did_button = ii;\n          }\n        }\n      }\n    }\n  }\n  if (did_button !== -1) {\n    let key = keys[did_button];\n    playUISound('button_click');\n    modal_dialog = null;\n    if (buttons[key]) {\n      buttons[key]();\n    }\n  }\n  y += eff_button_height;\n  y += vpad + pad;\n  panel({\n    x: x0,\n    y: y0,\n    z: Z.MODAL - 1,\n    w: eff_modal_width,\n    h: (fullscreen_mode ? camera2d.y1() : y) - y0,\n    pixel_scale: panel_pixel_scale * general_scale,\n  });\n\n  glov_input.eatAllInput();\n  modal_stealing_focus = true;\n  if (fullscreen_mode) {\n    camera2d.pop();\n  }\n}\n\nexport function modalTextEntry(param) {\n  let eb = glov_edit_box.create({\n    allow_modal: true,\n    initial_focus: true,\n    spellcheck: false,\n    initial_select: true,\n    text: param.edit_text,\n    max_len: param.max_len,\n    esc_clears: false,\n  });\n  let buttons = {};\n  for (let key in param.buttons) {\n    let val = param.buttons[key];\n    if (typeof val === 'function') {\n      val = (function (old_fn) {\n        return function () {\n          old_fn(eb.getText());\n        };\n      }(val));\n    }\n    buttons[key] = val;\n  }\n  param.buttons = buttons;\n  param.text = `${param.text || ''}`;\n  let old_tick = param.tick;\n  param.tick = function (params) {\n    let eb_ret = eb.run({\n      x: params.x,\n      y: params.y,\n      w: params.avail_width || param.edit_w,\n      font_height: params.font_height,\n    });\n    if (!params.fullscreen_mode) {\n      params.y += params.font_height + modal_pad;\n    }\n    let ret;\n    if (eb_ret === eb.SUBMIT) {\n      ret = KEYS.O; // Do OK, Yes\n    } else if (eb_ret === eb.CANCEL) {\n      ret = KEYS.ESC; // Do Cancel, No\n    }\n    if (old_tick) {\n      ret = old_tick(params) || ret;\n    }\n    return ret;\n  };\n  modalDialog(param);\n}\n\n\nexport function createEditBox(param) {\n  return glov_edit_box.create(param);\n}\n\nconst color_slider_handle = vec4(1,1,1,1);\nconst color_slider_handle_grab = vec4(0.5,0.5,0.5,1);\nconst color_slider_handle_over = vec4(0.75,0.75,0.75,1);\nexport let slider_dragging = false; // for caller polling\n// Returns new value\nexport function slider(value, param) {\n  // required params\n  assert(typeof param.x === 'number');\n  assert(typeof param.y === 'number');\n  assert(param.min < param.max); // also must be numbers\n  // optional params\n  param.z = param.z || Z.UI;\n  param.w = param.w || button_width;\n  param.h = param.h || button_height;\n  let disabled = param.disabled || false;\n\n  slider_dragging = false;\n\n  drawHBox(param, sprites.slider, param.color);\n\n  let xoffs = round(sprites.slider.uidata.wh[0] * param.h / 2);\n  let draggable_width = param.w - xoffs * 2;\n\n  // Draw notches - would also need to quantize the values below\n  // if (!slider->no_notches) {\n  //   float space_for_notches = width - xoffs * 4;\n  //   int num_notches = max - 1;\n  //   float notch_w = tile_scale * glov_ui_slider_notch->GetTileWidth();\n  //   float notch_h = tile_scale * glov_ui_slider_notch->GetTileHeight();\n  //   float max_notches = space_for_notches / (notch_w + 2);\n  //   int notch_inc = 1;\n  //   if (num_notches > max_notches)\n  //     notch_inc = ceil(num_notches / floor(max_notches));\n\n  //   for (int ii = 1; ii*notch_inc <= num_notches; ii++) {\n  //     float notch_x_mid = x + xoffs + draggable_width * ii * notch_inc / (float)max;\n  //     if (notch_x_mid - notch_w/2 < x + xoffs * 2)\n  //       continue;\n  //     if (notch_x_mid + notch_w/2 > x + width - xoffs * 2)\n  //       continue;\n  //     glov_ui_slider_notch->DrawStretchedColor(notch_x_mid - notch_w / 2, y + yoffs,\n  //       z + 0.25, notch_w, notch_h, 0, color);\n  //   }\n  // }\n\n  // Handle\n  let drag = !disabled && glov_input.drag(param);\n  let grabbed = Boolean(drag);\n  let click = glov_input.click(param);\n  if (click) {\n    grabbed = false;\n    // update pos\n    value = (click.pos[0] - (param.x + xoffs)) / draggable_width;\n    value = param.min + (param.max - param.min) * clamp(value, 0, 1);\n    playUISound('button_click');\n  } else if (grabbed) {\n    // update pos\n    value = (drag.cur_pos[0] - (param.x + xoffs)) / draggable_width;\n    value = param.min + (param.max - param.min) * clamp(value, 0, 1);\n    // Eat all mouseovers while dragging\n    glov_input.mouseOver();\n    slider_dragging = true;\n  }\n  let rollover = !disabled && glov_input.mouseOver(param);\n  let handle_center_pos = param.x + xoffs + draggable_width * (value - param.min) / (param.max - param.min);\n  let handle_h = param.h;\n  let handle_w = sprites.slider_handle.uidata.wh[0] * handle_h;\n  let handle_x = handle_center_pos - handle_w / 2;\n  let handle_y = param.y + param.h / 2 - handle_h / 2;\n  let handle_color = color_slider_handle;\n  if (grabbed) {\n    handle_color = color_slider_handle_grab;\n  } else if (rollover) {\n    handle_color = color_slider_handle_over;\n  }\n\n  sprites.slider_handle.draw({\n    x: handle_x,\n    y: handle_y,\n    z: param.z + 0.1,\n    w: handle_w,\n    h: handle_h,\n    color: handle_color,\n    frame: 0,\n  });\n\n  return value;\n}\n\nlet pp_bad_frames = 0;\n\nexport function tickUI(dt) {\n  last_frame_button_mouseover = frame_button_mouseover;\n  frame_button_mouseover = false;\n  focused_last_frame = focused_this_frame;\n  focused_this_frame = false;\n  focused_key_not = null;\n  modal_stealing_focus = false;\n  touch_changed_focus = false;\n  per_frame_dom_alloc[glov_engine.frame_index % per_frame_dom_alloc.length] = 0;\n\n  last_frame_edit_boxes = exports.this_frame_edit_boxes;\n  exports.this_frame_edit_boxes = [];\n  linkTick();\n\n  dom_elems_issued = 0;\n\n  let pp_this_frame = false;\n  if (modal_dialog || menu_up) {\n    let params = menu_fade_params;\n    if (!menu_up) {\n      // Modals get defaults\n      params = menu_fade_params_default;\n    }\n    menu_up_time += dt;\n    // Effects during modal dialogs\n    let factor = min(menu_up_time / 500, 1);\n    if (glov_engine.postprocessing && !glov_engine.defines.NOPP) {\n      glov_sprites.queuefn(params.z - 2, doBlurEffect.bind(null, factor, params));\n      glov_sprites.queuefn(params.z - 1, doDesaturateEffect.bind(null, factor, params));\n      pp_this_frame = true;\n    } else {\n      // Or, just darken\n      sprites.white.draw({\n        x: camera2d.x0Real(),\n        y: camera2d.y0Real(),\n        z: params.z - 2,\n        color: params.fallback_darken,\n        w: camera2d.wReal(),\n        h: camera2d.hReal(),\n      });\n    }\n  } else {\n    menu_up_time = 0;\n  }\n  menu_up = false;\n\n  if (!glov_engine.is_loading && glov_engine.getFrameDtActual() > 50 && pp_this_frame) {\n    pp_bad_frames = (pp_bad_frames || 0) + 1;\n    if (pp_bad_frames >= 6) { // 6 in a row, disable superfluous postprocessing\n      glov_engine.postprocessingAllow(false);\n    }\n  } else if (pp_bad_frames) {\n    pp_bad_frames = 0;\n  }\n\n\n  if (modal_dialog) {\n    modalDialogRun();\n  }\n}\n\nexport function endFrame() {\n  if (glov_input.click({\n    x: -Infinity, y: -Infinity,\n    w: Infinity, h: Infinity,\n  })) {\n    focusSteal('canvas');\n  }\n\n  for (let ii = 0; ii < last_frame_edit_boxes.length; ++ii) {\n    let edit_box = last_frame_edit_boxes[ii];\n    let idx = exports.this_frame_edit_boxes.indexOf(edit_box);\n    if (idx === -1) {\n      edit_box.unrun();\n    }\n  }\n\n  while (dom_elems_issued < dom_elems.length) {\n    let elem = dom_elems.pop();\n    dynamic_text_elem.removeChild(elem);\n  }\n}\n\nexport function menuUp(param) {\n  merge(menu_fade_params, menu_fade_params_default);\n  if (param) {\n    merge(menu_fade_params, param);\n  }\n  menu_up = true;\n  modal_stealing_focus = true;\n  glov_input.eatAllInput();\n}\n\nfunction copyTextToClipboard(text) {\n  let textArea = document.createElement('textarea');\n  textArea.style.position = 'fixed';\n  textArea.style.top = 0;\n  textArea.style.left = 0;\n  textArea.style.width = '2em';\n  textArea.style.height = '2em';\n  textArea.style.border = 'none';\n  textArea.style.outline = 'none';\n  textArea.style.boxShadow = 'none';\n  textArea.style.background = 'transparent';\n  textArea.value = text;\n\n  document.body.appendChild(textArea);\n  textArea.focus();\n  textArea.select();\n\n  let ret = false;\n  try {\n    ret = document.execCommand('copy');\n  } catch (err) {\n    // do nothing\n  }\n\n  document.body.removeChild(textArea);\n  return ret;\n}\n\nexport function provideUserString(title, thing, str) {\n  let copy_success = copyTextToClipboard(str);\n  modalTextEntry({\n    edit_w: 400,\n    edit_text: str,\n    title,\n    text: copy_success ? `${thing} copied to clipboard!` : 'Copy to clipboard FAILED, please copy from below\\n',\n    buttons: {\n      OK: null,\n    },\n  });\n}\n\nexport function drawRect(x0, y0, x1, y1, z, color) {\n  let mx = min(x0, x1);\n  let my = min(y0, y1);\n  let Mx = max(x0, x1);\n  let My = max(y0, y1);\n  sprites.white.draw({\n    x: mx,\n    y: my,\n    z,\n    color,\n    w: Mx - mx,\n    h: My - my,\n  });\n}\n\nfunction spreadTechParams(spread) {\n  // spread=0 -> 1\n  // spread=0.5 -> 2\n  // spread=0.75 -> 4\n  // spread=1 -> large enough to AA\n  spread = min(max(spread, 0), 0.99);\n\n  let tech_params = {\n    param0: vec4(0,0,0,0),\n  };\n\n  tech_params.param0[0] = 1 / (1 - spread);\n  tech_params.param0[1] = -0.5 * tech_params.param0[0] + 0.5;\n  return tech_params;\n}\n\nfunction drawElipseInternal(sprite, x0, y0, x1, y1, z, spread, tu0, tv0, tu1, tv1, color) {\n  glov_sprites.queueraw(sprite.texs,\n    x0, y0, z, x1 - x0, y1 - y0,\n    tu0, tv0, tu1, tv1,\n    color, glov_font.font_shaders.font_aa, spreadTechParams(spread));\n}\n\nfunction drawCircleInternal(sprite, x, y, z, r, spread, tu0, tv0, tu1, tv1, color) {\n  let x0 = x - r * 2 + r * 4 * tu0;\n  let x1 = x - r * 2 + r * 4 * tu1;\n  let y0 = y - r * 2 + r * 4 * tv0;\n  let y1 = y - r * 2 + r * 4 * tv1;\n  drawElipseInternal(sprite, x0, y0, x1, y1, z, spread, tu0, tv0, tu1, tv1, color);\n}\n\nfunction initCircleSprite() {\n  const CIRCLE_SIZE = 32;\n  let data = new Uint8Array(CIRCLE_SIZE*CIRCLE_SIZE);\n  let midp = (CIRCLE_SIZE - 1) / 2;\n  for (let i = 0; i < CIRCLE_SIZE; i++) {\n    for (let j = 0; j < CIRCLE_SIZE; j++) {\n      let d = sqrt((i - midp)*(i - midp) + (j - midp)*(j - midp)) / midp;\n      let v = clamp(1 - d, 0, 1);\n      data[i + j*CIRCLE_SIZE] = v * 255;\n    }\n  }\n  sprites.circle = glov_sprites.create({\n    url: 'circle',\n    width: CIRCLE_SIZE, height: CIRCLE_SIZE,\n    format: textures.format.R8,\n    data,\n    filter_min: gl.LINEAR,\n    filter_max: gl.LINEAR,\n    wrap_s: gl.CLAMP_TO_EDGE,\n    wrap_t: gl.CLAMP_TO_EDGE,\n    origin: vec2(0.5, 0.5),\n  });\n}\n\nexport function drawElipse(x0, y0, x1, y1, z, spread, color) {\n  if (!sprites.circle) {\n    initCircleSprite();\n  }\n  drawElipseInternal(sprites.circle, x0, y0, x1, y1, z, spread, 0, 0, 1, 1, color);\n}\n\nexport function drawCircle(x, y, z, r, spread, color) {\n  if (!sprites.circle) {\n    initCircleSprite();\n  }\n  drawCircleInternal(sprites.circle, x, y, z, r, spread, 0, 0, 1, 1, color);\n}\n\nexport function drawHollowCircle(x, y, z, r, spread, color) {\n  if (!sprites.hollow_circle) {\n    const CIRCLE_SIZE = 128;\n    const LINE_W = 2;\n    let data = new Uint8Array(CIRCLE_SIZE*CIRCLE_SIZE);\n    let midp = (CIRCLE_SIZE - 1) / 2;\n    for (let i = 0; i < CIRCLE_SIZE; i++) {\n      for (let j = 0; j < CIRCLE_SIZE; j++) {\n        let d = sqrt((i - midp)*(i - midp) + (j - midp)*(j - midp)) / midp;\n        let v = clamp(1 - d, 0, 1);\n        if (v > 0.5) {\n          v = 1 - v;\n        }\n        v += (LINE_W / CIRCLE_SIZE);\n        data[i + j*CIRCLE_SIZE] = v * 255;\n      }\n    }\n    sprites.hollow_circle = glov_sprites.create({\n      url: 'hollow_circle',\n      width: CIRCLE_SIZE, height: CIRCLE_SIZE,\n      format: textures.format.R8,\n      data,\n      filter_min: gl.LINEAR,\n      filter_max: gl.LINEAR,\n      wrap_s: gl.CLAMP_TO_EDGE,\n      wrap_t: gl.CLAMP_TO_EDGE,\n      origin: vec2(0.5, 0.5),\n    });\n  }\n  drawCircleInternal(sprites.hollow_circle, x, y, z, r, spread, 0, 0, 1, 1, color);\n}\n\nexport function drawLine(x0, y0, x1, y1, z, w, spread, color) {\n  if (!sprites.line) {\n    const LINE_SIZE=32;\n    let data = new Uint8Array(LINE_SIZE*LINE_SIZE);\n    let midp = (LINE_SIZE - 1) / 2;\n    for (let i = 0; i < LINE_SIZE; i++) {\n      for (let j = 0; j < LINE_SIZE; j++) {\n        let d = abs((i - midp) / midp);\n        let v = clamp(1 - d, 0, 1);\n        data[i + j*LINE_SIZE] = v * 255;\n      }\n    }\n    sprites.line = glov_sprites.create({\n      url: 'line',\n      width: LINE_SIZE, height: LINE_SIZE,\n      format: textures.format.R8,\n      data,\n      filter_min: gl.LINEAR,\n      filter_max: gl.LINEAR,\n      wrap_s: gl.CLAMP_TO_EDGE,\n      wrap_t: gl.CLAMP_TO_EDGE,\n      origin: vec2(0.5, 0.5),\n    });\n  }\n\n  let dx = x1 - x0;\n  let dy = y1 - y0;\n  let length = Math.sqrt(dx*dx + dy*dy);\n  dx /= length;\n  dy /= length;\n  let tangx = -dy * w;\n  let tangy = dx * w;\n\n  glov_sprites.queueraw4(sprites.line.texs,\n    x0 + tangx, y0 + tangy,\n    x1 + tangx, y1 + tangy,\n    x1 - tangx, y1 - tangy,\n    x0 - tangx, y0 - tangy,\n    z,\n    0, 0, 1, 1,\n    color, glov_font.font_shaders.font_aa, spreadTechParams(spread));\n}\n\nexport function drawCone(x0, y0, x1, y1, z, w0, w1, spread, color) {\n  if (!sprites.cone) {\n    const CONE_SIZE = 32;\n    let data = new Uint8Array(CONE_SIZE*CONE_SIZE);\n    let midp = (CONE_SIZE - 1) / 2;\n    for (let i = 0; i < CONE_SIZE; i++) {\n      for (let j = 0; j < CONE_SIZE; j++) {\n        let dx = 0;\n        let dy = 0;\n        let d = 0;\n        if (i > midp) {\n          dx = (i - midp) / midp;\n          dy = abs(j - midp) / midp;\n          let dCircle = sqrt(dx*dx + dy*dy);\n          d = dx * dCircle;\n        }\n        let v = clamp(1 - d, 0, 1);\n        data[i + j*CONE_SIZE] = v * 255;\n      }\n    }\n    sprites.cone = glov_sprites.create({\n      url: 'cone',\n      width: CONE_SIZE, height: CONE_SIZE,\n      format: textures.format.R8,\n      data,\n      filter_min: gl.LINEAR,\n      filter_max: gl.LINEAR,\n      wrap_s: gl.CLAMP_TO_EDGE,\n      wrap_t: gl.CLAMP_TO_EDGE,\n      origin: vec2(0.5, 0.5),\n    });\n  }\n  let dx = x1 - x0;\n  let dy = y1 - y0;\n  let length = Math.sqrt(dx*dx + dy*dy);\n  dx /= length;\n  dy /= length;\n  let tangx = -dy;\n  let tangy = dx;\n  glov_sprites.queueraw4(sprites.cone.texs,\n    x0 - tangx*w0, y0 - tangy*w0,\n    x0 + tangx*w0, y0 + tangy*w0,\n    x1 + tangx*w1, y1 + tangy*w1,\n    x1 - tangx*w1, y1 - tangy*w1,\n    z,\n    0, 0, 1, 1,\n    color, glov_font.font_shaders.font_aa, spreadTechParams(spread));\n}\n\nexport function scaleSizes(scale) {\n  button_height = round(32 * scale);\n  font_height = round(24 * scale);\n  button_width = round(200 * scale);\n  button_img_size = button_height;\n  modal_button_width = round(button_width / 2);\n  modal_width = round(600 * scale);\n  modal_y0 = round(200 * scale);\n  modal_title_scale = 1.2;\n  modal_pad = round(16 * scale);\n  tooltip_width = round(400 * scale);\n  tooltip_pad = round(8 * scale);\n  panel_pixel_scale = button_height / 13; // button_height / panel pixel resolution\n  tooltip_panel_pixel_scale = panel_pixel_scale;\n}\n\nexport function setPanelPixelScale(scale) {\n  tooltip_panel_pixel_scale = panel_pixel_scale = scale;\n}\n\nexport function setModalSizes(_modal_button_width, width, y0, title_scale, pad) {\n  modal_button_width = _modal_button_width || round(button_width / 2);\n  modal_width = width || 600;\n  modal_y0 = y0 || 200;\n  modal_title_scale = title_scale || 1.2;\n  modal_pad = pad || modal_pad;\n}\n\nexport function setFontHeight(_font_height) {\n  font_height = _font_height;\n}\n\nexport function setTooltipWidth(_tooltip_width, _tooltip_panel_pixel_scale) {\n  tooltip_width = _tooltip_width;\n  tooltip_panel_pixel_scale = _tooltip_panel_pixel_scale;\n  tooltip_pad = modal_pad / 2 * _tooltip_panel_pixel_scale;\n}\n\nscaleSizes(1);\n","// Portions Copyright 2019 Jimb Esser (https://github.com/Jimbly/)\n// Released under MIT License: https://opensource.org/licenses/MIT\n\n/*\n  API usage:\n  engine.defines = urlhash.register({\n    key: 'D',\n    type: SET,\n  });\n  urlhash.register({\n    key: 'pos',\n    // type: TYPE_STRING,\n    change: (newvalue) => {},\n    title: (value) => 'string',\n    def: '1,2',\n    hides: { otherfield: true },\n    push: true, // do a pushState instead of replaceState when this changes\n    hide_values: { foo: true }, // do not add to URL if values is in the provided set\n  });\n  urlhash.set('pos', '3,4');\n  urlhash.get('pos')\n\n  urlhash.route('w/:w')     // use URLs like foo.com/w/1   instead of foo.com/?w=1\n  urlhash.route('w/:w/:wg')  // use URLs like foo.com/w/1/2 instead of foo.com/?w=1&wg=2\n\n  // Called whenever the URL state is pushed, even if to exactly the same URL (e.g. on link click)\n  urlhash.onChange(cb)\n*/\n\nconst assert = require('assert');\nconst { callEach } = require('../../common/util.js');\n\nconst HISTORY_UPDATE_TIME = 1000;\n\nexport let TYPE_SET = 'set';\nexport let TYPE_STRING = 'string';\n\nlet params = {};\n\nlet title_suffix = '';\n\nlet page_base = (document.location.href || '').match(/^[^#?]+/)[0];\nif (!page_base.endsWith('/')) { // e.g. http://foo.bar/index.html\n  page_base += '?';\n}\n//Removes index.html et all\nlet url_base = page_base.replace(/[^/]*$/,'');\nlet on_change = [];\n\nexport function getURLBase() {\n  return url_base;\n}\n\nexport function getURLPageBase() {\n  return page_base;\n}\n\nlet api_path;\n// Path base like http://foo.bar/api/ (with trailing slash\nexport function setAPIPath(path) {\n  api_path = path;\n}\nexport function getAPIPath() {\n  return api_path || `${getURLBase()}api/`;\n}\n\nexport function onChange(cb) {\n  on_change.push(cb);\n}\n\nfunction cmpNumKeys(a, b) {\n  let d = b.keys.length - a.keys.length;\n  if (d) {\n    return d;\n  }\n  // otherwise alphabetical for stability\n  for (let ii = 0; ii < a.keys.length; ++ii) {\n    if (a.keys[ii] < b.keys[ii]) {\n      return -1;\n    } else if (a.keys[ii] > b.keys[ii]) {\n      return 1;\n    }\n  }\n  assert(false); // two routes with identical keys\n  return 0;\n}\n\nconst route_param_regex = /:(\\w+)/g;\nlet routes = [];\n\nfunction queryString() {\n  let href = String(document.location);\n  return href.slice(page_base.length);\n}\n\nconst regex_value = /[^\\w]\\w+=([^&]+)/;\nfunction getValue(query_string, opts) {\n  if (opts.routes) {\n    for (let ii = 0; ii < opts.routes.length; ++ii) {\n      let r = opts.routes[ii];\n      let m = query_string.match(r.regex);\n      if (m) {\n        let idx = r.keys.indexOf(opts.key);\n        return m[1 + idx];\n      }\n    }\n  }\n  let m = query_string.match(opts.regex) || [];\n  if (opts.type === TYPE_SET) {\n    let r = {};\n    for (let ii = 0; ii < m.length; ++ii) {\n      let m2 = m[ii].match(regex_value);\n      assert(m2);\n      r[m2[1]] = 1;\n    }\n    return r;\n  } else {\n    return m[1] || opts.def;\n  }\n}\n\nlet last_history_str = null; // always re-set it on the first update\n\nfunction goInternal(query_string) { // with the '?'\n  // Update all values, except those hidden by what is currently in the query string\n  let hidden = {};\n  for (let key in params) {\n    let opts = params[key];\n    if (opts.hides) {\n      if (getValue(query_string, opts)) {\n        for (let otherkey in opts.hides) {\n          hidden[otherkey] = 1;\n        }\n      }\n    }\n  }\n\n  let dirty = {};\n  for (let key in params) {\n    if (hidden[key]) {\n      continue;\n    }\n    let opts = params[key];\n    let new_value = getValue(query_string, opts);\n    if (opts.type === TYPE_SET) {\n      for (let v in new_value) {\n        if (!opts.value[v]) {\n          opts.value[v] = 1;\n          dirty[key] = true;\n        }\n      }\n      for (let v in opts.value) {\n        if (!new_value[v]) {\n          delete opts.value[v];\n          dirty[key] = true;\n        }\n      }\n    } else {\n      if (new_value !== opts.value) {\n        dirty[key] = true;\n        opts.value = new_value;\n      }\n    }\n  }\n\n  // Call all change callbacks\n  for (let key in dirty) {\n    let opts = params[key];\n    if (opts.change) {\n      opts.change(opts.value);\n    }\n  }\n  callEach(on_change);\n}\n\nlet eff_title;\nfunction toString() {\n  eff_title = '';\n  let values = [];\n  let hidden = {};\n  for (let key in params) {\n    let opts = params[key];\n    if (opts.hides && opts.value) {\n      for (let otherkey in opts.hides) {\n        hidden[otherkey] = 1;\n      }\n    }\n  }\n  let root_value = '';\n  outer: // eslint-disable-line no-labels\n  for (let ii = 0; ii < routes.length; ++ii) {\n    let r = routes[ii];\n    let route_title = '';\n    for (let jj = 0; jj < r.keys.length; ++jj) {\n      let key = r.keys[jj];\n      if (hidden[key]) {\n        continue outer; // eslint-disable-line no-labels\n      }\n      let opts = params[key];\n      if (opts.hide_values[opts.value]) {\n        continue outer; // eslint-disable-line no-labels\n      }\n      // has a value, is not hidden, continue\n      if (!route_title && opts.title) {\n        route_title = opts.title(opts.value);\n      }\n    }\n    // route is good!\n    root_value = r.route_string.replace(route_param_regex, function (ignored, key) {\n      hidden[key] = true;\n      return String(params[key].value);\n    });\n    if (!eff_title && route_title) {\n      eff_title = route_title;\n    }\n    break;\n  }\n  for (let key in params) {\n    if (hidden[key]) {\n      continue;\n    }\n    let opts = params[key];\n    if (opts.type === TYPE_SET) {\n      for (let v in opts.value) {\n        values.push(`${key}=${v}`);\n      }\n    } else {\n      if (!opts.hide_values[opts.value]) {\n        values.push(`${key}=${opts.value}`);\n        if (!eff_title && opts.title) {\n          eff_title = opts.title(opts.value);\n        }\n      }\n    }\n  }\n  if (title_suffix) {\n    if (eff_title) {\n      eff_title = `${eff_title} | ${title_suffix}`;\n    } else {\n      eff_title = title_suffix;\n    }\n  }\n  return `${root_value}${values.length ? '?' : ''}${values.join('&')}`;\n}\n\nexport function refreshTitle() {\n  toString();\n  if (eff_title && eff_title !== document.title) {\n    document.title = eff_title;\n  }\n}\n\nfunction periodicRefreshTitle() {\n  refreshTitle();\n  setTimeout(periodicRefreshTitle, 1000);\n}\n\nfunction onPopState() {\n  let query_string = queryString();\n  last_history_str = query_string;\n  goInternal(query_string);\n  refreshTitle();\n}\n\nlet on_url_change;\nexport function onURLChange(cb) {\n  on_url_change = cb;\n}\n\nlet last_history_set_time = 0;\nlet scheduled = false;\nlet need_push_state = false;\nfunction updateHistory(new_need_push_state) {\n  let new_str = toString();\n  if (last_history_str === new_str) {\n    return;\n  }\n  need_push_state = need_push_state || new_need_push_state;\n  last_history_str = new_str;\n  if (scheduled) {\n    // already queued up\n    return;\n  }\n  let delay = HISTORY_UPDATE_TIME;\n  if (Date.now() - last_history_set_time > HISTORY_UPDATE_TIME) {\n    // Been awhile, apply \"instantly\" (but still wait until next tick to ensure\n    //   any other immediate changes are registered)\n    delay = 1;\n  }\n  scheduled = true;\n  setTimeout(function () {\n    scheduled = false;\n    last_history_set_time = Date.now();\n    let url = `${page_base}${last_history_str}`;\n    if (url.endsWith('?')) {\n      url = url.slice(0, -1);\n    }\n    if (need_push_state) {\n      need_push_state = false;\n      window.history.pushState(undefined, eff_title, url);\n    } else {\n      window.history.replaceState(undefined, eff_title, url);\n    }\n    if (eff_title) {\n      document.title = eff_title;\n    }\n    if (on_url_change) {\n      on_url_change();\n    }\n    //window.history.replaceState(undefined, eff_title, `#${last_history_str}`);\n  }, delay);\n}\n\n// Optional startup\nexport function startup(param) {\n  assert(!title_suffix);\n  title_suffix = param.title_suffix;\n\n  // Refresh the current URL, it might be in the non-route format\n  updateHistory(false);\n\n  if (title_suffix) {\n    refreshTitle();\n    setTimeout(periodicRefreshTitle, 1000);\n  }\n}\n\nexport function route(route_string) {\n  let keys = [];\n  // foo/:key/:bar => foo/([^/&?]+)/([^/&?]+)\n  let base = route_string.replace(route_param_regex, function (ignored, match) {\n    keys.push(match);\n    return '([^/&?]+)';\n  });\n  let regex = new RegExp(`^${base}(?:$|\\\\?)`);\n  let new_route = {\n    route_string,\n    regex,\n    keys,\n  };\n  for (let ii = 0; ii < keys.length; ++ii) {\n    let opts = params[keys[ii]];\n    // Must have already registered these keys\n    assert(opts);\n    opts.routes = opts.routes || [];\n    opts.routes.push(new_route);\n    // Update initial value\n    opts.value = getValue(queryString(), opts);\n  }\n  routes.push(new_route);\n  routes.sort(cmpNumKeys);\n}\n\nexport function register(opts) {\n  assert(opts.key);\n  assert(!params[opts.key]);\n  opts.type = opts.type || TYPE_STRING;\n  let regex_search = `(?:[^\\\\w])${opts.key}=([^&]+)`;\n  let regex_type = '';\n  if (opts.type === TYPE_SET) {\n    regex_type = 'g';\n  } else {\n    opts.def = opts.def || '';\n    opts.hide_values = opts.hide_values || {};\n    opts.hide_values[opts.def] = true;\n  }\n  opts.regex = new RegExp(regex_search, regex_type);\n  params[opts.key] = opts;\n  // Get initial value\n  opts.value = getValue(queryString(), opts);\n  let ret = opts.value;\n  if (opts.type === TYPE_SET && typeof Proxy === 'function') {\n    // Auto-apply changes to URL if someone modifies the proxy\n    ret = new Proxy(opts.value, {\n      set: function (target, prop, value) {\n        if (value) {\n          target[prop] = 1;\n        } else {\n          delete target[prop];\n        }\n        updateHistory();\n        return true;\n      }\n    });\n  }\n\n  if (!window.onpopstate) {\n    window.onpopstate = onPopState;\n  }\n\n  return ret;\n}\n\nexport function set(key, value, value2) {\n  let opts = params[key];\n  assert(opts);\n  if (opts.type === TYPE_SET) {\n    if (Boolean(opts.value[value]) !== Boolean(value2)) {\n      opts.value[value] = value2 ? 1 : 0;\n      updateHistory(opts.push);\n    }\n  } else {\n    if (opts.value !== value) {\n      opts.value = value;\n      updateHistory(opts.push);\n    }\n  }\n}\n\nexport function get(key) {\n  let opts = params[key];\n  assert(opts);\n  return opts.value;\n}\n\nexport function go(query_string) { // with the '?'\n  goInternal(query_string);\n  updateHistory(true);\n}\n","// Portions Copyright 2019 Jimb Esser (https://github.com/Jimbly/)\n// Released under MIT License: https://opensource.org/licenses/MIT\n/* eslint no-bitwise:off */\n\n// Vector math functions required by the rest of the engine taken piecemeal from\n// gl-matrix and related, as well as some generic math utilities\nexports.mat3 = require('gl-mat3/create');\nexports.mat4 = require('gl-mat4/create');\n\nconst { abs, max, min, floor, round, sqrt } = Math;\n\nexport function vec1(v) {\n  return new Float32Array([v]);\n}\n\nexport function vec2(a, b) {\n  let r = new Float32Array(2);\n  if (a || b) {\n    r[0] = a;\n    r[1] = b;\n  }\n  return r;\n}\n\nexport function vec3(a, b, c) {\n  let r = new Float32Array(3);\n  if (a || b || c) {\n    r[0] = a;\n    r[1] = b;\n    r[2] = c;\n  }\n  return r;\n}\n\nexport function vec4(a, b, c, d) {\n  let r = new Float32Array(4);\n  if (a || b || c || d) {\n    r[0] = a;\n    r[1] = b;\n    r[2] = c;\n    r[3] = d;\n  }\n  return r;\n}\n\nfunction frozenVec4(a,b,c,d) {\n  // if (debug) {\n  //   return Object.freeze([a,b,c,d]); // Not a vec4, but lets us catch bugs\n  // }\n  return vec4(a,b,c,d);\n}\n\nexport const unit_vec = frozenVec4(1,1,1,1);\nexport const half_vec = frozenVec4(0.5,0.5,0.5,0.5);\nexport const zero_vec = frozenVec4(0,0,0,0);\nexport const identity_mat3 = exports.mat3();\nexport const identity_mat4 = exports.mat4();\nexport const xaxis = frozenVec4(1,0,0,0);\nexport const yaxis = frozenVec4(0,1,0,0);\nexport const zaxis = frozenVec4(0,0,1,0);\n\nexport function v2abs(out, a) {\n  out[0] = abs(a[0]);\n  out[1] = abs(a[1]);\n  return out;\n}\n\nexport function v2add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  return out;\n}\n\nexport function v2addScale(out, a, b, s) {\n  out[0] = a[0] + b[0] * s;\n  out[1] = a[1] + b[1] * s;\n  return out;\n}\n\nexport function v2copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n\nexport function v2distSq(a, b) {\n  return (a[0] - b[0]) * (a[0] - b[0]) +\n    (a[1] - b[1]) * (a[1] - b[1]);\n}\n\nexport function v2div(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  return out;\n}\n\nexport function v2floor(out, a) {\n  out[0] = floor(a[0]);\n  out[1] = floor(a[1]);\n  return out;\n}\n\nexport function v2lengthSq(a) {\n  return a[0]*a[0] + a[1]*a[1];\n}\n\nexport function v2lerp(out, t, a, b) {\n  let it = 1 - t;\n  out[0] = it * a[0] + t * b[0];\n  out[1] = it * a[1] + t * b[1];\n  return out;\n}\n\nexport function v2mul(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  return out;\n}\n\nexport function v2normalize(out, a) {\n  let len = a[0]*a[0] + a[1]*a[1];\n  if (len > 0) {\n    len = 1 / sqrt(len);\n    out[0] = a[0] * len;\n    out[1] = a[1] * len;\n  }\n  return out;\n}\n\nexport function v2same(a, b) {\n  return a[0] === b[0] && a[1] === b[1];\n}\n\nexport function v2scale(out, a, s) {\n  out[0] = a[0] * s;\n  out[1] = a[1] * s;\n  return out;\n}\n\nexport function v2set(out, a, b) {\n  out[0] = a;\n  out[1] = b;\n  return out;\n}\n\nexport function v2sub(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  return out;\n}\n\nexport function v3add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  return out;\n}\n\nexport function v3iAdd(a, b) {\n  a[0] += b[0];\n  a[1] += b[1];\n  a[2] += b[2];\n  return a;\n}\n\nexport function v3addScale(out, a, b, s) {\n  out[0] = a[0] + b[0] * s;\n  out[1] = a[1] + b[1] * s;\n  out[2] = a[2] + b[2] * s;\n  return out;\n}\n\nexport function v3copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n\nexport function v3cross(out, a, b) {\n  let a0 = a[0];\n  let a1 = a[1];\n  let a2 = a[2];\n  let b0 = b[0];\n  let b1 = b[1];\n  let b2 = b[2];\n  out[0] = ((a1 * b2) - (a2 * b1));\n  out[1] = ((a2 * b0) - (a0 * b2));\n  out[2] = ((a0 * b1) - (a1 * b0));\n  return out;\n}\n\n// determinant of the matrix made by (columns?) [a, b, c];\nexport function v3determinant(a, b, c) {\n  // let a00 = a[0];\n  // let a01 = a[1];\n  // let a02 = a[2];\n  // let a10 = b[0];\n  // let a11 = b[1];\n  // let a12 = b[2];\n  // let a20 = c[0];\n  // let a21 = c[2];\n  // let a22 = c[2];\n  let a00 = a[0];\n  let a01 = b[0];\n  let a02 = c[0];\n  let a10 = a[1];\n  let a11 = b[1];\n  let a12 = c[1];\n  let a20 = a[2];\n  let a21 = b[2];\n  let a22 = c[2];\n\n  return a00 * (a22 * a11 - a12 * a21) + a01 * (-a22 * a10 + a12 * a20) + a02 * (a21 * a10 - a11 * a20);\n}\n\nexport function v3dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n}\n\nexport function v3distSq(a, b) {\n  return (a[0] - b[0]) * (a[0] - b[0]) +\n    (a[1] - b[1]) * (a[1] - b[1]) +\n    (a[2] - b[2]) * (a[2] - b[2]);\n}\n\nexport function v3div(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  out[2] = a[2] / b[2];\n  return out;\n}\n\nexport function v3iFloor(a) {\n  a[0] = floor(a[0]);\n  a[1] = floor(a[1]);\n  a[2] = floor(a[2]);\n  return a;\n}\n\nexport function v3floor(out, a) {\n  out[0] = floor(a[0]);\n  out[1] = floor(a[1]);\n  out[2] = floor(a[2]);\n  return out;\n}\n\nexport function v3lengthSq(a) {\n  return a[0]*a[0] + a[1]*a[1] + a[2]*a[2];\n}\n\nexport function v3lerp(out, t, a, b) {\n  let it = 1 - t;\n  out[0] = it * a[0] + t * b[0];\n  out[1] = it * a[1] + t * b[1];\n  out[2] = it * a[2] + t * b[2];\n  return out;\n}\n\nexport function v3iMax(a, b) {\n  a[0] = max(a[0], b[0]);\n  a[1] = max(a[1], b[1]);\n  a[2] = max(a[2], b[2]);\n  return a;\n}\n\nexport function v3iMin(a, b) {\n  a[0] = min(a[0], b[0]);\n  a[1] = min(a[1], b[1]);\n  a[2] = min(a[2], b[2]);\n  return a;\n}\n\nexport function v3mul(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  out[2] = a[2] * b[2];\n  return out;\n}\n\nexport function v3mulMat4(out, a, m) {\n  let x = a[0];\n  let y = a[1];\n  let z = a[2];\n  out[0] = x * m[0] + y * m[4] + z * m[8];\n  out[1] = x * m[1] + y * m[5] + z * m[9];\n  out[2] = x * m[2] + y * m[6] + z * m[10];\n  return out;\n}\n\nexport function v3normalize(out, a) {\n  let len = a[0]*a[0] + a[1]*a[1] + a[2]*a[2];\n  if (len > 0) {\n    len = 1 / sqrt(len);\n    out[0] = a[0] * len;\n    out[1] = a[1] * len;\n    out[2] = a[2] * len;\n  }\n  return out;\n}\n\nexport function v3iNormalize(a) {\n  let len = a[0]*a[0] + a[1]*a[1] + a[2]*a[2];\n  if (len > 0) {\n    len = 1 / sqrt(len);\n    a[0] *= len;\n    a[1] *= len;\n    a[2] *= len;\n  }\n  return a;\n}\n\n// Treats `a` as vec3 input with w assumed to be 1\n// out[0]/[1] have had perspective divide and converted to normalized 0-1 range\n// out[2] is distance\nexport function v3perspectiveProject(out, a, m) {\n  let x = a[0];\n  let y = a[1];\n  let z = a[2];\n  let w = m[3] * x + m[7] * y + m[11] * z + m[15];\n  let invw = 0.5 / (w || 0.00001);\n  out[0] = (m[0] * x + m[4] * y + m[8] * z + m[12]) * invw + 0.5;\n  out[1] = (m[1] * x + m[5] * y + m[9] * z + m[13]) * -invw + 0.5;\n  out[2] = m[2] * x + m[6] * y + m[10] * z + m[14];\n  return out;\n}\n\nexport function v3round(out, a) {\n  out[0] = round(a[0]);\n  out[1] = round(a[1]);\n  out[2] = round(a[2]);\n  return out;\n}\n\nexport function v3same(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2];\n}\n\nexport function v3scale(out, a, s) {\n  out[0] = a[0] * s;\n  out[1] = a[1] * s;\n  out[2] = a[2] * s;\n  return out;\n}\n\nexport function v3set(out, a, b, c) {\n  out[0] = a;\n  out[1] = b;\n  out[2] = c;\n  return out;\n}\n\nexport function v3sub(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  return out;\n}\n\nexport function v3iSub(a, b) {\n  a[0] -= b[0];\n  a[1] -= b[1];\n  a[2] -= b[2];\n  return a;\n}\n\nexport function v3zero(out) {\n  out[0] = out[1] = out[2] = 0;\n  return out;\n}\n\nexport function v4add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  return out;\n}\n\nexport function v4clone(a) {\n  return a.slice(0);\n}\n\nexport function v4copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\n\nexport function v4lerp(out, t, a, b) {\n  let it = 1 - t;\n  out[0] = it * a[0] + t * b[0];\n  out[1] = it * a[1] + t * b[1];\n  out[2] = it * a[2] + t * b[2];\n  out[3] = it * a[3] + t * b[3];\n  return out;\n}\n\nexport function v4mul(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  out[2] = a[2] * b[2];\n  out[3] = a[3] * b[3];\n  return out;\n}\n\nexport function v4mulAdd(out, a, b, c) {\n  out[0] = a[0] * b[0] + c[0];\n  out[1] = a[1] * b[1] + c[1];\n  out[2] = a[2] * b[2] + c[2];\n  out[3] = a[3] * b[3] + c[3];\n  return out;\n}\n\nexport function v4same(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3];\n}\n\nexport function v4scale(out, a, s) {\n  out[0] = a[0] * s;\n  out[1] = a[1] * s;\n  out[2] = a[2] * s;\n  out[3] = a[3] * s;\n  return out;\n}\n\nexport function v4set(out, a, b, c, d) {\n  out[0] = a;\n  out[1] = b;\n  out[2] = c;\n  out[3] = d;\n  return out;\n}\n\nexport function v4zero(out) {\n  out[0] = out[1] = out[2] = out[3] = 0;\n  return out;\n}\n","// Portions Copyright 2019 Jimb Esser (https://github.com/Jimbly/)\n// Released under MIT License: https://opensource.org/licenses/MIT\n\nconst { floor } = Math;\n\nlet offs = 0;\nfunction now() {\n  return Date.now() + offs;\n}\nmodule.exports = exports = now;\nexports.now = now;\nexports.sync = function (server_time) {\n  offs = server_time - Date.now();\n};\nexports.seconds = function () {\n  // Seconds since Jan 1st, 2020\n  return floor(now() / 1000) - 1577836800;\n};\n","const assert = require('assert');\nconst { filewatchOn, filewatchTriggerChange } = require('./filewatch.js');\nconst urlhash = require('./urlhash.js');\n\nlet fs = window.glov_webfs = window.glov_webfs || {};\nlet decoded = {};\nlet used = {};\n// export function webFSReady() {\n//   // TODO: async ready state?\n// }\n\nfunction decode(data) {\n  let len = data[0];\n  let str = data[1];\n  let u8 = new Uint8Array(len);\n  let idxo = 0;\n  let idxi = 0;\n  while (idxo < len) {\n    let byte = str.charCodeAt(idxi++);\n    if (byte === 126) {\n      byte = 0;\n    } else if (byte === 27) {\n      byte = str.charCodeAt(idxi++);\n    }\n    u8[idxo++] = byte;\n  }\n  assert.equal(idxi, str.length);\n  assert.equal(idxo, len);\n  return u8;\n}\n\nexport function webFSGetFile(filename, encoding) {\n  let ret = decoded[filename];\n  if (ret) {\n    return ret;\n  }\n  used[filename] = true;\n  let data = fs[filename];\n  assert(data, `Error loading file: ${filename}`);\n  if (encoding === 'text') {\n    ret = data[1];\n  } else {\n    ret = decode(data);\n  }\n  decoded[filename] = ret;\n  return ret;\n}\n\nexport function webFSExists(filename) {\n  return Boolean(fs[filename]);\n}\n\n// Don't report on files we know are loaded dynamically, and are small\nconst report_ignore_regex = /\\.(fp|vp)$/;\nexport function webFSReportUnused() {\n  let tot_size = 0;\n  for (let filename in fs) {\n    if (!used[filename] && !filename.match(report_ignore_regex)) {\n      console.warn(`WebFS file bundled but unreferenced: ${filename}`);\n      tot_size += fs[filename][0];\n    }\n  }\n  if (tot_size) {\n    console.warn(`WebFS wasting ${tot_size} bytes`);\n  }\n}\n\nfunction webFSReload() {\n  window.glov_webfs = {};\n  let scriptTag = document.createElement('script');\n  scriptTag.src = `${urlhash.getURLBase()}fsdata.js?rl=${Date.now()}`;\n  scriptTag.onload = function () {\n    if (window.glov_webfs) {\n      let old_fs = fs;\n      fs = window.glov_webfs;\n      decoded = {};\n      used = {};\n      for (let key in fs) {\n        let old_value = old_fs[key];\n        let new_value = fs[key];\n        for (let ii = 0; ii < new_value.length; ++ii) {\n          if (!old_value || new_value[ii] !== old_value[ii]) {\n            filewatchTriggerChange(key);\n            break;\n          }\n        }\n      }\n    }\n  };\n  document.getElementsByTagName('head')[0].appendChild(scriptTag);\n}\n\nfilewatchOn('fsdata.js', webFSReload);\n","// Portions Copyright 2019 Jimb Esser (https://github.com/Jimbly/)\n// Released under MIT License: https://opensource.org/licenses/MIT\n/* global WebSocket, XMLHttpRequest */\n\nconst ack = require('../../common/ack.js');\nconst { ackInitReceiver } = ack;\nconst assert = require('assert');\nconst { min } = Math;\nconst urlhash = require('./urlhash.js');\nconst walltime = require('./walltime.js');\nconst wscommon = require('../../common/wscommon.js');\nconst { wsHandleMessage } = wscommon;\n\n// let net_time = 0;\n// export function getNetTime() {\n//   let r = net_time;\n//   net_time = 0;\n//   return r;\n// }\n\nexport function WSClient(path) {\n  this.id = null;\n  this.handlers = {};\n  this.socket = null;\n  this.connected = false;\n  this.disconnected = false;\n  this.retry_scheduled = false;\n  this.retry_count = 0;\n  this.disconnect_time = Date.now();\n  this.last_receive_time = Date.now();\n  this.last_send_time = Date.now();\n  this.auto_path = !path;\n  ackInitReceiver(this);\n\n  if (this.auto_path) {\n\n    path = document.location.toString().match(/^[^#?]+/)[0]; // remove search and anchor\n\n\n    if (path.slice(-1) !== '/') {\n      // /file.html or /path/file.html or /path\n      let idx = path.lastIndexOf('/');\n      if (idx !== -1) {\n        let filename = path.slice(idx+1);\n        if (filename.indexOf('.') !== -1) {\n          path = path.slice(0, idx+1);\n        } else {\n          path += '/';\n        }\n      } else {\n        path += '/';\n      }\n    }\n    path = path.replace(/^http/, 'ws');\n    this.path = `${path}ws`;\n\n  } else {\n    this.path = path;\n  }\n\n  if (path.match(/:\\d+\\//)) {\n    // has port, don't try anything fancy\n    this.path2 = this.path;\n  } else if (path.match(/^ws:/)) {\n    // no port, try wss:// if this fails\n    // Should fix Comcast injection issue\n    this.path2 = this.path.replace(/^ws:/, 'wss:');\n  } else {\n    // Using wss:// some browsers will not allow connecting to ws://, so don't even try\n    this.path2 = this.path;\n  }\n\n  this.connect(false);\n\n  this.onMsg('cack', this.onConnectAck.bind(this));\n  this.onMsg('app_ver', this.onAppVer.bind(this));\n  this.onMsg('error', this.onError.bind(this));\n}\n\nWSClient.prototype.timeSinceDisconnect = function () {\n  return Date.now() - this.disconnect_time;\n};\n\nWSClient.prototype.onAppVer = function (ver) {\n  if (ver !== BUILD_TIMESTAMP) {\n    if (this.on_app_ver_mismatch) {\n      this.on_app_ver_mismatch();\n    } else {\n      if (this.auto_path) {\n        console.error(`App version mismatch (server: ${ver}, client: ${BUILD_TIMESTAMP}), reloading`);\n        if (window.reloadSafe) {\n          window.reloadSafe();\n        } else {\n          document.location.reload();\n        }\n      } else {\n        console.warn(`App version mismatch (server: ${ver}, client: ${BUILD_TIMESTAMP}), ignoring`);\n      }\n    }\n  }\n};\n\nWSClient.prototype.onConnectAck = function (data, resp_func) {\n  let client = this;\n  walltime.sync(data.time);\n  client.connected = true;\n  client.disconnected = false;\n  client.id = data.id;\n  client.secret = data.secret;\n  if (data.app_ver) {\n    client.onAppVer(data.app_ver);\n  }\n  // Fire user-level connect handler as well\n  assert(client.handlers.connect);\n  client.handlers.connect(client, {\n    client_id: client.id,\n  });\n  resp_func();\n};\n\n\nWSClient.prototype.wsPak = function (msg) {\n  return wscommon.wsPak(msg, null, this);\n};\n\nWSClient.prototype.send = function (msg, data, resp_func) {\n  wscommon.sendMessage.call(this, msg, data, resp_func);\n};\n\nWSClient.prototype.onError = function (e) {\n  console.error(e);\n  throw e;\n};\n\n// cb(client, data, resp_func)\nWSClient.prototype.onMsg = function (msg, cb) {\n  assert.ok(!this.handlers[msg]);\n  this.handlers[msg] = function wrappedCallback(client, data, resp_func) {\n    // Client interface does not need a client passed to it!\n    return cb(data, resp_func);\n  };\n};\n\nWSClient.prototype.checkForNewAppVersion = function () {\n  if (this.app_ver_check_in_progress) {\n    return;\n  }\n  this.app_ver_check_in_progress = true;\n  let xhr = new XMLHttpRequest();\n  xhr.open('GET', `${urlhash.getURLBase()}app.ver.json`, true);\n  // xhr.responseType = 'json'; // causes un-catchable, un-reported errors\n  xhr.onload = () => {\n    this.app_ver_check_in_progress = false;\n    let text;\n    try {\n      text = xhr.responseText;\n      let obj = JSON.parse(text);\n      if (obj && obj.ver) {\n        this.onAppVer(obj.ver);\n      }\n    } catch (e) {\n      console.error('Received invalid response when checking app version:', text || '<empty response>');\n      // Probably internal server error or such as the server is restart, try again momentarily\n      // This is not triggered on connection errors, only if we got a (non-parseable) response from the server\n      if (!this.delayed_recheck) {\n        this.delayed_recheck = true;\n        setTimeout(() => {\n          this.delayed_recheck = false;\n          this.checkForNewAppVersion();\n        }, 1000);\n      }\n    }\n  };\n  xhr.onerror = () => {\n    this.app_ver_check_in_progress = false;\n  };\n  xhr.send(null);\n};\n\nWSClient.prototype.retryConnection = function () {\n  let client = this;\n  assert(!client.socket);\n  assert(!client.retry_scheduled);\n  client.retry_scheduled = true;\n  ++client.retry_count;\n  this.checkForNewAppVersion();\n  setTimeout(function () {\n    assert(client.retry_scheduled);\n    assert(!client.socket);\n    client.retry_scheduled = false;\n    client.connect(true);\n  }, min(client.retry_count * client.retry_count * 100, 15000));\n};\n\nWSClient.prototype.connect = function (for_reconnect) {\n  let client = this;\n\n  let path = `${(client.retry_count % 2) ? client.path2 : client.path}?pver=${wscommon.PROTOCOL_VERSION}${\n    for_reconnect && client.id && client.secret ? `&reconnect=${client.id}&secret=${client.secret}` : ''\n  }`;\n  let socket = new WebSocket(path);\n  socket.binaryType = 'arraybuffer';\n  client.socket = socket;\n\n  // Protect callbacks from ever firing if we've already disconnected this socket\n  //   from the WSClient\n  function guard(fn) {\n    return function (...args) {\n      if (client.socket !== socket) {\n        return;\n      }\n      fn(...args);\n    };\n  }\n\n  function abort(skip_close) {\n    client.socket = null;\n    if (client.connected) {\n      client.disconnect_time = Date.now();\n      client.disconnected = true;\n    }\n    client.connected = false;\n    if (!skip_close) {\n      try {\n        socket.close();\n      } catch (e) {\n        // ignore\n      }\n    }\n    ack.failAll(client);\n  }\n\n  function retry(skip_close) {\n    abort(skip_close);\n    client.retryConnection();\n  }\n\n  // Local state, for this one connection\n  let connected = false;\n  client.socket.addEventListener('error', guard(function (err) {\n    if (!connected) {\n      console.log('WebSocket error during initial connection, retrying...', err);\n      retry();\n    } else {\n      console.error('WebSocket error', err);\n      // Disconnect and reconnect here, is this a terminal error? Probably not, we'll get a 'close' event if it is?\n      // We some error occasionally on iOS, not sure what error, but it auto-reconnects fine, so let's\n      // not do a throw\n      // client.onError(err);\n    }\n  }));\n\n  client.socket.addEventListener('message', guard(function (message) {\n    // net_time -= Date.now();\n    assert(message.data instanceof ArrayBuffer);\n    wsHandleMessage(client, new Uint8Array(message.data));\n    // net_time += Date.now();\n  }));\n\n  client.socket.addEventListener('open', guard(function () {\n    console.log('WebSocket open');\n    connected = true;\n    // reset retry count so next retry is fast if we get disconnected\n    client.retry_count = 0;\n  }));\n\n  client.socket.addEventListener('close', guard(function () {\n    console.log('WebSocket close, retrying connection...');\n    retry(true);\n  }));\n\n  let doPing = guard(function () {\n    if (Date.now() - client.last_send_time > wscommon.PING_TIME && client.connected && client.socket.readyState === 1) {\n      client.send('ping');\n    }\n    setTimeout(doPing, wscommon.PING_TIME);\n  });\n  setTimeout(doPing, wscommon.PING_TIME);\n\n  // For debugging reconnect handling\n  // setTimeout(function () {\n  //   if (connected) {\n  //     socket.close();\n  //   }\n  // }, 5000);\n};\n","module.exports={\"font_size\":8,\"imageW\":128,\"imageH\":128,\"spread\":2,\"noFilter\":1,\"channels\":1,\"char_infos\":[{\"c\":32,\"x0\":61,\"y0\":63,\"xpad\":4,\"w\":0,\"h\":0},{\"c\":33,\"x0\":92,\"y0\":2,\"yoffs\":1,\"xpad\":1,\"w\":1,\"h\":5},{\"c\":34,\"x0\":16,\"y0\":63,\"yoffs\":1,\"xpad\":1,\"w\":3,\"h\":2},{\"c\":35,\"x0\":98,\"y0\":2,\"yoffs\":1,\"xpad\":1,\"w\":5,\"h\":5},{\"c\":36,\"x0\":38,\"y0\":2,\"yoffs\":1,\"xpad\":1,\"w\":4,\"h\":6},{\"c\":37,\"x0\":108,\"y0\":2,\"yoffs\":1,\"xpad\":1,\"w\":5,\"h\":5},{\"c\":38,\"x0\":118,\"y0\":2,\"yoffs\":1,\"xpad\":1,\"w\":5,\"h\":5},{\"c\":39,\"x0\":24,\"y0\":63,\"yoffs\":1,\"xpad\":1,\"w\":1,\"h\":2},{\"c\":40,\"x0\":2,\"y0\":14,\"yoffs\":1,\"xpad\":1,\"w\":2,\"h\":5},{\"c\":41,\"x0\":9,\"y0\":14,\"yoffs\":1,\"xpad\":1,\"w\":2,\"h\":5},{\"c\":42,\"x0\":109,\"y0\":54,\"yoffs\":1,\"xpad\":1,\"w\":3,\"h\":3},{\"c\":43,\"x0\":117,\"y0\":54,\"yoffs\":2,\"xpad\":1,\"w\":3,\"h\":3},{\"c\":44,\"x0\":30,\"y0\":63,\"yoffs\":5,\"xpad\":1,\"w\":2,\"h\":2},{\"c\":45,\"x0\":67,\"y0\":63,\"yoffs\":3,\"xpad\":1,\"w\":3,\"h\":1},{\"c\":46,\"x0\":75,\"y0\":63,\"yoffs\":5,\"xpad\":1,\"w\":1,\"h\":1},{\"c\":47,\"x0\":16,\"y0\":14,\"yoffs\":1,\"xpad\":1,\"w\":5,\"h\":5},{\"c\":48,\"x0\":26,\"y0\":14,\"yoffs\":1,\"xpad\":1,\"w\":4,\"h\":5},{\"c\":49,\"x0\":35,\"y0\":14,\"yoffs\":1,\"xpad\":1,\"w\":2,\"h\":5},{\"c\":50,\"x0\":42,\"y0\":14,\"yoffs\":1,\"xpad\":1,\"w\":4,\"h\":5},{\"c\":51,\"x0\":51,\"y0\":14,\"yoffs\":1,\"xpad\":1,\"w\":4,\"h\":5},{\"c\":52,\"x0\":60,\"y0\":14,\"yoffs\":1,\"xpad\":1,\"w\":4,\"h\":5},{\"c\":53,\"x0\":69,\"y0\":14,\"yoffs\":1,\"xpad\":1,\"w\":4,\"h\":5},{\"c\":54,\"x0\":78,\"y0\":14,\"yoffs\":1,\"xpad\":1,\"w\":4,\"h\":5},{\"c\":55,\"x0\":87,\"y0\":14,\"yoffs\":1,\"xpad\":1,\"w\":4,\"h\":5},{\"c\":56,\"x0\":96,\"y0\":14,\"yoffs\":1,\"xpad\":1,\"w\":4,\"h\":5},{\"c\":57,\"x0\":105,\"y0\":14,\"yoffs\":1,\"xpad\":1,\"w\":4,\"h\":5},{\"c\":58,\"x0\":2,\"y0\":63,\"yoffs\":2,\"xpad\":1,\"w\":1,\"h\":3},{\"c\":59,\"x0\":115,\"y0\":44,\"yoffs\":2,\"xpad\":1,\"w\":1,\"h\":4},{\"c\":60,\"x0\":114,\"y0\":14,\"yoffs\":1,\"xpad\":1,\"w\":3,\"h\":5},{\"c\":61,\"x0\":8,\"y0\":63,\"yoffs\":2,\"xpad\":1,\"w\":3,\"h\":3},{\"c\":62,\"x0\":122,\"y0\":14,\"yoffs\":1,\"xpad\":1,\"w\":3,\"h\":5},{\"c\":63,\"x0\":2,\"y0\":24,\"yoffs\":1,\"xpad\":1,\"w\":4,\"h\":5},{\"c\":64,\"x0\":11,\"y0\":24,\"yoffs\":1,\"xpad\":1,\"w\":5,\"h\":5},{\"c\":65,\"x0\":21,\"y0\":24,\"yoffs\":1,\"xpad\":1,\"w\":4,\"h\":5},{\"c\":66,\"x0\":30,\"y0\":24,\"yoffs\":1,\"xpad\":1,\"w\":4,\"h\":5},{\"c\":67,\"x0\":39,\"y0\":24,\"yoffs\":1,\"xpad\":1,\"w\":3,\"h\":5},{\"c\":68,\"x0\":47,\"y0\":24,\"yoffs\":1,\"xpad\":1,\"w\":4,\"h\":5},{\"c\":69,\"x0\":56,\"y0\":24,\"yoffs\":1,\"xpad\":1,\"w\":3,\"h\":5},{\"c\":70,\"x0\":64,\"y0\":24,\"yoffs\":1,\"xpad\":1,\"w\":3,\"h\":5},{\"c\":71,\"x0\":72,\"y0\":24,\"yoffs\":1,\"xpad\":1,\"w\":4,\"h\":5},{\"c\":72,\"x0\":81,\"y0\":24,\"yoffs\":1,\"xpad\":1,\"w\":4,\"h\":5},{\"c\":73,\"x0\":90,\"y0\":24,\"yoffs\":1,\"xpad\":1,\"w\":3,\"h\":5},{\"c\":74,\"x0\":98,\"y0\":24,\"yoffs\":1,\"xpad\":1,\"w\":4,\"h\":5},{\"c\":75,\"x0\":107,\"y0\":24,\"yoffs\":1,\"xpad\":1,\"w\":4,\"h\":5},{\"c\":76,\"x0\":116,\"y0\":24,\"yoffs\":1,\"xpad\":1,\"w\":3,\"h\":5},{\"c\":77,\"x0\":2,\"y0\":34,\"yoffs\":1,\"xpad\":1,\"w\":5,\"h\":5},{\"c\":78,\"x0\":12,\"y0\":34,\"yoffs\":1,\"xpad\":1,\"w\":4,\"h\":5},{\"c\":79,\"x0\":21,\"y0\":34,\"yoffs\":1,\"xpad\":1,\"w\":4,\"h\":5},{\"c\":80,\"x0\":30,\"y0\":34,\"yoffs\":1,\"xpad\":1,\"w\":4,\"h\":5},{\"c\":81,\"x0\":47,\"y0\":2,\"yoffs\":1,\"xpad\":1,\"w\":4,\"h\":6},{\"c\":82,\"x0\":39,\"y0\":34,\"yoffs\":1,\"xpad\":1,\"w\":4,\"h\":5},{\"c\":83,\"x0\":48,\"y0\":34,\"yoffs\":1,\"xpad\":1,\"w\":4,\"h\":5},{\"c\":84,\"x0\":57,\"y0\":34,\"yoffs\":1,\"xpad\":1,\"w\":3,\"h\":5},{\"c\":85,\"x0\":65,\"y0\":34,\"yoffs\":1,\"xpad\":1,\"w\":4,\"h\":5},{\"c\":86,\"x0\":74,\"y0\":34,\"yoffs\":1,\"xpad\":1,\"w\":4,\"h\":5},{\"c\":87,\"x0\":83,\"y0\":34,\"yoffs\":1,\"xpad\":1,\"w\":5,\"h\":5},{\"c\":88,\"x0\":93,\"y0\":34,\"yoffs\":1,\"xpad\":1,\"w\":4,\"h\":5},{\"c\":89,\"x0\":102,\"y0\":34,\"yoffs\":1,\"xpad\":1,\"w\":4,\"h\":5},{\"c\":90,\"x0\":111,\"y0\":34,\"yoffs\":1,\"xpad\":1,\"w\":3,\"h\":5},{\"c\":91,\"x0\":119,\"y0\":34,\"yoffs\":1,\"xpad\":1,\"w\":2,\"h\":5},{\"c\":92,\"x0\":2,\"y0\":44,\"yoffs\":1,\"xpad\":1,\"w\":5,\"h\":5},{\"c\":93,\"x0\":12,\"y0\":44,\"yoffs\":1,\"xpad\":1,\"w\":2,\"h\":5},{\"c\":94,\"x0\":37,\"y0\":63,\"yoffs\":1,\"xpad\":1,\"w\":3,\"h\":2},{\"c\":95,\"x0\":81,\"y0\":63,\"yoffs\":5,\"xpad\":1,\"w\":4,\"h\":1},{\"c\":96,\"x0\":45,\"y0\":63,\"yoffs\":1,\"xpad\":1,\"w\":2,\"h\":2},{\"c\":97,\"x0\":121,\"y0\":44,\"yoffs\":2,\"xpad\":1,\"w\":4,\"h\":4},{\"c\":98,\"x0\":19,\"y0\":44,\"yoffs\":1,\"xpad\":1,\"w\":4,\"h\":5},{\"c\":99,\"x0\":2,\"y0\":54,\"yoffs\":2,\"xpad\":1,\"w\":3,\"h\":4},{\"c\":100,\"x0\":28,\"y0\":44,\"yoffs\":1,\"xpad\":1,\"w\":4,\"h\":5},{\"c\":101,\"x0\":10,\"y0\":54,\"yoffs\":2,\"xpad\":1,\"w\":4,\"h\":4},{\"c\":102,\"x0\":37,\"y0\":44,\"yoffs\":1,\"xpad\":1,\"w\":3,\"h\":5},{\"c\":103,\"x0\":56,\"y0\":2,\"yoffs\":2,\"xpad\":1,\"w\":4,\"h\":6},{\"c\":104,\"x0\":45,\"y0\":44,\"yoffs\":1,\"xpad\":1,\"w\":4,\"h\":5},{\"c\":105,\"x0\":54,\"y0\":44,\"yoffs\":1,\"xpad\":1,\"w\":1,\"h\":5},{\"c\":106,\"x0\":2,\"y0\":2,\"yoffs\":1,\"xpad\":1,\"w\":2,\"h\":7},{\"c\":107,\"x0\":60,\"y0\":44,\"yoffs\":1,\"xpad\":1,\"w\":4,\"h\":5},{\"c\":108,\"x0\":69,\"y0\":44,\"yoffs\":1,\"xpad\":1,\"w\":1,\"h\":5},{\"c\":109,\"x0\":19,\"y0\":54,\"yoffs\":2,\"xpad\":1,\"w\":5,\"h\":4},{\"c\":110,\"x0\":29,\"y0\":54,\"yoffs\":2,\"xpad\":1,\"w\":4,\"h\":4},{\"c\":111,\"x0\":38,\"y0\":54,\"yoffs\":2,\"xpad\":1,\"w\":4,\"h\":4},{\"c\":112,\"x0\":65,\"y0\":2,\"yoffs\":2,\"xpad\":1,\"w\":4,\"h\":6},{\"c\":113,\"x0\":74,\"y0\":2,\"yoffs\":2,\"xpad\":1,\"w\":4,\"h\":6},{\"c\":114,\"x0\":47,\"y0\":54,\"yoffs\":2,\"xpad\":1,\"w\":3,\"h\":4},{\"c\":115,\"x0\":55,\"y0\":54,\"yoffs\":2,\"xpad\":1,\"w\":4,\"h\":4},{\"c\":116,\"x0\":75,\"y0\":44,\"yoffs\":1,\"xpad\":1,\"w\":3,\"h\":5},{\"c\":117,\"x0\":64,\"y0\":54,\"yoffs\":2,\"xpad\":1,\"w\":4,\"h\":4},{\"c\":118,\"x0\":73,\"y0\":54,\"yoffs\":2,\"xpad\":1,\"w\":4,\"h\":4},{\"c\":119,\"x0\":82,\"y0\":54,\"yoffs\":2,\"xpad\":1,\"w\":5,\"h\":4},{\"c\":120,\"x0\":92,\"y0\":54,\"yoffs\":2,\"xpad\":1,\"w\":3,\"h\":4},{\"c\":121,\"x0\":83,\"y0\":2,\"yoffs\":2,\"xpad\":1,\"w\":4,\"h\":6},{\"c\":122,\"x0\":100,\"y0\":54,\"yoffs\":2,\"xpad\":1,\"w\":4,\"h\":4},{\"c\":123,\"x0\":83,\"y0\":44,\"yoffs\":1,\"xpad\":1,\"w\":3,\"h\":5},{\"c\":124,\"x0\":91,\"y0\":44,\"yoffs\":1,\"xpad\":1,\"w\":1,\"h\":5},{\"c\":125,\"x0\":97,\"y0\":44,\"yoffs\":1,\"xpad\":1,\"w\":3,\"h\":5},{\"c\":126,\"x0\":52,\"y0\":63,\"yoffs\":1,\"xpad\":1,\"w\":4,\"h\":2},{\"c\":160,\"x0\":90,\"y0\":63,\"xpad\":3,\"w\":1,\"h\":1},{\"c\":65533,\"x0\":105,\"y0\":44,\"yoffs\":2,\"xpad\":1,\"w\":5,\"h\":5},{\"c\":128263,\"x0\":9,\"y0\":2,\"yoffs\":1,\"xpad\":1,\"w\":10,\"h\":7},{\"c\":128264,\"x0\":24,\"y0\":2,\"yoffs\":1,\"xpad\":1,\"w\":9,\"h\":7}]}","module.exports={\"font_size\":16,\"imageW\":1024,\"imageH\":64,\"spread\":2,\"noFilter\":1,\"channels\":1,\"char_infos\":[{\"c\":32,\"x0\":172,\"y0\":21,\"xpad\":8,\"w\":0,\"h\":0},{\"c\":33,\"x0\":137,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":2,\"h\":10},{\"c\":34,\"x0\":81,\"y0\":21,\"yoffs\":3,\"xpad\":2,\"w\":6,\"h\":4},{\"c\":35,\"x0\":144,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":10,\"h\":10},{\"c\":36,\"x0\":59,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":8,\"h\":12},{\"c\":37,\"x0\":159,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":10,\"h\":10},{\"c\":38,\"x0\":174,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":10,\"h\":10},{\"c\":39,\"x0\":92,\"y0\":21,\"yoffs\":3,\"xpad\":2,\"w\":2,\"h\":4},{\"c\":40,\"x0\":189,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":4,\"h\":10},{\"c\":41,\"x0\":198,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":4,\"h\":10},{\"c\":42,\"x0\":41,\"y0\":21,\"yoffs\":3,\"xpad\":2,\"w\":6,\"h\":6},{\"c\":43,\"x0\":52,\"y0\":21,\"yoffs\":5,\"xpad\":2,\"w\":6,\"h\":6},{\"c\":44,\"x0\":99,\"y0\":21,\"yoffs\":11,\"xpad\":2,\"w\":4,\"h\":4},{\"c\":45,\"x0\":141,\"y0\":21,\"yoffs\":7,\"xpad\":2,\"w\":6,\"h\":2},{\"c\":46,\"x0\":152,\"y0\":21,\"yoffs\":11,\"xpad\":2,\"w\":2,\"h\":2},{\"c\":47,\"x0\":207,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":10,\"h\":10},{\"c\":48,\"x0\":222,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":8,\"h\":10},{\"c\":49,\"x0\":235,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":4,\"h\":10},{\"c\":50,\"x0\":244,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":8,\"h\":10},{\"c\":51,\"x0\":257,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":8,\"h\":10},{\"c\":52,\"x0\":270,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":8,\"h\":10},{\"c\":53,\"x0\":283,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":8,\"h\":10},{\"c\":54,\"x0\":296,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":8,\"h\":10},{\"c\":55,\"x0\":309,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":8,\"h\":10},{\"c\":56,\"x0\":322,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":8,\"h\":10},{\"c\":57,\"x0\":335,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":8,\"h\":10},{\"c\":58,\"x0\":63,\"y0\":21,\"yoffs\":5,\"xpad\":2,\"w\":2,\"h\":6},{\"c\":59,\"x0\":877,\"y0\":2,\"yoffs\":5,\"xpad\":2,\"w\":2,\"h\":8},{\"c\":60,\"x0\":348,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":6,\"h\":10},{\"c\":61,\"x0\":70,\"y0\":21,\"yoffs\":5,\"xpad\":2,\"w\":6,\"h\":6},{\"c\":62,\"x0\":359,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":6,\"h\":10},{\"c\":63,\"x0\":370,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":8,\"h\":10},{\"c\":64,\"x0\":383,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":10,\"h\":10},{\"c\":65,\"x0\":398,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":8,\"h\":10},{\"c\":66,\"x0\":411,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":8,\"h\":10},{\"c\":67,\"x0\":424,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":6,\"h\":10},{\"c\":68,\"x0\":435,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":8,\"h\":10},{\"c\":69,\"x0\":448,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":6,\"h\":10},{\"c\":70,\"x0\":459,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":6,\"h\":10},{\"c\":71,\"x0\":470,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":8,\"h\":10},{\"c\":72,\"x0\":483,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":8,\"h\":10},{\"c\":73,\"x0\":496,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":6,\"h\":10},{\"c\":74,\"x0\":507,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":8,\"h\":10},{\"c\":75,\"x0\":520,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":8,\"h\":10},{\"c\":76,\"x0\":533,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":6,\"h\":10},{\"c\":77,\"x0\":544,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":10,\"h\":10},{\"c\":78,\"x0\":559,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":8,\"h\":10},{\"c\":79,\"x0\":572,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":8,\"h\":10},{\"c\":80,\"x0\":585,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":8,\"h\":10},{\"c\":81,\"x0\":72,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":8,\"h\":12},{\"c\":82,\"x0\":598,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":8,\"h\":10},{\"c\":83,\"x0\":611,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":8,\"h\":10},{\"c\":84,\"x0\":624,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":6,\"h\":10},{\"c\":85,\"x0\":635,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":8,\"h\":10},{\"c\":86,\"x0\":648,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":8,\"h\":10},{\"c\":87,\"x0\":661,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":10,\"h\":10},{\"c\":88,\"x0\":676,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":8,\"h\":10},{\"c\":89,\"x0\":689,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":8,\"h\":10},{\"c\":90,\"x0\":702,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":6,\"h\":10},{\"c\":91,\"x0\":713,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":4,\"h\":10},{\"c\":92,\"x0\":722,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":10,\"h\":10},{\"c\":93,\"x0\":737,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":4,\"h\":10},{\"c\":94,\"x0\":108,\"y0\":21,\"yoffs\":3,\"xpad\":2,\"w\":6,\"h\":4},{\"c\":95,\"x0\":159,\"y0\":21,\"yoffs\":11,\"xpad\":2,\"w\":8,\"h\":2},{\"c\":96,\"x0\":119,\"y0\":21,\"yoffs\":3,\"xpad\":2,\"w\":4,\"h\":4},{\"c\":97,\"x0\":884,\"y0\":2,\"yoffs\":5,\"xpad\":2,\"w\":8,\"h\":8},{\"c\":98,\"x0\":746,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":8,\"h\":10},{\"c\":99,\"x0\":897,\"y0\":2,\"yoffs\":5,\"xpad\":2,\"w\":6,\"h\":8},{\"c\":100,\"x0\":759,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":8,\"h\":10},{\"c\":101,\"x0\":908,\"y0\":2,\"yoffs\":5,\"xpad\":2,\"w\":8,\"h\":8},{\"c\":102,\"x0\":772,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":6,\"h\":10},{\"c\":103,\"x0\":85,\"y0\":2,\"yoffs\":5,\"xpad\":2,\"w\":8,\"h\":12},{\"c\":104,\"x0\":783,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":8,\"h\":10},{\"c\":105,\"x0\":796,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":2,\"h\":10},{\"c\":106,\"x0\":2,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":4,\"h\":14},{\"c\":107,\"x0\":803,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":8,\"h\":10},{\"c\":108,\"x0\":816,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":2,\"h\":10},{\"c\":109,\"x0\":921,\"y0\":2,\"yoffs\":5,\"xpad\":2,\"w\":10,\"h\":8},{\"c\":110,\"x0\":936,\"y0\":2,\"yoffs\":5,\"xpad\":2,\"w\":8,\"h\":8},{\"c\":111,\"x0\":949,\"y0\":2,\"yoffs\":5,\"xpad\":2,\"w\":8,\"h\":8},{\"c\":112,\"x0\":98,\"y0\":2,\"yoffs\":5,\"xpad\":2,\"w\":8,\"h\":12},{\"c\":113,\"x0\":111,\"y0\":2,\"yoffs\":5,\"xpad\":2,\"w\":8,\"h\":12},{\"c\":114,\"x0\":962,\"y0\":2,\"yoffs\":5,\"xpad\":2,\"w\":6,\"h\":8},{\"c\":115,\"x0\":973,\"y0\":2,\"yoffs\":5,\"xpad\":2,\"w\":8,\"h\":8},{\"c\":116,\"x0\":823,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":6,\"h\":10},{\"c\":117,\"x0\":986,\"y0\":2,\"yoffs\":5,\"xpad\":2,\"w\":8,\"h\":8},{\"c\":118,\"x0\":999,\"y0\":2,\"yoffs\":5,\"xpad\":2,\"w\":8,\"h\":8},{\"c\":119,\"x0\":2,\"y0\":21,\"yoffs\":5,\"xpad\":2,\"w\":10,\"h\":8},{\"c\":120,\"x0\":17,\"y0\":21,\"yoffs\":5,\"xpad\":2,\"w\":6,\"h\":8},{\"c\":121,\"x0\":124,\"y0\":2,\"yoffs\":5,\"xpad\":2,\"w\":8,\"h\":12},{\"c\":122,\"x0\":28,\"y0\":21,\"yoffs\":5,\"xpad\":2,\"w\":8,\"h\":8},{\"c\":123,\"x0\":834,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":6,\"h\":10},{\"c\":124,\"x0\":845,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":2,\"h\":10},{\"c\":125,\"x0\":852,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":6,\"h\":10},{\"c\":126,\"x0\":128,\"y0\":21,\"yoffs\":3,\"xpad\":2,\"w\":8,\"h\":4},{\"c\":160,\"x0\":178,\"y0\":21,\"xpad\":7,\"w\":1,\"h\":1},{\"c\":65533,\"x0\":863,\"y0\":2,\"yoffs\":3,\"xpad\":1,\"w\":9,\"h\":10},{\"c\":128263,\"x0\":11,\"y0\":2,\"yoffs\":1,\"xpad\":1,\"w\":19,\"h\":14},{\"c\":128264,\"x0\":35,\"y0\":2,\"yoffs\":1,\"xpad\":1,\"w\":19,\"h\":14}]}","module.exports={\"font_size\":32,\"imageW\":1024,\"imageH\":512,\"spread\":8,\"channels\":1,\"char_infos\":[{\"c\":13,\"x0\":307,\"y0\":381,\"w\":1,\"h\":1},{\"c\":32,\"x0\":325,\"y0\":381,\"xpad\":6.10156,\"w\":1,\"h\":1},{\"c\":33,\"x0\":436,\"y0\":230,\"yoffs\":4,\"xpad\":1.13281,\"w\":6,\"h\":22},{\"c\":34,\"x0\":879,\"y0\":347,\"yoffs\":4,\"w\":10,\"h\":8},{\"c\":35,\"x0\":673,\"y0\":309,\"yoffs\":10,\"w\":16,\"h\":17},{\"c\":36,\"x0\":215,\"y0\":8,\"yoffs\":1,\"xpad\":1.32031,\"w\":15,\"h\":29},{\"c\":37,\"x0\":933,\"y0\":148,\"yoffs\":4,\"xpad\":0.773438,\"w\":26,\"h\":23},{\"c\":38,\"x0\":976,\"y0\":148,\"yoffs\":4,\"xpad\":0.570313,\"w\":20,\"h\":23},{\"c\":39,\"x0\":906,\"y0\":347,\"yoffs\":4,\"w\":5,\"h\":8},{\"c\":40,\"x0\":8,\"y0\":190,\"yoffs\":5,\"w\":8,\"h\":23},{\"c\":41,\"x0\":33,\"y0\":190,\"yoffs\":5,\"xpad\":0.890625,\"w\":7,\"h\":23},{\"c\":42,\"x0\":645,\"y0\":347,\"yoffs\":2,\"w\":11,\"h\":11},{\"c\":43,\"x0\":706,\"y0\":309,\"yoffs\":9,\"xpad\":0.414063,\"w\":15,\"h\":17},{\"c\":44,\"x0\":928,\"y0\":347,\"yoffs\":22,\"w\":5,\"h\":8},{\"c\":45,\"x0\":252,\"y0\":381,\"yoffs\":16,\"w\":9,\"h\":3},{\"c\":46,\"x0\":156,\"y0\":381,\"yoffs\":22,\"w\":5,\"h\":4},{\"c\":47,\"x0\":57,\"y0\":190,\"yoffs\":4,\"w\":13,\"h\":23},{\"c\":48,\"x0\":459,\"y0\":230,\"yoffs\":5,\"xpad\":0.671875,\"w\":17,\"h\":22},{\"c\":49,\"x0\":402,\"y0\":270,\"yoffs\":5,\"xpad\":5.67188,\"w\":12,\"h\":21},{\"c\":50,\"x0\":431,\"y0\":270,\"yoffs\":5,\"xpad\":1.67188,\"w\":16,\"h\":21},{\"c\":51,\"x0\":493,\"y0\":230,\"yoffs\":5,\"xpad\":1.67188,\"w\":16,\"h\":22},{\"c\":52,\"x0\":464,\"y0\":270,\"yoffs\":5,\"xpad\":0.671875,\"w\":17,\"h\":21},{\"c\":53,\"x0\":526,\"y0\":230,\"yoffs\":5,\"xpad\":1.67188,\"w\":16,\"h\":22},{\"c\":54,\"x0\":559,\"y0\":230,\"yoffs\":5,\"xpad\":0.671875,\"w\":17,\"h\":22},{\"c\":55,\"x0\":498,\"y0\":270,\"yoffs\":5,\"xpad\":1.67188,\"w\":16,\"h\":21},{\"c\":56,\"x0\":593,\"y0\":230,\"yoffs\":5,\"xpad\":0.671875,\"w\":17,\"h\":22},{\"c\":57,\"x0\":627,\"y0\":230,\"yoffs\":5,\"xpad\":0.671875,\"w\":17,\"h\":22},{\"c\":58,\"x0\":401,\"y0\":347,\"yoffs\":12,\"w\":5,\"h\":14},{\"c\":59,\"x0\":651,\"y0\":309,\"yoffs\":12,\"w\":5,\"h\":18},{\"c\":60,\"x0\":867,\"y0\":103,\"yoffs\":4,\"w\":12,\"h\":25},{\"c\":61,\"x0\":847,\"y0\":347,\"yoffs\":14,\"w\":15,\"h\":9},{\"c\":62,\"x0\":896,\"y0\":103,\"yoffs\":4,\"w\":12,\"h\":25},{\"c\":63,\"x0\":661,\"y0\":230,\"yoffs\":4,\"xpad\":0.195313,\"w\":12,\"h\":22},{\"c\":64,\"x0\":87,\"y0\":190,\"yoffs\":7,\"xpad\":1.21094,\"w\":23,\"h\":23},{\"c\":65,\"x0\":531,\"y0\":270,\"yoffs\":5,\"w\":19,\"h\":21},{\"c\":66,\"x0\":567,\"y0\":270,\"yoffs\":5,\"xpad\":0.882813,\"w\":18,\"h\":21},{\"c\":67,\"x0\":690,\"y0\":230,\"yoffs\":5,\"xpad\":0.945313,\"w\":17,\"h\":22},{\"c\":68,\"x0\":602,\"y0\":270,\"yoffs\":5,\"xpad\":1.01563,\"w\":20,\"h\":21},{\"c\":69,\"x0\":639,\"y0\":270,\"yoffs\":5,\"xpad\":0.617188,\"w\":16,\"h\":21},{\"c\":70,\"x0\":672,\"y0\":270,\"yoffs\":5,\"w\":15,\"h\":21},{\"c\":71,\"x0\":724,\"y0\":230,\"yoffs\":5,\"xpad\":1.75,\"w\":18,\"h\":22},{\"c\":72,\"x0\":704,\"y0\":270,\"yoffs\":5,\"xpad\":2.53906,\"w\":18,\"h\":21},{\"c\":73,\"x0\":739,\"y0\":270,\"yoffs\":5,\"xpad\":2.54688,\"w\":6,\"h\":21},{\"c\":74,\"x0\":759,\"y0\":230,\"yoffs\":5,\"xpad\":2.75781,\"w\":6,\"h\":22},{\"c\":75,\"x0\":762,\"y0\":270,\"yoffs\":5,\"w\":19,\"h\":21},{\"c\":76,\"x0\":798,\"y0\":270,\"yoffs\":5,\"w\":16,\"h\":21},{\"c\":77,\"x0\":831,\"y0\":270,\"yoffs\":5,\"xpad\":2.27344,\"w\":21,\"h\":21},{\"c\":78,\"x0\":869,\"y0\":270,\"yoffs\":5,\"xpad\":2.74219,\"w\":19,\"h\":21},{\"c\":79,\"x0\":127,\"y0\":190,\"yoffs\":4,\"xpad\":1.22656,\"w\":21,\"h\":23},{\"c\":80,\"x0\":905,\"y0\":270,\"yoffs\":5,\"xpad\":0.828125,\"w\":17,\"h\":21},{\"c\":81,\"x0\":165,\"y0\":190,\"yoffs\":4,\"xpad\":1.22656,\"w\":21,\"h\":23},{\"c\":82,\"x0\":939,\"y0\":270,\"yoffs\":5,\"w\":19,\"h\":21},{\"c\":83,\"x0\":203,\"y0\":190,\"yoffs\":4,\"xpad\":1.32031,\"w\":15,\"h\":23},{\"c\":84,\"x0\":975,\"y0\":270,\"yoffs\":5,\"w\":17,\"h\":21},{\"c\":85,\"x0\":782,\"y0\":230,\"yoffs\":5,\"xpad\":2.04688,\"w\":19,\"h\":22},{\"c\":86,\"x0\":8,\"y0\":309,\"yoffs\":5,\"w\":19,\"h\":21},{\"c\":87,\"x0\":44,\"y0\":309,\"yoffs\":5,\"w\":30,\"h\":21},{\"c\":88,\"x0\":818,\"y0\":230,\"yoffs\":5,\"w\":20,\"h\":22},{\"c\":89,\"x0\":91,\"y0\":309,\"yoffs\":5,\"w\":18,\"h\":21},{\"c\":90,\"x0\":126,\"y0\":309,\"yoffs\":5,\"xpad\":0.226563,\"w\":17,\"h\":21},{\"c\":91,\"x0\":925,\"y0\":103,\"yoffs\":4,\"w\":9,\"h\":25},{\"c\":92,\"x0\":235,\"y0\":190,\"yoffs\":4,\"w\":13,\"h\":23},{\"c\":93,\"x0\":951,\"y0\":103,\"yoffs\":4,\"xpad\":1.70313,\"w\":7,\"h\":25},{\"c\":94,\"x0\":950,\"y0\":347,\"yoffs\":14,\"xpad\":0.1875,\"w\":13,\"h\":8},{\"c\":95,\"x0\":278,\"y0\":381,\"yoffs\":23,\"xpad\":0.4375,\"w\":12,\"h\":3},{\"c\":96,\"x0\":57,\"y0\":381,\"yoffs\":3,\"w\":6,\"h\":6},{\"c\":97,\"x0\":738,\"y0\":309,\"yoffs\":10,\"xpad\":1.29688,\"w\":14,\"h\":17},{\"c\":98,\"x0\":265,\"y0\":190,\"yoffs\":4,\"xpad\":0.890625,\"w\":16,\"h\":23},{\"c\":99,\"x0\":769,\"y0\":309,\"yoffs\":10,\"xpad\":0.273438,\"w\":14,\"h\":17},{\"c\":100,\"x0\":298,\"y0\":190,\"yoffs\":4,\"xpad\":2.07031,\"w\":15,\"h\":23},{\"c\":101,\"x0\":800,\"y0\":309,\"yoffs\":10,\"xpad\":1.04688,\"w\":15,\"h\":17},{\"c\":102,\"x0\":855,\"y0\":230,\"yoffs\":4,\"w\":10,\"h\":22},{\"c\":103,\"x0\":330,\"y0\":190,\"yoffs\":10,\"xpad\":2.07031,\"w\":15,\"h\":23},{\"c\":104,\"x0\":882,\"y0\":230,\"yoffs\":4,\"xpad\":1.10156,\"w\":16,\"h\":22},{\"c\":105,\"x0\":160,\"y0\":309,\"yoffs\":5,\"xpad\":1.34375,\"w\":6,\"h\":21},{\"c\":106,\"x0\":78,\"y0\":57,\"yoffs\":5,\"xpad\":1.07031,\"w\":7,\"h\":28},{\"c\":107,\"x0\":915,\"y0\":230,\"yoffs\":4,\"xpad\":0.171875,\"w\":15,\"h\":22},{\"c\":108,\"x0\":947,\"y0\":230,\"yoffs\":4,\"xpad\":1.46875,\"w\":6,\"h\":22},{\"c\":109,\"x0\":50,\"y0\":347,\"yoffs\":10,\"xpad\":1.14063,\"w\":25,\"h\":16},{\"c\":110,\"x0\":92,\"y0\":347,\"yoffs\":10,\"xpad\":2.03906,\"w\":15,\"h\":16},{\"c\":111,\"x0\":832,\"y0\":309,\"yoffs\":10,\"xpad\":0.828125,\"w\":16,\"h\":17},{\"c\":112,\"x0\":362,\"y0\":190,\"yoffs\":10,\"xpad\":0.890625,\"w\":16,\"h\":23},{\"c\":113,\"x0\":395,\"y0\":190,\"yoffs\":10,\"xpad\":2.07031,\"w\":15,\"h\":23},{\"c\":114,\"x0\":184,\"y0\":347,\"yoffs\":11,\"xpad\":0.203125,\"w\":10,\"h\":15},{\"c\":115,\"x0\":865,\"y0\":309,\"yoffs\":10,\"xpad\":0.28125,\"w\":13,\"h\":17},{\"c\":116,\"x0\":587,\"y0\":309,\"yoffs\":7,\"xpad\":0.234375,\"w\":10,\"h\":20},{\"c\":117,\"x0\":124,\"y0\":347,\"yoffs\":11,\"xpad\":1.64844,\"w\":15,\"h\":16},{\"c\":118,\"x0\":211,\"y0\":347,\"yoffs\":11,\"w\":15,\"h\":15},{\"c\":119,\"x0\":243,\"y0\":347,\"yoffs\":11,\"w\":23,\"h\":15},{\"c\":120,\"x0\":283,\"y0\":347,\"yoffs\":11,\"w\":16,\"h\":15},{\"c\":121,\"x0\":970,\"y0\":230,\"yoffs\":11,\"w\":15,\"h\":22},{\"c\":122,\"x0\":316,\"y0\":347,\"yoffs\":11,\"xpad\":0.851563,\"w\":13,\"h\":15},{\"c\":123,\"x0\":1002,\"y0\":230,\"yoffs\":6,\"w\":9,\"h\":22},{\"c\":124,\"x0\":8,\"y0\":8,\"w\":7,\"h\":32},{\"c\":125,\"x0\":8,\"y0\":270,\"yoffs\":6,\"xpad\":0.460938,\"w\":8,\"h\":22},{\"c\":126,\"x0\":127,\"y0\":381,\"yoffs\":16,\"xpad\":0.3125,\"w\":12,\"h\":5},{\"c\":144,\"x0\":980,\"y0\":347,\"yoffs\":-5,\"w\":14,\"h\":8},{\"c\":160,\"x0\":343,\"y0\":381,\"xpad\":6.10156,\"w\":1,\"h\":1},{\"c\":161,\"x0\":33,\"y0\":270,\"yoffs\":4,\"xpad\":1.13281,\"w\":6,\"h\":22},{\"c\":162,\"x0\":427,\"y0\":190,\"yoffs\":7,\"xpad\":0.273438,\"w\":14,\"h\":23},{\"c\":163,\"x0\":183,\"y0\":309,\"yoffs\":5,\"xpad\":0.304688,\"w\":14,\"h\":21},{\"c\":164,\"x0\":614,\"y0\":309,\"yoffs\":9,\"xpad\":0.328125,\"w\":20,\"h\":20},{\"c\":165,\"x0\":214,\"y0\":309,\"yoffs\":5,\"w\":18,\"h\":21},{\"c\":166,\"x0\":458,\"y0\":190,\"yoffs\":4,\"xpad\":2.10156,\"w\":6,\"h\":23},{\"c\":167,\"x0\":102,\"y0\":57,\"yoffs\":2,\"xpad\":1.25,\"w\":17,\"h\":28},{\"c\":168,\"x0\":178,\"y0\":381,\"yoffs\":4,\"xpad\":0.453125,\"w\":9,\"h\":4},{\"c\":169,\"x0\":481,\"y0\":190,\"yoffs\":4,\"xpad\":0.625,\"w\":25,\"h\":23},{\"c\":170,\"x0\":551,\"y0\":347,\"yoffs\":4,\"xpad\":0.296875,\"w\":10,\"h\":12},{\"c\":171,\"x0\":673,\"y0\":347,\"yoffs\":13,\"xpad\":0.140625,\"w\":11,\"h\":11},{\"c\":172,\"x0\":729,\"y0\":347,\"yoffs\":13,\"xpad\":0.382813,\"w\":15,\"h\":10},{\"c\":173,\"x0\":361,\"y0\":381,\"xpad\":2.94531,\"w\":1,\"h\":1},{\"c\":174,\"x0\":249,\"y0\":309,\"yoffs\":1,\"xpad\":0.3125,\"w\":22,\"h\":21},{\"c\":175,\"x0\":204,\"y0\":381,\"yoffs\":4,\"w\":9,\"h\":4},{\"c\":176,\"x0\":32,\"y0\":381,\"yoffs\":4,\"w\":8,\"h\":7},{\"c\":177,\"x0\":895,\"y0\":309,\"yoffs\":9,\"w\":14,\"h\":17},{\"c\":178,\"x0\":423,\"y0\":347,\"yoffs\":2,\"xpad\":0.890625,\"w\":11,\"h\":14},{\"c\":179,\"x0\":156,\"y0\":347,\"yoffs\":2,\"xpad\":1.52344,\"w\":11,\"h\":16},{\"c\":180,\"x0\":80,\"y0\":381,\"yoffs\":3,\"w\":6,\"h\":6},{\"c\":181,\"x0\":56,\"y0\":270,\"yoffs\":11,\"xpad\":1.85938,\"w\":15,\"h\":22},{\"c\":182,\"x0\":288,\"y0\":309,\"yoffs\":5,\"xpad\":0.5,\"w\":26,\"h\":21},{\"c\":183,\"x0\":230,\"y0\":381,\"yoffs\":16,\"w\":5,\"h\":4},{\"c\":184,\"x0\":8,\"y0\":381,\"yoffs\":25,\"xpad\":0.0703125,\"w\":7,\"h\":8},{\"c\":185,\"x0\":451,\"y0\":347,\"yoffs\":2,\"xpad\":0.6875,\"w\":10,\"h\":14},{\"c\":186,\"x0\":578,\"y0\":347,\"yoffs\":4,\"xpad\":0.625,\"w\":11,\"h\":12},{\"c\":187,\"x0\":701,\"y0\":347,\"yoffs\":13,\"xpad\":0.140625,\"w\":11,\"h\":11},{\"c\":188,\"x0\":247,\"y0\":8,\"yoffs\":2,\"xpad\":0.0546875,\"w\":25,\"h\":29},{\"c\":189,\"x0\":136,\"y0\":57,\"yoffs\":2,\"xpad\":1.22656,\"w\":25,\"h\":28},{\"c\":190,\"x0\":289,\"y0\":8,\"yoffs\":2,\"xpad\":0.109375,\"w\":26,\"h\":29},{\"c\":191,\"x0\":88,\"y0\":270,\"yoffs\":6,\"xpad\":0.09375,\"w\":13,\"h\":22},{\"c\":192,\"x0\":178,\"y0\":57,\"yoffs\":-2,\"w\":19,\"h\":28},{\"c\":193,\"x0\":214,\"y0\":57,\"yoffs\":-2,\"w\":19,\"h\":28},{\"c\":194,\"x0\":250,\"y0\":57,\"yoffs\":-2,\"w\":19,\"h\":28},{\"c\":195,\"x0\":648,\"y0\":103,\"w\":19,\"h\":26},{\"c\":196,\"x0\":252,\"y0\":103,\"yoffs\":-1,\"w\":19,\"h\":27},{\"c\":197,\"x0\":286,\"y0\":57,\"yoffs\":-2,\"w\":19,\"h\":28},{\"c\":198,\"x0\":331,\"y0\":309,\"yoffs\":5,\"xpad\":0.28125,\"w\":27,\"h\":21},{\"c\":199,\"x0\":322,\"y0\":57,\"yoffs\":5,\"xpad\":0.945313,\"w\":17,\"h\":28},{\"c\":200,\"x0\":356,\"y0\":57,\"yoffs\":-2,\"xpad\":0.617188,\"w\":16,\"h\":28},{\"c\":201,\"x0\":389,\"y0\":57,\"yoffs\":-2,\"xpad\":0.617188,\"w\":16,\"h\":28},{\"c\":202,\"x0\":422,\"y0\":57,\"yoffs\":-2,\"xpad\":0.617188,\"w\":16,\"h\":28},{\"c\":203,\"x0\":288,\"y0\":103,\"yoffs\":-1,\"xpad\":0.617188,\"w\":16,\"h\":27},{\"c\":204,\"x0\":455,\"y0\":57,\"yoffs\":-2,\"xpad\":1.54688,\"w\":7,\"h\":28},{\"c\":205,\"x0\":479,\"y0\":57,\"yoffs\":-2,\"xpad\":0.546875,\"w\":8,\"h\":28},{\"c\":206,\"x0\":504,\"y0\":57,\"yoffs\":-2,\"w\":11,\"h\":28},{\"c\":207,\"x0\":321,\"y0\":103,\"yoffs\":-1,\"w\":9,\"h\":27},{\"c\":208,\"x0\":375,\"y0\":309,\"yoffs\":5,\"xpad\":1.22656,\"w\":20,\"h\":21},{\"c\":209,\"x0\":684,\"y0\":103,\"xpad\":2.74219,\"w\":19,\"h\":26},{\"c\":210,\"x0\":332,\"y0\":8,\"yoffs\":-2,\"xpad\":1.22656,\"w\":21,\"h\":29},{\"c\":211,\"x0\":370,\"y0\":8,\"yoffs\":-2,\"xpad\":1.22656,\"w\":21,\"h\":29},{\"c\":212,\"x0\":408,\"y0\":8,\"yoffs\":-2,\"xpad\":1.22656,\"w\":21,\"h\":29},{\"c\":213,\"x0\":347,\"y0\":103,\"xpad\":1.22656,\"w\":21,\"h\":27},{\"c\":214,\"x0\":532,\"y0\":57,\"yoffs\":-1,\"xpad\":1.22656,\"w\":21,\"h\":28},{\"c\":215,\"x0\":346,\"y0\":347,\"yoffs\":11,\"xpad\":0.359375,\"w\":15,\"h\":15},{\"c\":216,\"x0\":523,\"y0\":190,\"yoffs\":4,\"xpad\":1.22656,\"w\":21,\"h\":23},{\"c\":217,\"x0\":446,\"y0\":8,\"yoffs\":-2,\"xpad\":2.04688,\"w\":19,\"h\":29},{\"c\":218,\"x0\":482,\"y0\":8,\"yoffs\":-2,\"xpad\":2.04688,\"w\":19,\"h\":29},{\"c\":219,\"x0\":518,\"y0\":8,\"yoffs\":-2,\"xpad\":2.04688,\"w\":19,\"h\":29},{\"c\":220,\"x0\":570,\"y0\":57,\"yoffs\":-1,\"xpad\":2.04688,\"w\":19,\"h\":28},{\"c\":221,\"x0\":606,\"y0\":57,\"yoffs\":-2,\"w\":18,\"h\":28},{\"c\":222,\"x0\":412,\"y0\":309,\"yoffs\":5,\"xpad\":1.00781,\"w\":17,\"h\":21},{\"c\":223,\"x0\":446,\"y0\":309,\"yoffs\":5,\"xpad\":1.30469,\"w\":17,\"h\":21},{\"c\":224,\"x0\":69,\"y0\":148,\"yoffs\":3,\"xpad\":1.29688,\"w\":14,\"h\":24},{\"c\":225,\"x0\":100,\"y0\":148,\"yoffs\":3,\"xpad\":1.29688,\"w\":14,\"h\":24},{\"c\":226,\"x0\":131,\"y0\":148,\"yoffs\":3,\"xpad\":1.29688,\"w\":14,\"h\":24},{\"c\":227,\"x0\":561,\"y0\":190,\"yoffs\":4,\"xpad\":1.29688,\"w\":14,\"h\":23},{\"c\":228,\"x0\":592,\"y0\":190,\"yoffs\":4,\"xpad\":1.29688,\"w\":14,\"h\":23},{\"c\":229,\"x0\":975,\"y0\":103,\"yoffs\":2,\"xpad\":1.29688,\"w\":14,\"h\":25},{\"c\":230,\"x0\":926,\"y0\":309,\"yoffs\":10,\"xpad\":0.960938,\"w\":24,\"h\":17},{\"c\":231,\"x0\":623,\"y0\":190,\"yoffs\":10,\"xpad\":0.273438,\"w\":14,\"h\":23},{\"c\":232,\"x0\":162,\"y0\":148,\"yoffs\":3,\"xpad\":1.04688,\"w\":15,\"h\":24},{\"c\":233,\"x0\":194,\"y0\":148,\"yoffs\":3,\"xpad\":1.04688,\"w\":15,\"h\":24},{\"c\":234,\"x0\":226,\"y0\":148,\"yoffs\":3,\"xpad\":1.04688,\"w\":15,\"h\":24},{\"c\":235,\"x0\":654,\"y0\":190,\"yoffs\":4,\"xpad\":1.04688,\"w\":15,\"h\":23},{\"c\":236,\"x0\":686,\"y0\":190,\"yoffs\":3,\"xpad\":1.34375,\"w\":6,\"h\":23},{\"c\":237,\"x0\":709,\"y0\":190,\"yoffs\":3,\"w\":8,\"h\":23},{\"c\":238,\"x0\":734,\"y0\":190,\"yoffs\":3,\"w\":11,\"h\":23},{\"c\":239,\"x0\":118,\"y0\":270,\"yoffs\":4,\"w\":9,\"h\":22},{\"c\":240,\"x0\":762,\"y0\":190,\"yoffs\":4,\"xpad\":1.53125,\"w\":15,\"h\":23},{\"c\":241,\"x0\":144,\"y0\":270,\"yoffs\":4,\"xpad\":2.03906,\"w\":15,\"h\":22},{\"c\":242,\"x0\":258,\"y0\":148,\"yoffs\":3,\"xpad\":0.828125,\"w\":16,\"h\":24},{\"c\":243,\"x0\":291,\"y0\":148,\"yoffs\":3,\"xpad\":0.828125,\"w\":16,\"h\":24},{\"c\":244,\"x0\":324,\"y0\":148,\"yoffs\":3,\"xpad\":0.828125,\"w\":16,\"h\":24},{\"c\":245,\"x0\":794,\"y0\":190,\"yoffs\":4,\"xpad\":0.828125,\"w\":16,\"h\":23},{\"c\":246,\"x0\":827,\"y0\":190,\"yoffs\":4,\"xpad\":0.828125,\"w\":16,\"h\":23},{\"c\":247,\"x0\":478,\"y0\":347,\"yoffs\":11,\"xpad\":0.453125,\"w\":14,\"h\":14},{\"c\":248,\"x0\":967,\"y0\":309,\"yoffs\":10,\"xpad\":0.828125,\"w\":16,\"h\":17},{\"c\":249,\"x0\":357,\"y0\":148,\"yoffs\":3,\"xpad\":1.64844,\"w\":15,\"h\":24},{\"c\":250,\"x0\":389,\"y0\":148,\"yoffs\":3,\"xpad\":1.64844,\"w\":15,\"h\":24},{\"c\":251,\"x0\":421,\"y0\":148,\"yoffs\":3,\"xpad\":1.64844,\"w\":15,\"h\":24},{\"c\":252,\"x0\":860,\"y0\":190,\"yoffs\":4,\"xpad\":1.64844,\"w\":15,\"h\":23},{\"c\":253,\"x0\":64,\"y0\":8,\"yoffs\":3,\"w\":15,\"h\":30},{\"c\":254,\"x0\":554,\"y0\":8,\"yoffs\":4,\"xpad\":0.890625,\"w\":16,\"h\":29},{\"c\":255,\"x0\":587,\"y0\":8,\"yoffs\":4,\"w\":15,\"h\":29},{\"c\":256,\"x0\":720,\"y0\":103,\"w\":19,\"h\":26},{\"c\":257,\"x0\":892,\"y0\":190,\"yoffs\":4,\"xpad\":1.29688,\"w\":14,\"h\":23},{\"c\":258,\"x0\":385,\"y0\":103,\"yoffs\":-1,\"w\":19,\"h\":27},{\"c\":259,\"x0\":453,\"y0\":148,\"yoffs\":3,\"xpad\":1.29688,\"w\":14,\"h\":24},{\"c\":260,\"x0\":641,\"y0\":57,\"yoffs\":5,\"w\":21,\"h\":28},{\"c\":261,\"x0\":923,\"y0\":190,\"yoffs\":10,\"w\":16,\"h\":23},{\"c\":262,\"x0\":619,\"y0\":8,\"yoffs\":-2,\"xpad\":0.945313,\"w\":17,\"h\":29},{\"c\":263,\"x0\":484,\"y0\":148,\"yoffs\":3,\"xpad\":0.273438,\"w\":14,\"h\":24},{\"c\":268,\"x0\":653,\"y0\":8,\"yoffs\":-2,\"xpad\":0.945313,\"w\":17,\"h\":29},{\"c\":269,\"x0\":515,\"y0\":148,\"yoffs\":3,\"xpad\":0.273438,\"w\":14,\"h\":24},{\"c\":270,\"x0\":679,\"y0\":57,\"yoffs\":-2,\"xpad\":1.01563,\"w\":20,\"h\":28},{\"c\":271,\"x0\":956,\"y0\":190,\"yoffs\":4,\"w\":22,\"h\":23},{\"c\":272,\"x0\":480,\"y0\":309,\"yoffs\":5,\"xpad\":1.22656,\"w\":20,\"h\":21},{\"c\":273,\"x0\":995,\"y0\":190,\"yoffs\":4,\"xpad\":0.0703125,\"w\":17,\"h\":23},{\"c\":274,\"x0\":756,\"y0\":103,\"xpad\":0.617188,\"w\":16,\"h\":26},{\"c\":275,\"x0\":8,\"y0\":230,\"yoffs\":4,\"xpad\":1.04688,\"w\":15,\"h\":23},{\"c\":278,\"x0\":421,\"y0\":103,\"yoffs\":-1,\"xpad\":0.617188,\"w\":16,\"h\":27},{\"c\":279,\"x0\":40,\"y0\":230,\"yoffs\":4,\"xpad\":1.04688,\"w\":15,\"h\":23},{\"c\":280,\"x0\":716,\"y0\":57,\"yoffs\":5,\"xpad\":0.617188,\"w\":16,\"h\":28},{\"c\":281,\"x0\":72,\"y0\":230,\"yoffs\":10,\"xpad\":1.04688,\"w\":15,\"h\":23},{\"c\":282,\"x0\":749,\"y0\":57,\"yoffs\":-2,\"xpad\":0.617188,\"w\":16,\"h\":28},{\"c\":283,\"x0\":546,\"y0\":148,\"yoffs\":3,\"xpad\":1.04688,\"w\":15,\"h\":24},{\"c\":286,\"x0\":782,\"y0\":57,\"yoffs\":-1,\"xpad\":1.75,\"w\":18,\"h\":28},{\"c\":287,\"x0\":96,\"y0\":8,\"yoffs\":3,\"xpad\":2.07031,\"w\":15,\"h\":30},{\"c\":290,\"x0\":817,\"y0\":57,\"yoffs\":5,\"xpad\":1.75,\"w\":18,\"h\":28},{\"c\":291,\"x0\":32,\"y0\":8,\"yoffs\":2,\"xpad\":2.07031,\"w\":15,\"h\":31},{\"c\":298,\"x0\":789,\"y0\":103,\"w\":9,\"h\":26},{\"c\":299,\"x0\":176,\"y0\":270,\"yoffs\":4,\"w\":9,\"h\":22},{\"c\":302,\"x0\":852,\"y0\":57,\"yoffs\":5,\"xpad\":0.546875,\"w\":8,\"h\":28},{\"c\":303,\"x0\":877,\"y0\":57,\"yoffs\":5,\"w\":8,\"h\":28},{\"c\":304,\"x0\":454,\"y0\":103,\"yoffs\":-1,\"xpad\":1.54688,\"w\":7,\"h\":27},{\"c\":305,\"x0\":378,\"y0\":347,\"yoffs\":11,\"xpad\":1.34375,\"w\":6,\"h\":15},{\"c\":310,\"x0\":687,\"y0\":8,\"yoffs\":5,\"w\":19,\"h\":29},{\"c\":311,\"x0\":128,\"y0\":8,\"yoffs\":4,\"xpad\":0.171875,\"w\":15,\"h\":30},{\"c\":313,\"x0\":902,\"y0\":57,\"yoffs\":-2,\"w\":16,\"h\":28},{\"c\":314,\"x0\":815,\"y0\":103,\"w\":8,\"h\":26},{\"c\":315,\"x0\":723,\"y0\":8,\"yoffs\":5,\"w\":16,\"h\":29},{\"c\":316,\"x0\":160,\"y0\":8,\"yoffs\":4,\"xpad\":1.46875,\"w\":6,\"h\":30},{\"c\":317,\"x0\":202,\"y0\":270,\"yoffs\":4,\"w\":16,\"h\":22},{\"c\":318,\"x0\":235,\"y0\":270,\"yoffs\":4,\"w\":12,\"h\":22},{\"c\":321,\"x0\":517,\"y0\":309,\"yoffs\":5,\"xpad\":0.046875,\"w\":16,\"h\":21},{\"c\":322,\"x0\":264,\"y0\":270,\"yoffs\":4,\"w\":11,\"h\":22},{\"c\":323,\"x0\":935,\"y0\":57,\"yoffs\":-2,\"xpad\":2.74219,\"w\":19,\"h\":28},{\"c\":324,\"x0\":104,\"y0\":230,\"yoffs\":3,\"xpad\":2.03906,\"w\":15,\"h\":23},{\"c\":325,\"x0\":756,\"y0\":8,\"yoffs\":5,\"xpad\":2.74219,\"w\":19,\"h\":29},{\"c\":326,\"x0\":578,\"y0\":148,\"yoffs\":10,\"xpad\":2.03906,\"w\":15,\"h\":24},{\"c\":327,\"x0\":971,\"y0\":57,\"yoffs\":-2,\"xpad\":2.74219,\"w\":19,\"h\":28},{\"c\":328,\"x0\":136,\"y0\":230,\"yoffs\":3,\"xpad\":2.03906,\"w\":15,\"h\":23},{\"c\":332,\"x0\":478,\"y0\":103,\"xpad\":1.22656,\"w\":21,\"h\":27},{\"c\":333,\"x0\":168,\"y0\":230,\"yoffs\":4,\"xpad\":0.828125,\"w\":16,\"h\":23},{\"c\":336,\"x0\":792,\"y0\":8,\"yoffs\":-2,\"xpad\":1.22656,\"w\":21,\"h\":29},{\"c\":337,\"x0\":610,\"y0\":148,\"yoffs\":3,\"xpad\":0.828125,\"w\":16,\"h\":24},{\"c\":338,\"x0\":292,\"y0\":270,\"yoffs\":5,\"xpad\":0.390625,\"w\":29,\"h\":22},{\"c\":339,\"x0\":8,\"y0\":347,\"yoffs\":10,\"xpad\":0.65625,\"w\":25,\"h\":17},{\"c\":340,\"x0\":8,\"y0\":103,\"yoffs\":-2,\"w\":19,\"h\":28},{\"c\":341,\"x0\":201,\"y0\":230,\"yoffs\":3,\"xpad\":0.203125,\"w\":10,\"h\":23},{\"c\":342,\"x0\":830,\"y0\":8,\"yoffs\":5,\"w\":19,\"h\":29},{\"c\":343,\"x0\":228,\"y0\":230,\"yoffs\":11,\"xpad\":0.203125,\"w\":10,\"h\":23},{\"c\":344,\"x0\":44,\"y0\":103,\"yoffs\":-2,\"w\":19,\"h\":28},{\"c\":345,\"x0\":255,\"y0\":230,\"yoffs\":3,\"xpad\":0.203125,\"w\":10,\"h\":23},{\"c\":346,\"x0\":866,\"y0\":8,\"yoffs\":-2,\"xpad\":1.32031,\"w\":15,\"h\":29},{\"c\":347,\"x0\":643,\"y0\":148,\"yoffs\":3,\"xpad\":0.28125,\"w\":13,\"h\":24},{\"c\":350,\"x0\":898,\"y0\":8,\"yoffs\":4,\"xpad\":1.32031,\"w\":15,\"h\":29},{\"c\":351,\"x0\":282,\"y0\":230,\"yoffs\":10,\"xpad\":0.28125,\"w\":13,\"h\":23},{\"c\":352,\"x0\":930,\"y0\":8,\"yoffs\":-2,\"xpad\":1.32031,\"w\":15,\"h\":29},{\"c\":353,\"x0\":673,\"y0\":148,\"yoffs\":3,\"xpad\":0.28125,\"w\":13,\"h\":24},{\"c\":354,\"x0\":80,\"y0\":103,\"yoffs\":5,\"w\":17,\"h\":28},{\"c\":355,\"x0\":840,\"y0\":103,\"yoffs\":7,\"xpad\":0.234375,\"w\":10,\"h\":26},{\"c\":356,\"x0\":114,\"y0\":103,\"yoffs\":-2,\"w\":17,\"h\":28},{\"c\":357,\"x0\":312,\"y0\":230,\"yoffs\":4,\"w\":15,\"h\":23},{\"c\":362,\"x0\":516,\"y0\":103,\"xpad\":2.04688,\"w\":19,\"h\":27},{\"c\":363,\"x0\":344,\"y0\":230,\"yoffs\":4,\"xpad\":1.64844,\"w\":15,\"h\":23},{\"c\":366,\"x0\":962,\"y0\":8,\"yoffs\":-2,\"xpad\":2.04688,\"w\":19,\"h\":29},{\"c\":367,\"x0\":8,\"y0\":148,\"yoffs\":2,\"xpad\":1.64844,\"w\":15,\"h\":25},{\"c\":368,\"x0\":8,\"y0\":57,\"yoffs\":-2,\"xpad\":2.04688,\"w\":19,\"h\":29},{\"c\":369,\"x0\":703,\"y0\":148,\"yoffs\":3,\"xpad\":1.64844,\"w\":15,\"h\":24},{\"c\":370,\"x0\":148,\"y0\":103,\"yoffs\":5,\"xpad\":2.04688,\"w\":19,\"h\":28},{\"c\":371,\"x0\":338,\"y0\":270,\"yoffs\":11,\"w\":17,\"h\":22},{\"c\":376,\"x0\":552,\"y0\":103,\"yoffs\":-1,\"w\":18,\"h\":27},{\"c\":377,\"x0\":184,\"y0\":103,\"yoffs\":-2,\"xpad\":0.226563,\"w\":17,\"h\":28},{\"c\":378,\"x0\":376,\"y0\":230,\"yoffs\":3,\"xpad\":0.851563,\"w\":13,\"h\":23},{\"c\":379,\"x0\":587,\"y0\":103,\"yoffs\":-1,\"xpad\":0.226563,\"w\":17,\"h\":27},{\"c\":380,\"x0\":372,\"y0\":270,\"yoffs\":4,\"xpad\":0.851563,\"w\":13,\"h\":22},{\"c\":381,\"x0\":218,\"y0\":103,\"yoffs\":-2,\"xpad\":0.226563,\"w\":17,\"h\":28},{\"c\":382,\"x0\":406,\"y0\":230,\"yoffs\":3,\"xpad\":0.851563,\"w\":13,\"h\":23},{\"c\":402,\"x0\":40,\"y0\":148,\"yoffs\":4,\"w\":12,\"h\":25},{\"c\":536,\"x0\":183,\"y0\":8,\"yoffs\":4,\"xpad\":1.32031,\"w\":15,\"h\":30},{\"c\":537,\"x0\":735,\"y0\":148,\"yoffs\":10,\"xpad\":0.28125,\"w\":13,\"h\":24},{\"c\":538,\"x0\":44,\"y0\":57,\"yoffs\":5,\"w\":17,\"h\":29},{\"c\":539,\"x0\":621,\"y0\":103,\"yoffs\":7,\"xpad\":0.234375,\"w\":10,\"h\":27},{\"c\":8226,\"x0\":103,\"y0\":381,\"yoffs\":13,\"xpad\":0.28125,\"w\":7,\"h\":6},{\"c\":8482,\"x0\":606,\"y0\":347,\"yoffs\":5,\"xpad\":0.882813,\"w\":22,\"h\":12},{\"c\":8592,\"x0\":761,\"y0\":347,\"yoffs\":11,\"xpad\":0.882813,\"w\":26,\"h\":10},{\"c\":8593,\"x0\":765,\"y0\":148,\"yoffs\":4,\"xpad\":7.88281,\"w\":19,\"h\":24},{\"c\":8594,\"x0\":804,\"y0\":347,\"yoffs\":11,\"xpad\":0.882813,\"w\":26,\"h\":10},{\"c\":8595,\"x0\":801,\"y0\":148,\"yoffs\":4,\"xpad\":7.88281,\"w\":19,\"h\":24},{\"c\":8734,\"x0\":509,\"y0\":347,\"yoffs\":11,\"xpad\":0.6875,\"w\":25,\"h\":14},{\"c\":9742,\"x0\":837,\"y0\":148,\"yoffs\":4,\"w\":31,\"h\":24},{\"c\":9743,\"x0\":885,\"y0\":148,\"yoffs\":4,\"w\":31,\"h\":24},{\"c\":65533,\"x0\":550,\"y0\":309,\"yoffs\":5,\"w\":20,\"h\":21}]}","// Portions Copyright 2019 Jimb Esser (https://github.com/Jimbly/)\n// Released under MIT License: https://opensource.org/licenses/MIT\n\n/*eslint global-require:off, no-labels:off*/\nconst glov_local_storage = require('./glov/local_storage.js');\nglov_local_storage.storage_prefix = 'macrogen'; // Before requiring anything else that might load from this\n\nconst assert = require('assert');\nconst { calculateBiomesTest } = require('./biome_test.js');\nconst camera2d = require('./glov/camera2d.js');\nconst continent_gen = require('./continent_gen.js');\nconst { continentDeserialize, continentSerialize } = require('./continent_serialize.js');\nconst { continentSerializeTest } = require('./continent_serialize_test.js');\nconst {\n  continentGen,\n  // D_OPEN,\n  D_BORDER,\n  // D_SEA,\n  D_SEA2,\n  D_INLAND_SEA,\n  D_COASTLINE,\n  D_LAKE,\n} = continent_gen;\nconst engine = require('./glov/engine.js');\nconst input = require('./glov/input.js');\nconst { linkText } = require('./glov/link.js');\nconst { min, floor, round, sqrt } = Math;\nconst net = require('./glov/net.js');\nconst { C_WATER,C_RIVER_DELTA, C_PLAINS, C_MOUNTAINS } = require('./proc_gen_constants.js');\nconst shaders = require('./glov/shaders.js');\nconst sprites = require('./glov/sprites.js');\nconst textures = require('./glov/textures.js');\nconst ui = require('./glov/ui.js');\nconst { clamp, clone } = require('../common/util.js');\nconst {\n  vec2, v2mul, v2sub,\n  vec3, v3lerp, v3scale, v3set,\n  vec4,\n} = require('./glov/vmath.js');\n\nwindow.Z = window.Z || {};\nZ.BACKGROUND = 1;\nZ.SPRITES = 10;\nZ.PARTICLES = 20;\nZ.UI_TEST = 200;\n\n// let app = exports;\n// Virtual viewport for our game logic\nexport const game_width = 480;\nexport const game_height = 240;\n\nconst MAP_WATER_C0 = vec3(0, 0.08, 0.6);\nconst MAP_WATER_C1 = vec3(0.012, 0.39, 1);\nconst MAP_W2 = 0.5;\nconst MAP_WEIGHTS = [MAP_W2, -MAP_W2, -1, -MAP_W2, MAP_W2, 1];\nconst SNOW_ELEVATION = 900 * 4;\n\nexport function main() {\n  if (engine.DEBUG) {\n    // Enable auto-reload, etc\n    net.init({ engine });\n  }\n\n  if (!engine.startup({\n    antialias: true,\n    game_width,\n    game_height,\n    pixely: 'on',\n    viewport_postprocess: false,\n    do_borders: false,\n  })) {\n    return;\n  }\n\n  assert(window.worldsModAPI);\n  let mapi = window.worldsModAPI({\n    // For testing against local build:\n    // hosts: {\n    //   debug3000: 'http://localhost:3000/'\n    // },\n  });\n\n  let shader_hex = shaders.create('shaders/hex.fp');\n\n  // Perfect sizes for pixely modes\n  ui.scaleSizes(13 / 32);\n  ui.setFontHeight(8);\n  let style_labels = ui.font.style({\n    outline_width: 4.0,\n    outline_color: 0x000000ff,\n  });\n\n  let style_link = ui.font.style(null, {\n    color: 0x5040FFff,\n    outline_width: 4.0,\n    outline_color: 0x00000020,\n  });\n  let style_link_hover = ui.font.style(null, {\n    color: 0x0000FFff,\n    outline_width: 4.0,\n    outline_color: 0x00000020,\n  });\n\n  const createSprite = sprites.create;\n\n  let modes = {\n    view: 6,\n    edit: 0,\n  };\n\n  let debug_tex1;\n  let debug_tex2;\n  let debug_sprite;\n  let opts = clone(continent_gen.default_opts);\n  let hex_tex_size = opts.hex_tex_size;\n  let tex_total_size = hex_tex_size * hex_tex_size;\n  opts.output.debug = true;\n\n  let hex_param = vec4(hex_tex_size, 0, 0, 0);\n  shaders.addGlobal('hex_param', hex_param);\n\n  let tex_data1 = new Uint8Array(tex_total_size * 4);\n  let tex_data_color = new Uint8Array(tex_total_size * 4);\n\n  let test_export = false;\n\n  let color = vec4(0,0,0,1);\n  function updateDebugTexture(cdata) {\n    let start = Date.now();\n    let view_mode = modes.view;\n    let {\n      land, fill, tslope, rslope, river, elev, water_level,\n      rstrahler, humidity, classif, time,shallows,trenches,\n    } = cdata;\n    let width = hex_tex_size;\n    let height = width;\n\n    function seaColor(pos) {\n      return elev[pos] / (water_level[pos] || opts.output.sea_range);\n    }\n\n    function setColorBuffer(buf, scale, shallows_buf) {\n      for (let ii = 0; ii < tex_total_size; ++ii) {\n        if (land[ii]) {\n          let v = clamp(buf[ii] * scale, 0, 255);\n          tex_data_color[ii * 4] = v;\n          tex_data_color[ii * 4 + 1] = v;\n          tex_data_color[ii * 4 + 2] = v;\n        } else if (shallows_buf) {\n          let v = clamp(buf[ii] * scale, 0, 255);\n          tex_data_color[ii * 4] = shallows_buf[ii] ? 0 : v;\n          tex_data_color[ii * 4 + 1] = shallows_buf[ii] ? 0 : v;\n          tex_data_color[ii * 4 + 2] = shallows_buf[ii] ? 255 : v;\n        } else {\n          tex_data_color[ii * 4] = 0;\n          tex_data_color[ii * 4 + 1] = 0;\n          tex_data_color[ii * 4 + 2] = seaColor(ii) * 255;\n        }\n        tex_data_color[ii * 4 + 3] = 255;\n      }\n    }\n\n    if (view_mode === 0) {\n      for (let ii = 0; ii < tex_total_size; ++ii) {\n        let landv = land[ii] ? 1 : 0;\n        v3set(color, landv, landv, landv);\n        let f = fill[ii];\n        if (f > 0) {\n          if (f === D_COASTLINE) {\n            v3set(color, 0.8, 0.7, 0.3);\n          } else if (f === D_INLAND_SEA) {\n            color[1] = 0.25;\n            color[2] = 1.0;\n          } else if (f === D_BORDER) {\n            color[0] = 1.0;\n            color[2] = 0.5;\n          } else if (f <= D_SEA2) {\n            color[2] = 1;\n          } else if (f === D_LAKE) {\n            color[0] = color[1] = 0.25;\n            color[2] = 1;\n          }\n        }\n        for (let jj = 0; jj < 4; ++jj) {\n          tex_data_color[ii * 4 + jj] = clamp(color[jj] * 255, 0, 255);\n        }\n      }\n    } else if (view_mode === 1) {\n      let tslope_min = typeof opts.tslope.min === 'object' ? opts.tslope.min.add + opts.tslope.min.mul :opts.tslope.min;\n      let tslope_range = typeof opts.tslope.range === 'object' ?\n        opts.tslope.range.add + opts.tslope.range.mul :\n        opts.tslope.range;\n      let tslope_mul = 255 / (tslope_min + tslope_range);\n      setColorBuffer(tslope, tslope_mul);\n    } else if (view_mode === 2) {\n      setColorBuffer(rslope, 255 / opts.rslope.steps);\n    } else if (view_mode === 3) {\n      for (let ii = 0; ii < tex_total_size; ++ii) {\n        if (land[ii]) {\n          let v = opts.river.show_elev ?\n            (elev[ii] - opts.output.sea_range) / opts.output.land_range :\n            0;\n          v3set(color, v, v, v);\n        } else {\n          v3set(color, 0, 0, seaColor(ii));\n        }\n        for (let jj = 0; jj < 4; ++jj) {\n          tex_data_color[ii * 4 + jj] = clamp(color[jj] * 255, 0, 255);\n        }\n      }\n    } else if (view_mode === 4) {\n      setColorBuffer(humidity, 1);\n    } else if (view_mode === 5) {\n      calculateBiomesTest(width, cdata, tex_data_color);\n      if (opts.classif.show_rivers) {\n        view_mode = 3;\n      }\n    } else if (view_mode === 6) {\n      let total_range = opts.output.land_range;\n      let slope_mul = 8 / total_range;\n      let show_relief = opts.classif.show_relief;\n      for (let y = 0; y < height; ++y) {\n        for (let x = 0; x < width; ++x) {\n          let pos = y * width + x;\n          let c = classif[pos];\n          let v = 1;\n          let elev2 = elev[pos];\n          if (show_relief) {\n            let is_land = land[pos];\n            let right_slope = 0;\n            if (y && y !== height - 1 && x && x !== width - 1) {\n              let neighbors = continent_gen.neighbors_bit[x & 1];\n              for (let ii = 0; ii < 6; ++ii) {\n                let npos = pos + neighbors[ii];\n                let nelev = elev[npos];\n                let w = MAP_WEIGHTS[ii];\n                if (land[npos] !== is_land) {\n                  w *= 0.25;\n                }\n                let delta = (elev2 - nelev) * w;\n                right_slope += delta;\n              }\n            }\n            v = clamp(0.5 + right_slope * slope_mul, 0.1, 1);\n          }\n          if (c === C_WATER) {\n            v3lerp(color, seaColor(pos), MAP_WATER_C0, MAP_WATER_C1);\n            v = 0.85 + v * 0.15;\n          } else if (c === C_RIVER_DELTA) {\n            v3set(color, 0.25, 0, 1);\n            v = 0.85 + v * 0.15;\n          } else if (elev2 - opts.output.sea_range > SNOW_ELEVATION) {\n            v3set(color, 1, 1, 1);\n          } else if (c === C_MOUNTAINS) {\n            v3set(color, 0.7, 0.7, 0.7);\n          } else if (c === C_PLAINS) {\n            v3set(color, 0.4, 1, 0);\n          } else { // c === C_HILLS\n            v3set(color, 0.78, 0.8, 0);\n          }\n          v3scale(color, color, v);\n          for (let jj = 0; jj < 4; ++jj) {\n            tex_data_color[pos * 4 + jj] = clamp(color[jj] * 255, 0, 255);\n          }\n        }\n      }\n\n      if (opts.classif.show_rivers) {\n        view_mode = 3;\n      }\n    }\n    if (view_mode === 7) {\n      setColorBuffer(trenches, 50,shallows);\n    }\n\n    // interleave data\n    for (let ii = 0; ii < tex_total_size; ++ii) {\n      tex_data1[ii*4] = river[ii];\n      tex_data1[ii*4+1] = rstrahler[ii];\n      tex_data1[ii*4+2] = 0;\n      tex_data1[ii*4+3] = 0;\n    }\n\n    if (!debug_tex1) {\n      debug_tex1 = textures.load({\n        name: 'proc_gen_debug1',\n        format: textures.format.RGBA8,\n        width,\n        height,\n        data: tex_data1,\n        filter_min: gl.NEAREST,\n        filter_mag: gl.NEAREST,\n        wrap_s: gl.CLAMP_TO_EDGE,\n        wrap_t: gl.CLAMP_TO_EDGE,\n      });\n      debug_tex2 = textures.load({\n        name: 'proc_gen_debug3',\n        format: textures.format.RGBA8,\n        width,\n        height,\n        data: tex_data_color,\n        filter_min: gl.NEAREST,\n        filter_mag: gl.NEAREST,\n        wrap_s: gl.CLAMP_TO_EDGE,\n        wrap_t: gl.CLAMP_TO_EDGE,\n      });\n    } else {\n      debug_tex1.updateData(width, height, tex_data1);\n      debug_tex2.updateData(width, height, tex_data_color);\n    }\n    if (!debug_sprite) {\n      debug_sprite = createSprite({\n        texs: [debug_tex1, debug_tex2],\n      });\n    }\n    console.log(`Debug texture update in ${(Date.now() - start + time)}ms`);\n    hex_param[1] = view_mode;\n  }\n\n  let serialize_size;\n  function doExport(cdata) {\n    if (0) {\n      continentSerializeTest(cdata);\n    } else if (0) {\n      // Send to server\n      let start = Date.now();\n      let ser = continentSerialize(cdata);\n      console.log(`Serialized in ${Date.now() - start}ms`);\n      start = Date.now();\n      serialize_size = ser.length;\n      /*let deser =*/ continentDeserialize(ser);\n      console.log(`Deserialized in ${Date.now() - start}ms`);\n      let pak = net.client.wsPak('export');\n      pak.writeBuffer(ser);\n      pak.send();\n    } else {\n      // Send to WorldsFRVR via Mod API\n      // Expects the raw (unserialized) data in the form:\n      //   {\n      //     sea_level: 8192,\n      //     max_elevation: 24576,\n      //     elev: new Uint16Array(256*256),\n      //     humidity: new Uint8Array(256*256),\n      //     river: new Uint8Array(256*256),\n      //     water_level: new Uint16Array(256*256),\n      //     classif: new Uint8Array(256*256),\n      //   };\n      mapi.continentDataSet(cdata);\n    }\n  }\n\n  let need_regen = true;\n  let debug_uvs = vec4(0,hex_tex_size + 1,hex_tex_size + 1,0);\n  let cdata;\n  function test(dt) {\n    camera2d.setAspectFixed2(game_width, game_height);\n\n    if (need_regen) {\n      need_regen = false;\n      opts.early_out = modes.view < 3 ? 'river' : null;\n      cdata = continentGen(opts);\n      updateDebugTexture(cdata);\n    }\n\n    {\n      const HEX_ASPECT = 1.5 / sqrt(3);\n      let w = min(camera2d.w(), camera2d.h());\n      let x = camera2d.x1() - w * HEX_ASPECT;\n      let y = camera2d.y0();\n      hex_param[2] = 0.5 / (w * camera2d.yScale() / hex_tex_size);\n      hex_param[3] = 1 / hex_param[2];\n      debug_sprite.draw({\n        x, y, w, h: w,\n        z: Z.UI - 10,\n        uvs: debug_uvs,\n        shader: shader_hex,\n      });\n      let mouse_pos = input.mousePos();\n      if (mouse_pos[0] > x && mouse_pos[0] < x + w &&\n        mouse_pos[1] > y && mouse_pos[1] < y + w\n      ) {\n        // convert to texcoords\n        mouse_pos[0] = (mouse_pos[0] - x) / w * (hex_tex_size + 1);\n        mouse_pos[1] = (1 - (mouse_pos[1] - y) / w) * (hex_tex_size + 1);\n\n        // same in hex.fp\n        const HEX_HEIGHT = 1.0;\n        const VIEW_OFFS = vec2(0.5, 0.0);\n        const HEX_EDGE = HEX_HEIGHT / sqrt(3.0);\n        const HEX_EXTRA_WIDTH = 0.5 * HEX_EDGE; // cos(60/180*PI) * HEX_EDGE\n        const HEX_WIDTH = HEX_EDGE + HEX_EXTRA_WIDTH; // 1.5 * HEX_EDGE\n        const HEX_NON_EXTRA = HEX_EDGE / HEX_WIDTH; // 2/3rds\n        const HEX_HEIGHT_2 = HEX_HEIGHT / 2.0; // sin(60/180*PI) (0.85) * HEX_EDGE\n        const HEX_SLOPE = HEX_HEIGHT_2 / HEX_EXTRA_WIDTH;\n\n        let fpos = v2sub(vec2(), mouse_pos, VIEW_OFFS);\n        v2mul(fpos, fpos, vec2(1/HEX_WIDTH, 1/ HEX_HEIGHT));\n        let ix = floor(fpos[0]);\n        let odd = ix & 1;\n        if (odd) {\n          fpos[1] -= 0.5;\n        }\n        let fracx = fpos[0] - ix;\n        let iy = floor(fpos[1]);\n        if (fracx < HEX_NON_EXTRA) {\n          // in solid section\n        } else {\n          // in overlapping section\n          let run = ((fracx - HEX_NON_EXTRA) * HEX_WIDTH);\n          let fracy = fpos[1] - iy;\n          if (fracy > 0.5) {\n            // in top half\n            let slope = (1.0 - fracy) * HEX_HEIGHT / run;\n            if (slope < HEX_SLOPE) {\n              // in next over and up\n              ix++;\n              if (odd) {\n                iy++;\n              }\n            }\n          } else {\n            // in bottom half\n            let slope = (fracy * HEX_HEIGHT) / run;\n            if (slope < HEX_SLOPE) {\n              // in next over and down\n              ix++;\n              if (!odd) {\n                iy--;\n              }\n            }\n          }\n        }\n\n        if (ix >= 0 && ix < hex_tex_size && iy >= 0 && iy < hex_tex_size) {\n          let {\n            land, fill, tslope, rslope, river, elev, debug_priority,\n            coast_distance, ocean_distance, sea_level,\n            rstrahler, humidity,\n          } = cdata;\n          let z = Z.UI - 5;\n          ui.print(style_labels, x, y, z, `${ix},${iy}`);\n          y += ui.font_height;\n          let idx = (iy * hex_tex_size + ix);\n          ui.print(style_labels, x, y, z, `Land: ${land[idx]}`);\n          y += ui.font_height;\n          ui.print(style_labels, x, y, z, `Flags: ${fill[idx]}`);\n          y += ui.font_height;\n          ui.print(style_labels, x, y, z, `TSlope: ${tslope[idx]}`);\n          y += ui.font_height;\n          ui.print(style_labels, x, y, z, `RSlope: ${rslope[idx]}`);\n          y += ui.font_height;\n          ui.print(style_labels, x, y, z, `RElev: ${elev[idx] - sea_level}`);\n          y += ui.font_height;\n          ui.print(style_labels, x, y, z, `RProir: ${debug_priority[idx]}`);\n          y += ui.font_height;\n          ui.print(style_labels, x, y, z, `Strahler: ${rstrahler[idx]}`);\n          y += ui.font_height;\n          ui.print(style_labels, x, y, z, `Humidity: ${humidity[idx]}`);\n          y += ui.font_height;\n          ui.print(style_labels, x, y, z, `Coast Distance: ${coast_distance[idx]} / ${ocean_distance[idx]}`);\n          y += ui.font_height;\n          // ui.print(style_labels, x, y, z, `blur_temp1: ${blur_temp1[idx] - opts.output.sea_range}`);\n          // y += ui.font_height;\n          // ui.print(style_labels, x, y, z, `blur_temp2: ${blur_temp2[idx] - opts.output.sea_range}`);\n          // y += ui.font_height;\n          let rbits = river[idx];\n          ui.print(style_labels, x, y, z, `River: ${rbits&1?'Up':'  '} ${rbits&2?'UR':'  '} ` +\n            `${rbits&4?'LR':'  '} ${rbits&8?'Dn':'  '} ${rbits&16?'LL':'  '} ${rbits&32?'UL':'  '}`);\n          y += ui.font_height;\n        }\n      }\n    }\n\n    let x = ui.button_height;\n    let button_spacing = ui.button_height + 2;\n    let y = x;\n    // if (ui.buttonText({ x, y, text: 'Regen' })) {\n    //   need_regen = true;\n    // }\n    // y += button_spacing;\n\n    function sliderInternal(field, value, min_v, max_v, fixed) {\n      let old_value = value;\n      value = ui.slider(value, {\n        x, y,\n        min: min_v,\n        max: max_v,\n      });\n      if (!fixed) {\n        value = round(value);\n      } else if (fixed === 1) {\n        value = round(value * 10) / 10;\n      } else if (fixed === 2) {\n        value = round(value * 100) / 100;\n      }\n      ui.print(style_labels, x + ui.button_width + 4, y + 3, Z.UI, `${field}: ${value.toFixed(fixed)}`);\n      y += button_spacing;\n      if (old_value !== value) {\n        need_regen = true;\n      }\n      return value;\n    }\n\n    let x0 = x;\n    let subopts;\n    function slider(field, min_v, max_v, fixed, ex) {\n      x = x0;\n      let is_ex = false;\n      if (ex) {\n        is_ex = typeof subopts[field] === 'object';\n        if (ui.buttonText({ x, y, text: is_ex ? 'v' : '-',\n          w: ui.button_height })\n        ) {\n          is_ex = !is_ex;\n          if (is_ex) {\n            subopts[field] = {\n              min: subopts[field],\n              max: subopts[field],\n              freq: 1,\n            };\n          } else {\n            subopts[field] = subopts[field].max;\n          }\n          need_regen = true;\n        }\n        x += 16;\n      }\n      if (is_ex) {\n        ui.print(style_labels, x, y + 3, Z.UI, `${field}`);\n        y += button_spacing;\n        subopts[field].min = sliderInternal('min', subopts[field].min, min_v, max_v, fixed);\n        subopts[field].max = sliderInternal('max', subopts[field].max, min_v, max_v, fixed);\n        subopts[field].freq = sliderInternal('freq', subopts[field].freq, 0.1, 2, 1);\n      } else {\n        subopts[field] = sliderInternal(field, subopts[field], min_v, max_v, fixed);\n      }\n    }\n    function toggle(field) {\n      if (ui.buttonText({ x, y, text: `${field}: ${subopts[field] ? 'ON': 'off'}` })) {\n        subopts[field] = !subopts[field];\n        need_regen = true;\n      }\n      y += button_spacing;\n    }\n    subopts = opts;\n    slider('seed', 0, 100, 0);\n\n    function modeButton(subkey, name, id) {\n      let w = ui.button_width * 0.38;\n      let colors_selected = ui.makeColorSet(vec4(0,1,0,1));\n      let selected = modes[subkey] === id;\n      if (ui.buttonText({\n        x, y, w, text: `${name}`,\n        colors: selected ? colors_selected : null,\n      })) {\n        modes[subkey] = id;\n        if (subkey === 'view') {\n          need_regen = true;\n        }\n      }\n      x += w + 2;\n    }\n    ui.print(style_labels, x, y + 2, Z.UI, 'View:');\n    x += 25;\n    let aspect = engine.width / engine.height;\n    let num_rows = aspect > 1.9 ? 1 : 2;\n    modeButton('view', 'coast', 0);\n    modeButton('view', 'tslope', 1);\n    modeButton('view', 'rslope', 2);\n    modeButton('view', 'river', 3);\n    if (num_rows === 2) {\n      y += button_spacing;\n      x = x0 + 25;\n    }\n    modeButton('view', 'humid', 4);\n    modeButton('view', 'classif', 6);\n    modeButton('view', 'biomes', 5);\n    if (num_rows === 1) {\n      y += button_spacing;\n      x = x0 + 25;\n    }\n    modeButton('view', 'tre_sha', 7);\n    y += button_spacing;\n    x = x0;\n    ui.print(style_labels, x, y + 2, Z.UI, 'Edit:');\n    x += 25;\n    num_rows = aspect > 1.77 ? 2 : 3;\n    modeButton('edit', 'coast', 0);\n    modeButton('edit', 'tslope', 1);\n    modeButton('edit', 'rslope', 2);\n    modeButton('edit', 'river', 3);\n    if (num_rows === 3) {\n      y += button_spacing;\n      x = x0 + 25;\n    }\n    modeButton('edit', 'lakes', 8);\n    modeButton('edit', 'blur', 9);\n    if (num_rows === 2) {\n      y += button_spacing;\n      x = x0 + 25;\n    }\n    modeButton('edit', 'mtify', 7);\n    modeButton('edit', 'humid', 4);\n    if (num_rows === 3) {\n      y += button_spacing;\n      x = x0 + 25;\n    }\n    modeButton('edit', 'ocean', 5);\n    modeButton('edit', 'classif', 10);\n    modeButton('edit', 'tre_sha', 11);\n    modeButton('edit', 'output', 6);\n    y += button_spacing;\n    x = x0;\n\n    if (modes.edit === 0) {\n      subopts = opts.coast;\n      slider('cutoff', 0.15, 1.0, 2);\n      slider('frequency', 0.1, 10, 1, true);\n      //slider('amplitude', 0.01, 10, 2);\n      slider('persistence', 0.01, 2, 2, true);\n      slider('lacunarity', 1, 10.0, 2, true);\n      slider('octaves', 1, 10, 0);\n      slider('domain_warp', 0, 2, 0);\n      if (subopts.domain_warp) {\n        slider('warp_freq', 0.01, 3, 1);\n        slider('warp_amp', 0, 2, 2);\n      }\n      toggle('fill_seas');\n      toggle('channels');\n    } else if (modes.edit === 1) {\n      subopts = opts.tslope;\n      slider('frequency', 0.1, 10, 1, true);\n      //slider('amplitude', 0.01, 10, 2);\n      slider('min', 0, 10, 0, true);\n      slider('range', 0, 255, 0, true);\n      slider('persistence', 0.01, 2, 2, true);\n      slider('lacunarity', 1, 10.0, 2, true);\n      slider('octaves', 1, 10, 0);\n      slider('domain_warp', 0, 2, 0);\n      if (subopts.domain_warp) {\n        slider('warp_freq', 0.01, 3, 1);\n        slider('warp_amp', 0, 2, 2);\n      }\n    } else if (modes.edit === 2) {\n      subopts = opts.rslope;\n      slider('frequency', 0.1, 10, 1, true);\n      //slider('amplitude', 0.01, 10, 2);\n      slider('persistence', 0.01, 2, 2, true);\n      slider('lacunarity', 1, 10.0, 2, true);\n      slider('octaves', 1, 10, 0);\n      slider('domain_warp', 0, 2, 0);\n      if (subopts.domain_warp) {\n        slider('warp_freq', 0.01, 3, 1);\n        slider('warp_amp', 0, 2, 2);\n      }\n      slider('steps', 1, 64, 0);\n    } else if (modes.edit === 3) {\n      subopts = opts.river;\n      slider('weight_bend', 1, 10, 0);\n      slider('weight_afork', 1, 10, 0);\n      slider('weight_sfork', 1, 10, 0);\n      slider('max_tslope', 1, 200, 0);\n      slider('tuning_h', 1, 200, 0);\n      toggle('show_elev');\n      toggle('prune');\n      toggle('mtify_prune');\n      if (subopts.mtify_prune) {\n        slider('mtify_prune_grace', 0, 200, 0);\n      }\n    } else if (modes.edit === 4) {\n      subopts = opts.humidity;\n      slider('frequency', 0.1, 10, 1, true);\n      slider('persistence', 0.01, 2, 2, true);\n      slider('lacunarity', 1, 10.0, 2, true);\n      slider('octaves', 1, 10, 0);\n      slider('domain_warp', 0, 2, 0);\n      if (subopts.domain_warp) {\n        slider('warp_freq', 0.01, 3, 1);\n        slider('warp_amp', 0, 2, 2);\n      }\n      slider('rainshadow', 0, 1, 2, true);\n      toggle('show_relief');\n    } else if (modes.edit === 5) {\n      subopts = opts.ocean;\n      slider('frequency', 0.1, 10, 1, true);\n      slider('persistence', 0.01, 2, 2, true);\n      slider('lacunarity', 1, 10.0, 2, true);\n      slider('octaves', 1, 10, 0);\n      slider('domain_warp', 0, 2, 0);\n      if (subopts.domain_warp) {\n        slider('warp_freq', 0.01, 3, 1);\n        slider('warp_amp', 0, 2, 2);\n      }\n    } else if (modes.edit === 6) {\n      subopts = opts.output;\n      slider('sea_range_exp', 6, 15, 0);\n      slider('land_range_exp', 6, 15, 0);\n      subopts.sea_range = 1 << subopts.sea_range_exp;\n      subopts.land_range = 1 << subopts.land_range_exp;\n\n      if (mapi.connected()) {\n        ui.print(style_labels, x, y, Z.UI, `WorldsModAPI connected to ${mapi.connected()}`);\n        y += ui.font_height + 2;\n        if (ui.buttonText({ x, y, text: 'Export' }) || test_export) {\n          test_export = false;\n          opts.output.debug = false;\n          doExport(continentGen(opts));\n          opts.output.debug = true;\n        }\n        y += button_spacing;\n        if (serialize_size) {\n          ui.print(style_labels, x, y, Z.UI, 'Data exported! Create a New World to use this data.');\n          y += ui.font_height + 2;\n          ui.print(style_labels, x, y, Z.UI, `Size: ${serialize_size}`);\n          y += ui.font_height + 2;\n        }\n      } else {\n        ui.print(style_labels, x, y, Z.UI, 'To export, open Worlds FRVR');\n        y += ui.font_height + 2;\n        linkText({\n          style_link, style_link_hover,\n          x, y,\n          url: 'https://worlds.frvr.com/',\n        });\n      }\n    } else if (modes.edit === 7) {\n      subopts = opts.mountainify;\n      slider('peak_radius', 2, 50, 0);\n      slider('peak_percent', 0, 1, 2);\n      slider('peak_k', 1, 10, 0);\n      slider('blend_radius', 2, 50, 0);\n      slider('height_scale', 0, 8, 1);\n      slider('weight_local', 0, 1, 2);\n      slider('power_min', 1, 8, 1);\n      slider('power_max', 1, 8, 1);\n      slider('power_blend', 0.01, 1, 2);\n      slider('cdist_ramp', 0, 50, 0);\n    } else if (modes.edit === 8) {\n      subopts = opts.lakes;\n      slider('lake_search_radius', 2, 50, 0);\n      slider('lake_percent', 0, 1, 2);\n      slider('lake_k', 1, 10, 0);\n      slider('min_sep', 2, 50, 0);\n    } else if (modes.edit === 9) {\n      subopts = opts.blur;\n      slider('threshold', 1, 2000, 0);\n      slider('weight', 0, 1, 2);\n    } else if (modes.edit === 10) {\n      subopts = opts.classif;\n      slider('cut1', -1, 1, 3);\n      slider('cut2', 0, 1, 3);\n      slider('blur_w', 1, 10, 0);\n      slider('blur_scale', 0, 1000, 0);\n      toggle('show_rivers');\n      toggle('show_relief');\n    } else if (modes.edit === 11) {\n      subopts = opts.ocean_trenches;\n      slider('cutoff', 0.1, 1.0, 1, true);\n      slider('frequency', 0.1, 10, 1, true);\n      slider('persistence', 0.01, 2, 2, true);\n      slider('lacunarity', 0.1, 10.0, 2, true);\n      slider('octaves', 1, 10, 0);\n      slider('domain_warp', 0, 2, 0);\n    }\n  }\n\n  function testInit(dt) {\n    engine.setState(test);\n    test(dt);\n  }\n\n  engine.setState(testInit);\n}\n","const { sqrt } = Math;\n\nexport const SKEW_X = 1 / (sqrt(1 - 0.5*0.5)); // 1.1547\n\n// biome type classification categories from continent generation\nexport const C_WATER = 0;\nexport const C_PLAINS = 1;\nexport const C_HILLS = 2;\nexport const C_MOUNTAINS = 3;\nexport const C_RIVER_DELTA = 4;\n","// Portions Copyright 2019 Jimb Esser (https://github.com/Jimbly/)\n// Released under MIT License: https://opensource.org/licenses/MIT\n/* eslint no-bitwise:off */\n\nconst assert = require('assert');\nconst { isPacket } = require('./packet.js');\n\nexport function ackInitReceiver(receiver) {\n  receiver.last_pak_id = 0;\n  receiver.resp_cbs = {};\n  receiver.responses_waiting = 0;\n}\n\nconst ERR_FAILALL_DISCONNECT = 'ERR_FAILALL_DISCONNECT';\n\nconst ACKFLAG_IS_RESP = 1<<3;\nconst ACKFLAG_ERR = 1<<4;\nconst ACKFLAG_DATA_JSON = 1<<5;\n// `receiver` is really the sender, here, but will receive any response\nexport function ackWrapPakStart(pak, receiver, msg) {\n  let flags = 0;\n\n  pak.ack_data = {\n    receiver,\n  };\n\n  if (typeof msg === 'number') {\n    flags |= ACKFLAG_IS_RESP;\n    pak.writeInt(msg);\n  } else {\n    pak.writeAnsiString(msg);\n  }\n  let resp_pak_id = receiver ? ++receiver.last_pak_id : 0;\n  pak.ack_data.resp_pak_id = resp_pak_id;\n  pak.ack_data.resp_pak_id_offs = pak.getOffset();\n  pak.writeInt(resp_pak_id);\n\n  pak.ack_data.data_offs = pak.getOffset();\n  pak.ack_data.flags = flags;\n}\n\nexport function ackWrapPakPayload(pak, data) {\n  if (isPacket(data)) {\n    pak.appendRemaining(data);\n  } else {\n    pak.ack_data.flags |= ACKFLAG_DATA_JSON;\n    pak.writeJSON(data);\n  }\n}\n\nexport function ackWrapPakFinish(pak, err, resp_func) {\n  let flags = pak.ack_data.flags;\n  let offs = pak.getOffset();\n  if (err) {\n    // Nothing else must have been written\n    assert.equal(pak.ack_data.data_offs, offs);\n    flags |= ACKFLAG_ERR;\n    pak.writeString(String(err));\n    offs = pak.getOffset();\n  }\n  pak.makeReadable();\n  let resp_pak_id = 0;\n  if (resp_func && resp_func.expecting_response !== false) {\n    resp_pak_id = pak.ack_data.resp_pak_id;\n    assert(resp_pak_id);\n    assert(pak.ack_data.receiver);\n    pak.ack_data.receiver.resp_cbs[resp_pak_id] = resp_func;\n  } else {\n    pak.seek(pak.ack_data.resp_pak_id_offs);\n    pak.zeroInt();\n    pak.seek(offs);\n  }\n  pak.updateFlags(flags);\n  delete pak.ack_data;\n  return resp_pak_id;\n}\n\nexport function ackReadHeader(pak) {\n  let flags = pak.getFlags();\n  let msg = (flags & ACKFLAG_IS_RESP) ? pak.readInt() : pak.readAnsiString();\n  let pak_id = pak.readInt();\n  let err = (flags & ACKFLAG_ERR) ? pak.readString() : undefined;\n  let data;\n  if (flags & ACKFLAG_DATA_JSON) {\n    data = pak.readJSON();\n  } else {\n    data = pak;\n  }\n  return {\n    msg,\n    err,\n    data,\n    pak_id,\n  };\n}\n\nexport function failAll(receiver, err) {\n  err = err || ERR_FAILALL_DISCONNECT;\n  let cbs = receiver.resp_cbs;\n  receiver.resp_cbs = {};\n  receiver.responses_waiting = 0;\n  for (let pak_id in cbs) {\n    cbs[pak_id](err);\n  }\n}\n\n// `source` is a string for debug/logging only\n// `receiver` needs initReceicver called on it, have .onError() in the prototype and optionally .log()\n// sendFunc(msg, err, data, resp_func)\n// handleFunc(msg, data, resp_func)\n// eslint-disable-next-line consistent-return\nexport function ackHandleMessage(receiver, source, net_data_or_pak, send_func, pak_func, handle_func) {\n  let net_data = isPacket(net_data_or_pak) ? ackReadHeader(net_data_or_pak) : net_data_or_pak;\n  let { err, data, msg, pak_id } = net_data;\n  let now = Date.now();\n  let expecting_response = Boolean(pak_id);\n  let timeout_id;\n  if (expecting_response) {\n    timeout_id = 'pending';\n  }\n  let sent_response = false;\n  let start_time = now;\n\n  function preSendResp(err) {\n    assert(!sent_response, 'Response function called twice');\n    sent_response = true;\n\n    if (expecting_response) {\n      if (timeout_id) {\n        if (timeout_id !== 'pending') {\n          clearTimeout(timeout_id);\n        }\n      } else {\n        if (err === ERR_FAILALL_DISCONNECT) {\n          // this is the result of a failAll() call, a response was not actually sent!\n        } else {\n          (receiver.log ? receiver : console).log(`Response finally sent for ${msg\n          } after ${((Date.now() - start_time) / 1000).toFixed(1)}s`);\n        }\n      }\n      receiver.responses_waiting--;\n    }\n  }\n\n  function respFunc(err, resp_data, resp_func) {\n    preSendResp(err);\n    // the callback wants to send a response, and possibly get a response from that!\n    if (!expecting_response) {\n      // But, the other end is not expecting a response from this packet, black-hole it\n      if (resp_func) {\n        // We better not be expecting a response to our response!\n        receiver.onError(`Sending a response to a packet (${msg}) that did not expect` +\n          ' one, but we are expecting a response');\n        return;\n      }\n      // however, if there was an error, let's forward that along as an error message\n      if (err) {\n        send_func('error', null, err, null);\n      }\n      return;\n    }\n    send_func(pak_id, err, resp_data, resp_func);\n  }\n  respFunc.expecting_response = expecting_response;\n  respFunc.pak = function (ref_pak) {\n    assert(expecting_response);\n    let pak = pak_func(pak_id, ref_pak);\n    let orig_send = pak.send;\n    pak.send = function (err, resp_func) {\n      preSendResp(err);\n      orig_send.call(pak, err, resp_func);\n    };\n    return pak;\n  };\n\n  if (typeof msg === 'number') {\n    let cb = receiver.resp_cbs[msg];\n    if (!cb) {\n      return receiver.onError(`Received response to unknown packet with id ${msg} from ${source}`);\n    }\n    delete receiver.resp_cbs[msg];\n    cb(err, data, respFunc);\n  } else {\n    if (!msg) {\n      return receiver.onError(`Received message with no .msg from ${source}`);\n    }\n    handle_func(msg, data, respFunc);\n  }\n  if (expecting_response) {\n    // Note, this may be -1 if respFunc has already been called\n    receiver.responses_waiting++;\n    if (!sent_response) {\n      // timeout warning for response\n      timeout_id = setTimeout(function () {\n        timeout_id = null;\n        (receiver.log ? receiver : console).log(`Response not sent for ${msg\n        } from ${source} after ${((Date.now() - start_time) / 1000).toFixed(1)}s`);\n      }, 15*1000);\n    }\n  }\n}\n","// Portions Copyright 2019 Jimb Esser (https://github.com/Jimbly/)\n// Released under MIT License: https://opensource.org/licenses/MIT\n/* eslint no-bitwise:off */\n/* globals atob */\n\n// Encoding is fastest with non-native calls: http://jsperf.com/base64-encode\n// Decoding is fastest using window.btoa: http://jsperf.com/base64-decode\n\nconst { floor } = Math;\n\nconst chr_table = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'.split('');\nconst PAD = '=';\n\n// dv is a DataView with a .u8 property\nfunction encode(dv, offset, length) {\n  let data = dv.u8;\n  let result = '';\n  let i;\n  let effi;\n  // Convert every three bytes to 4 ascii characters.\n  for (i = 0; i < (length - 2); i += 3) {\n    effi = offset + i;\n    result += chr_table[data[effi] >> 2];\n    result += chr_table[((data[effi] & 0x03) << 4) + (data[effi + 1] >> 4)];\n    result += chr_table[((data[effi + 1] & 0x0f) << 2) + (data[effi + 2] >> 6)];\n    result += chr_table[data[effi + 2] & 0x3f];\n  }\n\n  // Convert the remaining 1 or 2 bytes, pad out to 4 characters.\n  if (length % 3) {\n    i = length - (length % 3);\n    effi = offset + i;\n    result += chr_table[data[effi] >> 2];\n    if ((length % 3) === 2) {\n      result += chr_table[((data[effi] & 0x03) << 4) + (data[effi + 1] >> 4)];\n      result += chr_table[(data[effi + 1] & 0x0f) << 2];\n      result += PAD;\n    } else {\n      result += chr_table[(data[effi] & 0x03) << 4];\n      result += PAD + PAD;\n    }\n  }\n\n  return result;\n}\n\nfunction decodeNativeBrowser(data, allocator) {\n  let str = atob(data);\n  let len = str.length;\n  let dv = allocator(len);\n  let u8 = dv.u8;\n  for (let ii = 0; ii < len; ++ii) {\n    u8[ii] = str.charCodeAt(ii);\n  }\n  dv.decode_size = len;\n  return dv;\n}\n\nfunction encodeNativeNode(dv, offset, length) {\n  // Allocates a Buffer() object each time - could have our allocDataView do that if needed for perf\n  return Buffer.from(dv.buffer).toString('base64', offset, offset + length);\n}\n// Faster, but uses an internal function that might break:\n// function encodeNativeNode(dv, offset, length) {\n//   return Buffer.prototype.base64Slice.call(dv.u8, offset, offset + length);\n// }\n\nfunction decodeNativeNode(data, allocator) {\n  let buffer_len = (data.length >> 2) * 3 + floor((data.length % 4) / 1.5);\n  let dv = allocator(buffer_len);\n  let buffer = Buffer.from(dv.buffer);\n  dv.decode_size = buffer.write(data, 'base64');\n  return dv;\n}\n\nconst BROWSER = typeof window !== 'undefined';\n\n// string -> Uint8Array or Buffer\nexports.base64Decode = BROWSER ? decodeNativeBrowser : decodeNativeNode;\n// Uint8Array or Buffer -> string\nexports.base64Encode = BROWSER ? encode : encodeNativeNode;\n","// Portions Copyright 2019 Jimb Esser (https://github.com/Jimbly/)\n// Released under MIT License: https://opensource.org/licenses/MIT\n\nconst assert = require('assert');\nconst { isInteger } = require('./util.js');\n\nfunction canonical(cmd) {\n  return cmd.toLowerCase().replace(/[_.]/g, '');\n}\n\nexport const TYPE_INT = 0;\nexport const TYPE_FLOAT = 1;\nexport const TYPE_STRING = 2;\nconst TYPE_NAME = ['INTEGER', 'NUMBER', 'STRING'];\n\nexport function defaultHandler(err, resp) {\n  if (err) {\n    console.error(err, resp);\n  } else {\n    console.info(resp);\n  }\n}\n\nfunction checkAccess(access, list) {\n  if (list) {\n    for (let ii = 0; ii < list.length; ++ii) {\n      if (!access || !access[list[ii]]) {\n        return false;\n      }\n    }\n  }\n  return true;\n}\n\nfunction CmdParse(params) {\n  this.cmds = {};\n  this.cmds_for_complete = this.cmds;\n  this.was_not_found = false;\n  this.storage = params && params.storage; // expects .setJSON(), .getJSON()\n  this.default_handler = defaultHandler;\n  this.register({\n    cmd: 'cmd_list',\n    func: this.cmdList.bind(this),\n    access_show: ['hidden'],\n  });\n}\nCmdParse.prototype.cmdList = function (str, resp_func) {\n  if (!this.cmd_list) {\n    let list = this.cmd_list = {};\n    for (let cmd in this.cmds) {\n      let cmd_data = this.cmds[cmd];\n      let access = []; // combine for data compaction\n      if (cmd_data.access_show) {\n        access = access.concat(cmd_data.access_show);\n      }\n      if (cmd_data.access_run) {\n        access = access.concat(cmd_data.access_run);\n      }\n      if (access.indexOf('hidden') !== -1) {\n        continue;\n      }\n      let data = {\n        name: cmd_data.name,\n        help: cmd_data.help,\n      };\n      if (cmd_data.usage) {\n        data.usage = cmd_data.usage;\n      }\n      if (access.length) {\n        data.access_show = access;\n      }\n      list[cmd] = data;\n    }\n  }\n  resp_func(null, this.cmd_list);\n};\n\nCmdParse.prototype.setDefaultHandler = function (fn) {\n  assert(this.default_handler === defaultHandler); // Should only set this once\n  this.default_handler = fn;\n};\nCmdParse.prototype.handle = function (self, str, resp_func) {\n  resp_func = resp_func || this.default_handler;\n  this.was_not_found = false;\n  let m = str.match(/^([^\\s]+)(?:\\s+(.*))?$/);\n  if (!m) {\n    resp_func('Missing command');\n    return true;\n  }\n  let cmd = canonical(m[1]);\n  let cmd_data = this.cmds[cmd];\n  if (cmd_data && !checkAccess(self && self.access, cmd_data.access_run)) {\n    // this.was_not_found = true;\n    resp_func(`Access denied: \"${m[1]}\"`);\n    return false;\n  }\n  if (!cmd_data) {\n    this.was_not_found = true;\n    resp_func(`Unknown command: \"${m[1]}\"`);\n    return false;\n  }\n  cmd_data.fn.call(self, m[2] || '', resp_func);\n  return true;\n};\n\nCmdParse.prototype.register = function (param) {\n  assert.equal(typeof param, 'object');\n  let { cmd, func, help, usage, access_show, access_run } = param;\n  assert(cmd && func);\n  this.cmds[canonical(cmd)] = {\n    name: cmd,\n    fn: func,\n    help: help || '',\n    usage: usage || undefined,\n    access_show,\n    access_run,\n  };\n};\n\nCmdParse.prototype.registerValue = function (cmd, param) {\n  assert(TYPE_NAME[param.type] || !param.set);\n  assert(param.set || param.get);\n  let label = param.label || cmd;\n  let store = param.store && this.storage || false;\n  let store_key = `cmd_parse_${canonical(cmd)}`;\n  if (param.ver) {\n    store_key += `_${param.ver}`;\n  }\n  if (store) {\n    assert(param.set);\n    let init_value = this.storage.getJSON(store_key);\n    if (init_value !== undefined) {\n      param.set(init_value);\n    }\n  }\n  let fn = (str, resp_func) => {\n    function value() {\n      resp_func(null, `${label} = ${param.get()}`);\n    }\n    function usage() {\n      resp_func(`Usage: /${cmd} ${TYPE_NAME[param.type]}`);\n    }\n    if (!str) {\n      if (param.get) {\n        return value();\n      } else {\n        return usage();\n      }\n    }\n    if (!param.set) {\n      return resp_func(`Usage: /${cmd}`);\n    }\n    let n = Number(str);\n    if (param.range) {\n      if (n < param.range[0]) {\n        n = param.range[0];\n      } else if (n > param.range[1]) {\n        n = param.range[1];\n      }\n    }\n    let store_value = n;\n    if (param.type === TYPE_INT) {\n      if (!isInteger(n)) {\n        return usage();\n      }\n      param.set(n);\n    } else if (param.type === TYPE_FLOAT) {\n      if (!isFinite(n)) {\n        return usage();\n      }\n      param.set(n);\n    } else {\n      store_value = str;\n      param.set(str);\n    }\n    if (store) {\n      this.storage.setJSON(store_key, store_value);\n    }\n    if (param.get) {\n      return value();\n    } else {\n      return resp_func(null, `${label} udpated`);\n    }\n  };\n  this.register({\n    cmd,\n    func: fn,\n    help: param.help || ((param.get && param.set) ?\n      `Set or display \"${label}\" value` :\n      param.set ? `Set \"${label}\" value` : `Display \"${label}\" value`),\n    usage: param.usage || ((param.get ? `Display \"${label}\" value\\n  Usage: /${cmd}\\n` : '') +\n      (param.set ? `Set \"${label}\" value\\n  Usage: /${cmd} NewValue` : '')),\n    access_show: param.access_show,\n    access_run: param.access_run,\n  });\n};\n\nfunction cmpCmd(a, b) {\n  if (a.cname < b.cname) {\n    return -1;\n  }\n  return 1;\n}\n\n// for auto-complete\nCmdParse.prototype.addServerCommands = function (new_cmds) {\n  let cmds = this.cmds_for_complete;\n  if (this.cmds_for_complete === this.cmds) {\n    cmds = this.cmds_for_complete = {};\n    for (let cname in this.cmds) {\n      cmds[cname] = this.cmds[cname];\n    }\n  }\n  for (let cname in new_cmds) {\n    if (!cmds[cname]) {\n      cmds[cname] = new_cmds[cname];\n    }\n  }\n};\n\nCmdParse.prototype.autoComplete = function (str, access) {\n  let list = [];\n  str = str.split(' ');\n  let first_tok = canonical(str[0]);\n  for (let cname in this.cmds_for_complete) {\n    if (str.length === 1 && cname.slice(0, first_tok.length) === first_tok ||\n      str.length > 1 && cname === first_tok\n    ) {\n      let cmd_data = this.cmds_for_complete[cname];\n      if (checkAccess(access, cmd_data.access_show) && checkAccess(access, cmd_data.access_run)) {\n        list.push({\n          cname,\n          cmd: cmd_data.name,\n          help: cmd_data.help,\n          usage: cmd_data.usage,\n        });\n      }\n    }\n  }\n  list.sort(cmpCmd);\n  return list; // .slice(0, 20); Maybe?\n};\n\nCmdParse.prototype.canonical = canonical;\n\nCmdParse.prototype.TYPE_INT = TYPE_INT;\nCmdParse.prototype.TYPE_FLOAT = TYPE_FLOAT;\nCmdParse.prototype.TYPE_STRING = TYPE_STRING;\n\nexport function create(params) {\n  return new CmdParse(params);\n}\n","/**\n *\n *  MD5 (Message-Digest Algorithm)\n *  http://www.webtoolkit.info/\n *\n * Modified by railGun to handle node.js Buffer objects\n *\n **/\n\n/* eslint no-bitwise:off, new-cap:off*/\nconst assert = require('assert');\n\nfunction stringUtf8Encode(str) {\n  let c;\n  let n;\n  let utftext = [];\n  str = str.replace(/\\r\\n/g, '\\n');\n  for (n = 0; n < str.length; ++n) {\n    c = str.charCodeAt(n);\n    if (c < 128) {\n      utftext.push(String.fromCharCode(c));\n    } else if ((c > 127) && (c < 2048)) {\n      utftext.push(String.fromCharCode((c >> 6) | 192));\n      utftext.push(String.fromCharCode((c & 63) | 128));\n    } else {\n      utftext.push(String.fromCharCode((c >> 12) | 224));\n      utftext.push(String.fromCharCode(((c >> 6) & 63) | 128));\n      utftext.push(String.fromCharCode((c & 63) | 128));\n    }\n  }\n  return utftext.join('');\n}\n\n\nfunction rotateLeft(lValue, iShiftBits) {\n  return (lValue<<iShiftBits) | (lValue>>>(32-iShiftBits));\n}\n\nfunction addUnsigned(lX,lY) {\n  let lX8 = (lX & 0x80000000);\n  let lY8 = (lY & 0x80000000);\n  let lX4 = (lX & 0x40000000);\n  let lY4 = (lY & 0x40000000);\n  let lResult = (lX & 0x3FFFFFFF)+(lY & 0x3FFFFFFF);\n  if (lX4 & lY4) {\n    return (lResult ^ 0x80000000 ^ lX8 ^ lY8);\n  }\n  if (lX4 | lY4) {\n    if (lResult & 0x40000000) {\n      return (lResult ^ 0xC0000000 ^ lX8 ^ lY8);\n    } else {\n      return (lResult ^ 0x40000000 ^ lX8 ^ lY8);\n    }\n  } else {\n    return (lResult ^ lX8 ^ lY8);\n  }\n}\n\nfunction F(x,y,z) {\n  return (x & y) | ((~x) & z);\n}\nfunction G(x,y,z) {\n  return (x & z) | (y & (~z));\n}\nfunction H(x,y,z) {\n  return (x ^ y ^ z);\n}\nfunction I(x,y,z) {\n  return (y ^ (x | (~z)));\n}\n\nfunction FF(a,b,c,d,x,s,ac) {\n  a = addUnsigned(a, addUnsigned(addUnsigned(F(b, c, d), x), ac));\n  return addUnsigned(rotateLeft(a, s), b);\n}\n\nfunction GG(a,b,c,d,x,s,ac) {\n  a = addUnsigned(a, addUnsigned(addUnsigned(G(b, c, d), x), ac));\n  return addUnsigned(rotateLeft(a, s), b);\n}\n\nfunction HH(a,b,c,d,x,s,ac) {\n  a = addUnsigned(a, addUnsigned(addUnsigned(H(b, c, d), x), ac));\n  return addUnsigned(rotateLeft(a, s), b);\n}\n\nfunction II(a,b,c,d,x,s,ac) {\n  a = addUnsigned(a, addUnsigned(addUnsigned(I(b, c, d), x), ac));\n  return addUnsigned(rotateLeft(a, s), b);\n}\n\nfunction convertToWordArray(string) {\n  let lWordCount;\n  let lMessageLength = string.length;\n  let lNumberOfWords_temp1=lMessageLength + 8;\n  let lNumberOfWords_temp2=\n    (lNumberOfWords_temp1-(lNumberOfWords_temp1 % 64))/64;\n  let lNumberOfWords = (lNumberOfWords_temp2+1)*16;\n  let lWordArray=new Array(lNumberOfWords-1);\n  let lBytePosition = 0;\n  let lByteCount = 0;\n  while (lByteCount < lMessageLength) {\n    lWordCount = (lByteCount-(lByteCount % 4))/4;\n    lBytePosition = (lByteCount % 4)*8;\n    lWordArray[lWordCount] |= string.charCodeAt(lByteCount) << lBytePosition;\n    lByteCount++;\n  }\n  lWordCount = (lByteCount-(lByteCount % 4))/4;\n  lBytePosition = (lByteCount % 4)*8;\n  lWordArray[lWordCount] |= (0x80<<lBytePosition);\n  lWordArray[lNumberOfWords-2] = lMessageLength<<3;\n  lWordArray[lNumberOfWords-1] = lMessageLength>>>29;\n  return lWordArray;\n}\n\n// function convertByteArraytoWordArray(arr) {\n//   let lWordCount;\n//   let lMessageLength = arr.length;\n//   let lNumberOfWords_temp1 = lMessageLength + 8;\n//   let lNumberOfWords_temp2 =\n//     (lNumberOfWords_temp1 - (lNumberOfWords_temp1 % 64)) / 64;\n//   let lNumberOfWords = (lNumberOfWords_temp2 + 1) * 16;\n//   let lWordArray = new Array(lNumberOfWords - 1);\n//   let lBytePosition = 0;\n//   let lByteCount = 0;\n//   while (lByteCount < lMessageLength) {\n//     lWordCount = (lByteCount - (lByteCount % 4)) / 4;\n//     lBytePosition = (lByteCount % 4) * 8;\n//     lWordArray[lWordCount] |= arr[lByteCount] << lBytePosition;\n//     lByteCount++;\n//   }\n//   lWordCount = (lByteCount - (lByteCount % 4)) / 4;\n//   lBytePosition = (lByteCount % 4) * 8;\n//   lWordArray[lWordCount] |= 0x80 << lBytePosition;\n//   lWordArray[lNumberOfWords - 2] = lMessageLength << 3;\n//   lWordArray[lNumberOfWords - 1] = lMessageLength >>> 29;\n//   return lWordArray;\n// }\n\nfunction wordToHex(lValue) {\n  let wordToHexValue='';\n\n\n  let wordToHexValue_temp='';\n\n\n  let lByte;\n  let lCount;\n  for (lCount = 0; lCount<=3; lCount++) {\n    lByte = (lValue>>>(lCount*8)) & 255;\n    wordToHexValue_temp = `0${lByte.toString(16)}`;\n    wordToHexValue +=\n      wordToHexValue_temp.substr(wordToHexValue_temp.length-2,2);\n  }\n  return wordToHexValue;\n}\n\n// string can either be a string, node.js Buffer, array (of numbers < 256)\n// or a typed array\nmodule.exports = function md5(string) {\n  let AA;\n  let BB;\n  let CC;\n  let DD;\n  let a;\n  let b;\n  let c;\n  let d;\n  let k;\n  let S11=7;\n  let S12=12;\n  let S13=17;\n  let S14=22;\n  let S21=5;\n  let S22=9;\n  let S23=14;\n  let S24=20;\n  let S31=4;\n  let S32=11;\n  let S33=16;\n  let S34=23;\n  let S41=6;\n  let S42=10;\n  let S43=15;\n  let S44=21;\n\n  let x;\n  if (typeof string === 'string') {\n    string = stringUtf8Encode(string);\n    x = convertToWordArray(string);\n  } else {\n    assert(false); // disable due to not used\n    // node.js buffer or Array\n    // x = convertByteArraytoWordArray(string);\n  }\n\n  a = 0x67452301;\n  b = 0xEFCDAB89;\n  c = 0x98BADCFE;\n  d = 0x10325476;\n\n  for (k=0; k<x.length; k+=16) {\n    AA=a;\n    BB=b;\n    CC=c;\n    DD=d;\n    a=FF(a,b,c,d,x[k], S11,0xD76AA478);\n    d=FF(d,a,b,c,x[k+1], S12,0xE8C7B756);\n    c=FF(c,d,a,b,x[k+2], S13,0x242070DB);\n    b=FF(b,c,d,a,x[k+3], S14,0xC1BDCEEE);\n    a=FF(a,b,c,d,x[k+4], S11,0xF57C0FAF);\n    d=FF(d,a,b,c,x[k+5], S12,0x4787C62A);\n    c=FF(c,d,a,b,x[k+6], S13,0xA8304613);\n    b=FF(b,c,d,a,x[k+7], S14,0xFD469501);\n    a=FF(a,b,c,d,x[k+8], S11,0x698098D8);\n    d=FF(d,a,b,c,x[k+9], S12,0x8B44F7AF);\n    c=FF(c,d,a,b,x[k+10],S13,0xFFFF5BB1);\n    b=FF(b,c,d,a,x[k+11],S14,0x895CD7BE);\n    a=FF(a,b,c,d,x[k+12],S11,0x6B901122);\n    d=FF(d,a,b,c,x[k+13],S12,0xFD987193);\n    c=FF(c,d,a,b,x[k+14],S13,0xA679438E);\n    b=FF(b,c,d,a,x[k+15],S14,0x49B40821);\n    a=GG(a,b,c,d,x[k+1], S21,0xF61E2562);\n    d=GG(d,a,b,c,x[k+6], S22,0xC040B340);\n    c=GG(c,d,a,b,x[k+11],S23,0x265E5A51);\n    b=GG(b,c,d,a,x[k], S24,0xE9B6C7AA);\n    a=GG(a,b,c,d,x[k+5], S21,0xD62F105D);\n    d=GG(d,a,b,c,x[k+10],S22,0x2441453);\n    c=GG(c,d,a,b,x[k+15],S23,0xD8A1E681);\n    b=GG(b,c,d,a,x[k+4], S24,0xE7D3FBC8);\n    a=GG(a,b,c,d,x[k+9], S21,0x21E1CDE6);\n    d=GG(d,a,b,c,x[k+14],S22,0xC33707D6);\n    c=GG(c,d,a,b,x[k+3], S23,0xF4D50D87);\n    b=GG(b,c,d,a,x[k+8], S24,0x455A14ED);\n    a=GG(a,b,c,d,x[k+13],S21,0xA9E3E905);\n    d=GG(d,a,b,c,x[k+2], S22,0xFCEFA3F8);\n    c=GG(c,d,a,b,x[k+7], S23,0x676F02D9);\n    b=GG(b,c,d,a,x[k+12],S24,0x8D2A4C8A);\n    a=HH(a,b,c,d,x[k+5], S31,0xFFFA3942);\n    d=HH(d,a,b,c,x[k+8], S32,0x8771F681);\n    c=HH(c,d,a,b,x[k+11],S33,0x6D9D6122);\n    b=HH(b,c,d,a,x[k+14],S34,0xFDE5380C);\n    a=HH(a,b,c,d,x[k+1], S31,0xA4BEEA44);\n    d=HH(d,a,b,c,x[k+4], S32,0x4BDECFA9);\n    c=HH(c,d,a,b,x[k+7], S33,0xF6BB4B60);\n    b=HH(b,c,d,a,x[k+10],S34,0xBEBFBC70);\n    a=HH(a,b,c,d,x[k+13],S31,0x289B7EC6);\n    d=HH(d,a,b,c,x[k], S32,0xEAA127FA);\n    c=HH(c,d,a,b,x[k+3], S33,0xD4EF3085);\n    b=HH(b,c,d,a,x[k+6], S34,0x4881D05);\n    a=HH(a,b,c,d,x[k+9], S31,0xD9D4D039);\n    d=HH(d,a,b,c,x[k+12],S32,0xE6DB99E5);\n    c=HH(c,d,a,b,x[k+15],S33,0x1FA27CF8);\n    b=HH(b,c,d,a,x[k+2], S34,0xC4AC5665);\n    a=II(a,b,c,d,x[k], S41,0xF4292244);\n    d=II(d,a,b,c,x[k+7], S42,0x432AFF97);\n    c=II(c,d,a,b,x[k+14],S43,0xAB9423A7);\n    b=II(b,c,d,a,x[k+5], S44,0xFC93A039);\n    a=II(a,b,c,d,x[k+12],S41,0x655B59C3);\n    d=II(d,a,b,c,x[k+3], S42,0x8F0CCC92);\n    c=II(c,d,a,b,x[k+10],S43,0xFFEFF47D);\n    b=II(b,c,d,a,x[k+1], S44,0x85845DD1);\n    a=II(a,b,c,d,x[k+8], S41,0x6FA87E4F);\n    d=II(d,a,b,c,x[k+15],S42,0xFE2CE6E0);\n    c=II(c,d,a,b,x[k+6], S43,0xA3014314);\n    b=II(b,c,d,a,x[k+13],S44,0x4E0811A1);\n    a=II(a,b,c,d,x[k+4], S41,0xF7537E82);\n    d=II(d,a,b,c,x[k+11],S42,0xBD3AF235);\n    c=II(c,d,a,b,x[k+2], S43,0x2AD7D2BB);\n    b=II(b,c,d,a,x[k+9], S44,0xEB86D391);\n    a=addUnsigned(a,AA);\n    b=addUnsigned(b,BB);\n    c=addUnsigned(c,CC);\n    d=addUnsigned(d,DD);\n  }\n\n  let temp = wordToHex(a)+wordToHex(b)+wordToHex(c)+wordToHex(d);\n  return temp.toLowerCase();\n};\n\n/* // Uncomment this and run \"node MD5.js file.ext\"\nvar FS = require('fs');\nvar data = FS.readFileSync(process.argv[2]);\nvar md5 = module.exports(data);\nconsole.log('MD5 = ' + md5);\n// */\n","// Portions Copyright 2019 Jimb Esser (https://github.com/Jimbly/)\n// Released under MIT License: https://opensource.org/licenses/MIT\n// Some code derived from libGLOV (C++), also MIT Licensed\n\n/* eslint no-bitwise:off */\n\n// Upon read, throw an exception if there is any data read error (e.g. read off of end of packet)\n\n// TODO: Maybe: Have 2 offsets, one for writing (data_len?), one for reading (buf_offs?),\n//   then there should be many fewer ?pak.readable branches\n//   that return different values under different circumstances, and maybe fewer .makeReadable() calls needed.\n\n\n// 3 bits of flags reserved for internal use\nconst PACKET_DEBUG = exports.PACKET_DEBUG = 1<<0;\nconst PACKET_RESERVED1 = exports.PACKET_RESERVED1 = 1<<1;\nconst PACKET_RESERVED2 = exports.PACKET_RESERVED2 = 1<<2;\nconst FLAG_PACKET_INTERNAL = PACKET_DEBUG | PACKET_RESERVED1 | PACKET_RESERVED2;\n\n// Internal, runtime-only (not serialized) flags < 8 bits\nconst PACKET_UNOWNED_BUFFER = 1 << 8;\n\nexports.default_flags = 0;\n\nconst assert = require('assert');\nconst { max } = Math;\nconst { isInteger, log2 } = require('../common/util.js');\n// const { isInteger, log2 } = require('../../build.dev/common/util.js');\nconst { base64Encode, base64Decode } = require('../common/base64.js');\n\nconst FALSYS = [undefined, null, 0, false, '', NaN];\nconst PAK_BUF_DEFAULT_SIZE = 1024;\n\nconst UNDERRUN = 'PKTERR_UNDERRUN';\n\nconst POOL_PACKETS = 5000;\nconst POOL_TIMEOUT = 5000;\nconst POOL_BUF_BY_SIZE = [\n  0, // 2^0 : 1 - shouldn't be allocated ever?\n  10, // 2^1 : 2\n  10, // 2^2 : 4\n  20, // 2^3 : 8\n  20, // 2^4 : 16\n  20, // 2^5 : 32\n  20, // 2^6 : 64\n  20, // 2^7 : 128\n  20, // 2^8 : 256\n  20, // 2^9 : 512\n  5000, // 2^10 : 1024 - standard Packet size\n  20, // 2^11 : 2048\n  20, // 2^12 : 4096\n  20, // 2^13 : 8192\n  20, // 2^14 : 16384\n  20, // 2^15 : 32768\n  20, // 2^16 : 65536\n  10, // 2^17 : 131072\n  10, // 2^18 : 262144,\n];\n\nlet pak_pool = [];\nlet pak_debug_pool = [];\nlet buf_pool = POOL_BUF_BY_SIZE.map(() => []);\n\nfunction allocDataView(size) {\n  let pool_idx = log2(size);\n  assert(pool_idx);\n  if (pool_idx >= buf_pool.length) {\n    pool_idx = 0;\n  }\n  if (pool_idx) {\n    size = 1 << pool_idx;\n    if (buf_pool[pool_idx].length) {\n      // No reinit here, just a container\n      //console.log(`Buffer FROMPOOL:${size}/${pool_idx}`);\n      return buf_pool[pool_idx].pop();\n    }\n  } else {\n    // Enable this (and lower pool size) to track down big packets:\n    // console.log(`Allocating UNPOOLABLE buffer of size ${size} from ${new Error().stack}`);\n  }\n  //console.log(`Buffer ALLOC:${size}`);\n  let u8 = new Uint8Array(size);\n  let dv = new DataView(u8.buffer);\n  dv.u8 = u8;\n  if (pool_idx) {\n    dv.packet_pool_idx = pool_idx;\n  }\n  return dv;\n}\n\nfunction wrapU8AsDataView(u8) {\n  let dv = new DataView(u8.buffer, u8.byteOffset, u8.byteLength);\n  dv.u8 = u8;\n  return dv;\n}\n\nfunction utf8ByteLength(str) {\n  let len = str.length;\n  let ret = len;\n  for (let ii = 0; ii < len; ++ii) {\n    let c = str.charCodeAt(ii);\n    if (c > 0x7F) {\n      ++ret;\n      if (c > 0x07FF) {\n        ++ret;\n        if (c > 0xFFFF) {\n          ++ret;\n          if (c > 0x1FFFFF) {\n            ++ret;\n            if (c > 0x3FFFFFF) {\n              ++ret;\n            }\n          }\n        }\n      }\n    }\n  }\n  return ret;\n}\n\n// Assumes buffer will fit it\nfunction utf8WriteChar(buf, buf_offs, c) {\n  if (c <= 0x7F) {\n    buf.u8[buf_offs++] = c;\n  } else if (c <= 0x07FF) {\n    buf.u8[buf_offs++] = (c >> 6) | 0xC0;\n    buf.u8[buf_offs++] = (c & 0x3F) | 0x80;\n  } else if (c <= 0xFFFF) {\n    buf.u8[buf_offs++] = (c >> 12) | 0xE0;\n    buf.u8[buf_offs++] = ((c >> 6) & 0x3F) | 0x80;\n    buf.u8[buf_offs++] = (c & 0x3F) | 0x80;\n  } else if (c <= 0x1FFFFF) {\n    buf.u8[buf_offs++] = (c >> 18) | 0xF0;\n    buf.u8[buf_offs++] = ((c >> 12) & 0x3F) | 0x80;\n    buf.u8[buf_offs++] = ((c >> 6) & 0x3F) | 0x80;\n    buf.u8[buf_offs++] = (c & 0x3F) | 0x80;\n  } else if (c <= 0x3FFFFFF) {\n    buf.u8[buf_offs++] = (c >> 24) | 0xF8;\n    buf.u8[buf_offs++] = ((c >> 18) & 0x3F) | 0x80;\n    buf.u8[buf_offs++] = ((c >> 12) & 0x3F) | 0x80;\n    buf.u8[buf_offs++] = ((c >> 6) & 0x3F) | 0x80;\n    buf.u8[buf_offs++] = (c & 0x3F) | 0x80;\n  } else if (c <= 0x7FFFFFFF) {\n    buf.u8[buf_offs++] = (c >> 30) | 0xFC;\n    buf.u8[buf_offs++] = ((c >> 24) & 0x3F) | 0x80;\n    buf.u8[buf_offs++] = ((c >> 18) & 0x3F) | 0x80;\n    buf.u8[buf_offs++] = ((c >> 12) & 0x3F) | 0x80;\n    buf.u8[buf_offs++] = ((c >> 6) & 0x3F) | 0x80;\n    buf.u8[buf_offs++] = (c & 0x3F) | 0x80;\n  }\n  return buf_offs;\n}\n\nfunction poolBuf(dv) {\n  // if it's poolable (not part of another Buffer), pool it!\n  assert(dv);\n  assert(dv.u8);\n  let pool_idx = dv.packet_pool_idx;\n  if (pool_idx) {\n    let arr = buf_pool[pool_idx];\n    if (arr.length < POOL_BUF_BY_SIZE[pool_idx]) {\n      //console.log(`Buffer TOPOOL:${dv.byteLength}/${pool_idx}`);\n      arr.push(dv);\n    }\n  } else {\n    // console.log(`Buffer UNPOOLABLE:${dv.byteLength}`);\n  }\n}\n\nexport function packetBufPoolAlloc(size) {\n  return allocDataView(size);\n}\nexport function packetBufPoolFree(dv) {\n  poolBuf(dv);\n}\n\nfunction Packet(flags, init_size, pak_debug) {\n  this.reinit(flags, init_size, pak_debug);\n}\nPacket.prototype.reinit = function (flags, init_size, pak_debug) {\n  this.flags = flags || 0;\n  this.has_flags = false;\n  this.buf = null;\n  this.buf_len = 0;\n  this.buf_offs = 0;\n  this.bufs = null;\n  this.bsizes = null;\n  this.readable = false;\n  this.ref_count = 1;\n  this.pak_debug = pak_debug;\n  if (init_size) {\n    this.fit(init_size, true);\n    this.buf_len = init_size;\n  }\n};\nPacket.prototype.ref = function () {\n  ++this.ref_count;\n};\nPacket.prototype.pool = function () {\n  assert(this.ref_count);\n  if (--this.ref_count) {\n    return;\n  }\n  // Do not clear on pool(), callers (readInt()) may still momentarily reference .buf, etc\n  if (this.flags & PACKET_UNOWNED_BUFFER) {\n    // doing nothing with buffers, still pooling the packet\n  } else {\n    if (this.buf) {\n      poolBuf(this.buf);\n    }\n    if (this.bufs) {\n      for (let ii = 0; ii < this.bufs.length; ++ii) {\n        poolBuf(this.bufs[ii]);\n      }\n    }\n  }\n  if (pak_pool.length < POOL_PACKETS) {\n    pak_pool.push(this);\n  }\n  if (this.pak_debug) {\n    this.pak_debug.poolDebug();\n  }\n};\n\nPacket.prototype.totalSize = function () {\n  let ret = 0;\n  if (this.readable) {\n    return this.buf_len;\n  }\n  if (this.bsizes) {\n    for (let ii = 0; ii < this.bsizes.length; ++ii) {\n      ret += this.bsizes[ii];\n    }\n  }\n  ret += this.buf_offs;\n  return ret;\n};\n\nPacket.prototype.setReadable = function () {\n  assert(this.buf);\n  assert(!this.bufs);\n  assert(!this.readable);\n  this.readable = true;\n};\n\nPacket.prototype.makeReadable = function () {\n  assert(this.buf);\n  assert(!this.readable); // otherwise just reset offset? or do nothing?\n  let total = this.totalSize(); // before this.readable = true\n  this.readable = true;\n  if (!this.bufs) {\n    this.buf_len = total;\n    this.buf_offs = 0;\n    return;\n  }\n  let buf = allocDataView(total);\n  let u8 = buf.u8;\n  let offs = 0;\n  for (let ii = 0; ii < this.bufs.length; ++ii) {\n    let bsize = this.bsizes[ii];\n    let dv = this.bufs[ii];\n    if (offs + bsize > total) {\n      // unused portion would overrun\n      assert.equal(dv.byteOffset, 0);\n      u8.set(new Uint8Array(dv.buffer, 0, bsize), offs);\n    } else {\n      u8.set(dv.u8, offs);\n    }\n    offs += bsize;\n    poolBuf(dv);\n  }\n  assert.equal(this.buf.byteOffset, 0); // Would handle it, but should never happen here, these are our pooled buffers?\n  u8.set(new Uint8Array(this.buf.buffer, this.buf.byteOffset, this.buf_offs), offs);\n  poolBuf(this.buf);\n  assert.equal(offs + this.buf_offs, total);\n  this.bufs = this.bsizes = null;\n  this.buf = buf;\n  this.buf_offs = 0;\n  this.buf_len = total; // buffer is actually buf.buffer.byteLength, but we can't read past `total`\n};\n\nPacket.prototype.flush = function () {\n  let { buf, buf_offs } = this;\n  if (!this.bufs) {\n    this.bufs = [buf];\n    this.bsizes = [buf_offs];\n  } else {\n    this.bufs.push(buf);\n    this.bsizes.push(buf_offs);\n  }\n  this.buf = null;\n  this.buf_len = 0;\n  this.buf_offs = 0;\n};\nPacket.prototype.fit = function (extra_bytes, no_advance) {\n  let { buf, buf_len, buf_offs } = this;\n  let new_offs = buf_offs + extra_bytes;\n  if (new_offs <= buf_len) {\n    if (!no_advance) {\n      this.buf_offs = new_offs;\n    }\n    return buf_offs;\n  }\n  assert(!this.readable); // Shouldn't happen on concatenated buffers\n  if (buf) {\n    this.flush();\n  }\n  this.buf_len = buf_len = max(PAK_BUF_DEFAULT_SIZE, extra_bytes);\n  this.buf = allocDataView(buf_len);\n  this.buf_offs = no_advance ? 0 : extra_bytes;\n  return 0;\n};\nPacket.prototype.advance = function (bytes) {\n  let offs = this.buf_offs;\n  let new_offs = offs + bytes;\n  this.buf_offs = new_offs;\n  if (new_offs > this.buf_len) {\n    throw new Error(UNDERRUN);\n  }\n  if (new_offs === this.buf_len) {\n    this.pool();\n  }\n  return offs;\n};\nPacket.prototype.ended = function () {\n  return this.buf_offs === this.buf_len;\n};\n\n// low-level write/read functions\nPacket.prototype.writeU8 = function (v) {\n  assert(v >= 0 && v < 256);\n  let offs = this.fit(1);\n  this.buf.u8[offs] = v;\n};\nPacket.prototype.readU8 = function () {\n  return this.buf.u8[this.advance(1)];\n};\n// Packed int, first byte:\n// 0-247 byte\n// 248 positive 16-bit\n// 249 negative 16-bit\n// 250 positive 32-bit\n// 251 negative 32-bit\n// 252 positive 64-bit\n// 253 negative 64-bit\n// 254 unused\n// 255 negative byte\nPacket.prototype.writeInt = function (v) {\n  assert(isInteger(v));\n  let offs = this.fit(9, true); // 9 is max size of a packed int\n  let buf = this.buf;\n  let neg = (v < 0) ? 1 : 0;\n  if (neg) {\n    v = -v;\n  }\n  if (v < 248) { // || neg && v < 256 would also decode right\n    if (neg) {\n      buf.u8[offs++] = 255;\n    }\n    buf.u8[offs++] = v;\n  } else {\n    if (v < 65536) {\n      buf.u8[offs++] = 248 + neg;\n      buf.setUint16(offs, v, true);\n      offs += 2;\n    } else if (v < 4294967296) {\n      buf.u8[offs++] = 250 + neg;\n      buf.setUint32(offs, v, true);\n      offs += 4;\n    } else {\n      buf.u8[offs++] = 252 + neg;\n      let low_bits = v >>> 0;\n      buf.setUint32(offs, low_bits, true);\n      offs += 4;\n      buf.setUint32(offs, (v - low_bits) / 4294967296, true);\n      offs += 4;\n    }\n  }\n  this.buf_offs = offs;\n};\nPacket.prototype.zeroInt = function () {\n  // Overwrite an existing int with a zero, keeping the same packed size\n  let b1 = this.buf.u8[this.buf_offs];\n  if (b1 < 248) {\n    this.buf.u8[this.buf_offs++] = 0;\n    return;\n  }\n  // Otherwise, leave header bit\n  this.buf_offs++;\n  let zeroes = 1;\n  switch (b1) {\n    case 253:\n    case 252: // 8\n      zeroes += 4;\n    case 251:  // eslint-disable-line no-fallthrough\n    case 250: // 4\n      zeroes += 2;\n    case 249:  // eslint-disable-line no-fallthrough\n    case 248: // 2\n      zeroes++;\n    case 255:  // eslint-disable-line no-fallthrough\n      // 1\n      break;\n    default:\n      throw new Error('PKTERR_PACKED_INT');\n  }\n  while (zeroes) {\n    --zeroes;\n    this.buf.u8[this.buf_offs++] = 0;\n  }\n};\nPacket.prototype.readInt = function () {\n  let b1 = this.buf.u8[this.advance(1)];\n  if (b1 < 248) {\n    return b1;\n  }\n  let sign = 1;\n  switch (b1) {\n    case 249:\n      sign = -1;\n    case 248: // eslint-disable-line no-fallthrough\n      return sign * this.buf.getUint16(this.advance(2), true);\n    case 251:\n      sign = -1;\n    case 250: // eslint-disable-line no-fallthrough\n      return sign * this.buf.getUint32(this.advance(4), true);\n    case 253:\n      sign = -1;\n    case 252: { // eslint-disable-line no-fallthrough\n      let low_bits = this.buf.getUint32(this.advance(4), true);\n      let high_bits = this.buf.getUint32(this.advance(4), true);\n      return sign * (high_bits * 4294967296 + low_bits);\n    }\n    case 255:\n      return -this.buf.u8[this.advance(1)];\n    default:\n      throw new Error('PKTERR_PACKED_INT');\n  }\n};\nPacket.prototype.writeFloat = function (v) {\n  assert.equal(typeof v, 'number');\n  if (!v) {\n    this.buf.u8[this.fit(1)] = 0;\n    return;\n  }\n  let offs = this.fit(5, true);\n  this.buf.setFloat32(offs, v, true);\n  if (this.buf.u8[offs] <= 1) { // escape a 0 or 1 in the first byte\n    this.buf.u8[offs++] = 1;\n    this.buf.setFloat32(offs, v, true);\n  }\n  this.buf_offs = offs + 4;\n};\nPacket.prototype.readFloat = function () {\n  let offs = this.advance(1);\n  let b1 = this.buf.u8[offs];\n  if (!b1) {\n    return 0;\n  }\n  if (b1 === 1) {\n    return this.buf.getFloat32(this.advance(4), true);\n  }\n  this.advance(3);\n  return this.buf.getFloat32(offs, true);\n};\nPacket.prototype.writeU32 = function (v) {\n  assert.equal(typeof v, 'number');\n  this.buf.setUint32(this.fit(4), v, true);\n};\nPacket.prototype.readU32 = function () {\n  return this.buf.getUint32(this.advance(4), true);\n};\nPacket.prototype.writeString = function (v) {\n  assert.equal(typeof v, 'string'); // Could maybe do a toString() here if not\n  let byte_length = utf8ByteLength(v);\n  this.writeInt(byte_length); // Just 1 byte for small strings\n  if (!byte_length) {\n    return;\n  }\n  let offs = this.fit(byte_length);\n  let buf = this.buf;\n  for (let ii = 0; ii < v.length; ++ii) {\n    let c = v.charCodeAt(ii);\n    if (c <= 0x7F) {\n      buf.u8[offs++] = c;\n    } else {\n      offs = utf8WriteChar(buf, offs, c);\n    }\n  }\n};\n// Only called on multi-byte characters; Supplied the first byte for efficiency\nPacket.prototype.utf8ReadChar = function (c) {\n  let buf = this.buf;\n  if (c >= 0xC0 && c < 0xE0) {\n    return ((c & 0x1F) << 6) |\n      (buf.u8[this.buf_offs++] & 0x3F);\n  } else if (c >= 0xE0 && c < 0xF0) {\n    return ((c & 0x0F) << 12) |\n      ((buf.u8[this.buf_offs++] & 0x3F) << 6) |\n      (buf.u8[this.buf_offs++] & 0x3F);\n  } else if (c >= 0xF0 && c < 0xF8) {\n    return ((c & 0x0F) << 18) |\n      ((buf.u8[this.buf_offs++] & 0x3F) << 12) |\n      ((buf.u8[this.buf_offs++] & 0x3F) << 6) |\n      (buf.u8[this.buf_offs++] & 0x3F);\n  } else if (c >= 0xF8 && c < 0xFC) {\n    return ((c & 0x0F) << 24) |\n      ((buf.u8[this.buf_offs++] & 0x3F) << 18) |\n      ((buf.u8[this.buf_offs++] & 0x3F) << 12) |\n      ((buf.u8[this.buf_offs++] & 0x3F) << 6) |\n      (buf.u8[this.buf_offs++] & 0x3F);\n  } else { //if (c >= 0xFC) {\n    return ((c & 0x0F) << 30) |\n      ((buf.u8[this.buf_offs++] & 0x3F) << 24) |\n      ((buf.u8[this.buf_offs++] & 0x3F) << 18) |\n      ((buf.u8[this.buf_offs++] & 0x3F) << 12) |\n      ((buf.u8[this.buf_offs++] & 0x3F) << 6) |\n      (buf.u8[this.buf_offs++] & 0x3F);\n  }\n};\n\nlet string_assembly = [];\nPacket.prototype.readString = function () {\n  let byte_length = this.readInt();\n  if (!byte_length) {\n    return '';\n  }\n  if (this.buf_offs + byte_length > this.buf_len) {\n    throw new Error(UNDERRUN);\n  }\n\n  let { buf } = this;\n  let end_offset = this.buf_offs + byte_length;\n  let ret;\n  if (byte_length > 8192) {\n    ret = '';\n    while (this.buf_offs < end_offset) {\n      let c = buf.u8[this.buf_offs++];\n      if (c > 0x7F) {\n        c = this.utf8ReadChar(c);\n      }\n      ret += String.fromCharCode(c);\n    }\n  } else {\n    string_assembly.length = byte_length;\n    let ii = 0;\n    while (this.buf_offs < end_offset) {\n      let c = buf.u8[this.buf_offs++];\n      if (c > 0x7F) {\n        c = this.utf8ReadChar(c);\n      }\n      string_assembly[ii++] = c;\n    }\n    if (string_assembly.length !== ii) {\n      // truncate if multi-byte UTF8 produced single characters\n      string_assembly.length = ii;\n    }\n    ret = String.fromCharCode.apply(undefined, string_assembly);\n  }\n  if (this.buf_offs === this.buf_len) {\n    this.pool();\n  }\n  return ret;\n};\n// Much more efficient than writeString if the input is known to be ANSI-ish (all characters <= 255)\nPacket.prototype.writeAnsiString = function (v) {\n  assert.equal(typeof v, 'string'); // Could maybe do a toString() here if not\n  let byte_length = v.length;\n  this.writeInt(byte_length);\n  let offs = this.fit(byte_length);\n  let { buf } = this;\n  for (let ii = 0; ii < byte_length; ++ii) {\n    buf.u8[offs++] = v.charCodeAt(ii);\n  }\n};\nPacket.prototype.readAnsiString = function () {\n  let len = this.readInt();\n  let offs = this.advance(len);\n  let { buf } = this;\n  string_assembly.length = len;\n  for (let ii = 0; ii < len; ++ii) {\n    string_assembly[ii] = buf.u8[offs++];\n  }\n  return String.fromCharCode.apply(undefined, string_assembly);\n};\n\n// high-level write/read functions\nPacket.prototype.writeJSON = function (v) {\n  if (!v) {\n    let idx = FALSYS.indexOf(v);\n    assert(idx !== -1);\n    this.writeU8(idx + 1);\n    return;\n  }\n  this.writeU8(0);\n  this.writeString(JSON.stringify(v));\n};\nPacket.prototype.readJSON = function () {\n  let byte = this.readU8();\n  if (byte) {\n    if (byte - 1 >= FALSYS.length) {\n      throw new Error('PKTERR_JSON_HEADER');\n    }\n    return FALSYS[byte - 1];\n  }\n  let str = this.readString();\n  return JSON.parse(str);\n};\n// Uint8Array or Buffer object?\nPacket.prototype.writeBuffer = function (v) {\n  this.writeInt(v.length);\n  if (v.length) {\n    let offs = this.fit(v.length);\n    this.buf.u8.set(v, offs);\n  }\n};\nconst null_buf = new Uint8Array(0);\nPacket.prototype.readBuffer = function (do_copy) {\n  let len = this.readInt();\n  if (!len) {\n    return null_buf;\n  }\n  let offs = this.advance(len);\n  if (do_copy) {\n    return this.buf.u8.slice(offs, offs + len);\n  } else {\n    let { buf } = this;\n    return new Uint8Array(buf.buffer, buf.byteOffset + offs, len);\n  }\n};\nPacket.prototype.writeBool = function (v) {\n  this.writeU8(v?1:0);\n};\nPacket.prototype.readBool = function () {\n  return Boolean(this.readU8());\n};\n\nPacket.prototype.append = function (pak) {\n  assert.equal(this.flags & FLAG_PACKET_INTERNAL, pak.flags & FLAG_PACKET_INTERNAL);\n  if (pak.bufs) {\n    for (let ii = 0; ii < pak.bufs.length; ++ii) {\n      let buf = pak.bufs[ii];\n      let bsize = pak.bsizes[ii];\n      let offs = this.fit(bsize);\n      if (bsize !== buf.byteLength) {\n        this.buf.u8.set(new Uint8Array(buf.buffer, buf.byteOffset, bsize), offs);\n      } else {\n        this.buf.u8.set(buf.u8, offs);\n      }\n    }\n  }\n  if (pak.buf) {\n    let buf = pak.buf;\n    let bsize = pak.readable ? pak.buf_len : pak.buf_offs;\n    let offs = this.fit(bsize);\n    if (bsize !== buf.byteLength) {\n      this.buf.u8.set(new Uint8Array(buf.buffer, buf.byteOffset, bsize), offs);\n    } else {\n      this.buf.u8.set(buf.u8, offs);\n    }\n  }\n};\n\nPacket.prototype.appendRemaining = function (pak) {\n  assert.equal(this.flags & FLAG_PACKET_INTERNAL, pak.flags & FLAG_PACKET_INTERNAL);\n  assert(pak.readable);\n  assert(!pak.bufs);\n  assert(pak.buf);\n  assert(pak.buf_offs <= pak.buf_len);\n  let bsize = pak.buf_len - pak.buf_offs;\n  if (bsize) {\n    let offs = this.fit(bsize);\n    this.buf.u8.set(new Uint8Array(pak.buf.buffer, pak.buf.byteOffset + pak.buf_offs, bsize), offs);\n  }\n  // everything consumed, pool it\n  pak.pool();\n};\n\nPacket.prototype.toJSON = function () {\n  let ret = {\n    f: this.flags,\n  };\n\n  if (this.bufs) {\n    ret.b = [];\n    for (let ii = 0; ii < this.bufs.length; ++ii) {\n      ret.b.push(base64Encode(this.bufs[ii], 0, this.bsizes[ii]));\n    }\n  }\n  if (this.buf) {\n    if (this.readable) {\n      ret.d = base64Encode(this.buf, 0, this.buf_len);\n    } else {\n      ret.d = base64Encode(this.buf, 0, this.buf_offs);\n    }\n  }\n  return ret;\n};\n\nPacket.prototype.setBuffer = function (buf, buf_len) {\n  assert(!this.buf);\n  assert(!this.bufs);\n  assert(this.flags & PACKET_UNOWNED_BUFFER); // Probably okay if not?\n  assert(buf instanceof Uint8Array);\n  this.buf = wrapU8AsDataView(buf);\n  this.buf_len = buf_len;\n  this.readable = true;\n};\n\nPacket.prototype.getBuffer = function () {\n  assert(this.buf);\n  assert(!this.bufs);\n  return this.buf.u8;\n};\n\nPacket.prototype.getBufferLen = function () {\n  assert(this.buf);\n  assert(!this.bufs);\n  return this.readable ? this.buf_len : this.buf_offs;\n};\n\nPacket.prototype.getOffset = function () {\n  if (this.readable) {\n    return this.buf_offs;\n  }\n  return this.totalSize();\n};\n\nPacket.prototype.seek = function (pos) {\n  assert(this.readable); // .makeReadable should be called so that it is a single buffer\n  assert(pos >= 0 && pos <= this.buf_len);\n  this.buf_offs = pos;\n};\n\nPacket.prototype.writeFlags = function () {\n  assert(!this.has_flags);\n  assert.equal(this.buf_offs, 0);\n  this.writeU8(this.flags);\n  this.has_flags = true;\n};\n\nPacket.prototype.updateFlags = function (flags) {\n  assert(this.has_flags);\n  assert(!(flags & FLAG_PACKET_INTERNAL));\n  this.flags = this.flags & FLAG_PACKET_INTERNAL | flags;\n  let buf = this.bufs ? this.bufs[0] : this.buf;\n  buf.u8[0] = this.flags;\n};\n\nPacket.prototype.readFlags = function () {\n  let read = this.readU8();\n  assert.equal(read, this.flags & 0xFF);\n  this.has_flags = true;\n  return this.flags;\n};\n\nPacket.prototype.getFlags = function () {\n  return this.flags;\n};\n\nPacket.prototype.getInternalFlags = function () {\n  return this.flags & FLAG_PACKET_INTERNAL;\n};\n\nPacket.prototype.contents = function () {\n  return `pak(${this.totalSize()}b)`;\n};\n\nfunction PacketDebug(flags, init_size) {\n  this.reinit(flags, init_size);\n}\nPacketDebug.prototype.reinit = function (flags, init_size) {\n  this.in_pool = false;\n  if (pak_pool.length) {\n    this.pak = pak_pool.pop();\n    this.pak.reinit(flags, init_size, this);\n  } else {\n    this.pak = new Packet(flags, init_size, this);\n  }\n  this.warned = false;\n  this.pool_timer = setTimeout(() => {\n    console.warn(`Packet not pooled after 5s: ${this.contents()}`);\n    this.warned = true;\n  }, POOL_TIMEOUT);\n};\nPacketDebug.prototype.poolDebug = function () {\n  if (this.warned) {\n    console.warn('Packet pooled after timeout');\n  } else {\n    clearTimeout(this.pool_timer);\n  }\n  assert(!this.in_pool);\n  this.in_pool = true; // Set this, as if pooled, even if discarded\n  if (pak_debug_pool.length < POOL_PACKETS) {\n    pak_debug_pool.push(this);\n  }\n};\nconst types = [null, 'U8', 'U32', 'Int', 'Float', 'String', 'AnsiString', 'JSON', 'Bool', 'Buffer'];\n// Functions (types) that read and write a debug byte\ntypes.forEach((type, idx) => {\n  if (!type) { // don't use debug ID 0\n    return;\n  }\n  let write = `write${type}`;\n  let read = `read${type}`;\n  let write_fn = Packet.prototype[write];\n  let read_fn = Packet.prototype[read];\n  PacketDebug.prototype[write] = function (v) {\n    this.pak.writeU8(idx);\n    write_fn.call(this.pak, v);\n  };\n  PacketDebug.prototype[read] = function (param) {\n    let found_idx = this.pak.readU8();\n    if (found_idx !== idx) {\n      assert(false, `PacketDebug error: Expected ${type}(${idx}), found ${types[found_idx]}(${found_idx})`);\n    }\n    return read_fn.call(this.pak, param);\n  };\n});\nPacketDebug.prototype.zeroInt = function () {\n  this.pak.writeU8(3); // types.indexof('Int')\n  this.pak.zeroInt();\n};\n// Functions that simply fall through\n[\n  'ended',\n  'getBuffer',\n  'getBufferLen',\n  'getFlags',\n  'getInternalFlags',\n  'getOffset',\n  'makeReadable',\n  'pool',\n  'readFlags', // *not* wrapped in debug headers\n  'ref',\n  'seek',\n  'setBuffer',\n  'setReadable',\n  'toJSON',\n  'totalSize',\n  'updateFlags',\n  'writeFlags', // *not* wrapped in debug headers\n].forEach((fname) => {\n  let fn = Packet.prototype[fname];\n  PacketDebug.prototype[fname] = function () {\n    return fn.apply(this.pak, arguments); // eslint-disable-line prefer-rest-params\n  };\n});\nPacketDebug.prototype.append = function (pak) {\n  assert(pak instanceof PacketDebug);\n  this.pak.append(pak.pak);\n};\nPacketDebug.prototype.appendRemaining = function (pak) {\n  assert(pak instanceof PacketDebug);\n  this.pak.appendRemaining(pak.pak);\n};\nfunction format(v) {\n  switch (typeof v) {\n    case 'object':\n      if (v instanceof Uint8Array) {\n        return `u8<${v.length}>`;\n      }\n      return JSON.stringify(v);\n    default:\n      return v;\n  }\n}\nPacketDebug.prototype.contents = function () {\n  let { pak } = this;\n  let cur_offs = pak.getOffset();\n  let read_len = cur_offs;\n  let ret = [`buf:${pak.buf_offs}/${pak.buf_len}`];\n  if (pak.bufs) {\n    // write packet, just combine and reset location when done\n    pak.makeReadable();\n    ret.push('bufs');\n  } else if (pak.buf) {\n    // read packet, or write packet that is a single buf\n    if (pak.readable) {\n      read_len = pak.buf_len;\n    }\n    pak.buf_offs = 0;\n  } else {\n    ret.push('empty');\n    read_len = -1;\n  }\n  let saved_ref_count = pak.ref_count;\n  pak.ref(); // prevent auto pooling\n  try {\n    if (pak.has_flags) {\n      ret.push(`flags:${pak.readU8()}`);\n    }\n    while (pak.buf_offs < read_len) {\n      let type_idx = pak.readU8();\n      let type = types[type_idx];\n      if (!type) {\n        ret.push(`UnknownType:${type_idx}`);\n        break;\n      }\n      let val = pak[`read${type}`]();\n      ret.push(`${type}:${format(val)}`);\n    }\n  } catch (e) {\n    ret.push(`Error dumping packet contents: ${e}`);\n  }\n  pak.ref_count = saved_ref_count;\n  pak.buf_offs = cur_offs;\n  return ret.join(',');\n};\n\nfunction packetCreate(flags, init_size) {\n  if (flags === undefined) {\n    flags = exports.default_flags;\n  }\n  let pool = (flags & PACKET_DEBUG) ? pak_debug_pool : pak_pool;\n  if (pool.length) {\n    let pak = pool.pop();\n    pak.reinit(flags, init_size);\n    return pak;\n  }\n  if (flags & PACKET_DEBUG) {\n    return new PacketDebug(flags, init_size);\n  }\n  return new Packet(flags, init_size);\n}\nexports.packetCreate = packetCreate;\n\nfunction packetFromBuffer(buf, buf_len, need_copy) {\n  let flags = buf[0];\n  assert.equal(typeof flags, 'number'); // `buf` should be a Buffer or Uint8Array, not a DataView like other funcs here\n  if (need_copy) {\n    assert(buf_len);\n    assert(buf.buffer instanceof ArrayBuffer);\n    let pak = packetCreate(flags, buf_len);\n    if (buf.byteLength !== buf_len) {\n      buf = Buffer.from(buf.buffer, 0, buf_len);\n    }\n    pak.getBuffer().set(buf);\n    pak.setReadable();\n    return pak;\n  } else {\n    // reference unowned/unpoolable buffer\n    assert(buf instanceof Uint8Array);\n    let pak = packetCreate(flags | PACKET_UNOWNED_BUFFER);\n    pak.setBuffer(buf, buf_len || buf.byteLength);\n    return pak;\n  }\n}\nexports.packetFromBuffer = packetFromBuffer;\n\nfunction packetFromJSON(js_obj) {\n  let pak = packetCreate(js_obj.f);\n\n  let payload = pak.pak || pak;\n\n  function decode(str) {\n    return base64Decode(str, allocDataView);\n  }\n  if (js_obj.b) {\n    payload.bsizes = [];\n    payload.bufs = [];\n    for (let ii = 0; ii < js_obj.b.length; ++ii) {\n      let buf = decode(js_obj.b[ii]);\n      payload.bufs.push(buf);\n      payload.bsizes.push(buf.decode_size);\n      delete buf.decode_size;\n    }\n  }\n  if (js_obj.d) {\n    payload.buf = decode(js_obj.d);\n    payload.buf_len = payload.buf.decode_size;\n    delete payload.buf.decode_size;\n    payload.buf_offs = 0;\n  }\n\n  return pak;\n}\nexports.packetFromJSON = packetFromJSON;\n\nfunction isPacket(thing) {\n  return thing instanceof Packet || thing instanceof PacketDebug;\n}\nexports.isPacket = isPacket;\n","// Portions Copyright 2019 Jimb Esser (https://github.com/Jimbly/)\n// Released under MIT License: https://opensource.org/licenses/MIT\n/* eslint prefer-rest-params:off, no-underscore-dangle:off */\n\nconst assert = require('assert');\n\nfunction EventEmitter() {\n  this._listeners = {};\n}\n\nmodule.exports = EventEmitter;\nmodule.exports.EventEmitter = EventEmitter;\n\nfunction addListener(ee, type, fn, once) {\n  assert(typeof fn === 'function');\n  let arr = ee._listeners[type];\n  if (!arr) {\n    arr = ee._listeners[type] = [];\n  }\n  arr.push({\n    once,\n    fn,\n  });\n}\n\nEventEmitter.prototype.hasListener = function (type, fn) {\n  let arr = this._listeners[type];\n  if (!arr) {\n    return false;\n  }\n  for (let ii = 0; ii < arr.length; ++ii) {\n    if (arr[ii].fn === fn) {\n      return true;\n    }\n  }\n  return false;\n};\n\nEventEmitter.prototype.on = function (type, fn) {\n  addListener(this, type, fn, 0);\n  return this;\n};\n\nEventEmitter.prototype.once = function (type, fn) {\n  addListener(this, type, fn, 1);\n  return this;\n};\n\nEventEmitter.prototype.removeListener = function (type, fn) {\n  let arr = this._listeners[type];\n  assert(arr);\n  for (let ii = 0; ii < arr.length; ++ii) {\n    if (arr[ii].fn === fn) {\n      arr.splice(ii, 1);\n      return this;\n    }\n  }\n  assert(false); // expected to find the listener!\n  return this;\n};\n\nfunction filterNotOnce(elem) {\n  return !elem.once;\n}\n\nEventEmitter.prototype.emit = function (type, ...args) {\n  let arr = this._listeners[type];\n  if (!arr) {\n    return false;\n  }\n\n  let any = false;\n  let any_once = false;\n  for (let ii = 0; ii < arr.length; ++ii) {\n    let elem = arr[ii];\n    any = true;\n    elem.fn(...args);\n    if (elem.once) {\n      any_once = true;\n    }\n  }\n  if (any_once) {\n    this._listeners[type] = arr.filter(filterNotOnce);\n  }\n\n  return any;\n};\n\n// Aliases\n// EventEmitter.prototype.addListener = EventEmitter.prototype.on;\n","// Portions Copyright 2019 Jimb Esser (https://github.com/Jimbly/)\n// Released under MIT License: https://opensource.org/licenses/MIT\n\nconst assert = require('assert');\nconst { abs, floor, min, max, random, round, pow, sqrt } = Math;\n\nexport function nop() {\n  // empty\n}\n\nexport function empty(obj) {\n  for (let key in obj) {\n    return false;\n  }\n  return true;\n}\n\nexport function easeInOut(v, a) {\n  let va = pow(v, a);\n  return va / (va + pow(1 - v, a));\n}\n\nexport function easeIn(v, a) {\n  return 2 * easeInOut(0.5 * v, a);\n}\n\nexport function easeOut(v, a) {\n  return 2 * easeInOut(0.5 + 0.5 * v, a) - 1;\n}\n\nexport function clone(obj) {\n  return JSON.parse(JSON.stringify(obj));\n}\n\nexport function merge(dest, src) {\n  for (let f in src) {\n    dest[f] = src[f];\n  }\n  return dest;\n}\n\nexport function has(obj, field) {\n  return Object.prototype.hasOwnProperty.call(obj, field);\n}\n\nexport function defaults(dest, src) {\n  for (let f in src) {\n    if (!has(dest, f)) {\n      dest[f] = src[f];\n    }\n  }\n  return dest;\n}\n\nexport function defaultsDeep(dest, src) {\n  for (let f in src) {\n    if (!has(dest, f)) {\n      dest[f] = src[f];\n    } else if (typeof dest[f] === 'object') {\n      defaultsDeep(dest[f], src[f]);\n    }\n  }\n  return dest;\n}\n\nexport function cloneShallow(src) {\n  return merge({}, src);\n}\n\nexport function deepEqual(a, b) {\n  if (Array.isArray(a)) {\n    if (!Array.isArray(b)) {\n      return false;\n    }\n    if (a.length !== b.length) {\n      return false;\n    }\n    for (let ii = 0; ii < a.length; ++ii) {\n      if (!deepEqual(a[ii], b[ii])) {\n        return false;\n      }\n    }\n    return true;\n  } else if (typeof a === 'object') {\n    if (typeof b !== 'object') {\n      return false;\n    }\n    if (!a || !b) { // at least one is null\n      return !a && !b; // equal if both are null\n    }\n    for (let key in a) {\n      // b must have key, or both a[key] and b[key] are undefined\n      if (!deepEqual(a[key], b[key])) {\n        return false;\n      }\n    }\n    for (let key in b) {\n      // if b has key and it's defined, a must also be defined (and would have checked equality above)\n      if (b[key] !== undefined && a[key] === undefined) {\n        return false;\n      }\n    }\n    return true;\n  }\n  return a === b;\n}\n\nexport function clamp(v, mn, mx) {\n  return min(max(mn, v), mx);\n}\n\nexport function lerp(a, v0, v1) {\n  return (1 - a) * v0 + a * v1;\n}\n\nexport function mix(v0, v1, a) { // GLSL semantics\n  return (1 - a) * v0 + a * v1;\n}\n\nexport function sign(a) {\n  return a < 0 ? -1 : a > 0 ? 1 : 0;\n}\n\n// log2 rounded up to nearest integer\nexport function log2(val) {\n  for (let ii=1, jj=0; ; ii <<= 1, ++jj) { // eslint-disable-line no-bitwise\n    if (ii >= val) {\n      return jj;\n    }\n  }\n}\n\nexport function ridx(arr, idx) {\n  arr[idx] = arr[arr.length - 1];\n  arr.pop();\n}\n\nexport function round100(a) {\n  return round(a * 100) / 100;\n}\n\nexport function round1000(a) {\n  return round(a * 1000) / 1000;\n}\n\nexport function fract(a) {\n  return a - floor(a);\n}\n\nexport function nearSame(a, b, tol) {\n  return abs(b - a) <= tol;\n}\n\nexport function titleCase(str) {\n  return str.split(' ').map((word) => `${word[0].toUpperCase()}${word.slice(1)}`)\n    .join(' ');\n}\n\nconst EPSILON = 0.00001;\n\n// http://local.wasp.uwa.edu.au/~pbourke/geometry/sphereline/\nexport function lineCircleIntersect(p1, p2, pCircle, radius) {\n  let dp = [\n    p2[0] - p1[0],\n    p2[1] - p1[1]\n  ];\n  let a = dp[0] * dp[0] + dp[1] * dp[1];\n  let b = 2 * (dp[0] * (p1[0] - pCircle[0]) + dp[1] * (p1[1] - pCircle[1]));\n  let c = pCircle[0] * pCircle[0] + pCircle[1] * pCircle[1];\n  c += p1[0] * p1[0] + p1[1] * p1[1];\n  c -= 2 * (pCircle[0] * p1[0] + pCircle[1] * p1[1]);\n  c -= radius * radius;\n  let bb4ac = b * b - 4 * a * c;\n  if (abs(a) < EPSILON || bb4ac < 0) {\n    return false;\n  }\n\n  let mu1 = (-b + sqrt(bb4ac)) / (2 * a);\n  let mu2 = (-b - sqrt(bb4ac)) / (2 * a);\n  if (mu1 >= 0 && mu1 <= 1 || mu2 >= 0 && mu2 <= 1) {\n    return true;\n  }\n\n  return false;\n}\n\nexport function inherits(ctor, superCtor) {\n  // From Node.js\n  assert(typeof superCtor === 'function');\n  // not needed? ctor.super_ = superCtor; // eslint-disable-line no-underscore-dangle\n  // second parameter also not actually needed, just defines new Foo().constructor === Foo?\n  ctor.prototype = Object.create(superCtor.prototype, {\n    constructor: {\n      value: ctor,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n}\n\nexport function isPowerOfTwo(n) {\n  return ((n & (n - 1)) === 0); // eslint-disable-line no-bitwise\n}\n\nexport function nextHighestPowerOfTwo(x) {\n  --x;\n  for (let i = 1; i < 32; i <<= 1) { // eslint-disable-line no-bitwise\n    x |= x >> i; // eslint-disable-line no-bitwise\n  }\n  return x + 1;\n}\n\nexport function logdata(data) {\n  if (data === undefined) {\n    return '';\n  }\n  let r = JSON.stringify(data);\n  if (r.length < 120) {\n    return r;\n  }\n  return `${r.slice(0, 120-3)}...`;\n}\n\nexport function isInteger(v) {\n  return typeof v === 'number' && isFinite(v) && floor(v) === v;\n}\n\nexport function toNumber(v) {\n  return Number(v);\n}\n\nexport function randomNot(not_value, max_value) {\n  let new_value;\n  do {\n    new_value = floor(random() * max_value);\n  } while (new_value === not_value);\n  return new_value;\n}\n\nexport function toArray(array_like) {\n  return Array.prototype.slice.call(array_like);\n}\n\nexport function matchAll(str, re) {\n  let ret = [];\n  let m;\n  do {\n    m = re.exec(str);\n    if (m) {\n      ret.push(m[1]);\n    }\n  } while (m);\n  return ret;\n}\n\nexport function callEach(arr, pre_clear, ...args) {\n  if (arr && arr.length) {\n    for (let ii = 0; ii < arr.length; ++ii) {\n      arr[ii](...args);\n    }\n  }\n}\n","// Portions Copyright 2019 Jimb Esser (https://github.com/Jimbly/)\n// Released under MIT License: https://opensource.org/licenses/MIT\n\nconst ack = require('./ack.js');\nconst assert = require('assert');\nconst { ackHandleMessage, ackReadHeader, ackWrapPakStart, ackWrapPakPayload, ackWrapPakFinish } = ack;\nconst packet = require('./packet.js');\nconst { isPacket, packetCreate, packetFromBuffer } = packet;\n\nexport const CONNECTION_TIMEOUT = 60000;\nexport const PING_TIME = CONNECTION_TIMEOUT / 2;\nexports.PROTOCOL_VERSION = '1';\n\n// Rough estimate, if over, will prevent resizing the packet\nconst PAK_HEADER_SIZE = 1 + // flags\n  1+16 + // message id\n  1+9; // resp_pak_id\n\nexport function wsPakSendDest(client, pak) {\n  if (!client.connected || client.socket.readyState !== 1) {\n    // We only get to this particular location from wsserver.broadcast*, all\n    //   other paths will print the actual message and error earlier.\n    console.warn(`Attempting to send on a disconnected link (client_id:${client.id}), ignoring`);\n    pak.pool();\n    return;\n  }\n  let buf = pak.getBuffer(); // a Uint8Array\n  let buf_len = pak.getBufferLen();\n  if (buf_len !== buf.length) {\n    buf = new Uint8Array(buf.buffer, buf.byteOffset, buf_len);\n  }\n  if (client.ws_server) {\n    client.socket.send(buf, function () {\n      pak.pool();\n    });\n  } else {\n    client.socket.send(buf);\n    pak.pool();\n  }\n  client.last_send_time = Date.now();\n}\n\nfunction wsPakSendFinish(pak, err, resp_func) {\n  let { client, msg } = pak.ws_data;\n  delete pak.ws_data;\n  let ack_resp_pkt_id = ackWrapPakFinish(pak, err, resp_func);\n\n  if (!client.connected || client.socket.readyState !== 1) { // WebSocket.OPEN\n    if (msg === 'channel_msg') { // client -> server channel message, attach additional debugging info\n      pak.seek(0);\n      pak.readFlags();\n      let header = ackReadHeader(pak);\n      let is_packet = isPacket(header.data);\n      let channel_id;\n      let submsg;\n      if (is_packet) {\n        pak.ref(); // deal with auto-pool of an empty packet\n        channel_id = pak.readAnsiString();\n        submsg = pak.readAnsiString();\n        if (!pak.ended()) {\n          pak.pool();\n        }\n      } else {\n        channel_id = header.data.channel_id;\n        submsg = header.data.msg;\n      }\n      msg = `channel_msg:${channel_id}:${submsg}`;\n    }\n    (client.log ? client : console).log(`Attempting to send msg=${msg} on a disconnected link, ignoring`);\n    if (!client.log && client.onError && msg && typeof msg !== 'number') {\n      // On the client, if we try to send a new packet while disconnected, this is an application error\n      client.onError(`Attempting to send msg=${msg} on a disconnected link`);\n    }\n\n    if (ack_resp_pkt_id) {\n      // Callback will never be dispatched through ack.js, remove the callback here\n      delete client.resp_cbs[ack_resp_pkt_id];\n    }\n    pak.pool();\n    return;\n  }\n\n  assert.equal(Boolean(resp_func && resp_func.expecting_response !== false), Boolean(ack_resp_pkt_id));\n\n  wsPakSendDest(client, pak);\n}\n\nfunction wsPakSend(err, resp_func) {\n  let pak = this; //eslint-disable-line no-invalid-this\n  if (typeof err === 'function' && !resp_func) {\n    resp_func = err;\n    err = null;\n  }\n  wsPakSendFinish(pak, err, resp_func);\n}\n\nexport function wsPak(msg, ref_pak, client) {\n  assert(typeof msg === 'string' || typeof msg === 'number');\n\n  // Assume new packet needs to be comparable to old packet, in flags and size\n  let pak = packetCreate(ref_pak ? ref_pak.getInternalFlags() : packet.default_flags,\n    ref_pak ? ref_pak.totalSize() + PAK_HEADER_SIZE : 0);\n  pak.writeFlags();\n\n  ackWrapPakStart(pak, client, msg);\n\n  pak.ws_data = {\n    msg,\n    client,\n  };\n  pak.send = wsPakSend;\n  return pak;\n}\n\nfunction sendMessageInternal(client, msg, err, data, resp_func) {\n  let is_packet = isPacket(data);\n  let pak = wsPak(msg, is_packet ? data : null, client);\n\n  if (!err) {\n    ackWrapPakPayload(pak, data);\n  }\n\n  pak.send(err, resp_func);\n}\n\nexport function sendMessage(msg, data, resp_func) {\n  sendMessageInternal(this, msg, null, data, resp_func); // eslint-disable-line no-invalid-this\n}\n\nexport function wsHandleMessage(client, buf) {\n  let now = Date.now();\n  let source = client.id ? `client ${client.id}` : 'server';\n  if (!(buf instanceof Uint8Array)) {\n    (client.log ? client : console).log(`Received incorrect WebSocket data type from ${source} (${typeof buf})`);\n    return client.onError('Invalid data received');\n  }\n  let pak = packetFromBuffer(buf, buf.length, false);\n  pak.readFlags();\n  client.last_receive_time = now;\n\n  return ackHandleMessage(client, source, pak, function sendFunc(msg, err, data, resp_func) {\n    if (resp_func && !resp_func.expecting_response) {\n      resp_func = null;\n    }\n    sendMessageInternal(client, msg, err, data, resp_func);\n  }, function pakFunc(msg, ref_pak) {\n    return wsPak(msg, ref_pak, client);\n  }, function handleFunc(msg, data, resp_func) {\n    let handler = client.handlers[msg];\n    if (!handler) {\n      let error_msg = `No handler for message ${JSON.stringify(msg)} from ${source}`;\n      console.error(error_msg, isPacket(data) ? data.contents() : data);\n      if (client.onError) {\n        return client.onError(error_msg);\n      }\n      return resp_func(error_msg);\n    }\n    return handler(client, data, resp_func);\n  });\n}\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJkaXN0L2dhbWUvYnVpbGQuaW50ZXJtZWRpYXRlL2NsaWVudC9jbGllbnQvYXBwLmpzIiwiZGlzdC9nYW1lL2J1aWxkLmludGVybWVkaWF0ZS9jbGllbnQvY2xpZW50L2Jpb21lX3Rlc3QuanMiLCJkaXN0L2dhbWUvYnVpbGQuaW50ZXJtZWRpYXRlL2NsaWVudC9jbGllbnQvY29udGluZW50X2dlbi5qcyIsImRpc3QvZ2FtZS9idWlsZC5pbnRlcm1lZGlhdGUvY2xpZW50L2NsaWVudC9jb250aW5lbnRfc2VyaWFsaXplLmpzIiwiZGlzdC9nYW1lL2J1aWxkLmludGVybWVkaWF0ZS9jbGllbnQvY2xpZW50L2NvbnRpbmVudF9zZXJpYWxpemVfdGVzdC5qcyIsImRpc3QvZ2FtZS9idWlsZC5pbnRlcm1lZGlhdGUvY2xpZW50L2dsb3YvY2xpZW50L2dsb3YvYm9vdHN0cmFwLmpzIiwiZGlzdC9nYW1lL2J1aWxkLmludGVybWVkaWF0ZS9jbGllbnQvZ2xvdi9jbGllbnQvZ2xvdi9jYW1lcmEyZC5qcyIsImRpc3QvZ2FtZS9idWlsZC5pbnRlcm1lZGlhdGUvY2xpZW50L2dsb3YvY2xpZW50L2dsb3YvY21kcy5qcyIsImRpc3QvZ2FtZS9idWlsZC5pbnRlcm1lZGlhdGUvY2xpZW50L2dsb3YvY2xpZW50L2dsb3YvZWRpdF9ib3guanMiLCJkaXN0L2dhbWUvYnVpbGQuaW50ZXJtZWRpYXRlL2NsaWVudC9nbG92L2NsaWVudC9nbG92L2VmZmVjdHMuanMiLCJkaXN0L2dhbWUvYnVpbGQuaW50ZXJtZWRpYXRlL2NsaWVudC9nbG92L2NsaWVudC9nbG92L2VuZ2luZS5qcyIsImRpc3QvZ2FtZS9idWlsZC5pbnRlcm1lZGlhdGUvY2xpZW50L2dsb3YvY2xpZW50L2dsb3YvZmJpbnN0YW50LmpzIiwiZGlzdC9nYW1lL2J1aWxkLmludGVybWVkaWF0ZS9jbGllbnQvZ2xvdi9jbGllbnQvZ2xvdi9maWxld2F0Y2guanMiLCJkaXN0L2dhbWUvYnVpbGQuaW50ZXJtZWRpYXRlL2NsaWVudC9nbG92L2NsaWVudC9nbG92L2ZvbnQuanMiLCJkaXN0L2dhbWUvYnVpbGQuaW50ZXJtZWRpYXRlL2NsaWVudC9nbG92L2NsaWVudC9nbG92L2dlb20uanMiLCJkaXN0L2dhbWUvYnVpbGQuaW50ZXJtZWRpYXRlL2NsaWVudC9nbG92L2dsYi9jbGllbnQvZ2xvdi9nbGIvZGVjb2RlLXV0ZjguanMiLCJkaXN0L2dhbWUvYnVpbGQuaW50ZXJtZWRpYXRlL2NsaWVudC9nbG92L2dsYi9jbGllbnQvZ2xvdi9nbGIvZ2x0Zi10eXBlLXV0aWxzLmpzIiwiZGlzdC9nYW1lL2J1aWxkLmludGVybWVkaWF0ZS9jbGllbnQvZ2xvdi9nbGIvY2xpZW50L2dsb3YvZ2xiL3BhcnNlci5qcyIsImRpc3QvZ2FtZS9idWlsZC5pbnRlcm1lZGlhdGUvY2xpZW50L2dsb3YvZ2xiL2NsaWVudC9nbG92L2dsYi91bnBhY2stYmluYXJ5LWpzb24uanMiLCJkaXN0L2dhbWUvYnVpbGQuaW50ZXJtZWRpYXRlL2NsaWVudC9nbG92L2dsYi9jbGllbnQvZ2xvdi9nbGIvdW5wYWNrLWdsYi1idWZmZXJzLmpzIiwiZGlzdC9nYW1lL2J1aWxkLmludGVybWVkaWF0ZS9jbGllbnQvZ2xvdi9jbGllbnQvZ2xvdi9pbl9ldmVudC5qcyIsImRpc3QvZ2FtZS9idWlsZC5pbnRlcm1lZGlhdGUvY2xpZW50L2dsb3YvY2xpZW50L2dsb3YvaW5wdXQuanMiLCJkaXN0L2dhbWUvYnVpbGQuaW50ZXJtZWRpYXRlL2NsaWVudC9nbG92L2NsaWVudC9nbG92L2xpbmsuanMiLCJkaXN0L2dhbWUvYnVpbGQuaW50ZXJtZWRpYXRlL2NsaWVudC9nbG92L2NsaWVudC9nbG92L2xvY2FsX3N0b3JhZ2UuanMiLCJkaXN0L2dhbWUvYnVpbGQuaW50ZXJtZWRpYXRlL2NsaWVudC9nbG92L2NsaWVudC9nbG92L21hdDQzLmpzIiwiZGlzdC9nYW1lL2J1aWxkLmludGVybWVkaWF0ZS9jbGllbnQvZ2xvdi9jbGllbnQvZ2xvdi9tb2RlbHMuanMiLCJkaXN0L2dhbWUvYnVpbGQuaW50ZXJtZWRpYXRlL2NsaWVudC9nbG92L2NsaWVudC9nbG92L25ldC5qcyIsImRpc3QvZ2FtZS9idWlsZC5pbnRlcm1lZGlhdGUvY2xpZW50L2dsb3YvY2xpZW50L2dsb3YvcGFydGljbGVzLmpzIiwiZGlzdC9nYW1lL2J1aWxkLmludGVybWVkaWF0ZS9jbGllbnQvZ2xvdi9jbGllbnQvZ2xvdi9wZXJmLmpzIiwiZGlzdC9nYW1lL2J1aWxkLmludGVybWVkaWF0ZS9jbGllbnQvZ2xvdi9jbGllbnQvZ2xvdi9wb2ludGVyX2xvY2suanMiLCJkaXN0L2dhbWUvYnVpbGQuaW50ZXJtZWRpYXRlL2NsaWVudC9nbG92L2NsaWVudC9nbG92L3BvbHlmaWxsLmpzIiwiZGlzdC9nYW1lL2J1aWxkLmludGVybWVkaWF0ZS9jbGllbnQvZ2xvdi9jbGllbnQvZ2xvdi9yYW5kX2FsZWEuanMiLCJkaXN0L2dhbWUvYnVpbGQuaW50ZXJtZWRpYXRlL2NsaWVudC9nbG92L2NsaWVudC9nbG92L3NldHRpbmdzLmpzIiwiZGlzdC9nYW1lL2J1aWxkLmludGVybWVkaWF0ZS9jbGllbnQvZ2xvdi9jbGllbnQvZ2xvdi9zaGFkZXJzLmpzIiwiZGlzdC9nYW1lL2J1aWxkLmludGVybWVkaWF0ZS9jbGllbnQvZ2xvdi9jbGllbnQvZ2xvdi9zb3VuZC5qcyIsImRpc3QvZ2FtZS9idWlsZC5pbnRlcm1lZGlhdGUvY2xpZW50L2dsb3YvY2xpZW50L2dsb3Yvc3ByaXRlcy5qcyIsImRpc3QvZ2FtZS9idWlsZC5pbnRlcm1lZGlhdGUvY2xpZW50L2dsb3YvY2xpZW50L2dsb3Yvc3Vic2NyaXB0aW9uX21hbmFnZXIuanMiLCJkaXN0L2dhbWUvYnVpbGQuaW50ZXJtZWRpYXRlL2NsaWVudC9nbG92L2NsaWVudC9nbG92L3RleHR1cmVzLmpzIiwiZGlzdC9nYW1lL2J1aWxkLmludGVybWVkaWF0ZS9jbGllbnQvZ2xvdi9jbGllbnQvZ2xvdi90cmFuc2l0aW9uLmpzIiwiZGlzdC9nYW1lL2J1aWxkLmludGVybWVkaWF0ZS9jbGllbnQvZ2xvdi9jbGllbnQvZ2xvdi91aS5qcyIsImRpc3QvZ2FtZS9idWlsZC5pbnRlcm1lZGlhdGUvY2xpZW50L2dsb3YvY2xpZW50L2dsb3YvdXJsaGFzaC5qcyIsImRpc3QvZ2FtZS9idWlsZC5pbnRlcm1lZGlhdGUvY2xpZW50L2dsb3YvY2xpZW50L2dsb3Yvdm1hdGguanMiLCJkaXN0L2dhbWUvYnVpbGQuaW50ZXJtZWRpYXRlL2NsaWVudC9nbG92L2NsaWVudC9nbG92L3dhbGx0aW1lLmpzIiwiZGlzdC9nYW1lL2J1aWxkLmludGVybWVkaWF0ZS9jbGllbnQvZ2xvdi9jbGllbnQvZ2xvdi93ZWJmcy5qcyIsImRpc3QvZ2FtZS9idWlsZC5pbnRlcm1lZGlhdGUvY2xpZW50L2dsb3YvY2xpZW50L2dsb3Yvd3NjbGllbnQuanMiLCJkaXN0L2dhbWUvYnVpbGQuaW50ZXJtZWRpYXRlL2NsaWVudC9pbWcvZm9udC8wNGIwM184eDEuanNvbiIsImRpc3QvZ2FtZS9idWlsZC5pbnRlcm1lZGlhdGUvY2xpZW50L2ltZy9mb250LzA0YjAzXzh4Mi5qc29uIiwiZGlzdC9nYW1lL2J1aWxkLmludGVybWVkaWF0ZS9jbGllbnQvaW1nL2ZvbnQvcGFsYW5xdWluMzIuanNvbiIsImRpc3QvZ2FtZS9idWlsZC5pbnRlcm1lZGlhdGUvY2xpZW50L2NsaWVudC9tYWluLmpzIiwiZGlzdC9nYW1lL2J1aWxkLmludGVybWVkaWF0ZS9jbGllbnQvY2xpZW50L3Byb2NfZ2VuX2NvbnN0YW50cy5qcyIsImRpc3QvZ2FtZS9idWlsZC5pbnRlcm1lZGlhdGUvY29tbW9uL2NvbW1vbi9hY2suanMiLCJkaXN0L2dhbWUvYnVpbGQuaW50ZXJtZWRpYXRlL2NvbW1vbi9kaXN0L2dhbWUvYnVpbGQuaW50ZXJtZWRpYXRlL2NvbW1vbi9jb21tb24vYmFzZTY0LmpzIiwiZGlzdC9nYW1lL2J1aWxkLmludGVybWVkaWF0ZS9jb21tb24vY29tbW9uL2NtZF9wYXJzZS5qcyIsImRpc3QvZ2FtZS9idWlsZC5pbnRlcm1lZGlhdGUvY29tbW9uL2NvbW1vbi9tZDUuanMiLCJkaXN0L2dhbWUvYnVpbGQuaW50ZXJtZWRpYXRlL2NvbW1vbi9kaXN0L2dhbWUvYnVpbGQuaW50ZXJtZWRpYXRlL2NvbW1vbi9jb21tb24vcGFja2V0LmpzIiwiZGlzdC9nYW1lL2J1aWxkLmludGVybWVkaWF0ZS9jb21tb24vY29tbW9uL3RpbnktZXZlbnRzLmpzIiwiZGlzdC9nYW1lL2J1aWxkLmludGVybWVkaWF0ZS9jb21tb24vY29tbW9uL3V0aWwuanMiLCJkaXN0L2dhbWUvYnVpbGQuaW50ZXJtZWRpYXRlL2NvbW1vbi9jb21tb24vd3Njb21tb24uanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7YUNJQSxJQUFJLFlBQWMsTUFDbEIsT0FBTyxPQUFTLFdBQ2QsR0FBSSxZQUFhLENBQ2YsT0FFRixZQUFjLEtBRWQsUUFBUSx1QkFDUixRQUFRLGFBQWE7Ozs7NkRDVnZCLElBQU0sT0FBUyxRQUFRLFUsSUFDZixJQUFRLEtBQVIsSSxhQUNlLFFBQVEsdUJBQXZCLFcsU0FBQSxXLGNBRTJELFFBQVEsMkJBQW5FLFEsVUFBQSxRQUFTLFMsVUFBQSxTQUFVLFEsVUFBQSxRQUFTLFksVUFBQSxZQUFhLGMsVUFBQSxjQUVqRCxTQUFTLElBQUksRUFBRSxFQUFFLEdBQ2YsT0FBTyxJQUFJLFdBQVcsQ0FBQyxFQUFHLEVBQUcsRUFBRyxNQUVsQyxJQUFNLE1BQVEsSUFBSSxFQUFHLEVBQUcsS0FDeEIsSUFBTSxZQUFjLElBQUksSUFBSyxFQUFHLEtBQ2hDLElBQU0sT0FBUyxJQUFJLElBQUksSUFBSSxLQUMzQixJQUFNLFVBQVksSUFBSSxJQUFJLElBQUksS0FDOUIsSUFBTSxPQUFTLElBQUksR0FBRyxHQUFHLElBQ3pCLElBQU0sYUFBZSxJQUFJLEdBQUcsSUFBSSxJQUNoQyxJQUFNLGFBQWUsSUFBSSxHQUFHLEdBQUcsSUFDL0IsSUFBTSxjQUFnQixJQUFJLEdBQUcsSUFBSSxJQUNq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SUFBSSxZQUN6QixFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsR0FBSSxJQUFJLFlBQ3pCLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxHQUFJLElBQUksWUFDekIsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLElBQUksSUFBSSxZQUN6QixFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsSUFBSSxJQUFJLFlBQ3pCLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxJQUFJLElBQUksWUFDekIsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLElBQUksSUFBSSxZQUN6QixFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsSUFBSSxJQUFJLFlBQ3pCLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxJQUFJLElBQUksWUFDekIsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEdBQUksSUFBSSxZQUN6QixFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsR0FBSSxJQUFJLFlBQ3pCLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxJQUFJLElBQUksV0FDekIsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxHQUFJLElBQUksWUFDdkIsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEdBQUksSUFBSSxZQUN6QixFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsSUFBSSxJQUFJLFVBQ3pCLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxJQUFJLElBQUksWUFDekIsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEdBQUksSUFBSSxZQUN6QixFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsR0FBSSxJQUFJLFdBQ3pCLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxJQUFJLElBQUksWUFDekIsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEdBQUksSUFBSSxZQUN6QixFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsR0FBSSxJQUFJLFlBQ3pCLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxJQUFJLElBQUksWUFDekIsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEdBQUksSUFBSSxZQUN6QixFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsR0FBSSxJQUFJLFlBQ3pCLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxJQUFJLElBQUksWUFDekIsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEdBQUksSUFBSSxZQUN6QixFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsR0FBSSxJQUFJLFlBQ3pCLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxJQUFJLElBQUksWUFDekIsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLElBQUksSUFBSSxZQUN6QixFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsR0FBSSxJQUFJLFlBQ3pCLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxHQUFJLElBQUksWUFDekIsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEdBQUksSUFBSSxZQUN6QixFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsSUFBSSxJQUFJLFlBQ3pCLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxJQUFJLElBQUksV0FDekIsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxHQUFJLElBQUksWUFDdkIsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEdBQUksSUFBSSxZQUN6QixFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsR0FBSSxJQUFJLFVBQ3pCLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxHQUFJLElBQUksWUFDekIsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLElBQUksSUFBSSxZQUN6QixFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsSUFBSSxJQUFJLFdBQ3pCLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxHQUFJLElBQUksWUFDekIsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxHQUFJLElBQUksWUFDdkIsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEdBQUksSUFBSSxZQUN6QixFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsSUFBSSxJQUFJLFlBQ3pCLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxHQUFJLElBQUksWUFDekIsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLElBQUksSUFBSSxZQUN6QixFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsR0FBSSxJQUFJLFlBQ3pCLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxJQUFJLElBQUksWUFDekIsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEdBQUksSUFBSSxZQUN6QixFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsR0FBSSxJQUFJLFlBQ3pCLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxJQUFJLElBQUksWUFDekIsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEdBQUksSUFBSSxZQUN6QixFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsSUFBSSxJQUFJLFlBQ3pCLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxHQUFJLElBQUksWUFDekIsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLElBQUksSUFBSSxZQUN6QixFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsR0FBSSxJQUFJLFdBQ3pCLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxHQUFJLElBQUksWUFDekIsRUFBRSxZQUFZLEVBQUUsSUFDaEIsRUFBRSxZQUFZLEVBQUUsSUFDaEIsRUFBRSxZQUFZLEVBQUUsSUFDaEIsRUFBRSxZQUFZLEVBQUUsSUFHbEIsSUFBSSxLQUFPLFVBQVUsR0FBRyxVQUFVLEdBQUcsVUFBVSxHQUFHLFVBQVUsR0FDNUQsT0FBTyxLQUFLOzs7Ozt1R0N2UWQsSUFBTSxhQUFlLFFBQVEsYUFBZSxHQUFHLEVBQy9DLElBQU0saUJBQW1CLFFBQVEsaUJBQW1CLEdBQUcsRUFDdkQsSUFBTSxpQkFBbUIsUUFBUSxpQkFBbUIsR0FBRyxFQUN2RCxJQUFNLHFCQUF1QixhQUFlLGlCQUFtQixpQkFHL0QsSUFBTSxzQkFBd0IsR0FBSyxFQUVuQyxRQUFRLGNBQWdCLEVBRXhCLElBQU0sT0FBUyxRQUFRLFUsSUFDZixJQUFRLEtBQVIsSSxhQUNvQixRQUFRLHFCQUE1QixVLFNBQUEsVUFBVyxLLFNBQUEsSyxjQUVvQixRQUFRLHVCQUF2QyxhLFVBQUEsYUFBYyxhLFVBQUEsYUFFdEIsSUFBTSxPQUFTLENBQUMsVUFBVyxLQUFNLEVBQUcsTUFBTyxHQUFJLEtBQy9DLElBQU0scUJBQXVCLEtBRTdCLElBQU0sU0FBVyxrQkFFakIsSUFBTSxhQUFlLElBQ3JCLElBQU0sYUFBZSxJQUNyQixJQUFNLGlCQUFtQixDQUN2QixFQUNBLEdBQ0EsR0FDQSxHQUNBLEdBQ0EsR0FDQSxHQUNBLEdBQ0EsR0FDQSxHQUNBLElBQ0EsR0FDQSxHQUNBLEdBQ0EsR0FDQSxHQUNBLEdBQ0EsR0FDQSxJQUdGLElBQUksU0FBVyxHQUNmLElBQUksZUFBaUIsR0FDckIsSUFBSSxTQUFXLGlCQUFpQixJQUFJLFdBQUEsTUFBTSxLQUUxQyxTQUFTLGNBQWMsTUFDckIsSUFBSSxTQUFXLEtBQUssTUFDcEIsT0FBTyxVQUNQLEdBQUksVUFBWSxTQUFTLE9BQVEsQ0FDL0IsU0FBVyxFQUViLEdBQUksU0FBVSxDQUNaLEtBQU8sR0FBSyxTQUNaLEdBQUksU0FBUyxVQUFVLE9BQVEsQ0FHN0IsT0FBTyxTQUFTLFVBQVUsV0FFdkIsRUFLUCxJQUFJLEdBQUssSUFBSSxXQUFXLE1BQ3hCLElBQUksR0FBSyxJQUFJLFNBQVMsR0FBRyxRQUN6QixHQUFHLEdBQUssR0FDUixHQUFJLFNBQVUsQ0FDWixHQUFHLGdCQUFrQixTQUV2QixPQUFPLEdBR1QsU0FBUyxpQkFBaUIsSUFDeEIsSUFBSSxHQUFLLElBQUksU0FBUyxHQUFHLE9BQVEsR0FBRyxXQUFZLEdBQUcsWUFDbkQsR0FBRyxHQUFLLEdBQ1IsT0FBTyxHQUdULFNBQVMsZUFBZSxLQUN0QixJQUFJLElBQU0sSUFBSSxPQUNkLElBQUksSUFBTSxJQUNWLElBQUssSUFBSSxHQUFLLEVBQUcsR0FBSyxNQUFPLEdBQUksQ0FDL0IsSUFBSSxFQUFJLElBQUksV0FBVyxJQUN2QixHQUFJLEVBQUksSUFBTSxHQUNWLElBQ0YsR0FBSSxFQUFJLEtBQVEsR0FDWixJQUNGLEdBQUksRUFBSSxNQUFRLEdBQ1osSUFDRixHQUFJLEVBQUksUUFBVSxHQUNkLElBQ0YsR0FBSSxFQUFJLFNBQVcsR0FDZixTQU9kLE9BQU8sSUFJVCxTQUFTLGNBQWMsSUFBSyxTQUFVLEdBQ3BDLEdBQUksR0FBSyxJQUFNLENBQ2IsSUFBSSxHQUFHLFlBQWMsT0FDaEIsR0FBSSxHQUFLLEtBQVEsQ0FDdEIsSUFBSSxHQUFHLFlBQWUsR0FBSyxFQUFLLElBQ2hDLElBQUksR0FBRyxZQUFlLEVBQUksR0FBUSxTQUM3QixHQUFJLEdBQUssTUFBUSxDQUN0QixJQUFJLEdBQUcsWUFBZSxHQUFLLEdBQU0sSUFDakMsSUFBSSxHQUFHLFlBQWdCLEdBQUssRUFBSyxHQUFRLElBQ3pDLElBQUksR0FBRyxZQUFlLEVBQUksR0FBUSxTQUM3QixHQUFJLEdBQUssUUFBVSxDQUN4QixJQUFJLEdBQUcsWUFBZSxHQUFLLEdBQU0sSUFDakMsSUFBSSxHQUFHLFlBQWdCLEdBQUssR0FBTSxHQUFRLElBQzFDLElBQUksR0FBRyxZQUFnQixHQUFLLEVBQUssR0FBUSxJQUN6QyxJQUFJLEdBQUcsWUFBZSxFQUFJLEdBQVEsU0FDN0IsR0FBSSxHQUFLLFNBQVcsQ0FDekIsSUFBSSxHQUFHLFlBQWUsR0FBSyxHQUFNLElBQ2pDLElBQUksR0FBRyxZQUFnQixHQUFLLEdBQU0sR0FBUSxJQUMxQyxJQUFJLEdBQUcsWUFBZ0IsR0FBSyxHQUFNLEdBQVEsSUFDMUMsSUFBSSxHQUFHLFlBQWdCLEdBQUssRUFBSyxHQUFRLElBQ3pDLElBQUksR0FBRyxZQUFlLEVBQUksR0FBUSxTQUM3QixHQUFJLEdBQUssV0FBWSxDQUMxQixJQUFJLEdBQUcsWUFBZSxHQUFLLEdBQU0sSUFDakMsSUFBSSxHQUFHLFlBQWdCLEdBQUssR0FBTSxHQUFRLElBQzFDLElBQUksR0FBRyxZQUFnQixHQUFLLEdBQU0sR0FBUSxJQUMxQyxJQUFJLEdBQUcsWUFBZ0IsR0FBSyxHQUFNLEdBQVEsSUFDMUMsSUFBSSxHQUFHLFlBQWdCLEdBQUssRUFBSyxHQUFRLElBQ3pDLElBQUksR0FBRyxZQUFlLEVBQUksR0FBUSxJQUVwQyxPQUFPLFNBR1QsU0FBUyxRQUFRLElBRWYsT0FBTyxJQUNQLE9BQU8sR0FBRyxJQUNWLElBQUksU0FBVyxHQUFHLGdCQUNsQixHQUFJLFNBQVUsQ0FDWixJQUFJLElBQU0sU0FBUyxVQUNuQixHQUFJLElBQUksT0FBUyxpQkFBaUIsVUFBVyxDQUUzQyxJQUFJLEtBQUssU0FFTixHQUtGLFNBQVMsbUJBQW1CLE1BQ2pDLE9BQU8sY0FBYyxNQUVoQixTQUFTLGtCQUFrQixJQUNoQyxRQUFRLElBR1YsU0FBUyxPQUFPLE1BQU8sVUFBVyxXQUNoQyxLQUFLLE9BQU8sTUFBTyxVQUFXLFdBRWhDLE9BQU8sVUFBVSxPQUFTLFNBQVUsTUFBTyxVQUFXLFdBQ3BELEtBQUssTUFBUSxPQUFTLEVBQ3RCLEtBQUssVUFBWSxNQUNqQixLQUFLLElBQU0sS0FDWCxLQUFLLFFBQVUsRUFDZixLQUFLLFNBQVcsRUFDaEIsS0FBSyxLQUFPLEtBQ1osS0FBSyxPQUFTLEtBQ2QsS0FBSyxTQUFXLE1BQ2hCLEtBQUssVUFBWSxFQUNqQixLQUFLLFVBQVksVUFDakIsR0FBSSxVQUFXLENBQ2IsS0FBSyxJQUFJLFVBQVcsTUFDcEIsS0FBSyxRQUFVLFlBR25CLE9BQU8sVUFBVSxJQUFNLGFBQ25CLEtBQUssV0FFVCxPQUFPLFVBQVUsS0FBTyxXQUN0QixPQUFPLEtBQUssV0FDWixLQUFNLEtBQUssVUFBVyxDQUNwQixPQUdGLEdBQUksS0FBSyxNQUFRLHNCQUF1QixNQUVqQyxDQUNMLEdBQUksS0FBSyxJQUFLLENBQ1osUUFBUSxLQUFLLEtBRWYsR0FBSSxLQUFLLEtBQU0sQ0FDYixJQUFLLElBQUksR0FBSyxFQUFHLEdBQUssS0FBSyxLQUFLLFNBQVUsR0FBSSxDQUM1QyxRQUFRLEtBQUssS0FBSyxPQUl4QixHQUFJLFNBQVMsT0FBUyxhQUFjLENBQ2xDLFNBQVMsS0FBSyxNQUVoQixHQUFJLEtBQUssVUFBVyxDQUNsQixLQUFLLFVBQVUsY0FJbkIsT0FBTyxVQUFVLFVBQVksV0FDM0IsSUFBSSxJQUFNLEVBQ1YsR0FBSSxLQUFLLFNBQVUsQ0FDakIsT0FBTyxLQUFLLFFBRWQsR0FBSSxLQUFLLE9BQVEsQ0FDZixJQUFLLElBQUksR0FBSyxFQUFHLEdBQUssS0FBSyxPQUFPLFNBQVUsR0FBSSxDQUM5QyxLQUFPLEtBQUssT0FBTyxLQUd2QixLQUFPLEtBQUssU0FDWixPQUFPLEtBR1QsT0FBTyxVQUFVLFlBQWMsV0FDN0IsT0FBTyxLQUFLLEtBQ1osUUFBUSxLQUFLLE1BQ2IsUUFBUSxLQUFLLFVBQ2IsS0FBSyxTQUFXLE1BR2xCLE9BQU8sVUFBVSxhQUFlLFdBQzlCLE9BQU8sS0FBSyxLQUNaLFFBQVEsS0FBSyxVQUNiLElBQUksTUFBUSxLQUFLLFlBQ2pCLEtBQUssU0FBVyxLQUNoQixJQUFLLEtBQUssS0FBTSxDQUNkLEtBQUssUUFBVSxNQUNmLEtBQUssU0FBVyxFQUNoQixPQUVGLElBQUksSUFBTSxjQUFjLE9BQ3hCLElBQUksR0FBSyxJQUFJLEdBQ2IsSUFBSSxLQUFPLEVBQ1gsSUFBSyxJQUFJLEdBQUssRUFBRyxHQUFLLEtBQUssS0FBSyxTQUFVLEdBQUksQ0FDNUMsSUFBSSxNQUFRLEtBQUssT0FBTyxJQUN4QixJQUFJLEdBQUssS0FBSyxLQUFLLElBQ25CLEdBQUksS0FBTyxNQUFRLE1BQU8sQ0FFeEIsT0FBTyxNQUFNLEdBQUcsV0FBWSxHQUM1QixHQUFHLElBQUksSUFBSSxXQUFXLEdBQUcsT0FBUSxFQUFHLE9BQVEsVUFDdkMsQ0FDTCxHQUFHLElBQUksR0FBRyxHQUFJLE1BRWhCLE1BQVEsTUFDUixRQUFRLElBRVYsT0FBTyxNQUFNLEtBQUssSUFBSSxXQUFZLEdBQ2xDLEdBQUcsSUFBSSxJQUFJLFdBQVcsS0FBSyxJQUFJLE9BQVEsS0FBSyxJQUFJLFdBQVksS0FBSyxVQUFXLE1BQzVFLFFBQVEsS0FBSyxLQUNiLE9BQU8sTUFBTSxLQUFPLEtBQUssU0FBVSxPQUNuQyxLQUFLLEtBQU8sS0FBSyxPQUFTLEtBQzFCLEtBQUssSUFBTSxJQUNYLEtBQUssU0FBVyxFQUNoQixLQUFLLFFBQVUsT0FHakIsT0FBTyxVQUFVLE1BQVEsV0FBWSxJQUM3QixJQUFrQixLQUFsQixJQUFLLFNBQWEsS0FBYixTQUNYLElBQUssS0FBSyxLQUFNLENBQ2QsS0FBSyxLQUFPLENBQUMsS0FDYixLQUFLLE9BQVMsQ0FBQyxjQUNWLENBQ0wsS0FBSyxLQUFLLEtBQUssS0FDZixLQUFLLE9BQU8sS0FBSyxVQUVuQixLQUFLLElBQU0sS0FDWCxLQUFLLFFBQVUsRUFDZixLQUFLLFNBQVcsR0FFbEIsT0FBTyxVQUFVLElBQU0sU0FBVSxZQUFhLFlBQVksSUFDbEQsSUFBMkIsS0FBM0IsSUFBSyxRQUFzQixLQUF0QixRQUFTLFNBQWEsS0FBYixTQUNwQixJQUFJLFNBQVcsU0FBVyxZQUMxQixHQUFJLFVBQVksUUFBUyxDQUN2QixJQUFLLFdBQVksQ0FDZixLQUFLLFNBQVcsU0FFbEIsT0FBTyxTQUVULFFBQVEsS0FBSyxVQUNiLEdBQUksSUFBSyxDQUNQLEtBQUssUUFFUCxLQUFLLFFBQVUsUUFBVSxJQUFJLHFCQUFzQixhQUNuRCxLQUFLLElBQU0sY0FBYyxTQUN6QixLQUFLLFNBQVcsV0FBYSxFQUFJLFlBQ2pDLE9BQU8sR0FFVCxPQUFPLFVBQVUsUUFBVSxTQUFVLE9BQ25DLElBQUksS0FBTyxLQUFLLFNBQ2hCLElBQUksU0FBVyxLQUFPLE1BQ3RCLEtBQUssU0FBVyxTQUNoQixHQUFJLFNBQVcsS0FBSyxRQUFTLENBQzNCLE1BQU0sSUFBSSxNQUFNLFVBRWxCLEdBQUksV0FBYSxLQUFLLFFBQVMsQ0FDN0IsS0FBSyxPQUVQLE9BQU8sTUFFVCxPQUFPLFVBQVUsTUFBUSxXQUN2QixPQUFPLEtBQUssV0FBYSxLQUFLLFNBSWhDLE9BQU8sVUFBVSxRQUFVLFNBQVUsR0FDbkMsT0FBTyxHQUFLLEdBQUssRUFBSSxLQUNyQixJQUFJLEtBQU8sS0FBSyxJQUFJLEdBQ3BCLEtBQUssSUFBSSxHQUFHLE1BQVEsR0FFdEIsT0FBTyxVQUFVLE9BQVMsV0FDeEIsT0FBTyxLQUFLLElBQUksR0FBRyxLQUFLLFFBQVEsS0FZbEMsT0FBTyxVQUFVLFNBQVcsU0FBVSxHQUNwQyxPQUFPLFVBQVUsSUFDakIsSUFBSSxLQUFPLEtBQUssSUFBSSxFQUFHLE1BQ3ZCLElBQUksSUFBTSxLQUFLLElBQ2YsSUFBSSxJQUFPLEVBQUksRUFBSyxFQUFJLEVBQ3hCLEdBQUksSUFBSyxDQUNQLEdBQUssRUFFUCxHQUFJLEVBQUksSUFBSyxDQUNYLEdBQUksSUFBSyxDQUNQLElBQUksR0FBRyxRQUFVLElBRW5CLElBQUksR0FBRyxRQUFVLE1BQ1osQ0FDTCxHQUFJLEVBQUksTUFBTyxDQUNiLElBQUksR0FBRyxRQUFVLElBQU0sSUFDdkIsSUFBSSxVQUFVLEtBQU0sRUFBRyxNQUN2QixNQUFRLE9BQ0gsR0FBSSxFQUFJLFdBQVksQ0FDekIsSUFBSSxHQUFHLFFBQVUsSUFBTSxJQUN2QixJQUFJLFVBQVUsS0FBTSxFQUFHLE1BQ3ZCLE1BQVEsTUFDSCxDQUNMLElBQUksR0FBRyxRQUFVLElBQU0sSUFDdkIsSUFBSSxTQUFXLElBQU0sRUFDckIsSUFBSSxVQUFVLEtBQU0sU0FBVSxNQUM5QixNQUFRLEVBQ1IsSUFBSSxVQUFVLE1BQU8sRUFBSSxVQUFZLFdBQVksTUFDakQsTUFBUSxHQUdaLEtBQUssU0FBVyxNQUVsQixPQUFPLFVBQVUsUUFBVSxXQUV6QixJQUFJLEdBQUssS0FBSyxJQUFJLEdBQUcsS0FBSyxVQUMxQixHQUFJLEdBQUssSUFBSyxDQUNaLEtBQUssSUFBSSxHQUFHLEtBQUssWUFBYyxFQUMvQixPQUdGLEtBQUssV0FDTCxJQUFJLE9BQVMsRUFDYixPQUFRLElBQ04sS0FBSyxJQUNMLEtBQUssSUFDSCxRQUFVLEVBQ1osS0FBSyxJQUNMLEtBQUssSUFDSCxRQUFVLEVBQ1osS0FBSyxJQUNMLEtBQUssSUFDSCxTQUNGLEtBQUssSUFFSCxNQUNGLFFBQ0UsTUFBTSxJQUFJLE1BQU0scUJBRXBCLE1BQU8sT0FBUSxHQUNYLE9BQ0YsS0FBSyxJQUFJLEdBQUcsS0FBSyxZQUFjLElBR25DLE9BQU8sVUFBVSxRQUFVLFdBQ3pCLElBQUksR0FBSyxLQUFLLElBQUksR0FBRyxLQUFLLFFBQVEsSUFDbEMsR0FBSSxHQUFLLElBQUssQ0FDWixPQUFPLEdBRVQsSUFBSSxLQUFPLEVBQ1gsT0FBUSxJQUNOLEtBQUssSUFDSCxNQUFRLEVBQ1YsS0FBSyxJQUNILE9BQU8sS0FBTyxLQUFLLElBQUksVUFBVSxLQUFLLFFBQVEsR0FBSSxNQUNwRCxLQUFLLElBQ0gsTUFBUSxFQUNWLEtBQUssSUFDSCxPQUFPLEtBQU8sS0FBSyxJQUFJLFVBQVUsS0FBSyxRQUFRLEdBQUksTUFDcEQsS0FBSyxJQUNILE1BQVEsRUFDVixLQUFLLElBQUssQ0FDUixJQUFJLFNBQVcsS0FBSyxJQUFJLFVBQVUsS0FBSyxRQUFRLEdBQUksTUFDbkQsSUFBSSxVQUFZLEtBQUssSUFBSSxVQUFVLEtBQUssUUFBUSxHQUFJLE1BQ3BELE9BQU8sTUFBUSxVQUFZLFdBQWEsVUFFMUMsS0FBSyxJQUNILE9BQVEsS0FBSyxJQUFJLEdBQUcsS0FBSyxRQUFRLElBQ25DLFFBQ0UsTUFBTSxJQUFJLE1BQU0sdUJBR3RCLE9BQU8sVUFBVSxXQUFhLFNBQVUsR0FDdEMsT0FBTyxhQUFhLEVBQUcsVUFDdkIsSUFBSyxFQUFHLENBQ04sS0FBSyxJQUFJLEdBQUcsS0FBSyxJQUFJLElBQU0sRUFDM0IsT0FFRixJQUFJLEtBQU8sS0FBSyxJQUFJLEVBQUcsTUFDdkIsS0FBSyxJQUFJLFdBQVcsS0FBTSxFQUFHLE1BQzdCLEdBQUksS0FBSyxJQUFJLEdBQUcsT0FBUyxFQUFHLENBQzFCLEtBQUssSUFBSSxHQUFHLFFBQVUsRUFDdEIsS0FBSyxJQUFJLFdBQVcsS0FBTSxFQUFHLE1BRS9CLEtBQUssU0FBVyxLQUFPLEdBRXpCLE9BQU8sVUFBVSxVQUFZLFdBQzNCLElBQUksS0FBTyxLQUFLLFFBQVEsR0FDeEIsSUFBSSxHQUFLLEtBQUssSUFBSSxHQUFHLE1BQ3JCLElBQUssR0FBSSxDQUNQLE9BQU8sRUFFVCxHQUFJLEtBQU8sRUFBRyxDQUNaLE9BQU8sS0FBSyxJQUFJLFdBQVcsS0FBSyxRQUFRLEdBQUksTUFFOUMsS0FBSyxRQUFRLEdBQ2IsT0FBTyxLQUFLLElBQUksV0FBVyxLQUFNLE9BRW5DLE9BQU8sVUFBVSxTQUFXLFNBQVUsR0FDcEMsT0FBTyxhQUFhLEVBQUcsVUFDdkIsS0FBSyxJQUFJLFVBQVUsS0FBSyxJQUFJLEdBQUksRUFBRyxPQUVyQyxPQUFPLFVBQVUsUUFBVSxXQUN6QixPQUFPLEtBQUssSUFBSSxVQUFVLEtBQUssUUFBUSxHQUFJLE9BRTdDLE9BQU8sVUFBVSxZQUFjLFNBQVUsR0FDdkMsT0FBTyxhQUFhLEVBQUcsVUFDdkIsSUFBSSxZQUFjLGVBQWUsR0FDakMsS0FBSyxTQUFTLGFBQ2QsSUFBSyxZQUFhLENBQ2hCLE9BRUYsSUFBSSxLQUFPLEtBQUssSUFBSSxhQUNwQixJQUFJLElBQU0sS0FBSyxJQUNmLElBQUssSUFBSSxHQUFLLEVBQUcsR0FBSyxFQUFFLFNBQVUsR0FBSSxDQUNwQyxJQUFJLEVBQUksRUFBRSxXQUFXLElBQ3JCLEdBQUksR0FBSyxJQUFNLENBQ2IsSUFBSSxHQUFHLFFBQVUsTUFDWixDQUNMLEtBQU8sY0FBYyxJQUFLLEtBQU0sTUFLdEMsT0FBTyxVQUFVLGFBQWUsU0FBVSxHQUN4QyxJQUFJLElBQU0sS0FBSyxJQUNmLEdBQUksR0FBSyxLQUFRLEVBQUksSUFBTSxDQUN6QixPQUFTLEVBQUksS0FBUyxFQUNuQixJQUFJLEdBQUcsS0FBSyxZQUFjLFFBQ3hCLEdBQUksR0FBSyxLQUFRLEVBQUksSUFBTSxDQUNoQyxPQUFTLEVBQUksS0FBUyxJQUNsQixJQUFJLEdBQUcsS0FBSyxZQUFjLEtBQVMsRUFDcEMsSUFBSSxHQUFHLEtBQUssWUFBYyxRQUN4QixHQUFJLEdBQUssS0FBUSxFQUFJLElBQU0sQ0FDaEMsT0FBUyxFQUFJLEtBQVMsSUFDbEIsSUFBSSxHQUFHLEtBQUssWUFBYyxLQUFTLElBQ25DLElBQUksR0FBRyxLQUFLLFlBQWMsS0FBUyxFQUNwQyxJQUFJLEdBQUcsS0FBSyxZQUFjLFFBQ3hCLEdBQUksR0FBSyxLQUFRLEVBQUksSUFBTSxDQUNoQyxPQUFTLEVBQUksS0FBUyxJQUNsQixJQUFJLEdBQUcsS0FBSyxZQUFjLEtBQVMsSUFDbkMsSUFBSSxHQUFHLEtBQUssWUFBYyxLQUFTLElBQ25DLElBQUksR0FBRyxLQUFLLFlBQWMsS0FBUyxFQUNwQyxJQUFJLEdBQUcsS0FBSyxZQUFjLE9BQ3hCLENBQ0wsT0FBUyxFQUFJLEtBQVMsSUFDbEIsSUFBSSxHQUFHLEtBQUssWUFBYyxLQUFTLElBQ25DLElBQUksR0FBRyxLQUFLLFlBQWMsS0FBUyxJQUNuQyxJQUFJLEdBQUcsS0FBSyxZQUFjLEtBQVMsSUFDbkMsSUFBSSxHQUFHLEtBQUssWUFBYyxLQUFTLEVBQ3BDLElBQUksR0FBRyxLQUFLLFlBQWMsS0FJakMsSUFBSSxnQkFBa0IsR0FDdEIsT0FBTyxVQUFVLFdBQWEsV0FDNUIsSUFBSSxZQUFjLEtBQUssVUFDdkIsSUFBSyxZQUFhLENBQ2hCLE1BQU8sR0FFVCxHQUFJLEtBQUssU0FBVyxZQUFjLEtBQUssUUFBUyxDQUM5QyxNQUFNLElBQUksTUFBTSxVQU5zQixJQVNsQyxJQUFRLEtBQVIsSUFDTixJQUFJLFdBQWEsS0FBSyxTQUFXLFlBQ2pDLElBQUksSUFDSixHQUFJLFlBQWMsS0FBTSxDQUN0QixJQUFNLEdBQ04sTUFBTyxLQUFLLFNBQVcsV0FBWSxDQUNqQyxJQUFJLEVBQUksSUFBSSxHQUFHLEtBQUssWUFDcEIsR0FBSSxFQUFJLElBQU0sQ0FDWixFQUFJLEtBQUssYUFBYSxHQUV4QixLQUFPLE9BQU8sYUFBYSxRQUV4QixDQUNMLGdCQUFnQixPQUFTLFlBQ3pCLElBQUksR0FBSyxFQUNULE1BQU8sS0FBSyxTQUFXLFdBQVksQ0FDakMsSUFBSSxHQUFJLElBQUksR0FBRyxLQUFLLFlBQ3BCLEdBQUksR0FBSSxJQUFNLENBQ1osR0FBSSxLQUFLLGFBQWEsSUFFeEIsZ0JBQWdCLE1BQVEsR0FFMUIsR0FBSSxnQkFBZ0IsU0FBVyxHQUFJLENBRWpDLGdCQUFnQixPQUFTLEdBRTNCLElBQU0sT0FBTyxhQUFhLE1BQU0sVUFBVyxpQkFFN0MsR0FBSSxLQUFLLFdBQWEsS0FBSyxRQUFTLENBQ2xDLEtBQUssT0FFUCxPQUFPLEtBR1QsT0FBTyxVQUFVLGdCQUFrQixTQUFVLEdBQzNDLE9BQU8sYUFBYSxFQUFHLFVBQ3ZCLElBQUksWUFBYyxFQUFFLE9BQ3BCLEtBQUssU0FBUyxhQUNkLElBQUksS0FBTyxLQUFLLElBQUksYUFKMEIsSUFLeEMsSUFBUSxLQUFSLElBQ04sSUFBSyxJQUFJLEdBQUssRUFBRyxHQUFLLGNBQWUsR0FBSSxDQUN2QyxJQUFJLEdBQUcsUUFBVSxFQUFFLFdBQVcsTUFHbEMsT0FBTyxVQUFVLGVBQWlCLFdBQ2hDLElBQUksSUFBTSxLQUFLLFVBQ2YsSUFBSSxLQUFPLEtBQUssUUFBUSxLQUZvQixJQUd0QyxJQUFRLEtBQVIsSUFDTixnQkFBZ0IsT0FBUyxJQUN6QixJQUFLLElBQUksR0FBSyxFQUFHLEdBQUssTUFBTyxHQUFJLENBQy9CLGdCQUFnQixJQUFNLElBQUksR0FBRyxRQUUvQixPQUFPLE9BQU8sYUFBYSxNQUFNLFVBQVcsa0JBSTlDLE9BQU8sVUFBVSxVQUFZLFNBQVUsR0FDckMsSUFBSyxFQUFHLENBQ04sSUFBSSxJQUFNLE9BQU8sUUFBUSxHQUN6QixPQUFPLE9BQVMsR0FDaEIsS0FBSyxRQUFRLElBQU0sR0FDbkIsT0FFRixLQUFLLFFBQVEsR0FDYixLQUFLLFlBQVksS0FBSyxVQUFVLEtBRWxDLE9BQU8sVUFBVSxTQUFXLFdBQzFCLElBQUksS0FBTyxLQUFLLFNBQ2hCLEdBQUksS0FBTSxDQUNSLEdBQUksS0FBTyxHQUFLLE9BQU8sT0FBUSxDQUM3QixNQUFNLElBQUksTUFBTSxzQkFFbEIsT0FBTyxPQUFPLEtBQU8sR0FFdkIsSUFBSSxJQUFNLEtBQUssYUFDZixPQUFPLEtBQUssTUFBTSxNQUdwQixPQUFPLFVBQVUsWUFBYyxTQUFVLEdBQ3ZDLEtBQUssU0FBUyxFQUFFLFFBQ2hCLEdBQUksRUFBRSxPQUFRLENBQ1osSUFBSSxLQUFPLEtBQUssSUFBSSxFQUFFLFFBQ3RCLEtBQUssSUFBSSxHQUFHLElBQUksRUFBRyxRQUd2QixJQUFNLFNBQVcsSUFBSSxXQUFXLEdBQ2hDLE9BQU8sVUFBVSxXQUFhLFNBQVUsU0FDdEMsSUFBSSxJQUFNLEtBQUssVUFDZixJQUFLLElBQUssQ0FDUixPQUFPLFNBRVQsSUFBSSxLQUFPLEtBQUssUUFBUSxLQUN4QixHQUFJLFFBQVMsQ0FDWCxPQUFPLEtBQUssSUFBSSxHQUFHLE1BQU0sS0FBTSxLQUFPLFNBQ2pDLENBQUEsSUFDQyxJQUFRLEtBQVIsSUFDTixPQUFPLElBQUksV0FBVyxJQUFJLE9BQVEsSUFBSSxXQUFhLEtBQU0sT0FHN0QsT0FBTyxVQUFVLFVBQVksU0FBVSxHQUNyQyxLQUFLLFFBQVEsRUFBRSxFQUFFLElBRW5CLE9BQU8sVUFBVSxTQUFXLFdBQzFCLE9BQU8sUUFBUSxLQUFLLFdBR3RCLE9BQU8sVUFBVSxPQUFTLFNBQVUsS0FDbEMsT0FBTyxNQUFNLEtBQUssTUFBUSxxQkFBc0IsSUFBSSxNQUFRLHNCQUM1RCxHQUFJLElBQUksS0FBTSxDQUNaLElBQUssSUFBSSxHQUFLLEVBQUcsR0FBSyxJQUFJLEtBQUssU0FBVSxHQUFJLENBQzNDLElBQUksSUFBTSxJQUFJLEtBQUssSUFDbkIsSUFBSSxNQUFRLElBQUksT0FBTyxJQUN2QixJQUFJLEtBQU8sS0FBSyxJQUFJLE9BQ3BCLEdBQUksUUFBVSxJQUFJLFdBQVksQ0FDNUIsS0FBSyxJQUFJLEdBQUcsSUFBSSxJQUFJLFdBQVcsSUFBSSxPQUFRLElBQUksV0FBWSxPQUFRLFVBQzlELENBQ0wsS0FBSyxJQUFJLEdBQUcsSUFBSSxJQUFJLEdBQUksUUFJOUIsR0FBSSxJQUFJLElBQUssQ0FDWCxJQUFJLEtBQU0sSUFBSSxJQUNkLElBQUksT0FBUSxJQUFJLFNBQVcsSUFBSSxRQUFVLElBQUksU0FDN0MsSUFBSSxNQUFPLEtBQUssSUFBSSxRQUNwQixHQUFJLFNBQVUsS0FBSSxXQUFZLENBQzVCLEtBQUssSUFBSSxHQUFHLElBQUksSUFBSSxXQUFXLEtBQUksT0FBUSxLQUFJLFdBQVksUUFBUSxXQUM5RCxDQUNMLEtBQUssSUFBSSxHQUFHLElBQUksS0FBSSxHQUFJLFVBSzlCLE9BQU8sVUFBVSxnQkFBa0IsU0FBVSxLQUMzQyxPQUFPLE1BQU0sS0FBSyxNQUFRLHFCQUFzQixJQUFJLE1BQVEsc0JBQzVELE9BQU8sSUFBSSxVQUNYLFFBQVEsSUFBSSxNQUNaLE9BQU8sSUFBSSxLQUNYLE9BQU8sSUFBSSxVQUFZLElBQUksU0FDM0IsSUFBSSxNQUFRLElBQUksUUFBVSxJQUFJLFNBQzlCLEdBQUksTUFBTyxDQUNULElBQUksS0FBTyxLQUFLLElBQUksT0FDcEIsS0FBSyxJQUFJLEdBQUcsSUFBSSxJQUFJLFdBQVcsSUFBSSxJQUFJLE9BQVEsSUFBSSxJQUFJLFdBQWEsSUFBSSxTQUFVLE9BQVEsTUFHNUYsSUFBSSxRQUdOLE9BQU8sVUFBVSxPQUFTLFdBQ3hCLElBQUksSUFBTSxDQUNSLEVBQUcsS0FBSyxPQUdWLEdBQUksS0FBSyxLQUFNLENBQ2IsSUFBSSxFQUFJLEdBQ1IsSUFBSyxJQUFJLEdBQUssRUFBRyxHQUFLLEtBQUssS0FBSyxTQUFVLEdBQUksQ0FDNUMsSUFBSSxFQUFFLEtBQUssYUFBYSxLQUFLLEtBQUssSUFBSyxFQUFHLEtBQUssT0FBTyxPQUcxRCxHQUFJLEtBQUssSUFBSyxDQUNaLEdBQUksS0FBSyxTQUFVLENBQ2pCLElBQUksRUFBSSxhQUFhLEtBQUssSUFBSyxFQUFHLEtBQUssYUFDbEMsQ0FDTCxJQUFJLEVBQUksYUFBYSxLQUFLLElBQUssRUFBRyxLQUFLLFdBRzNDLE9BQU8sS0FHVCxPQUFPLFVBQVUsVUFBWSxTQUFVLElBQUssU0FDMUMsUUFBUSxLQUFLLEtBQ2IsUUFBUSxLQUFLLE1BQ2IsT0FBTyxLQUFLLE1BQVEsdUJBQ3BCLE9BQU8sZUFBZSxZQUN0QixLQUFLLElBQU0saUJBQWlCLEtBQzVCLEtBQUssUUFBVSxRQUNmLEtBQUssU0FBVyxNQUdsQixPQUFPLFVBQVUsVUFBWSxXQUMzQixPQUFPLEtBQUssS0FDWixRQUFRLEtBQUssTUFDYixPQUFPLEtBQUssSUFBSSxJQUdsQixPQUFPLFVBQVUsYUFBZSxXQUM5QixPQUFPLEtBQUssS0FDWixRQUFRLEtBQUssTUFDYixPQUFPLEtBQUssU0FBVyxLQUFLLFFBQVUsS0FBSyxVQUc3QyxPQUFPLFVBQVUsVUFBWSxXQUMzQixHQUFJLEtBQUssU0FBVSxDQUNqQixPQUFPLEtBQUssU0FFZCxPQUFPLEtBQUssYUFHZCxPQUFPLFVBQVUsS0FBTyxTQUFVLEtBQ2hDLE9BQU8sS0FBSyxVQUNaLE9BQU8sS0FBTyxHQUFLLEtBQU8sS0FBSyxTQUMvQixLQUFLLFNBQVcsS0FHbEIsT0FBTyxVQUFVLFdBQWEsV0FDNUIsUUFBUSxLQUFLLFdBQ2IsT0FBTyxNQUFNLEtBQUssU0FBVSxHQUM1QixLQUFLLFFBQVEsS0FBSyxPQUNsQixLQUFLLFVBQVksTUFHbkIsT0FBTyxVQUFVLFlBQWMsU0FBVSxPQUN2QyxPQUFPLEtBQUssV0FDWixTQUFTLE1BQVEsdUJBQ2pCLEtBQUssTUFBUSxLQUFLLE1BQVEscUJBQXVCLE1BQ2pELElBQUksSUFBTSxLQUFLLEtBQU8sS0FBSyxLQUFLLEdBQUssS0FBSyxJQUMxQyxJQUFJLEdBQUcsR0FBSyxLQUFLLE9BR25CLE9BQU8sVUFBVSxVQUFZLFdBQzNCLElBQUksS0FBTyxLQUFLLFNBQ2hCLE9BQU8sTUFBTSxLQUFNLEtBQUssTUFBUSxLQUNoQyxLQUFLLFVBQVksS0FDakIsT0FBTyxLQUFLLE9BR2QsT0FBTyxVQUFVLFNBQVcsV0FDMUIsT0FBTyxLQUFLLE9BR2QsT0FBTyxVQUFVLGlCQUFtQixXQUNsQyxPQUFPLEtBQUssTUFBUSxzQkFHdEIsT0FBTyxVQUFVLFNBQVcsV0FDMUIsTUFBQSxPQUFjLEtBQUssWUFBbkIsTUFHRixTQUFTLFlBQVksTUFBTyxXQUMxQixLQUFLLE9BQU8sTUFBTyxXQUVyQixZQUFZLFVBQVUsT0FBUyxTQUFVLE1BQU8sV0FBVyxJQUFBLE1BQUEsS0FDekQsS0FBSyxRQUFVLE1BQ2YsR0FBSSxTQUFTLE9BQVEsQ0FDbkIsS0FBSyxJQUFNLFNBQVMsTUFDcEIsS0FBSyxJQUFJLE9BQU8sTUFBTyxVQUFXLFVBQzdCLENBQ0wsS0FBSyxJQUFNLElBQUksT0FBTyxNQUFPLFVBQVcsTUFFMUMsS0FBSyxPQUFTLE1BQ2QsS0FBSyxXQUFhLFdBQVcsV0FDM0IsUUFBUSxLQUFSLCtCQUE0QyxNQUFLLFlBQ2pELE1BQUssT0FBUyxNQUNiLGVBRUwsWUFBWSxVQUFVLFVBQVksV0FDaEMsR0FBSSxLQUFLLE9BQVEsQ0FDZixRQUFRLEtBQUssbUNBQ1IsQ0FDTCxhQUFhLEtBQUssWUFFcEIsUUFBUSxLQUFLLFNBQ2IsS0FBSyxRQUFVLEtBQ2YsR0FBSSxlQUFlLE9BQVMsYUFBYyxDQUN4QyxlQUFlLEtBQUssUUFHeEIsSUFBTSxNQUFRLENBQUMsS0FBTSxLQUFNLE1BQU8sTUFBTyxRQUFTLFNBQVUsYUFBYyxPQUFRLE9BQVEsVUFFMUYsTUFBTSxRQUFRLFNBQUMsS0FBTSxLQUNuQixJQUFLLEtBQU0sQ0FDVCxPQUVGLElBQUksTUFBQSxRQUFnQixLQUNwQixJQUFJLEtBQUEsT0FBYyxLQUNsQixJQUFJLFNBQVcsT0FBTyxVQUFVLE9BQ2hDLElBQUksUUFBVSxPQUFPLFVBQVUsTUFDL0IsWUFBWSxVQUFVLE9BQVMsU0FBVSxHQUN2QyxLQUFLLElBQUksUUFBUSxLQUNqQixTQUFTLEtBQUssS0FBSyxJQUFLLElBRTFCLFlBQVksVUFBVSxNQUFRLFNBQVUsT0FDdEMsSUFBSSxVQUFZLEtBQUssSUFBSSxTQUN6QixHQUFJLFlBQWMsSUFBSyxDQUNyQixPQUFPLE1BQUQsK0JBQXVDLEtBQXZDLElBQStDLElBQS9DLFlBQThELE1BQU0sV0FBcEUsSUFBa0YsVUFBbEYsS0FFUixPQUFPLFFBQVEsS0FBSyxLQUFLLElBQUssVUFHbEMsWUFBWSxVQUFVLFFBQVUsV0FDOUIsS0FBSyxJQUFJLFFBQVEsR0FDakIsS0FBSyxJQUFJLFdBR1gsQ0FDRSxRQUNBLFlBQ0EsZUFDQSxXQUNBLG1CQUNBLFlBQ0EsZUFDQSxPQUNBLFlBQ0EsTUFDQSxPQUNBLFlBQ0EsY0FDQSxTQUNBLFlBQ0EsY0FDQSxjQUNBLFFBQVEsU0FBQyxPQUNULElBQUksR0FBSyxPQUFPLFVBQVUsT0FDMUIsWUFBWSxVQUFVLE9BQVMsV0FDN0IsT0FBTyxHQUFHLE1BQU0sS0FBSyxJQUFLLGNBRzlCLFlBQVksVUFBVSxPQUFTLFNBQVUsS0FDdkMsT0FBTyxlQUFlLGFBQ3RCLEtBQUssSUFBSSxPQUFPLElBQUksTUFFdEIsWUFBWSxVQUFVLGdCQUFrQixTQUFVLEtBQ2hELE9BQU8sZUFBZSxhQUN0QixLQUFLLElBQUksZ0JBQWdCLElBQUksTUFFL0IsU0FBUyxPQUFPLEdBQ2QsY0FBZSxHQUNiLElBQUssU0FDSCxHQUFJLGFBQWEsV0FBWSxDQUMzQixNQUFBLE1BQWEsRUFBRSxPQUFmLElBRUYsT0FBTyxLQUFLLFVBQVUsR0FDeEIsUUFDRSxPQUFPLEdBR2IsWUFBWSxVQUFVLFNBQVcsV0FBWSxJQUNyQyxJQUFRLEtBQVIsSUFDTixJQUFJLFNBQVcsSUFBSSxZQUNuQixJQUFJLFNBQVcsU0FDZixJQUFJLElBQU0sQ0FBQSxPQUFRLElBQUksU0FBWixJQUF3QixJQUFJLFNBQ3RDLEdBQUksSUFBSSxLQUFNLENBRVosSUFBSSxlQUNKLElBQUksS0FBSyxhQUNKLEdBQUksSUFBSSxJQUFLLENBRWxCLEdBQUksSUFBSSxTQUFVLENBQ2hCLFNBQVcsSUFBSSxRQUVqQixJQUFJLFNBQVcsTUFDVixDQUNMLElBQUksS0FBSyxTQUNULFVBQVksRUFFZCxJQUFJLGdCQUFrQixJQUFJLFVBQzFCLElBQUksTUFDSixJQUNFLEdBQUksSUFBSSxVQUFXLENBQ2pCLElBQUksS0FBSixTQUFrQixJQUFJLFVBRXhCLE1BQU8sSUFBSSxTQUFXLFNBQVUsQ0FDOUIsSUFBSSxTQUFXLElBQUksU0FDbkIsSUFBSSxLQUFPLE1BQU0sVUFDakIsSUFBSyxLQUFNLENBQ1QsSUFBSSxLQUFKLGVBQXdCLFVBQ3hCLE1BRUYsSUFBSSxJQUFNLElBQUcsT0FBUSxRQUNyQixJQUFJLEtBQVEsS0FBWixJQUFvQixPQUFPLE9BRTdCLE1BQU8sR0FDUCxJQUFJLEtBQUosa0NBQTJDLEdBRTdDLElBQUksVUFBWSxnQkFDaEIsSUFBSSxTQUFXLFNBQ2YsT0FBTyxJQUFJLEtBQUssTUFHbEIsU0FBUyxhQUFhLE1BQU8sV0FDM0IsR0FBSSxRQUFVLFVBQVcsQ0FDdkIsTUFBUSxRQUFRLGNBRWxCLElBQUksS0FBUSxNQUFRLGFBQWdCLGVBQWlCLFNBQ3JELEdBQUksS0FBSyxPQUFRLENBQ2YsSUFBSSxJQUFNLEtBQUssTUFDZixJQUFJLE9BQU8sTUFBTyxXQUNsQixPQUFPLElBRVQsR0FBSSxNQUFRLGFBQWMsQ0FDeEIsT0FBTyxJQUFJLFlBQVksTUFBTyxXQUVoQyxPQUFPLElBQUksT0FBTyxNQUFPLFdBRTNCLFFBQVEsYUFBZSxhQUV2QixTQUFTLGlCQUFpQixJQUFLLFFBQVMsV0FDdEMsSUFBSSxNQUFRLElBQUksR0FDaEIsT0FBTyxhQUFhLE1BQU8sVUFDM0IsR0FBSSxVQUFXLENBQ2IsT0FBTyxTQUNQLE9BQU8sSUFBSSxrQkFBa0IsYUFDN0IsSUFBSSxJQUFNLGFBQWEsTUFBTyxTQUM5QixHQUFJLElBQUksYUFBZSxRQUFTLENBQzlCLElBQU0sT0FBTyxLQUFLLElBQUksT0FBUSxFQUFHLFNBRW5DLElBQUksWUFBWSxJQUFJLEtBQ3BCLElBQUksY0FDSixPQUFPLFFBQ0YsQ0FFTCxPQUFPLGVBQWUsWUFDdEIsSUFBSSxLQUFNLGFBQWEsTUFBUSx1QkFDL0IsS0FBSSxVQUFVLElBQUssU0FBVyxJQUFJLFlBQ2xDLE9BQU8sTUFHWCxRQUFRLGlCQUFtQixpQkFFM0IsU0FBUyxlQUFlLFFBQ3RCLElBQUksSUFBTSxhQUFhLE9BQU8sR0FFOUIsSUFBSSxRQUFVLElBQUksS0FBTyxJQUV6QixTQUFTLE9BQU8sS0FDZCxPQUFPLGFBQWEsSUFBSyxlQUUzQixHQUFJLE9BQU8sRUFBRyxDQUNaLFFBQVEsT0FBUyxHQUNqQixRQUFRLEtBQU8sR0FDZixJQUFLLElBQUksR0FBSyxFQUFHLEdBQUssT0FBTyxFQUFFLFNBQVUsR0FBSSxDQUMzQyxJQUFJLElBQU0sT0FBTyxPQUFPLEVBQUUsS0FDMUIsUUFBUSxLQUFLLEtBQUssS0FDbEIsUUFBUSxPQUFPLEtBQUssSUFBSSxvQkFDakIsSUFBSSxhQUdmLEdBQUksT0FBTyxFQUFHLENBQ1osUUFBUSxJQUFNLE9BQU8sT0FBTyxHQUM1QixRQUFRLFFBQVUsUUFBUSxJQUFJLG1CQUN2QixRQUFRLElBQUksWUFDbkIsUUFBUSxTQUFXLEVBR3JCLE9BQU8sSUFFVCxRQUFRLGVBQWlCLGVBRXpCLFNBQVMsU0FBUyxPQUNoQixPQUFPLGlCQUFpQixRQUFVLGlCQUFpQixZQUVyRCxRQUFRLFNBQVc7Ozs7OzthQ2w5Qm5CLElBQU0sT0FBUyxRQUFRLFVBRXZCLFNBQVMsZUFDUCxLQUFLLFdBQWEsR0FHcEIsT0FBTyxRQUFVLGFBQ2pCLE9BQU8sUUFBUSxhQUFlLGFBRTlCLFNBQVMsWUFBWSxHQUFJLEtBQU0sR0FBSSxNQUNqQyxjQUFjLEtBQU8sWUFDckIsSUFBSSxJQUFNLEdBQUcsV0FBVyxNQUN4QixJQUFLLElBQUssQ0FDUixJQUFNLEdBQUcsV0FBVyxNQUFRLEdBRTlCLElBQUksS0FBSyxDQUNQLEtBQUEsS0FDQSxHQUFBLEtBSUosYUFBYSxVQUFVLFlBQWMsU0FBVSxLQUFNLElBQ25ELElBQUksSUFBTSxLQUFLLFdBQVcsTUFDMUIsSUFBSyxJQUFLLENBQ1IsT0FBTyxNQUVULElBQUssSUFBSSxHQUFLLEVBQUcsR0FBSyxJQUFJLFNBQVUsR0FBSSxDQUN0QyxHQUFJLElBQUksSUFBSSxLQUFPLEdBQUksQ0FDckIsT0FBTyxNQUdYLE9BQU8sT0FHVCxhQUFhLFVBQVUsR0FBSyxTQUFVLEtBQU0sSUFDMUMsWUFBWSxLQUFNLEtBQU0sR0FBSSxHQUM1QixPQUFPLE1BR1QsYUFBYSxVQUFVLEtBQU8sU0FBVSxLQUFNLElBQzVDLFlBQVksS0FBTSxLQUFNLEdBQUksR0FDNUIsT0FBTyxNQUdULGFBQWEsVUFBVSxlQUFpQixTQUFVLEtBQU0sSUFDdEQsSUFBSSxJQUFNLEtBQUssV0FBVyxNQUMxQixPQUFPLEtBQ1AsSUFBSyxJQUFJLEdBQUssRUFBRyxHQUFLLElBQUksU0FBVSxHQUFJLENBQ3RDLEdBQUksSUFBSSxJQUFJLEtBQU8sR0FBSSxDQUNyQixJQUFJLE9BQU8sR0FBSSxHQUNmLE9BQU8sTUFHWCxPQUFPLE9BQ1AsT0FBTyxNQUdULFNBQVMsY0FBYyxNQUNyQixPQUFRLEtBQUssS0FHZixhQUFhLFVBQVUsS0FBTyxTQUFVLE1BQ3RDLElBQUksSUFBTSxLQUFLLFdBQVcsTUFDMUIsSUFBSyxJQUFLLENBQ1IsT0FBTyxNQUdULElBQUksSUFBTSxNQUNWLElBQUksU0FBVyxNQVBzQyxJQUFBLElBQUEsS0FBQSxVQUFBLE9BQU4sS0FBTSxJQUFBLE1BQUEsS0FBQSxFQUFBLEtBQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxLQUFBLEtBQUEsT0FBQSxDQUFOLEtBQU0sS0FBQSxHQUFBLFVBQUEsTUFRckQsSUFBSyxJQUFJLEdBQUssRUFBRyxHQUFLLElBQUksU0FBVSxHQUFJLENBQ3RDLElBQUksS0FBTyxJQUFJLElBQ2YsSUFBTSxLQUNOLEtBQUssR0FBTCxNQUFBLEtBQVcsTUFDWCxHQUFJLEtBQUssS0FBTSxDQUNiLFNBQVcsTUFHZixHQUFJLFNBQVUsQ0FDWixLQUFLLFdBQVcsTUFBUSxJQUFJLE9BQU8sZUFHckMsT0FBTzs7OzsrMkJDbEZULElBQU0sT0FBUyxRQUFRLFUsSUFDZixJQUFtRCxLQUFuRCxJQUFLLE1BQThDLEtBQTlDLE1BQU8sSUFBdUMsS0FBdkMsSUFBSyxJQUFrQyxLQUFsQyxJQUFLLE9BQTZCLEtBQTdCLE9BQVEsTUFBcUIsS0FBckIsTUFBTyxJQUFjLEtBQWQsSUFBSyxLQUFTLEtBQVQsS0FFM0MsU0FBUyxPQUlULFNBQVMsTUFBTSxLQUNwQixJQUFLLElBQUksT0FBTyxJQUFLLENBQ25CLE9BQU8sTUFFVCxPQUFPLEtBR0YsU0FBUyxVQUFVLEVBQUcsR0FDM0IsSUFBSSxHQUFLLElBQUksRUFBRyxHQUNoQixPQUFPLElBQU0sR0FBSyxJQUFJLEVBQUksRUFBRyxJQUd4QixTQUFTLE9BQU8sRUFBRyxHQUN4QixPQUFPLEVBQUksVUFBVSxHQUFNLEVBQUcsR0FHekIsU0FBUyxRQUFRLEVBQUcsR0FDekIsT0FBTyxFQUFJLFVBQVUsR0FBTSxHQUFNLEVBQUcsR0FBSyxFQUdwQyxTQUFTLE1BQU0sS0FDcEIsT0FBTyxLQUFLLE1BQU0sS0FBSyxVQUFVLE1BRzVCLFNBQVMsTUFBTSxLQUFNLEtBQzFCLElBQUssSUFBSSxLQUFLLElBQUssQ0FDakIsS0FBSyxHQUFLLElBQUksR0FFaEIsT0FBTyxLQUdGLFNBQVMsSUFBSSxJQUFLLE9BQ3ZCLE9BQU8sT0FBTyxVQUFVLGVBQWUsS0FBSyxJQUFLLE9BRzVDLFNBQVMsU0FBUyxLQUFNLEtBQzdCLElBQUssSUFBSSxLQUFLLElBQUssQ0FDakIsSUFBSyxJQUFJLEtBQU0sR0FBSSxDQUNqQixLQUFLLEdBQUssSUFBSSxJQUdsQixPQUFPLEtBR0YsU0FBUyxhQUFhLEtBQU0sS0FDakMsSUFBSyxJQUFJLEtBQUssSUFBSyxDQUNqQixJQUFLLElBQUksS0FBTSxHQUFJLENBQ2pCLEtBQUssR0FBSyxJQUFJLFFBQ1QsVUFBVyxLQUFLLEtBQU8sU0FBVSxDQUN0QyxhQUFhLEtBQUssR0FBSSxJQUFJLEtBRzlCLE9BQU8sS0FHRixTQUFTLGFBQWEsS0FDM0IsT0FBTyxNQUFNLEdBQUksS0FHWixTQUFTLFVBQVUsRUFBRyxHQUMzQixHQUFJLE1BQU0sUUFBUSxHQUFJLENBQ3BCLElBQUssTUFBTSxRQUFRLEdBQUksQ0FDckIsT0FBTyxNQUVULEdBQUksRUFBRSxTQUFXLEVBQUUsT0FBUSxDQUN6QixPQUFPLE1BRVQsSUFBSyxJQUFJLEdBQUssRUFBRyxHQUFLLEVBQUUsU0FBVSxHQUFJLENBQ3BDLElBQUssVUFBVSxFQUFFLElBQUssRUFBRSxLQUFNLENBQzVCLE9BQU8sT0FHWCxPQUFPLFVBQ0YsVUFBVyxJQUFNLFNBQVUsQ0FDaEMsVUFBVyxJQUFNLFNBQVUsQ0FDekIsT0FBTyxNQUVULElBQUssSUFBTSxFQUFHLENBQ1osT0FBUSxJQUFNLEVBRWhCLElBQUssSUFBSSxPQUFPLEVBQUcsQ0FFakIsSUFBSyxVQUFVLEVBQUUsS0FBTSxFQUFFLE1BQU8sQ0FDOUIsT0FBTyxPQUdYLElBQUssSUFBSSxRQUFPLEVBQUcsQ0FFakIsR0FBSSxFQUFFLFFBQVMsV0FBYSxFQUFFLFFBQVMsVUFBVyxDQUNoRCxPQUFPLE9BR1gsT0FBTyxLQUVULE9BQU8sSUFBTSxFQUdSLFNBQVMsTUFBTSxFQUFHLEdBQUksSUFDM0IsT0FBTyxJQUFJLElBQUksR0FBSSxHQUFJLElBR2xCLFNBQVMsS0FBSyxFQUFHLEdBQUksSUFDMUIsT0FBUSxFQUFJLEdBQUssR0FBSyxFQUFJLEdBR3JCLFNBQVMsSUFBSSxHQUFJLEdBQUksR0FDMUIsT0FBUSxFQUFJLEdBQUssR0FBSyxFQUFJLEdBR3JCLFNBQVMsS0FBSyxHQUNuQixPQUFPLEVBQUksR0FBSyxFQUFJLEVBQUksRUFBSSxFQUFJLEVBSTNCLFNBQVMsS0FBSyxLQUNuQixJQUFLLElBQUksR0FBRyxFQUFHLEdBQUcsR0FBSyxLQUFPLElBQUssR0FBSSxDQUNyQyxHQUFJLElBQU0sSUFBSyxDQUNiLE9BQU8sS0FLTixTQUFTLEtBQUssSUFBSyxLQUN4QixJQUFJLEtBQU8sSUFBSSxJQUFJLE9BQVMsR0FDNUIsSUFBSSxNQUdDLFNBQVMsU0FBUyxHQUN2QixPQUFPLE1BQU0sRUFBSSxLQUFPLElBR25CLFNBQVMsVUFBVSxHQUN4QixPQUFPLE1BQU0sRUFBSSxLQUFRLElBR3BCLFNBQVMsTUFBTSxHQUNwQixPQUFPLEVBQUksTUFBTSxHQUdaLFNBQVMsU0FBUyxFQUFHLEVBQUcsS0FDN0IsT0FBTyxJQUFJLEVBQUksSUFBTSxJQUdoQixTQUFTLFVBQVUsS0FDeEIsT0FBTyxJQUFJLE1BQU0sS0FBSyxJQUFJLFNBQUMsTUFBRCxNQUFBLEdBQWEsS0FBSyxHQUFHLGNBQWdCLEtBQUssTUFBTSxLQUN2RSxLQUFLLEtBR1YsSUFBTSxRQUFVLEtBR1QsU0FBUyxvQkFBb0IsR0FBSSxHQUFJLFFBQVMsUUFDbkQsSUFBSSxHQUFLLENBQ1AsR0FBRyxHQUFLLEdBQUcsR0FDWCxHQUFHLEdBQUssR0FBRyxJQUViLElBQUksRUFBSSxHQUFHLEdBQUssR0FBRyxHQUFLLEdBQUcsR0FBSyxHQUFHLEdBQ25DLElBQUksRUFBSSxHQUFLLEdBQUcsSUFBTSxHQUFHLEdBQUssUUFBUSxJQUFNLEdBQUcsSUFBTSxHQUFHLEdBQUssUUFBUSxLQUNyRSxJQUFJLEVBQUksUUFBUSxHQUFLLFFBQVEsR0FBSyxRQUFRLEdBQUssUUFBUSxHQUN2RCxHQUFLLEdBQUcsR0FBSyxHQUFHLEdBQUssR0FBRyxHQUFLLEdBQUcsR0FDaEMsR0FBSyxHQUFLLFFBQVEsR0FBSyxHQUFHLEdBQUssUUFBUSxHQUFLLEdBQUcsSUFDL0MsR0FBSyxPQUFTLE9BQ2QsSUFBSSxNQUFRLEVBQUksRUFBSSxFQUFJLEVBQUksRUFDNUIsR0FBSSxJQUFJLEdBQUssU0FBVyxNQUFRLEVBQUcsQ0FDakMsT0FBTyxNQUdULElBQUksTUFBUSxFQUFJLEtBQUssU0FBVyxFQUFJLEdBQ3BDLElBQUksTUFBUSxFQUFJLEtBQUssU0FBVyxFQUFJLEdBQ3BDLEdBQUksS0FBTyxHQUFLLEtBQU8sR0FBSyxLQUFPLEdBQUssS0FBTyxFQUFHLENBQ2hELE9BQU8sS0FHVCxPQUFPLE1BR0YsU0FBUyxTQUFTLEtBQU0sV0FFN0IsY0FBYyxZQUFjLFlBRzVCLEtBQUssVUFBWSxPQUFPLE9BQU8sVUFBVSxVQUFXLENBQ2xELFlBQWEsQ0FDWCxNQUFPLEtBQ1AsV0FBWSxNQUNaLFNBQVUsS0FDVixhQUFjLFFBS2IsU0FBUyxhQUFhLEdBQzNCLE9BQVMsRUFBSyxFQUFJLEtBQVEsRUFHckIsU0FBUyxzQkFBc0IsS0FDbEMsRUFDRixJQUFLLElBQUksRUFBSSxFQUFHLEVBQUksR0FBSSxJQUFNLEVBQUcsQ0FDL0IsR0FBSyxHQUFLLEVBRVosT0FBTyxFQUFJLEVBR04sU0FBUyxRQUFRLE1BQ3RCLEdBQUksT0FBUyxVQUFXLENBQ3RCLE1BQU8sR0FFVCxJQUFJLEVBQUksS0FBSyxVQUFVLE1BQ3ZCLEdBQUksRUFBRSxPQUFTLElBQUssQ0FDbEIsT0FBTyxFQUVULE9BQVUsRUFBRSxNQUFNLEVBQUcsSUFBSSxHQUF6QixNQUdLLFNBQVMsVUFBVSxHQUN4QixjQUFjLElBQU0sVUFBWSxTQUFTLElBQU0sTUFBTSxLQUFPLEVBR3ZELFNBQVMsU0FBUyxHQUN2QixPQUFPLE9BQU8sR0FHVCxTQUFTLFVBQVUsVUFBVyxXQUNuQyxJQUFJLFVBQ0osRUFBRyxDQUNELFVBQVksTUFBTSxTQUFXLGlCQUN0QixZQUFjLFdBQ3ZCLE9BQU8sVUFHRixTQUFTLFFBQVEsWUFDdEIsT0FBTyxNQUFNLFVBQVUsTUFBTSxLQUFLLFlBRzdCLFNBQVMsU0FBUyxJQUFLLElBQzVCLElBQUksSUFBTSxHQUNWLElBQUksRUFDSixFQUFHLENBQ0QsRUFBSSxHQUFHLEtBQUssS0FDWixHQUFJLEVBQUcsQ0FDTCxJQUFJLEtBQUssRUFBRSxXQUVOLEdBQ1QsT0FBTyxJQUdGLFNBQVMsU0FBUyxJQUFLLFdBQzVCLEdBQUksS0FBTyxJQUFJLE9BQVEsQ0FBQSxJQUFBLElBQUEsS0FBQSxVQUFBLE9BRG1CLEtBQ25CLElBQUEsTUFBQSxLQUFBLEVBQUEsS0FBQSxFQUFBLEdBQUEsTUFBQSxFQUFBLE1BQUEsS0FBQSxRQUFBLENBRG1CLEtBQ25CLE1BQUEsR0FBQSxVQUFBLE9BQ3JCLElBQUssSUFBSSxHQUFLLEVBQUcsR0FBSyxJQUFJLFNBQVUsR0FBSSxDQUN0QyxJQUFJLElBQUosTUFBQSxJQUFXOzs7O2lNQ2hRakIsSUFBTSxJQUFNLFFBQVEsWUFDcEIsSUFBTSxPQUFTLFFBQVEsVSxJQUNmLGlCQUEwRixJQUExRixpQkFBa0IsY0FBd0UsSUFBeEUsY0FBZSxnQkFBeUQsSUFBekQsZ0JBQWlCLGtCQUF3QyxJQUF4QyxrQkFBbUIsaUJBQXFCLElBQXJCLGlCQUM3RSxJQUFNLE9BQVMsUUFBUSxlLElBQ2YsU0FBNkMsT0FBN0MsU0FBVSxhQUFtQyxPQUFuQyxhQUFjLGlCQUFxQixPQUFyQixpQkFFekIsSUFBTSxtQkFBcUIsSSw4Q0FDM0IsSUFBTSxVQUFZLG1CQUFxQixFLDRCQUM5QyxRQUFRLGlCQUFtQixJQUczQixJQUFNLGdCQUFrQixFQUN0QixFQUFFLEdBQ0YsRUFBRSxFQUVHLFNBQVMsY0FBYyxPQUFRLEtBQ3BDLElBQUssT0FBTyxXQUFhLE9BQU8sT0FBTyxhQUFlLEVBQUcsQ0FHdkQsUUFBUSxLQUFSLHdEQUFxRSxPQUFPLEdBQTVFLGVBQ0EsSUFBSSxPQUNKLE9BRUYsSUFBSSxJQUFNLElBQUksWUFDZCxJQUFJLFFBQVUsSUFBSSxlQUNsQixHQUFJLFVBQVksSUFBSSxPQUFRLENBQzFCLElBQU0sSUFBSSxXQUFXLElBQUksT0FBUSxJQUFJLFdBQVksU0FFbkQsR0FBSSxPQUFPLFVBQVcsQ0FDcEIsT0FBTyxPQUFPLEtBQUssSUFBSyxXQUN0QixJQUFJLGFBRUQsQ0FDTCxPQUFPLE9BQU8sS0FBSyxLQUNuQixJQUFJLE9BRU4sT0FBTyxlQUFpQixLQUFLLE1BRy9CLFNBQVMsZ0JBQWdCLElBQUssSUFBSyxXQUFXLElBQUEsYUFDdEIsSUFBSSxRQUFwQixPQURzQyxhQUN0QyxPQUFRLElBRDhCLGFBQzlCLFdBQ1AsSUFBSSxRQUNYLElBQUksZ0JBQWtCLGlCQUFpQixJQUFLLElBQUssV0FFakQsSUFBSyxPQUFPLFdBQWEsT0FBTyxPQUFPLGFBQWUsRUFBRyxDQUN2RCxHQUFJLE1BQVEsY0FBZSxDQUN6QixJQUFJLEtBQUssR0FDVCxJQUFJLFlBQ0osSUFBSSxPQUFTLGNBQWMsS0FDM0IsSUFBSSxVQUFZLFNBQVMsT0FBTyxNQUNoQyxJQUFJLFdBQ0osSUFBSSxPQUNKLEdBQUksVUFBVyxDQUNiLElBQUksTUFDSixXQUFhLElBQUksaUJBQ2pCLE9BQVMsSUFBSSxpQkFDYixJQUFLLElBQUksUUFBUyxDQUNoQixJQUFJLFlBRUQsQ0FDTCxXQUFhLE9BQU8sS0FBSyxXQUN6QixPQUFTLE9BQU8sS0FBSyxJQUV2QixJQUFBLGVBQXFCLFdBQXJCLElBQW1DLFFBRXBDLE9BQU8sSUFBTSxPQUFTLFNBQVMsSUFBaEMsMEJBQThELElBQTlELHFDQUNBLElBQUssT0FBTyxLQUFPLE9BQU8sU0FBVyxZQUFjLE1BQVEsU0FBVSxDQUVuRSxPQUFPLFFBQVAsMEJBQXlDLElBQXpDLDJCQUdGLEdBQUksZ0JBQWlCLFFBRVosT0FBTyxTQUFTLGlCQUV6QixJQUFJLE9BQ0osT0FHRixPQUFPLE1BQU0sUUFBUSxXQUFhLFVBQVUscUJBQXVCLE9BQVEsUUFBUSxrQkFFbkYsY0FBYyxPQUFRLEtBR3hCLFNBQVMsVUFBVSxJQUFLLFdBQ3RCLElBQUksSUFBTSxLQUNWLFVBQVcsTUFBUSxhQUFlLFVBQVcsQ0FDM0MsVUFBWSxJQUNaLElBQU0sS0FFUixnQkFBZ0IsSUFBSyxJQUFLLFdBR3JCLFNBQVMsTUFBTSxJQUFLLFFBQVMsUUFDbEMsY0FBYyxNQUFRLGlCQUFtQixNQUFRLFVBR2pELElBQUksSUFBTSxhQUFhLFFBQVUsUUFBUSxtQkFBcUIsT0FBTyxjQUNuRSxRQUFVLFFBQVEsWUFBYyxnQkFBa0IsR0FDcEQsSUFBSSxhQUVKLGdCQUFnQixJQUFLLE9BQVEsS0FFN0IsSUFBSSxRQUFVLENBQ1osSUFBQSxJQUNBLE9BQUEsUUFFRixJQUFJLEtBQU8sVUFDWCxPQUFPLElBR1QsU0FBUyxvQkFBb0IsT0FBUSxJQUFLLElBQUssS0FBTSxXQUNuRCxJQUFJLFVBQVksU0FBUyxNQUN6QixJQUFJLElBQU0sTUFBTSxJQUFLLFVBQVksS0FBTyxLQUFNLFFBRTlDLElBQUssSUFBSyxDQUNSLGtCQUFrQixJQUFLLE1BR3pCLElBQUksS0FBSyxJQUFLLFdBR1QsU0FBUyxZQUFZLElBQUssS0FBTSxXQUNyQyxvQkFBb0IsS0FBTSxJQUFLLEtBQU0sS0FBTSxXQUd0QyxTQUFTLGdCQUFnQixPQUFRLEtBQ3RDLElBQUksSUFBTSxLQUFLLE1BQ2YsSUFBSSxPQUFTLE9BQU8sR0FBUCxVQUFzQixPQUFPLEdBQU8sU0FDakQsS0FBTSxlQUFlLFlBQWEsRUFDL0IsT0FBTyxJQUFNLE9BQVMsU0FBUyxJQUFoQywrQ0FBbUYsT0FBbkYsWUFBcUcsSUFBckcsS0FDQSxPQUFPLE9BQU8sUUFBUSx5QkFFeEIsSUFBSSxJQUFNLGlCQUFpQixJQUFLLElBQUksT0FBUSxPQUM1QyxJQUFJLFlBQ0osT0FBTyxrQkFBb0IsSUFFM0IsT0FBTyxpQkFBaUIsT0FBUSxPQUFRLElBQUssU0FBUyxTQUFTLElBQUssSUFBSyxLQUFNLFdBQzdFLEdBQUksWUFBYyxVQUFVLG1CQUFvQixDQUM5QyxVQUFZLEtBRWQsb0JBQW9CLE9BQVEsSUFBSyxJQUFLLEtBQU0sWUFDM0MsU0FBUyxRQUFRLElBQUssU0FDdkIsT0FBTyxNQUFNLElBQUssUUFBUyxTQUMxQixTQUFTLFdBQVcsSUFBSyxLQUFNLFdBQ2hDLElBQUksUUFBVSxPQUFPLFNBQVMsS0FDOUIsSUFBSyxRQUFTLENBQ1osSUFBSSxVQUFBLDBCQUFzQyxLQUFLLFVBQVUsS0FBckQsU0FBa0UsT0FDdEUsUUFBUSxNQUFNLFVBQVcsU0FBUyxNQUFRLEtBQUssV0FBYSxNQUM1RCxHQUFJLE9BQU8sUUFBUyxDQUNsQixPQUFPLE9BQU8sUUFBUSxXQUV4QixPQUFPLFVBQVUsV0FFbkIsT0FBTyxRQUFRLE9BQVEsS0FBTSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gcihlLG4sdCl7ZnVuY3Rpb24gbyhpLGYpe2lmKCFuW2ldKXtpZighZVtpXSl7dmFyIGM9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighZiYmYylyZXR1cm4gYyhpLCEwKTtpZih1KXJldHVybiB1KGksITApO3ZhciBhPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIraStcIidcIik7dGhyb3cgYS5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGF9dmFyIHA9bltpXT17ZXhwb3J0czp7fX07ZVtpXVswXS5jYWxsKHAuZXhwb3J0cyxmdW5jdGlvbihyKXt2YXIgbj1lW2ldWzFdW3JdO3JldHVybiBvKG58fHIpfSxwLHAuZXhwb3J0cyxyLGUsbix0KX1yZXR1cm4gbltpXS5leHBvcnRzfWZvcih2YXIgdT1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLGk9MDtpPHQubGVuZ3RoO2krKylvKHRbaV0pO3JldHVybiBvfXJldHVybiByfSkoKSIsIi8qIGVzbGludCBnbG9iYWwtcmVxdWlyZTpvZmYgKi9cblxuLy8gU3RhcnR1cCBjb2RlLlxuXG5sZXQgY2FsbGVkX29uY2UgPSBmYWxzZTtcbndpbmRvdy5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gIGlmIChjYWxsZWRfb25jZSkge1xuICAgIHJldHVybjtcbiAgfVxuICBjYWxsZWRfb25jZSA9IHRydWU7XG4gIC8vIHJlcXVpcmUoJy4vZ2xvdi93b3JrZXJfY29tbS5qcycpLnN0YXJ0dXAoKTsgLy8gRmlyc3QsIHNvIGl0IGdldHMgbG9hZGluZyBxdWlja2x5IChpZiB3b3JrZXJzIHJlcXVpcmVkKVxuICByZXF1aXJlKCcuL2dsb3YvYm9vdHN0cmFwLmpzJyk7XG4gIHJlcXVpcmUoJy4vbWFpbi5qcycpLm1haW4oKTtcbn07XG4iLCIvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBDb2RlIHByb3ZpZGVkIGZvciBleGFtcGxlIHB1cnBvc2VzIG9ubHkgd2l0aCBubyBsaWNlbnNlIGZvciB1c2Ugb3IgZGlzdHJpYnV0aW9uXG5jb25zdCBhc3NlcnQgPSByZXF1aXJlKCdhc3NlcnQnKTtcbmNvbnN0IHsgYWJzIH0gPSBNYXRoO1xuY29uc3QgeyByYW5kQ3JlYXRlIH0gPSByZXF1aXJlKCcuL2dsb3YvcmFuZF9hbGVhLmpzJyk7XG5cbmNvbnN0IHsgQ19XQVRFUiwgQ19QTEFJTlMsIENfSElMTFMsIENfTU9VTlRBSU5TLCBDX1JJVkVSX0RFTFRBIH0gPSByZXF1aXJlKCcuL3Byb2NfZ2VuX2NvbnN0YW50cy5qcycpO1xuXG5mdW5jdGlvbiByZ2IocixnLGIpIHtcbiAgcmV0dXJuIG5ldyBVaW50OEFycmF5KFtyLCBnLCBiLCAyNTVdKTtcbn1cbmNvbnN0IE9DRUFOID0gcmdiKDAsIDAsIDI1NSk7XG5jb25zdCBSSVZFUl9ERUxUQSA9IHJnYigyNTUsIDAsIDI1NSk7XG5jb25zdCBUVU5EUkEgPSByZ2IoMjI0LDI0NCwyNTUpO1xuY29uc3QgTU9VTlRBSU5TID0gcmdiKDE3MCwxNzAsMTcwKTtcbmNvbnN0IENMSUZGUyA9IHJnYig5MCw5MCw5MCk7XG5jb25zdCBISUxMU19GT1JFU1QgPSByZ2IoMzIsMTI4LDMyKTtcbmNvbnN0IERFTlNFX0ZPUkVTVCA9IHJnYigxNiw2NCwxNik7XG5jb25zdCBQTEFJTlNfRk9SRVNUID0gcmdiKDk2LDEyOCwzMik7XG5jb25zdCBISUxMUyA9IHJnYig2NCwyNTUsNjQpO1xuY29uc3QgUExBSU5TID0gcmdiKDI1NSwyNTUsNjQpO1xuY29uc3QgREVTRVJUID0gcmdiKDI1NSwyNTUsMTkxKTtcbmNvbnN0IFBMQUlOU19SRUQgPSByZ2IoMjU1LDk2LDY0KTtcbmNvbnN0IFBMQUlOU19CTFVFID0gcmdiKDY0LDk2LDI1NSk7XG5cbmNvbnN0IENPTU1PTiA9IDE7XG5jb25zdCBVTkNPTU1PTiA9IDAuMjU7XG5jb25zdCBSQVJFID0gMC4wMztcbmZ1bmN0aW9uIHdlaWdodGVkQ2hvaWNlQnVpbGQobGlzdCkge1xuICBsZXQgdG90YWwgPSAwO1xuICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgbGlzdC5sZW5ndGg7ICsraWkpIHtcbiAgICB0b3RhbCArPSBsaXN0W2lpXVswXTtcbiAgfVxuICByZXR1cm4geyB0b3RhbCwgbGlzdCB9O1xufVxuXG5mdW5jdGlvbiB3ZWlnaHRlZENob2ljZUdldChwcmVjYWxjLCBjaG9pY2UpIHtcbiAgbGV0IHsgdG90YWwsIGxpc3QgfSA9IHByZWNhbGM7XG4gIGxldCB3ID0gdG90YWwgKiBjaG9pY2U7XG4gIGZvciAobGV0IGlpID0gMDsgaWkgPCBsaXN0Lmxlbmd0aDsgKytpaSkge1xuICAgIHcgLT0gbGlzdFtpaV1bMF07XG4gICAgaWYgKHcgPD0gMCkge1xuICAgICAgcmV0dXJuIGxpc3RbaWldWzFdO1xuICAgIH1cbiAgfVxuICAvLyBTaG91bGQgbmV2ZXIgZ2V0IGhlcmUsIGJhcmluZyBmbG9hdGluZyBwb2ludCByb3VuZGluZyBlcnJvcnNcbiAgcmV0dXJuIGxpc3RbMF1bMV07XG59XG5cbmNvbnN0IGNob2ljZV9lbGV2MF9odW03NSA9IHdlaWdodGVkQ2hvaWNlQnVpbGQoW1xuICBbQ09NTU9OLCBERU5TRV9GT1JFU1RdLFxuICBbVU5DT01NT04sIFBMQUlOU19GT1JFU1RdLFxuXSk7XG5cbmNvbnN0IGNob2ljZV9lbGV2MF9odW01MCA9IHdlaWdodGVkQ2hvaWNlQnVpbGQoW1xuICBbQ09NTU9OLCBQTEFJTlNfRk9SRVNUXSxcbiAgW1VOQ09NTU9OLCBQTEFJTlNdLFxuXSk7XG5cbmNvbnN0IGNob2ljZV9lbGV2MF9odW0yNSA9IHdlaWdodGVkQ2hvaWNlQnVpbGQoW1xuICBbQ09NTU9OLCBQTEFJTlNdLFxuICBbUkFSRSwgUExBSU5TX0JMVUVdLFxuICBbUkFSRSwgUExBSU5TX1JFRF0sXG4gIFtSQVJFLCBISUxMU10sXG5dKTtcblxuZnVuY3Rpb24gZ2V0QmlvbWVWMihjbGFzc2lmLCB0b3Rfc2xvcGUsIGVsZXYsIGh1bWlkaXR5LCBjaG9pY2UsIGNkaXN0KSB7XG4gIGlmIChjbGFzc2lmID09PSBDX1dBVEVSKSB7XG4gICAgcmV0dXJuIE9DRUFOO1xuICB9XG4gIGlmIChjbGFzc2lmID09PSBDX1JJVkVSX0RFTFRBKSB7XG4gICAgcmV0dXJuIFJJVkVSX0RFTFRBO1xuICB9XG4gIHRvdF9zbG9wZSAqPSA0O1xuICBsZXQgaXNfY2xpZmYgPSB0b3Rfc2xvcGUgPiAwLjY7XG4gIGlmIChpc19jbGlmZikge1xuICAgIHJldHVybiBDTElGRlM7XG4gIH1cbiAgaWYgKGNsYXNzaWYgPT09IENfTU9VTlRBSU5TKSB7XG4gICAgaWYgKHRvdF9zbG9wZSA+IDAuMSkge1xuICAgICAgcmV0dXJuIE1PVU5UQUlOUztcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFRVTkRSQTtcbiAgICB9XG4gIH1cbiAgaWYgKGNsYXNzaWYgPT09IENfSElMTFMpIHtcbiAgICBpZiAoaHVtaWRpdHkgPiAwLjY2KSB7XG4gICAgICByZXR1cm4gSElMTFNfRk9SRVNUO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gSElMTFM7XG4gICAgfVxuICB9IGVsc2UgaWYgKGNsYXNzaWYgPT09IENfUExBSU5TKSB7XG4gICAgaWYgKGh1bWlkaXR5ID4gMC43NSkge1xuICAgICAgcmV0dXJuIHdlaWdodGVkQ2hvaWNlR2V0KGNob2ljZV9lbGV2MF9odW03NSwgY2hvaWNlKTtcbiAgICB9IGVsc2UgaWYgKGh1bWlkaXR5ID4gMC41KSB7XG4gICAgICByZXR1cm4gd2VpZ2h0ZWRDaG9pY2VHZXQoY2hvaWNlX2VsZXYwX2h1bTUwLCBjaG9pY2UpO1xuICAgIH0gZWxzZSBpZiAoaHVtaWRpdHkgPiAwLjI1KSB7XG4gICAgICByZXR1cm4gd2VpZ2h0ZWRDaG9pY2VHZXQoY2hvaWNlX2VsZXYwX2h1bTI1LCBjaG9pY2UpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gREVTRVJUO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gYXNzZXJ0KDApO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjYWxjdWxhdGVCaW9tZXNUZXN0KGhleF90ZXhfc2l6ZSwgY2RhdGEsIHRleF9kYXRhX2NvbG9yKSB7XG4gIGxldCB7XG4gICAgZWxldiwgaHVtaWRpdHksIGNsYXNzaWYsIG9jZWFuX2Rpc3RhbmNlLCBzZWFfbGV2ZWwsIG1heF9lbGV2YXRpb24sXG4gIH0gPSBjZGF0YTtcbiAgLy8gVGhpcyBpcyBub3QgaW4gb3V0cHV0LCBqdXN0IHNpbXVsYXRpbmcgd2hhdCB0aGUgZ2FtZSB3aWxsIGRvIHdpdGggdGhpcyBkYXRhIHdoZW4gaXQgZ2V0cyBpdFxuICBsZXQgd2lkdGggPSBoZXhfdGV4X3NpemU7XG4gIGxldCBoZWlnaHQgPSB3aWR0aDtcbiAgbGV0IHN0cmlkZSA9IHdpZHRoO1xuICBsZXQgbmVpZ2hib3JzX2V2ZW4gPSBbXG4gICAgc3RyaWRlLCAvLyBhYm92ZVxuICAgIDEsIC8vIHVwcGVyIHJpZ2h0XG4gICAgMSAtIHN0cmlkZSwgLy8gbG93ZXIgcmlnaHRcbiAgICAtc3RyaWRlLCAvLyBiZWxvd1xuICAgIC0xIC0gc3RyaWRlLCAvLyBsb3dlciBsZWZ0XG4gICAgLTEsIC8vIHVwcGVyIGxlZnRcbiAgXTtcbiAgbGV0IG5laWdoYm9yc19vZGQgPSBbXG4gICAgc3RyaWRlLCAvLyBhYm92ZVxuICAgIDEgKyBzdHJpZGUsIC8vIHVwcGVyIHJpZ2h0LFxuICAgIDEsIC8vIGxvd2VyIHJpZ2h0XG4gICAgLXN0cmlkZSwgLy8gYmVsb3dcbiAgICAtMSwgLy8gbG93ZXIgbGVmdFxuICAgIC0xICsgc3RyaWRlLCAvLyB1cHBlciBsZWZ0LFxuICBdO1xuICBsZXQgbmVpZ2hib3JzX2JpdCA9IFtuZWlnaGJvcnNfZXZlbiwgbmVpZ2hib3JzX29kZF07XG5cbiAgbGV0IHJhbmQgPSByYW5kQ3JlYXRlKDB4MTIzNDUpO1xuXG4gIGxldCBsYW5kX3JhbmdlID0gbWF4X2VsZXZhdGlvbiAtIHNlYV9sZXZlbDtcbiAgZm9yIChsZXQgeSA9IDA7IHkgPCBoZWlnaHQ7ICsreSkge1xuICAgIGZvciAobGV0IHggPSAwOyB4IDwgd2lkdGg7ICsreCkge1xuICAgICAgbGV0IHBvcyA9IHkgKiB3aWR0aCArIHg7XG4gICAgICAvL2xldCBpc19sYW5kID0gbGFuZFtwb3NdO1xuICAgICAgbGV0IGNlbGV2ID0gKGVsZXZbcG9zXSAtIHNlYV9sZXZlbCkgLyBsYW5kX3JhbmdlO1xuICAgICAgLy8gbGV0IGhhc19yaXZlciA9IGlzX2xhbmQgJiYgcml2ZXJbcG9zXTtcbiAgICAgIGxldCBodW1pZCA9IGh1bWlkaXR5W3Bvc10gLyAyNTU7XG4gICAgICAvLyBsZXQgc2xvcGUgPSB0c2xvcGVbcG9zXTsgLy8gVXNlIGFjdHVhbCBjYWxjdWxhdGVkIGFicyhtYXg/KSBvZiBzbG9wZSBmcm9tIGVsZXY/XG4gICAgICBsZXQgY2Rpc3QgPSBvY2Vhbl9kaXN0YW5jZVtwb3NdIC8gKGhleF90ZXhfc2l6ZSAqIDIpO1xuICAgICAgbGV0IGNhdCA9IGNsYXNzaWZbcG9zXTtcbiAgICAgIGxldCBjaG9pY2UgPSByYW5kLnJhbmRvbSgpO1xuXG4gICAgICAvLyBjYWxjIGFjdHVhbCBzbG9wZVxuICAgICAgbGV0IHRvdF9zbG9wZSA9IDA7XG4gICAgICAvL2xldCBtYXhfc2xvcGUgPSAwO1xuICAgICAgbGV0IG5laWdoYm9ycyA9IG5laWdoYm9yc19iaXRbeCAmIDFdO1xuICAgICAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IDY7ICsraWkpIHtcbiAgICAgICAgbGV0IG5wb3MgPSBwb3MgKyBuZWlnaGJvcnNbaWldO1xuICAgICAgICBsZXQgbmVsZXYgPSAoZWxldltucG9zXSAtIHNlYV9sZXZlbCkgLyBsYW5kX3JhbmdlO1xuICAgICAgICBsZXQgc2xvcGUgPSBhYnMoY2VsZXYgLSBuZWxldik7XG4gICAgICAgIHRvdF9zbG9wZSArPSBzbG9wZTtcbiAgICAgICAgLy9tYXhfc2xvcGUgPSBtYXgobWF4X3Nsb3BlLCBzbG9wZSk7XG4gICAgICB9XG5cbiAgICAgIGxldCBjb2xvciA9IGdldEJpb21lVjIoY2F0LCB0b3Rfc2xvcGUsIGNlbGV2LCBodW1pZCwgY2hvaWNlLCBjZGlzdCk7XG5cbiAgICAgIC8vbGV0IGNvbG9yID0gZ2V0QmlvbWVWMShpc19sYW5kLCBjZWxldiwgaHVtaWQsIGNob2ljZSk7XG4gICAgICBmb3IgKGxldCBqaiA9IDA7IGpqIDwgNDsgKytqaikge1xuICAgICAgICB0ZXhfZGF0YV9jb2xvcltwb3MgKiA0ICsgampdID0gY29sb3JbampdO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuIiwiLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gQ29kZSBwcm92aWRlZCBmb3IgZXhhbXBsZSBwdXJwb3NlcyBvbmx5IHdpdGggbm8gbGljZW5zZSBmb3IgdXNlIG9yIGRpc3RyaWJ1dGlvblxuLy8gQ29weXJpZ2h0IChjKSAyMDIwIEppbWIgRXNzZXJcbi8qZXNsaW50IG5vLWxhYmVsczpvZmYgKi9cbmNvbnN0IGFzc2VydCA9IHJlcXVpcmUoJ2Fzc2VydCcpO1xuY29uc3QgeyBhYnMsIGF0YW4yLCBjZWlsLCBjb3MsIG1heCwgbWluLCBmbG9vciwgcm91bmQsIHBvdywgc2luLCBzcXJ0LCBQSSB9ID0gTWF0aDtcbmNvbnN0IHsgQ19XQVRFUiwgQ19QTEFJTlMsIENfSElMTFMsIENfTU9VTlRBSU5TLCBTS0VXX1gsXG4gIENfUklWRVJfREVMVEEgfSA9IHJlcXVpcmUoJy4vcHJvY19nZW5fY29uc3RhbnRzLmpzJyk7XG5jb25zdCB7IHJhbmRDcmVhdGUgfSA9IHJlcXVpcmUoJy4vZ2xvdi9yYW5kX2FsZWEuanMnKTtcbmNvbnN0IFNpbXBsZXhOb2lzZSA9IHJlcXVpcmUoJ3NpbXBsZXgtbm9pc2UnKTtcbmNvbnN0IHsgY2xhbXAsIGxlcnAsIHJpZHggfSA9IHJlcXVpcmUoJy4uL2NvbW1vbi91dGlsLmpzJyk7XG5jb25zdCB7XG4gIHZlYzIsIHYyY29weSwgdjJsZW5ndGhTcSxcbn0gPSByZXF1aXJlKCcuL2dsb3Yvdm1hdGguanMnKTtcblxuY29uc3QgZGVmYXVsdF90ZXhfc2l6ZSA9IDI1NjtcblxuY29uc3QgVFdPUEkgPSBQSSAqIDI7XG5cbi8vIEZvciBgZmlsbGAgYnVmZmVyXG5leHBvcnQgY29uc3QgRF9PUEVOID0gMDtcbmV4cG9ydCBjb25zdCBEX0JPUkRFUiA9IDE7XG5leHBvcnQgY29uc3QgRF9TRUEgPSAyO1xuZXhwb3J0IGNvbnN0IERfU0VBMiA9IDM7XG5leHBvcnQgY29uc3QgRF9JTkxBTkRfU0VBID0gNDtcbmV4cG9ydCBjb25zdCBEX0NPQVNUTElORSA9IDU7XG5leHBvcnQgY29uc3QgRF9MQUtFID0gNjtcblxuZXhwb3J0IGNvbnN0IGRlZmF1bHRfb3B0cyA9IHtcbiAgaGV4X3RleF9zaXplOiBkZWZhdWx0X3RleF9zaXplLFxuICBzZWVkOiAxLFxuICBjb2FzdDoge1xuICAgIGtleTogJycsXG4gICAgZnJlcXVlbmN5OiAyLFxuICAgIGFtcGxpdHVkZTogMSxcbiAgICBwZXJzaXN0ZW5jZTogMC41LFxuICAgIGxhY3VuYXJpdHk6IHsgbWluOiAxLjYsIG1heDogMi44LCBmcmVxOiAwLjMgfSxcbiAgICBvY3RhdmVzOiA2LFxuICAgIGN1dG9mZjogMC41LFxuICAgIGRvbWFpbl93YXJwOiAwLFxuICAgIHdhcnBfZnJlcTogMSxcbiAgICB3YXJwX2FtcDogMC4xLFxuICAgIGZpbGxfc2VhczogdHJ1ZSxcbiAgICBjaGFubmVsczogdHJ1ZSxcbiAgfSxcbiAgdHNsb3BlOiB7XG4gICAga2V5OiAndHMnLFxuICAgIGZyZXF1ZW5jeTogMy41LFxuICAgIGFtcGxpdHVkZTogMSxcbiAgICBtaW46IDAsXG4gICAgcmFuZ2U6IDgsXG4gICAgcGVyc2lzdGVuY2U6IDAuNSxcbiAgICBsYWN1bmFyaXR5OiAxLjMzLFxuICAgIG9jdGF2ZXM6IDEsXG4gICAgZG9tYWluX3dhcnA6IDEsXG4gICAgd2FycF9mcmVxOiAxLFxuICAgIHdhcnBfYW1wOiAwLjEsXG4gIH0sXG4gIHJzbG9wZToge1xuICAgIGtleTogJ3JzJyxcbiAgICBmcmVxdWVuY3k6IDEuMixcbiAgICBhbXBsaXR1ZGU6IDEsXG4gICAgcGVyc2lzdGVuY2U6IDAuNSxcbiAgICBsYWN1bmFyaXR5OiAxLjMzLFxuICAgIG9jdGF2ZXM6IDEsXG4gICAgZG9tYWluX3dhcnA6IDEsXG4gICAgd2FycF9mcmVxOiAxLFxuICAgIHdhcnBfYW1wOiAwLjEsXG4gICAgc3RlcHM6IDQsXG4gIH0sXG4gIHJpdmVyOiB7XG4gICAgd2VpZ2h0X2JlbmQ6IDIsXG4gICAgd2VpZ2h0X2Fmb3JrOiAyLFxuICAgIHdlaWdodF9zZm9yazogMSxcbiAgICBtYXhfdHNsb3BlOiA0OCxcbiAgICB0dW5pbmdfaDogMzIsXG4gICAgc2hvd19lbGV2OiB0cnVlLCAvLyBkZWJ1ZyBkaXNwbGF5IG9wdGlvbiwgbm90IHVzZWQgYnkgZ2VuZXJhdG9yXG4gICAgcHJ1bmU6IHRydWUsXG4gICAgbXRpZnlfcHJ1bmVfZ3JhY2U6IDEwMCxcbiAgICBtdGlmeV9wcnVuZTogdHJ1ZSxcbiAgfSxcbiAgb2NlYW46IHtcbiAgICBmcmVxdWVuY3k6IDMsXG4gICAgYW1wbGl0dWRlOiAxLFxuICAgIHBlcnNpc3RlbmNlOiAwLjUsXG4gICAgbGFjdW5hcml0eTogMi40LFxuICAgIG9jdGF2ZXM6IDMsXG4gICAgZG9tYWluX3dhcnA6IDEsXG4gICAgd2FycF9mcmVxOiAxLFxuICAgIHdhcnBfYW1wOiAxLFxuICB9LFxuICBvY2Vhbl90cmVuY2hlczoge1xuICAgIGN1dG9mZjogMC44LFxuICAgIGZyZXF1ZW5jeTogNCxcbiAgICBhbXBsaXR1ZGU6IDEsXG4gICAgcGVyc2lzdGVuY2U6IDAuNSxcbiAgICBsYWN1bmFyaXR5OiAwLjEsXG4gICAgb2N0YXZlczogMixcbiAgICBkb21haW5fd2FycDogMSxcbiAgICB3YXJwX2ZyZXE6IDEsXG4gICAgd2FycF9hbXA6IDEsXG4gIH0sXG4gIGxha2VzOiB7XG4gICAgbGFrZV9zZWFyY2hfcmFkaXVzOiByb3VuZCgxMCAqIGRlZmF1bHRfdGV4X3NpemUvMjU2KSxcbiAgICBsYWtlX3BlcmNlbnQ6IDAuMTAsXG4gICAgbGFrZV9rOiA1LFxuICAgIG1pbl9zZXA6IHJvdW5kKDQwICogZGVmYXVsdF90ZXhfc2l6ZS8yNTYpLFxuICB9LFxuICBibHVyOiB7XG4gICAgdGhyZXNob2xkOiA1MDAsXG4gICAgd2VpZ2h0OiAxLFxuICB9LFxuICBtb3VudGFpbmlmeToge1xuICAgIHBlYWtfcmFkaXVzOiByb3VuZCgxMCAqIGRlZmF1bHRfdGV4X3NpemUvMjU2KSxcbiAgICBwZWFrX3BlcmNlbnQ6IDAuODAsXG4gICAgcGVha19rOiA1LFxuICAgIGhlaWdodF9zY2FsZTogMyxcbiAgICBibGVuZF9yYWRpdXM6IHJvdW5kKDEwICogZGVmYXVsdF90ZXhfc2l6ZS8yNTYpLFxuICAgIHdlaWdodF9sb2NhbDogMC4yNSxcbiAgICBwb3dlcl9taW46IDEsXG4gICAgcG93ZXJfbWF4OiA0LFxuICAgIHBvd2VyX2JsZW5kOiAwLjI1LFxuICAgIGNkaXN0X3JhbXA6IDIsXG4gIH0sXG4gIGh1bWlkaXR5OiB7XG4gICAgZnJlcXVlbmN5OiAyLjIsXG4gICAgYW1wbGl0dWRlOiAxLFxuICAgIHBlcnNpc3RlbmNlOiAwLjUsXG4gICAgbGFjdW5hcml0eTogNCxcbiAgICBvY3RhdmVzOiAzLFxuICAgIGRvbWFpbl93YXJwOiAwLFxuICAgIHdhcnBfZnJlcTogMSxcbiAgICB3YXJwX2FtcDogMSxcbiAgICByYWluc2hhZG93OiAwLjc1LFxuICAgIHNob3dfcmVsaWVmOiBmYWxzZSwgLy8gZGVidWcgZGlzcGxheSBvcHRpb24sIG1ha2VzIGV4dHJlbWUgcmFpbnNoYWRvd1xuICB9LFxuICBjbGFzc2lmOiB7XG4gICAgY3V0MTogMC4wMzMsXG4gICAgY3V0MjogMC42NjYsXG4gICAgYmx1cl9zY2FsZTogNjgwLFxuICAgIGJsdXJfdzogMTAsXG4gICAgc2hvd19yaXZlcnM6IHRydWUsIC8vIGRlYnVnIGRpc3BsYXkgb3B0aW9uLCBub3QgdXNlZCBieSBnZW5lcmF0b3JcbiAgICBzaG93X3JlbGllZjogdHJ1ZSwgLy8gZGVidWcgZGlzcGxheSBvcHRpb24sIG5vdCB1c2VkIGJ5IGdlbmVyYXRvclxuICB9LFxuICBvdXRwdXQ6IHtcbiAgICBzZWFfcmFuZ2VfZXhwOiAxMyxcbiAgICBsYW5kX3JhbmdlX2V4cDogMTQsXG4gICAgc2VhX3JhbmdlOiAxIDw8IDEzLFxuICAgIGxhbmRfcmFuZ2U6IDEgPDwgMTQsXG4gICAgZGVidWc6IGZhbHNlLFxuICB9LFxuICBlYXJseV9vdXQ6IG51bGwsIC8vICdyaXZlcidcbn07XG5cbmxldCBsYW5kO1xubGV0IGZpbGw7XG5sZXQgdXRpbDtcbmxldCBtb3VudGFpbl9kZWx0YTtcbmxldCB0c2xvcGU7XG5sZXQgcnNsb3BlO1xubGV0IHJpdmVyO1xubGV0IHJlbGV2O1xubGV0IHJzdHJhaGxlcjtcbmxldCB3YXRlcl9sZXZlbDtcbmxldCBjb2FzdF9kaXN0YW5jZTtcbmxldCByaXZlcl9tb3V0aF9kaXN0YW5jZTtcbmxldCBvY2Vhbl9kaXN0YW5jZTtcbmxldCBuZWFyZXN0X3N0cmFobGVyO1xubGV0IHNoYWxsb3dzO1xubGV0IHRyZW5jaGVzO1xubGV0IGh1bWlkaXR5O1xubGV0IGNsYXNzaWY7XG5sZXQgYmx1cl90ZW1wMTtcbmxldCBibHVyX3RlbXAyO1xubGV0IGRlYnVnX3ByaW9yaXR5O1xuXG5sZXQgdG90YWxfc2l6ZTtcbmxldCB3aWR0aDtcbmxldCBoZWlnaHQ7XG5leHBvcnQgbGV0IG5laWdoYm9yc19iaXQ7XG5sZXQgc3RhdGU7XG5cbmZ1bmN0aW9uIHNldHVwV29ya0J1ZmZlcnMoaGV4X3RleF9zaXplKSB7XG4gIHRvdGFsX3NpemUgPSBoZXhfdGV4X3NpemUgKiBoZXhfdGV4X3NpemU7XG4gIHdpZHRoID0gaGVpZ2h0ID0gaGV4X3RleF9zaXplO1xuXG4gIGxhbmQgPSBuZXcgVWludDhBcnJheSh0b3RhbF9zaXplKTtcbiAgZmlsbCA9IG5ldyBVaW50OEFycmF5KHRvdGFsX3NpemUpO1xuICB1dGlsID0gbmV3IFVpbnQ4QXJyYXkodG90YWxfc2l6ZSk7XG4gIG1vdW50YWluX2RlbHRhID0gbmV3IFVpbnQzMkFycmF5KHRvdGFsX3NpemUpO1xuICB0c2xvcGUgPSBuZXcgVWludDhBcnJheSh0b3RhbF9zaXplKTtcbiAgcnNsb3BlID0gbmV3IFVpbnQ4QXJyYXkodG90YWxfc2l6ZSk7XG4gIHJpdmVyID0gbmV3IFVpbnQ4QXJyYXkodG90YWxfc2l6ZSk7XG4gIHJlbGV2ID0gbmV3IFVpbnQxNkFycmF5KHRvdGFsX3NpemUpO1xuICByc3RyYWhsZXIgPSBuZXcgVWludDhBcnJheSh0b3RhbF9zaXplKTtcbiAgd2F0ZXJfbGV2ZWwgPSBuZXcgVWludDE2QXJyYXkodG90YWxfc2l6ZSk7XG4gIGNvYXN0X2Rpc3RhbmNlID0gbmV3IFVpbnQ4QXJyYXkodG90YWxfc2l6ZSk7XG4gIHJpdmVyX21vdXRoX2Rpc3RhbmNlID0gbmV3IFVpbnQ4QXJyYXkodG90YWxfc2l6ZSk7XG4gIG9jZWFuX2Rpc3RhbmNlID0gbmV3IFVpbnQ4QXJyYXkodG90YWxfc2l6ZSk7XG4gIG5lYXJlc3Rfc3RyYWhsZXIgPSBuZXcgVWludDhBcnJheSh0b3RhbF9zaXplKTtcbiAgc2hhbGxvd3MgPSBuZXcgVWludDhBcnJheSh0b3RhbF9zaXplKTtcbiAgdHJlbmNoZXMgPSBuZXcgVWludDhBcnJheSh0b3RhbF9zaXplKTtcbiAgaHVtaWRpdHkgPSBuZXcgVWludDhBcnJheSh0b3RhbF9zaXplKTtcbiAgY2xhc3NpZiA9IG5ldyBVaW50OEFycmF5KHRvdGFsX3NpemUpO1xuICBibHVyX3RlbXAxID0gbmV3IFVpbnQzMkFycmF5KHRvdGFsX3NpemUpO1xuICBibHVyX3RlbXAyID0gbmV3IFVpbnQzMkFycmF5KHRvdGFsX3NpemUpO1xuXG4gIGxldCBuZWlnaGJvcnNfZXZlbiA9IFtcbiAgICB3aWR0aCwgLy8gYWJvdmVcbiAgICAxLCAvLyB1cHBlciByaWdodFxuICAgIDEgLSB3aWR0aCwgLy8gbG93ZXIgcmlnaHRcbiAgICAtd2lkdGgsIC8vIGJlbG93XG4gICAgLTEgLSB3aWR0aCwgLy8gbG93ZXIgbGVmdFxuICAgIC0xLCAvLyB1cHBlciBsZWZ0XG4gIF07XG4gIGxldCBuZWlnaGJvcnNfb2RkID0gW1xuICAgIHdpZHRoLCAvLyBhYm92ZVxuICAgIDEgKyB3aWR0aCwgLy8gdXBwZXIgcmlnaHQsXG4gICAgMSwgLy8gbG93ZXIgcmlnaHRcbiAgICAtd2lkdGgsIC8vIGJlbG93XG4gICAgLTEsIC8vIGxvd2VyIGxlZnRcbiAgICAtMSArIHdpZHRoLCAvLyB1cHBlciBsZWZ0LFxuICBdO1xuICBuZWlnaGJvcnNfYml0ID0gW25laWdoYm9yc19ldmVuLCBuZWlnaGJvcnNfb2RkXTtcbn1cblxubGV0IGxhc3RfdGV4X3NpemUgPSAtMTtcbmxldCB1bmlmX3BvcyA9IHZlYzIoKTtcbmxldCB3b3JsZF9wb3MgPSB2ZWMyKCk7XG5sZXQgb3B0cztcbmxldCBzdWJvcHRzO1xuXG5sZXQgcmFuZDtcbmZ1bmN0aW9uIHNodWZmbGVBcnJheShhcnIpIHtcbiAgZm9yIChsZXQgaWkgPSBhcnIubGVuZ3RoIC0gMTsgaWkgPj0gMTsgLS1paSkge1xuICAgIGxldCBzd2FwID0gcmFuZC5yYW5nZShpaSArIDEpO1xuICAgIGxldCB0ID0gYXJyW2lpXTtcbiAgICBhcnJbaWldID0gYXJyW3N3YXBdO1xuICAgIGFycltzd2FwXSA9IHQ7XG4gIH1cbn1cblxuZnVuY3Rpb24gc3RlcChhLCB4KSB7XG4gIHJldHVybiBhID49IHg7XG59XG5cblxubGV0IG5vaXNlO1xubGV0IG5vaXNlX3dhcnA7XG5sZXQgdG90YWxfYW1wbGl0dWRlO1xubGV0IG5vaXNlX2ZpZWxkO1xuZnVuY3Rpb24gaW5pdE5vaXNlKHN1Ym9wdHNfaW4pIHtcbiAgc3Vib3B0cyA9IHN1Ym9wdHNfaW47XG4gIG5vaXNlID0gbmV3IEFycmF5KHN1Ym9wdHMub2N0YXZlcyk7XG4gIGZvciAobGV0IGlpID0gMDsgaWkgPCBub2lzZS5sZW5ndGg7ICsraWkpIHtcbiAgICBub2lzZVtpaV0gPSBuZXcgU2ltcGxleE5vaXNlKGAke29wdHMuc2VlZH1uJHtzdWJvcHRzLmtleX0ke2lpfWApO1xuICB9XG4gIG5vaXNlX3dhcnAgPSBuZXcgQXJyYXkoc3Vib3B0cy5kb21haW5fd2FycCk7XG4gIGZvciAobGV0IGlpID0gMDsgaWkgPCBub2lzZV93YXJwLmxlbmd0aDsgKytpaSkge1xuICAgIG5vaXNlX3dhcnBbaWldID0gbmV3IFNpbXBsZXhOb2lzZShgJHtvcHRzLnNlZWR9dyR7c3Vib3B0cy5rZXl9JHtpaX1gKTtcbiAgfVxuICB0b3RhbF9hbXBsaXR1ZGUgPSAwOyAgLy8gVXNlZCBmb3Igbm9ybWFsaXppbmcgcmVzdWx0IHRvIDAuMCAtIDEuMFxuICBsZXQgYW1wID0gc3Vib3B0cy5hbXBsaXR1ZGU7XG4gIGxldCBwID0gc3Vib3B0cy5wZXJzaXN0ZW5jZSAmJiBzdWJvcHRzLnBlcnNpc3RlbmNlLm1heCB8fCBzdWJvcHRzLnBlcnNpc3RlbmNlO1xuICBmb3IgKGxldCBpaT0wOyBpaTxzdWJvcHRzLm9jdGF2ZXM7IGlpKyspIHtcbiAgICB0b3RhbF9hbXBsaXR1ZGUgKz0gYW1wO1xuICAgIGFtcCAqPSBwO1xuICB9XG4gIG5vaXNlX2ZpZWxkID0ge307XG4gIGZvciAobGV0IGYgaW4gc3Vib3B0cykge1xuICAgIGxldCB2ID0gc3Vib3B0c1tmXTtcbiAgICBpZiAodHlwZW9mIHYgPT09ICdvYmplY3QnKSB7XG4gICAgICBub2lzZV9maWVsZFtmXSA9IG5ldyBTaW1wbGV4Tm9pc2UoYCR7b3B0cy5zZWVkfWYke3N1Ym9wdHMua2V5fSR7Zn1gKTtcbiAgICAgIHYubXVsID0gKHYubWF4IC0gdi5taW4pICogMC41O1xuICAgICAgdi5hZGQgPSB2Lm1pbiArIHYubXVsO1xuICAgIH1cbiAgfVxufVxuXG5sZXQgc2FtcGxlX3BvcyA9IHZlYzIoKTtcbmZ1bmN0aW9uIGdldChmaWVsZCkge1xuICBsZXQgdiA9IHN1Ym9wdHNbZmllbGRdO1xuICBpZiAodHlwZW9mIHYgIT09ICdvYmplY3QnKSB7XG4gICAgcmV0dXJuIHY7XG4gIH1cbiAgcmV0dXJuIHYuYWRkICsgdi5tdWwgKiBub2lzZV9maWVsZFtmaWVsZF0ubm9pc2UyRChzYW1wbGVfcG9zWzBdICogdi5mcmVxLCBzYW1wbGVfcG9zWzFdICogdi5mcmVxKTtcbn1cbmZ1bmN0aW9uIHNhbXBsZSgpIHtcbiAgdjJjb3B5KHNhbXBsZV9wb3MsIHVuaWZfcG9zKTtcbiAgbGV0IHdhcnBfZnJlcSA9IHN1Ym9wdHMud2FycF9mcmVxO1xuICBsZXQgd2FycF9hbXAgPSBzdWJvcHRzLndhcnBfYW1wO1xuICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgc3Vib3B0cy5kb21haW5fd2FycDsgKytpaSkge1xuICAgIGxldCBkeCA9IG5vaXNlX3dhcnBbaWldLm5vaXNlMkQoc2FtcGxlX3Bvc1swXSAqIHdhcnBfZnJlcSwgc2FtcGxlX3Bvc1sxXSAqIHdhcnBfZnJlcSk7XG4gICAgbGV0IGR5ID0gbm9pc2Vfd2FycFtpaV0ubm9pc2UyRCgoc2FtcGxlX3Bvc1swXSArIDcpICogd2FycF9mcmVxLCBzYW1wbGVfcG9zWzFdICogd2FycF9mcmVxKTtcbiAgICBzYW1wbGVfcG9zWzBdICs9IGR4ICogd2FycF9hbXA7XG4gICAgc2FtcGxlX3Bvc1sxXSArPSBkeSAqIHdhcnBfYW1wO1xuICB9XG4gIGxldCB0b3RhbCA9IDA7XG4gIGxldCBhbXAgPSBzdWJvcHRzLmFtcGxpdHVkZTtcbiAgbGV0IGZyZXEgPSBnZXQoJ2ZyZXF1ZW5jeScpO1xuICBsZXQgcCA9IGdldCgncGVyc2lzdGVuY2UnKTtcbiAgbGV0IGxhYyA9IGdldCgnbGFjdW5hcml0eScpO1xuICBmb3IgKGxldCBpPTA7IGk8c3Vib3B0cy5vY3RhdmVzOyBpKyspIHtcbiAgICB0b3RhbCArPSAoMC41ICsgMC41ICogbm9pc2VbaV0ubm9pc2UyRChzYW1wbGVfcG9zWzBdICogZnJlcSwgc2FtcGxlX3Bvc1sxXSAqIGZyZXEpKSAqIGFtcDtcbiAgICBhbXAgKj0gcDtcbiAgICBmcmVxICo9IGxhYztcbiAgfVxuICByZXR1cm4gdG90YWwvdG90YWxfYW1wbGl0dWRlO1xufVxuXG5jb25zdCBIRVhfSEVJR0hUID0gMS4wOyAvLyBkaXN0YW5jZSBiZXR3ZWVuIGFueSB0d28gaGV4ZXMgPSAxLjBcbmNvbnN0IEhFWF9FREdFID0gSEVYX0hFSUdIVCAvIHNxcnQoMyk7XG5jb25zdCBIRVhfV0lEVEggPSAxLjUgKiBIRVhfRURHRTtcbmZ1bmN0aW9uIGhleFBvc1RvVW5pZlBvcyhpaSwgamopIHtcbiAgd29ybGRfcG9zWzBdID0gaWkgKiBIRVhfV0lEVEg7XG4gIHdvcmxkX3Bvc1sxXSA9IGpqICogSEVYX0hFSUdIVCAtIEhFWF9IRUlHSFQgKiAwLjU7XG4gIGlmIChpaSAmIDEpIHtcbiAgICB3b3JsZF9wb3NbMV0gKz0gSEVYX0hFSUdIVCAqIDAuNTtcbiAgfVxuICB1bmlmX3Bvc1swXSA9IHdvcmxkX3Bvc1swXSAvICgod2lkdGggLSAxKSAqIEhFWF9XSURUSCkgKiAyLjAgLSAxLjA7XG4gIHVuaWZfcG9zWzFdID0gd29ybGRfcG9zWzFdIC8gKChoZWlnaHQgLSAxLjUpICogSEVYX0hFSUdIVCkgKiAyLjAgLSAxLjA7XG59XG5cbmxldCBjb3VudF9ieV9oO1xuZnVuY3Rpb24gZ2VuZXJhdGVDb2FzdGxpbmVzKCkge1xuICBpbml0Tm9pc2Uob3B0cy5jb2FzdCk7XG5cbiAgaWYgKCFjb3VudF9ieV9oKSB7XG4gICAgY291bnRfYnlfaCA9IG5ldyBBcnJheSgyNTYpO1xuICB9XG4gIGZvciAobGV0IGlpID0gMDsgaWkgPCAyNTY7ICsraWkpIHtcbiAgICBjb3VudF9ieV9oW2lpXSA9IDA7XG4gIH1cbiAgZm9yIChsZXQgaWR4PTAsIGpqID0gMDsgamogPCBoZWlnaHQ7ICsramopIHtcbiAgICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgd2lkdGg7ICsraWksICsraWR4KSB7XG4gICAgICBoZXhQb3NUb1VuaWZQb3MoaWksIGpqKTtcblxuICAgICAgbGV0IGggPSBzYW1wbGUoKTtcbiAgICAgIC8vbGV0IGN1dG9mZl9zY2FsZSA9IGN1dG9mZiAvIDI1NTsgLy8gc2NhbGUgY3V0b2ZmIHRvIGV4dGVuZCBuZWFyZXIgdG8gZWRnZSBvZiBtYXBzXG4gICAgICAvL2ggKj0gY3V0b2ZmX3NjYWxlICsgKDEgLSBjdXRvZmZfc2NhbGUpICogKDEgLSB2Mmxlbmd0aFNxKHVuaWZfcG9zKSk7XG4gICAgICBoICo9IDEgLSB2Mmxlbmd0aFNxKHVuaWZfcG9zKTtcblxuICAgICAgaCA9IGNsYW1wKGZsb29yKGggKiAyNTUpLCAwLjAsIDI1NSk7XG4gICAgICBjb3VudF9ieV9oW2hdKys7XG4gICAgICBsYW5kW2lkeF0gPSBoO1xuICAgIH1cbiAgfVxuICAvLyBEZXRlcm1pbmUgY3V0b2ZmIGFzIGEgcGVyY2VudGlsZVxuICAvLyAgIFByb2JhYmx5IG5vdCBnZW5lcmFsbHkgbmVjZXNzYXJ5LCBidXQgYWxsb3dzIGZvciBwbGF5aW5nIHdpdGggZG9tYWluLXdhcnBlZFxuICAvLyAgIHBlcnNpc3RlbmNlIHNsaWRlcnMgd2l0aG91dCBjaGFuZ2luZyB0aGUgb3ZlcmFsbCBkZW5zaXR5LCBldGMuXG4gIGxldCBjdXRvZmZfcGVyY2VudCA9IGdldCgnY3V0b2ZmJyk7XG4gIGN1dG9mZl9wZXJjZW50ID0gMSAtICgxIC0gY3V0b2ZmX3BlcmNlbnQpICogKDEgLSBjdXRvZmZfcGVyY2VudCk7XG4gIGxldCBjdXRvZmZfY291bnQgPSB0b3RhbF9zaXplICogY3V0b2ZmX3BlcmNlbnQ7XG4gIGxldCBjdXRvZmYgPSAwO1xuICBmb3IgKGN1dG9mZiA9IDA7IGN1dG9mZl9jb3VudCA+IDAgJiYgY3V0b2ZmIDwgMjU2OyArK2N1dG9mZikge1xuICAgIGN1dG9mZl9jb3VudCAtPSBjb3VudF9ieV9oW2N1dG9mZl07XG4gIH1cbiAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IHRvdGFsX3NpemU7ICsraWkpIHtcbiAgICBsZXQgaCA9IGxhbmRbaWldO1xuICAgIGxhbmRbaWldID0gaCA+IGN1dG9mZiA/IDI1NSA6IDA7XG4gICAgZmlsbFtpaV0gPSBEX09QRU47XG4gIH1cbn1cblxuZnVuY3Rpb24gZmlsbFNlYXMoKSB7XG4gIGxldCB1bmZpbGxlZF9zZWFzID0gc3RhdGUudW5maWxsZWRfc2VhcyA9IFtdO1xuICBsZXQgdG9kbyA9IFtdO1xuICBsZXQgZG9uZSA9IFtdO1xuICBmdW5jdGlvbiBmaWxsQm9yZGVycygpIHtcbiAgICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgd2lkdGg7ICsraWkpIHtcbiAgICAgIGZpbGxbaWldID0gRF9CT1JERVI7XG4gICAgICBmaWxsWyhoZWlnaHQgLSAxKSAqIHdpZHRoICsgaWldID0gRF9CT1JERVI7XG4gICAgfVxuICAgIGZvciAobGV0IGlpID0gMDsgaWkgPCBoZWlnaHQ7ICsraWkpIHtcbiAgICAgIGZpbGxbd2lkdGggKiBpaV0gPSBEX0JPUkRFUjtcbiAgICAgIGZpbGxbd2lkdGggKiBpaSArIHdpZHRoIC0gMV0gPSBEX0JPUkRFUjtcbiAgICB9XG4gIH1cbiAgZmlsbEJvcmRlcnMoKTtcbiAgZnVuY3Rpb24gdHJ5TWFyayhwb3MsIHYpIHtcbiAgICBpZiAobGFuZFtwb3NdIHx8IGZpbGxbcG9zXSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBmaWxsW3Bvc10gPSB2O1xuICAgIHRvZG8ucHVzaChwb3MpO1xuICAgIGRvbmUucHVzaChwb3MpO1xuICB9XG4gIGZ1bmN0aW9uIHNwcmVhZFNlYXModikge1xuICAgIHdoaWxlICh0b2RvLmxlbmd0aCkge1xuICAgICAgbGV0IHBvcyA9IHRvZG8ucG9wKCk7XG4gICAgICBsZXQgbmVpZ2hib3JzID0gbmVpZ2hib3JzX2JpdFtwb3MgJiAxXTtcbiAgICAgIGZvciAobGV0IGlpID0gMDsgaWkgPCBuZWlnaGJvcnMubGVuZ3RoOyArK2lpKSB7XG4gICAgICAgIHRyeU1hcmsocG9zICsgbmVpZ2hib3JzW2lpXSwgdik7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHRyeU1hcmsod2lkdGggKyAxLCBEX1NFQSk7XG4gIHNwcmVhZFNlYXMoRF9TRUEpO1xuICAvLyBGaW5kIGFsbCBpbmxhbmQgc2VhcywgbWFyayB0aGVtLCB0aGVuIGdyb3cgdGhlbSBOIHN0ZXBzIHRvIGVpdGhlciBmaW5kIGEgY2hhbm5lbCBvciBmaWxsIHRoZW1cbiAgbGV0IGlubGFuZF9zZWFzID0gW107XG4gIGZvciAobGV0IHBvcyA9IDA7IHBvcyA8IHdpZHRoICogaGVpZ2h0OyArK3Bvcykge1xuICAgIGlmICghbGFuZFtwb3NdICYmICFmaWxsW3Bvc10pIHtcbiAgICAgIC8vIG9wZW4sIGFuZCBub3QgYW4gb2NlYW4gb3IgcHJldmlvdXNseSBtYXJrZWRcbiAgICAgIGRvbmUgPSBbXTtcbiAgICAgIHRyeU1hcmsocG9zLCBEX0lOTEFORF9TRUEpO1xuICAgICAgc3ByZWFkU2VhcyhEX0lOTEFORF9TRUEpO1xuICAgICAgaW5sYW5kX3NlYXMucHVzaChkb25lKTtcbiAgICB9XG4gIH1cbiAgc2h1ZmZsZUFycmF5KGlubGFuZF9zZWFzKTtcbiAgaW5sYW5kX3NlYXMuZm9yRWFjaChmdW5jdGlvbiAoc2VhKSB7XG4gICAgLy8gQ2hhbm5lbCB0byBvY2VhbiBpZiBwb3NzaWJsZVxuICAgIGxldCBpc19vY2VhbiA9IGZhbHNlO1xuICAgIGlmIChzdWJvcHRzLmNoYW5uZWxzKSB7XG4gICAgICBsZXQgY2hlY2tlZCA9IFtdO1xuICAgICAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IHNlYS5sZW5ndGg7ICsraWkpIHtcbiAgICAgICAgY2hlY2tlZFtzZWFbaWldXSA9IDE7XG4gICAgICB9XG4gICAgICBsZXQgYWRqYWNlbnQgPSBbXTtcbiAgICAgIGZvciAobGV0IGlpID0gMDsgaWkgPCBzZWEubGVuZ3RoOyArK2lpKSB7XG4gICAgICAgIGxldCBwb3MgPSBzZWFbaWldO1xuICAgICAgICBsZXQgbmVpZ2hib3JzID0gbmVpZ2hib3JzX2JpdFtwb3MgJiAxXTtcbiAgICAgICAgZm9yIChsZXQgbmlkeCA9IDA7IG5pZHggPCBuZWlnaGJvcnMubGVuZ3RoOyArK25pZHgpIHtcbiAgICAgICAgICBsZXQgbnBvcyA9IHBvcyArIG5laWdoYm9yc1tuaWR4XTtcbiAgICAgICAgICBpZiAoIWNoZWNrZWRbbnBvc10pIHtcbiAgICAgICAgICAgIGFkamFjZW50LnB1c2gobnBvcyk7XG4gICAgICAgICAgICAvLyBpZiAoIWRhdGFbbnBvcyAqIEJQUF0pIHtcbiAgICAgICAgICAgIC8vICAgLy8gYSBuZWlnaGJvcmluZyBzZWEgYWxyZWFkeSBjaGFubmVsZWQgdGhpcywgaXQgbXVzdCBjb25uZWN0IHRvIHRoZSBvY2VhbiFcbiAgICAgICAgICAgIC8vIH1cbiAgICAgICAgICAgIGNoZWNrZWRbbnBvc10gPSAxO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgc2h1ZmZsZUFycmF5KGFkamFjZW50KTtcbiAgICAgIG91dGVyOlxuICAgICAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IGFkamFjZW50Lmxlbmd0aDsgKytpaSkge1xuICAgICAgICBsZXQgcG9zID0gYWRqYWNlbnRbaWldO1xuICAgICAgICBsZXQgbmVpZ2hib3JzID0gbmVpZ2hib3JzX2JpdFtwb3MgJiAxXTtcbiAgICAgICAgZm9yIChsZXQgbmlkeCA9IDA7IG5pZHggPCBuZWlnaGJvcnMubGVuZ3RoOyArK25pZHgpIHtcbiAgICAgICAgICBsZXQgbnBvcyA9IHBvcyArIG5laWdoYm9yc1tuaWR4XTtcbiAgICAgICAgICBpZiAoIWNoZWNrZWRbbnBvc10gJiYgIWxhbmRbbnBvc10gJiYgZmlsbFtucG9zXSA9PT0gRF9TRUEpIHtcbiAgICAgICAgICAgIC8vIG9wZW4gcm91dGUgdG8gdGhlIG9jZWFuIVxuICAgICAgICAgICAgbGFuZFtwb3NdID0gMDtcbiAgICAgICAgICAgIHNlYS5wdXNoKHBvcyk7XG4gICAgICAgICAgICBsYW5kW25wb3NdID0gMDtcbiAgICAgICAgICAgIHNlYS5wdXNoKG5wb3MpO1xuICAgICAgICAgICAgZm9yIChsZXQgamogPSAwOyBqaiA8IHNlYS5sZW5ndGg7ICsramopIHtcbiAgICAgICAgICAgICAgZmlsbFtzZWFbampdXSA9IERfU0VBO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaXNfb2NlYW4gPSB0cnVlO1xuICAgICAgICAgICAgYnJlYWsgb3V0ZXI7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGlmICghaXNfb2NlYW4pIHtcbiAgICAgIGlmIChzdWJvcHRzLmZpbGxfc2Vhcykge1xuICAgICAgICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgc2VhLmxlbmd0aDsgKytpaSkge1xuICAgICAgICAgIGxhbmRbc2VhW2lpXV0gPSAyNTU7XG4gICAgICAgICAgZmlsbFtzZWFbaWldXSA9IERfT1BFTjtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdW5maWxsZWRfc2Vhcy5wdXNoKHNlYSk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbn1cblxuLy8gR2VuZXJhdGVzIHBvaXNzb24gc2FtcGxlZCBwb2ludHMgd2l0aCBiZXR3ZWVuIHJhZGl1cyBhbmQgMiAqIHJhZGl1cyBiZXR3ZWVuIGVhY2hcbmZ1bmN0aW9uIHBvaXNzb25TYW1wbGUocmFkaXVzLCBrKSB7XG4gIGxldCByZXQgPSBbXTtcbiAgbGV0IHBlYWtfcnNxdWFyZWQgPSByYWRpdXMgKiByYWRpdXM7XG4gIGxldCBjZWxsX2JvdW5kID0gcmFkaXVzIC8gc3FydCgyKTtcbiAgbGV0IGNlbGxfdyA9IGNlaWwod2lkdGggLyBjZWxsX2JvdW5kKTtcbiAgbGV0IGNlbGxfaCA9IGNlaWwoaGVpZ2h0IC8gY2VsbF9ib3VuZCk7XG4gIGxldCBjZWxscyA9IG5ldyBJbnQxNkFycmF5KGNlbGxfdyAqIGNlbGxfaCk7XG4gIGxldCBhY3RpdmUgPSBbXTtcbiAgZnVuY3Rpb24gZW1pdFNhbXBsZShwb3MpIHtcbiAgICBsZXQgcG9zeCA9IHBvcyAlIHdpZHRoO1xuICAgIGxldCBwb3N5ID0gKHBvcyAtIHBvc3gpIC8gd2lkdGg7XG4gICAgbGV0IGNlbGxpZHggPSAoKHBvc3ggLyBjZWxsX2JvdW5kKXwwKSArICgocG9zeSAvIGNlbGxfYm91bmQpfDApICogY2VsbF93O1xuICAgIHJldC5wdXNoKHBvcyk7XG4gICAgY2VsbHNbY2VsbGlkeF0gPSByZXQubGVuZ3RoO1xuICAgIGFjdGl2ZS5wdXNoKHBvcyk7XG4gIH1cbiAgZW1pdFNhbXBsZShyYW5kLnJhbmdlKHRvdGFsX3NpemUpKTtcblxuICAvLyBGcm9tIGh0dHBzOi8vd3d3Lmphc29uZGF2aWVzLmNvbS9wb2lzc29uLWRpc2MvXG4gIC8vIEdlbmVyYXRlIHBvaW50IGNob3NlbiB1bmlmb3JtbHkgZnJvbSBzcGhlcmljYWwgYW5udWx1cyBiZXR3ZWVuIHJhZGl1cyByIGFuZCAyciBmcm9tIHAuXG4gIGxldCBueDtcbiAgbGV0IG55O1xuICBmdW5jdGlvbiBnZW5lcmF0ZUFyb3VuZChweCwgcHkpIHtcbiAgICBsZXQgzrggPSByYW5kLnJhbmRvbSgpICogMiAqIFBJO1xuICAgIGxldCByID0gc3FydChyYW5kLnJhbmRvbSgpICogMyAqIHBlYWtfcnNxdWFyZWQgKyBwZWFrX3JzcXVhcmVkKTsgLy8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvOTA0ODQ0My82NDAwOVxuICAgIG54ID0gKHB4ICsgciAqIGNvcyjOuCkpIHwgMDtcbiAgICBueSA9IChweSArIHIgKiBzaW4ozrgpKSB8IDA7XG4gIH1cblxuICBmdW5jdGlvbiBuZWFyKCkge1xuICAgIGxldCBuID0gMjtcbiAgICBsZXQgeCA9IG54IC8gY2VsbF9ib3VuZCB8IDA7XG4gICAgbGV0IHkgPSBueSAvIGNlbGxfYm91bmQgfCAwO1xuICAgIGxldCB4MCA9IG1heCh4IC0gbiwgMCk7XG4gICAgbGV0IHkwID0gbWF4KHkgLSBuLCAwKTtcbiAgICBsZXQgeDEgPSBtaW4oeCArIG4gKyAxLCBjZWxsX3cpO1xuICAgIGxldCB5MSA9IG1pbih5ICsgbiArIDEsIGNlbGxfaCk7XG4gICAgZm9yIChsZXQgeXkgPSB5MDsgeXkgPCB5MTsgKyt5eSkge1xuICAgICAgbGV0IG8gPSB5eSAqIGNlbGxfdztcbiAgICAgIGZvciAobGV0IHh4ID0geDA7IHh4IDwgeDE7ICsreHgpIHtcbiAgICAgICAgbGV0IGcgPSBjZWxsc1tvICsgeHhdO1xuICAgICAgICBpZiAoIWcpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBnID0gcmV0W2cgLSAxXTtcbiAgICAgICAgbGV0IGd4ID0gZyAlIHdpZHRoO1xuICAgICAgICBsZXQgZ3kgPSAoZyAtIGd4KSAvIHdpZHRoO1xuICAgICAgICBsZXQgZHNxID0gKG54IC0gZ3gpICogKG54IC0gZ3gpICsgKG55IC0gZ3kpICogKG55IC0gZ3kpO1xuICAgICAgICBpZiAoZHNxIDwgcGVha19yc3F1YXJlZCkge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHdoaWxlIChhY3RpdmUubGVuZ3RoKSB7XG4gICAgbGV0IGFjdGl2ZV9pZHggPSByYW5kLnJhbmdlKGFjdGl2ZS5sZW5ndGgpO1xuICAgIGxldCBwb3MgPSBhY3RpdmVbYWN0aXZlX2lkeF07XG4gICAgcmlkeChhY3RpdmUsIGFjdGl2ZV9pZHgpO1xuICAgIGxldCBwb3N4ID0gcG9zICUgd2lkdGg7XG4gICAgbGV0IHBvc3kgPSAocG9zIC0gcG9zeCkgLyB3aWR0aDtcbiAgICBmb3IgKGxldCBqaiA9IDA7IGpqIDwgazsgKytqaikge1xuICAgICAgZ2VuZXJhdGVBcm91bmQocG9zeCwgcG9zeSk7XG4gICAgICBpZiAobnggPCAwIHx8IG54ID49IHdpZHRoIHx8IG55IDwgMCB8fCBueSA+PSBoZWlnaHQgfHwgbmVhcigpKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgZW1pdFNhbXBsZShueCArIG55ICogd2lkdGgpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmV0O1xufVxuXG5mdW5jdGlvbiBmaW5kTWF4UGVyUmVnaW9uKGNhbmRpZGF0ZXMsIG1hcCwgcmFkaXVzKSB7XG4gIGxldCByZXQgPSBbXTtcbiAgbGV0IHVzZWQgPSB7fTtcbiAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IGNhbmRpZGF0ZXMubGVuZ3RoOyArK2lpKSB7XG4gICAgbGV0IHBvcyA9IGNhbmRpZGF0ZXNbaWldO1xuICAgIGxldCBwb3N4ID0gcG9zICUgd2lkdGg7XG4gICAgbGV0IHBvc3kgPSAocG9zIC0gcG9zeCkgLyB3aWR0aDtcbiAgICBsZXQgeDAgPSBtYXgoMCwgcG9zeCAtIHJhZGl1cyk7XG4gICAgbGV0IHgxID0gbWluKHdpZHRoIC0gMSwgcG9zeCArIHJhZGl1cyk7XG4gICAgbGV0IHkwID0gbWF4KDAsIHBvc3kgLSByYWRpdXMpO1xuICAgIGxldCB5MSA9IG1pbihoZWlnaHQgLSAxLCBwb3N5ICsgcmFkaXVzKTtcbiAgICBsZXQgbWF4X2VsZXYgPSBtYXBbcG9zXTtcbiAgICBsZXQgbWF4X3BvcyA9IHBvcztcbiAgICBmb3IgKGxldCB5eSA9IHkwOyB5eSA8PSB5MTsgKyt5eSkge1xuICAgICAgZm9yIChsZXQgeHggPSB4MDsgeHggPD0geDE7ICsreHgpIHtcbiAgICAgICAgbGV0IHAgPSB4eCArIHl5ICogd2lkdGg7XG4gICAgICAgIGxldCBlID0gbWFwW3BdO1xuICAgICAgICBpZiAoZSA+IG1heF9lbGV2KSB7XG4gICAgICAgICAgbWF4X2VsZXYgPSBlO1xuICAgICAgICAgIG1heF9wb3MgPSBwO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGlmICghdXNlZFttYXhfcG9zXSkge1xuICAgICAgdXNlZFttYXhfcG9zXSA9IHRydWU7XG4gICAgICByZXQucHVzaChbbWF4X2VsZXYsIG1heF9wb3NdKTtcbiAgICB9XG4gIH1cbiAgcmV0LnNvcnQoKGEsYikgPT4ge1xuICAgIGxldCBkID0gYlswXSAtIGFbMF07XG4gICAgaWYgKGQpIHtcbiAgICAgIHJldHVybiBkO1xuICAgIH1cbiAgICBhc3NlcnQoYlsxXSAhPT0gYVsxXSk7XG4gICAgcmV0dXJuIGJbMV0gLSBhWzFdO1xuICB9KTtcbiAgcmV0dXJuIHJldDtcbn1cblxuZnVuY3Rpb24gZ2VuZXJhdGVMYWtlcygpIHtcbiAgc3Vib3B0cyA9IG9wdHMubGFrZXM7XG4gIGxldCBsYWtlcyA9IHN0YXRlLmxha2VzID0gW107XG4gIGxldCBsYWtlX3NlZWRzID0gc3RhdGUubGFrZV9zZWVkcyA9IFtdO1xuICBmdW5jdGlvbiBnZW5lcmF0ZUlubGFuZERGKCkge1xuICAgIHV0aWwuZmlsbCgwKTtcbiAgICBsZXQgdG9kbyA9IFtdO1xuICAgIGxldCBkID0gMDtcbiAgICBmb3IgKGxldCBwb3MgPSAwOyBwb3MgPCB0b3RhbF9zaXplOyArK3Bvcykge1xuICAgICAgaWYgKCFsYW5kW3Bvc10pIHtcbiAgICAgICAgdXRpbFtwb3NdID0gMTtcbiAgICAgICAgY29hc3RfZGlzdGFuY2VbcG9zXSA9IDA7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgbGV0IG5laWdoYm9ycyA9IG5laWdoYm9yc19iaXRbcG9zICYgMV07XG4gICAgICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgbmVpZ2hib3JzLmxlbmd0aDsgKytpaSkge1xuICAgICAgICBsZXQgbmlkeCA9IHBvcyArIG5laWdoYm9yc1tpaV07XG4gICAgICAgIGlmICghbGFuZFtuaWR4XSkge1xuICAgICAgICAgIHRvZG8ucHVzaChwb3MpO1xuICAgICAgICAgIGNvYXN0X2Rpc3RhbmNlW3Bvc10gPSBkO1xuICAgICAgICAgIHV0aWxbcG9zXSA9IDE7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgd2hpbGUgKHRvZG8ubGVuZ3RoKSB7XG4gICAgICBkID0gbWluKGQgKyAxLCAyNTUpO1xuICAgICAgbGV0IG5leHQgPSBbXTtcbiAgICAgIGZvciAobGV0IGlpID0gMDsgaWkgPCB0b2RvLmxlbmd0aDsgKytpaSkge1xuICAgICAgICBsZXQgcG9zID0gdG9kb1tpaV07XG4gICAgICAgIGxldCBuZWlnaGJvcnMgPSBuZWlnaGJvcnNfYml0W3BvcyAmIDFdO1xuICAgICAgICBmb3IgKGxldCBqaiA9IDA7IGpqIDwgbmVpZ2hib3JzLmxlbmd0aDsgKytqaikge1xuICAgICAgICAgIGxldCBucG9zID0gcG9zICsgbmVpZ2hib3JzW2pqXTtcbiAgICAgICAgICBpZiAoIXV0aWxbbnBvc10pIHtcbiAgICAgICAgICAgIHV0aWxbbnBvc10gPSAxO1xuICAgICAgICAgICAgY29hc3RfZGlzdGFuY2VbbnBvc10gPSBkO1xuICAgICAgICAgICAgaWYgKGZpbGxbbnBvc10gIT09IERfQk9SREVSKSB7XG4gICAgICAgICAgICAgIG5leHQucHVzaChucG9zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRvZG8gPSBuZXh0O1xuICAgIH1cbiAgfVxuICBnZW5lcmF0ZUlubGFuZERGKCk7XG5cbiAgbGV0IHsgbGFrZV9zZWFyY2hfcmFkaXVzLCBsYWtlX2ssIGxha2VfcGVyY2VudCwgbWluX3NlcCB9ID0gc3Vib3B0cztcbiAgbGV0IGNoZWNrX3BvaW50cyA9IHBvaXNzb25TYW1wbGUobGFrZV9zZWFyY2hfcmFkaXVzLCBsYWtlX2spO1xuICBsZXQgbGFrZV9lbGV2ID0gZmluZE1heFBlclJlZ2lvbihjaGVja19wb2ludHMsIGNvYXN0X2Rpc3RhbmNlLCBmbG9vcihsYWtlX3NlYXJjaF9yYWRpdXMgLyAyKSk7XG4gIGxha2VfZWxldiA9IGxha2VfZWxldi5maWx0ZXIoKGEpID0+IGFbMF0gPiAyKTtcbiAgbGV0IHdhbnQgPSBmbG9vcihsYWtlX2VsZXYubGVuZ3RoICogbGFrZV9wZXJjZW50KTtcbiAgbGV0IHVzZSA9IFtdO1xuICBsZXQgbWluX3NlcF9zcSA9IG1pbl9zZXAgKiBtaW5fc2VwO1xuICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgbGFrZV9lbGV2Lmxlbmd0aCAmJiB1c2UubGVuZ3RoIDwgd2FudDsgKytpaSkge1xuICAgIGxldCBwdCA9IGxha2VfZWxldltpaV1bMV07XG4gICAgbGV0IHB4ID0gcHQgJSB3aWR0aDtcbiAgICBsZXQgcHkgPSAocHQgLSBweCkgLyB3aWR0aDtcbiAgICBsZXQgdG9vX2Nsb3NlID0gZmFsc2U7XG4gICAgZm9yIChsZXQgamogPSAwOyBqaiA8IHVzZS5sZW5ndGg7ICsramopIHtcbiAgICAgIGxldCBvdGhlciA9IHVzZVtqal07XG4gICAgICBsZXQgZHggPSBweCAtIG90aGVyWzBdO1xuICAgICAgbGV0IGR5ID0gcHkgLSBvdGhlclsxXTtcbiAgICAgIGxldCBkc3EgPSBkeCpkeCArIGR5KmR5O1xuICAgICAgaWYgKGRzcSA8IG1pbl9zZXBfc3EpIHtcbiAgICAgICAgdG9vX2Nsb3NlID0gdHJ1ZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICh0b29fY2xvc2UpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICB1c2UucHVzaChbcHgsIHB5XSk7XG4gIH1cblxuICBmdW5jdGlvbiBwbGFjZUxha2UoeCwgeSkge1xuICAgIGxldCBwb3MgPSB4ICsgeSAqIHdpZHRoO1xuICAgIGZpbGxbcG9zXSA9IERfSU5MQU5EX1NFQTtcbiAgICBsYW5kW3Bvc10gPSAwO1xuICAgIGxha2Vfc2VlZHMucHVzaChwb3MpO1xuICAgIGxha2VzLnB1c2gocG9zKTtcbiAgfVxuICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgdXNlLmxlbmd0aDsgKytpaSkge1xuICAgIHBsYWNlTGFrZSh1c2VbaWldWzBdLCB1c2VbaWldWzFdKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBnZW5lcmF0ZVRlcnJhaW5TbG9wZSgpIHtcbiAgaW5pdE5vaXNlKG9wdHMudHNsb3BlKTtcbiAgZm9yIChsZXQgamogPSAwOyBqaiA8IGhlaWdodDsgKytqaikge1xuICAgIGZvciAobGV0IGlpID0gMDsgaWkgPCB3aWR0aDsgKytpaSkge1xuICAgICAgaGV4UG9zVG9VbmlmUG9zKGlpLCBqaik7XG5cbiAgICAgIGxldCBoID0gc2FtcGxlKCk7XG4gICAgICBsZXQgbWluX3YgPSBnZXQoJ21pbicpO1xuICAgICAgbGV0IHJhbmdlID0gZ2V0KCdyYW5nZScpO1xuICAgICAgaCA9IGNsYW1wKG1pbl92ICsgZmxvb3IoaCAqIHJhbmdlKSwgMC4wLCAyNTUpO1xuICAgICAgdHNsb3BlW2pqICogd2lkdGggKyBpaV0gPSBoO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBnZW5lcmF0ZVJpdmVyU2xvcGUoKSB7XG4gIGluaXROb2lzZShvcHRzLnJzbG9wZSk7XG4gIGZvciAobGV0IGpqID0gMDsgamogPCBoZWlnaHQ7ICsramopIHtcbiAgICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgd2lkdGg7ICsraWkpIHtcbiAgICAgIGhleFBvc1RvVW5pZlBvcyhpaSwgamopO1xuXG4gICAgICBsZXQgaCA9IHNhbXBsZSgpO1xuICAgICAgaCA9IGNsYW1wKGZsb29yKGggKiBvcHRzLnJzbG9wZS5zdGVwcyksIDAsIG9wdHMucnNsb3BlLnN0ZXBzIC0gMSk7XG4gICAgICByc2xvcGVbamogKiB3aWR0aCArIGlpXSA9IGggKyAxO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBncm93Uml2ZXJzKCkge1xuICBzdWJvcHRzID0gb3B0cy5yaXZlcjtcbiAgcml2ZXIuZmlsbCgwKTtcbiAgcmVsZXYuZmlsbCgwKTtcbiAgbGV0IGNvYXN0bGluZXMgPSBbXTtcbiAgbGV0IGNvYXN0bGluZXNfaW5jZGlyID0gW107XG4gIGZ1bmN0aW9uIGZpbmRDYW5kaWRhdGVzKCkge1xuICAgIC8vIFBFUkY6IHRoaXMgY291bGQgYmUgYW4gb3V0cHV0IGZyb20gdGhlIGFib3ZlIHN0ZXBzIC0gb2NlYW5zIGFuZCBpbmxhbmQgc2VhcyBjb21iaW5lZCxcbiAgICAvLyAgIHdvdWxkIGp1c3QgbmVlZCBiZXR0ZXIgcmFuZG9tIGNob2ljZSBmb3IgaW5pdGlhbCBpbmNvbWluZyBkaXJlY3Rpb25cbiAgICBsZXQgeyB1bmZpbGxlZF9zZWFzLCBsYWtlX3NlZWRzIH0gPSBzdGF0ZTtcbiAgICBsZXQgdG9kbyA9IFtdO1xuICAgIGZ1bmN0aW9uIHRyeU1hcmsocG9zLCB2LCBpbmNvbWluZ19kaXIpIHtcbiAgICAgIGxldCBkID0gZmlsbFtwb3NdO1xuICAgICAgaWYgKGQgIT09IERfU0VBICYmIGQgIT09IERfSU5MQU5EX1NFQSkge1xuICAgICAgICBpZiAoZCA9PT0gRF9PUEVOKSB7IC8vIGxhbmRcbiAgICAgICAgICBmaWxsW3Bvc10gPSBEX0NPQVNUTElORTtcbiAgICAgICAgICBsZXQgaW52ZGlyID0gKGluY29taW5nX2RpciArIDMpICUgNjtcbiAgICAgICAgICByaXZlcltwb3NdID0gMSA8PCBpbnZkaXI7XG4gICAgICAgICAgcmVsZXZbcG9zXSA9IHJzbG9wZVtwb3NdO1xuICAgICAgICAgIGNvYXN0bGluZXMucHVzaChwb3MpO1xuICAgICAgICAgIGNvYXN0bGluZXNfaW5jZGlyLnB1c2goaW52ZGlyKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBmaWxsW3Bvc10gPSB2O1xuICAgICAgdG9kby5wdXNoKHBvcyk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHNwcmVhZFNlYXModikge1xuICAgICAgd2hpbGUgKHRvZG8ubGVuZ3RoKSB7XG4gICAgICAgIGxldCBpZHggPSByYW5kLnJhbmdlKHRvZG8ubGVuZ3RoKTtcbiAgICAgICAgbGV0IHBvcyA9IHRvZG9baWR4XTtcbiAgICAgICAgcmlkeCh0b2RvLCBpZHgpO1xuICAgICAgICBsZXQgbmVpZ2hib3JzID0gbmVpZ2hib3JzX2JpdFtwb3MgJiAxXTtcbiAgICAgICAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IG5laWdoYm9ycy5sZW5ndGg7ICsraWkpIHtcbiAgICAgICAgICB0cnlNYXJrKHBvcyArIG5laWdoYm9yc1tpaV0sIHYsIGlpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiB0cnlNYXJrWFkoeCwgeSwgdikge1xuICAgICAgdHJ5TWFyayh5ICogd2lkdGggKyB4LCB2IHx8IERfU0VBMik7XG4gICAgfVxuICAgIHRyeU1hcmtYWSgxLCAxKTtcbiAgICB0cnlNYXJrWFkod2lkdGggLSAyLCAxKTtcbiAgICB0cnlNYXJrWFkod2lkdGggLSAyLCBoZWlnaHQgLSAyKTtcbiAgICB0cnlNYXJrWFkoMSwgaGVpZ2h0IC0gMik7XG4gICAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IHVuZmlsbGVkX3NlYXMubGVuZ3RoOyArK2lpKSB7XG4gICAgICBsZXQgc2VhID0gdW5maWxsZWRfc2Vhc1tpaV07XG4gICAgICBsZXQgcG9zID0gc2VhW3JhbmQucmFuZ2Uoc2VhLmxlbmd0aCldO1xuICAgICAgdHJ5TWFya1hZKHBvcyAlIHdpZHRoLCBmbG9vcihwb3MgLyB3aWR0aCkpO1xuICAgIH1cbiAgICBzcHJlYWRTZWFzKERfU0VBMik7XG4gICAgc3RhdGUub2NlYW5fY29hc3RsaW5lcyA9IGNvYXN0bGluZXMuc2xpY2UoMCk7IC8vIG9jZWFucyBhbmQgdW5maWxsZWQgc2Vhcywgbm90IGxha2VzXG4gICAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IGxha2Vfc2VlZHMubGVuZ3RoOyArK2lpKSB7XG4gICAgICBsZXQgcG9zID0gbGFrZV9zZWVkc1tpaV07XG4gICAgICB0cnlNYXJrWFkocG9zICUgd2lkdGgsIGZsb29yKHBvcyAvIHdpZHRoKSwgRF9MQUtFKTtcbiAgICB9XG4gICAgc3ByZWFkU2VhcyhEX0xBS0UpO1xuICB9XG4gIGZpbmRDYW5kaWRhdGVzKCk7XG5cbiAgZnVuY3Rpb24gZmluZEJvcmRlck1pbkRpc3QoKSB7XG4gICAgdXRpbC5maWxsKDApO1xuICAgIGxldCB0b2RvID0gY29hc3RsaW5lcztcbiAgICBsZXQgZCA9IDA7XG4gICAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IHRvZG8ubGVuZ3RoOyArK2lpKSB7XG4gICAgICBsZXQgcG9zID0gdG9kb1tpaV07XG4gICAgICB1dGlsW3Bvc10gPSAxO1xuICAgIH1cbiAgICB3aGlsZSAodG9kby5sZW5ndGgpIHtcbiAgICAgIGQgPSBtaW4oZCArIDEsIDI1NSk7XG4gICAgICBsZXQgbmV4dCA9IFtdO1xuICAgICAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IHRvZG8ubGVuZ3RoOyArK2lpKSB7XG4gICAgICAgIGxldCBwb3MgPSB0b2RvW2lpXTtcbiAgICAgICAgbGV0IG5laWdoYm9ycyA9IG5laWdoYm9yc19iaXRbcG9zICYgMV07XG4gICAgICAgIGZvciAobGV0IGpqID0gMDsgamogPCBuZWlnaGJvcnMubGVuZ3RoOyArK2pqKSB7XG4gICAgICAgICAgbGV0IG5wb3MgPSBwb3MgKyBuZWlnaGJvcnNbampdO1xuICAgICAgICAgIGlmICghdXRpbFtucG9zXSAmJiAhbGFuZFtucG9zXSkge1xuICAgICAgICAgICAgdXRpbFtucG9zXSA9IDE7XG4gICAgICAgICAgICBpZiAoZmlsbFtucG9zXSA9PT0gRF9CT1JERVIpIHtcbiAgICAgICAgICAgICAgc3RhdGUuYm9yZGVyX21pbl9kaXN0ID0gZDtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgbmV4dC5wdXNoKG5wb3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdG9kbyA9IG5leHQ7XG4gICAgfVxuICAgIGFzc2VydChmYWxzZSk7XG4gICAgc3RhdGUuYm9yZGVyX21pbl9kaXN0ID0gMDtcbiAgfVxuICBmaW5kQm9yZGVyTWluRGlzdCgpO1xuXG4gIGlmIChvcHRzLmVhcmx5X291dCA9PT0gJ3JpdmVyJykge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGxldCBvcmlnX2NvYXN0bGluZXMgPSBjb2FzdGxpbmVzO1xuICBmdW5jdGlvbiBmaWx0ZXJDb2FzdGFsUml2ZXJzKCkge1xuICAgIGxldCByYW5rID0gW1tdLFtdLFtdXTtcbiAgICBjb2FzdGxpbmVzLmZvckVhY2goZnVuY3Rpb24gKHBvcykge1xuICAgICAgbGV0IG5laWdoYm9ycyA9IG5laWdoYm9yc19iaXRbcG9zICYgMV07XG4gICAgICBsZXQgb3Blbl9jb3VudCA9IDA7XG4gICAgICBsZXQgb3Blbl9iaXRzID0gMDtcbiAgICAgIGZvciAobGV0IGlpID0gMDsgaWkgPCBuZWlnaGJvcnMubGVuZ3RoOyArK2lpKSB7XG4gICAgICAgIGxldCBucG9zID0gcG9zICsgbmVpZ2hib3JzW2lpXTtcbiAgICAgICAgaWYgKCFsYW5kW25wb3NdKSB7XG4gICAgICAgICAgb3Blbl9iaXRzIHw9IDEgPDwgaWk7XG4gICAgICAgICAgKytvcGVuX2NvdW50O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAob3Blbl9jb3VudCA+PSA0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGFzc2VydChvcGVuX2NvdW50KTtcbiAgICAgIGlmIChvcGVuX2NvdW50ID09PSAxKSB7XG4gICAgICAgIC8vIHBlcmZlY3RcbiAgICAgICAgcmFua1swXS5wdXNoKHBvcyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIC8vIGFyZSBhbGwgb3BlbiB0aWxlcyBhZGphY2VudD9cbiAgICAgIG9wZW5fYml0cyB8PSBvcGVuX2JpdHMgPDwgNjtcbiAgICAgIGxldCBicG9zID0gMDtcbiAgICAgIC8vIEZpbmQgc29tZXRoaW5nIHNvbGlkXG4gICAgICB3aGlsZSAob3Blbl9iaXRzICYgKDEgPDwgYnBvcykpIHtcbiAgICAgICAgYnBvcysrO1xuICAgICAgfVxuICAgICAgLy8gRmluZCBmaXJzdCBvcGVuXG4gICAgICB3aGlsZSAoIShvcGVuX2JpdHMgJiAoMSA8PCBicG9zKSkpIHtcbiAgICAgICAgYnBvcysrO1xuICAgICAgfVxuICAgICAgbGV0IGNvdW50ID0gMDtcbiAgICAgIC8vIGNvdW50IG51bSBjb250aWd1b3VzIG9wZW5cbiAgICAgIHdoaWxlIChvcGVuX2JpdHMgJiAoMSA8PCBicG9zKSkge1xuICAgICAgICBicG9zKys7XG4gICAgICAgICsrY291bnQ7XG4gICAgICB9XG4gICAgICBpZiAoY291bnQgIT09IG9wZW5fY291bnQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgbGV0IHIgPSAhcmFuZC5yYW5nZShvcGVuX2NvdW50ID09PSAyID8gNCA6IDIpO1xuICAgICAgaWYgKHIpIHtcbiAgICAgICAgcmFua1tvcGVuX2NvdW50IC0gMV0ucHVzaChwb3MpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGxldCBibG9ja2VkID0gW107XG4gICAgY29hc3RsaW5lcyA9IFtdO1xuICAgIGZvciAobGV0IGlpID0gMDsgaWkgPCByYW5rLmxlbmd0aDsgKytpaSkge1xuICAgICAgbGV0IGxpc3QgPSByYW5rW2lpXTtcbiAgICAgIGZvciAobGV0IGpqID0gMDsgamogPCBsaXN0Lmxlbmd0aDsgKytqaikge1xuICAgICAgICBsZXQgcG9zID0gbGlzdFtqal07XG4gICAgICAgIGlmIChibG9ja2VkW3Bvc10pIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBjb2FzdGxpbmVzLnB1c2gocG9zKTtcbiAgICAgICAgbGV0IG5laWdoYm9ycyA9IG5laWdoYm9yc19iaXRbcG9zICYgMV07XG4gICAgICAgIGZvciAobGV0IGtrID0gMDsga2sgPCBuZWlnaGJvcnMubGVuZ3RoOyArK2trKSB7XG4gICAgICAgICAgbGV0IG5wb3MgPSBwb3MgKyBuZWlnaGJvcnNba2tdO1xuICAgICAgICAgIGJsb2NrZWRbbnBvc10gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGZpbHRlckNvYXN0YWxSaXZlcnMoKTtcbiAgZnVuY3Rpb24gZ3JvdygpIHtcbiAgICBjb25zdCBNQVhfUFJJT1JJVFkgPSAxMDtcbiAgICBsZXQgd2VpZ2h0X3RvdGFsID0gc3Vib3B0cy53ZWlnaHRfYmVuZCArIHN1Ym9wdHMud2VpZ2h0X3Nmb3JrICsgc3Vib3B0cy53ZWlnaHRfYWZvcms7XG4gICAgbGV0IGFjdGl2ZV9ieV9wcmlvciA9IFtdO1xuICAgIGxldCBtaW5fZWxldl9ieV9wcmlvciA9IFtdO1xuICAgIGxldCB0dW5pbmdfaCA9IG9wdHMucml2ZXIudHVuaW5nX2g7XG4gICAgZm9yIChsZXQgaWkgPSAwOyBpaSA8PSBNQVhfUFJJT1JJVFk7ICsraWkpIHtcbiAgICAgIGFjdGl2ZV9ieV9wcmlvcltpaV0gPSBbW11dO1xuICAgICAgbWluX2VsZXZfYnlfcHJpb3JbaWldID0gMDtcbiAgICB9XG4gICAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IGNvYXN0bGluZXMubGVuZ3RoOyArK2lpKSB7XG4gICAgICBsZXQgcG9zID0gY29hc3RsaW5lc1tpaV07XG4gICAgICBsZXQgcCA9IHJhbmQucmFuZG9tKCk7XG4gICAgICBwID0gMSArIGZsb29yKHAqcCpwICogTUFYX1BSSU9SSVRZKTtcbiAgICAgIGRlYnVnX3ByaW9yaXR5W3Bvc10gPSBwO1xuICAgICAgbGV0IGFjdGl2ZV9ieV9lbGV2ID0gYWN0aXZlX2J5X3ByaW9yW3BdO1xuICAgICAgYWN0aXZlX2J5X2VsZXZbMF0ucHVzaChwb3MpO1xuICAgIH1cbiAgICBsZXQgY2hvc2VuX3ByaW9yaXR5O1xuICAgIGZ1bmN0aW9uIGNob29zZU5vZGUoKSB7XG4gICAgICAvLyBmaW5kIG1pbiBlbGV2YXRpb25cbiAgICAgIGxldCBtaW5fZWxldiA9IEluZmluaXR5O1xuICAgICAgZm9yIChsZXQgcCA9IE1BWF9QUklPUklUWTsgcCA+PSAwOyAtLXApIHtcbiAgICAgICAgbWluX2VsZXYgPSBtaW4obWluX2VsZXYsIG1pbl9lbGV2X2J5X3ByaW9yW3BdKTtcbiAgICAgIH1cbiAgICAgIGZvciAobGV0IHAgPSBNQVhfUFJJT1JJVFk7IHAgPj0gMDsgLS1wKSB7XG4gICAgICAgIGxldCBhY3RpdmVfYnlfZWxldiA9IGFjdGl2ZV9ieV9wcmlvcltwXTtcbiAgICAgICAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IHR1bmluZ19oOyArK2lpKSB7XG4gICAgICAgICAgbGV0IGVsZXYgPSBtaW5fZWxldiArIGlpO1xuICAgICAgICAgIGxldCBhY3RpdmUgPSBhY3RpdmVfYnlfZWxldltlbGV2XTtcbiAgICAgICAgICBpZiAoYWN0aXZlKSB7XG4gICAgICAgICAgICBsZXQgaWR4ID0gcmFuZC5yYW5nZShhY3RpdmUubGVuZ3RoKTtcbiAgICAgICAgICAgIGxldCByZXQgPSBhY3RpdmVbaWR4XTtcbiAgICAgICAgICAgIHJpZHgoYWN0aXZlLCBpZHgpO1xuICAgICAgICAgICAgaWYgKCFhY3RpdmUubGVuZ3RoKSB7XG4gICAgICAgICAgICAgIC8vIE5vdGhpbmcgbW9yZSBhdCB0aGlzIChtaW4pIGVsZXZhdGlvbiBhdCB0aGlzIHByaW9yaXR5XG4gICAgICAgICAgICAgIGRlbGV0ZSBhY3RpdmVfYnlfZWxldltlbGV2XTtcbiAgICAgICAgICAgICAgbGV0IG1lcCA9IG1pbl9lbGV2X2J5X3ByaW9yW3BdO1xuICAgICAgICAgICAgICBhc3NlcnQuZXF1YWwobWVwLCBlbGV2KTtcbiAgICAgICAgICAgICAgd2hpbGUgKCFhY3RpdmVfYnlfZWxldlttZXBdICYmIG1lcCA8IGFjdGl2ZV9ieV9lbGV2Lmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICsrbWVwO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmIChtZXAgPT09IGFjdGl2ZV9ieV9lbGV2Lmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIG1lcCA9IEluZmluaXR5O1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIG1pbl9lbGV2X2J5X3ByaW9yW3BdID0gbWVwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2hvc2VuX3ByaW9yaXR5ID0gcDtcbiAgICAgICAgICAgIHJldHVybiByZXQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gLTE7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHZhbGlkR3Jvd3RoKGZyb21wb3MsIHRvcG9zKSB7XG4gICAgICAvLyBOb3QgdG9vIGhpZ2ggcmVsYXRpdmUgdG8gbmVpZ2hib3JzP1xuICAgICAgbGV0IG5ld19lbGV2ID0gcmVsZXZbZnJvbXBvc10gKyByc2xvcGVbdG9wb3NdO1xuICAgICAgbGV0IG5laWdoYm9ycyA9IG5laWdoYm9yc19iaXRbdG9wb3MgJiAxXTtcbiAgICAgIGZvciAobGV0IGlpID0gMDsgaWkgPCBuZWlnaGJvcnMubGVuZ3RoOyArK2lpKSB7XG4gICAgICAgIGxldCBucG9zID0gdG9wb3MgKyBuZWlnaGJvcnNbaWldO1xuICAgICAgICBpZiAocml2ZXJbbnBvc10pIHtcbiAgICAgICAgICBsZXQgZCA9IG5ld19lbGV2IC0gcmVsZXZbbnBvc107XG4gICAgICAgICAgaWYgKGFicyhkKSA+IG9wdHMucml2ZXIubWF4X3RzbG9wZSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICBsZXQgcG9zID0gY2hvb3NlTm9kZSgpO1xuICAgICAgaWYgKHBvcyA9PT0gLTEpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICAvLyBDaGVjayBhbGwgNiBuZWlnaGJvcnMsIGZpbmQgYW55IHRoYXQgYXJlIGV4cGFuZGFibGVcbiAgICAgIGxldCBuZWlnaGJvcnMgPSBuZWlnaGJvcnNfYml0W3BvcyAmIDFdO1xuICAgICAgbGV0IG9wdGlvbnMgPSBbXTtcbiAgICAgIGxldCBjdXJfYml0cyA9IHJpdmVyW3Bvc107XG4gICAgICBsZXQgYmFkX2JpdHMgPSBjdXJfYml0cyB8IGN1cl9iaXRzIDw8IDEgfCBjdXJfYml0cyA+PiAxIHwgY3VyX2JpdHMgPj4gNSB8IGN1cl9iaXRzIDw8IDU7XG4gICAgICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgbmVpZ2hib3JzLmxlbmd0aDsgKytpaSkge1xuICAgICAgICBpZiAoKDEgPDwgaWkpICYgYmFkX2JpdHMpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgbnBvcyA9IHBvcyArIG5laWdoYm9yc1tpaV07XG4gICAgICAgIGlmICghbGFuZFtucG9zXSB8fCByaXZlcltucG9zXSkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIC8vIFRlY2huaWNhbGx5IHZhbGlkXG4gICAgICAgIGlmICh2YWxpZEdyb3d0aChwb3MsIG5wb3MpKSB7XG4gICAgICAgICAgb3B0aW9ucy5wdXNoKFtucG9zLCBpaV0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoIW9wdGlvbnMubGVuZ3RoKSB7XG4gICAgICAgIC8vIHJpdmVyIGlzIGRvbmUsIGNhbm5vdCBleHBhbmRcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBsZXQgYXN5bSA9IGZhbHNlO1xuICAgICAgaWYgKG9wdGlvbnMubGVuZ3RoID4gMSkge1xuICAgICAgICBsZXQgbm9wdCA9IDE7XG4gICAgICAgIGxldCBzcGxpdCA9IHJhbmQucmFuZ2Uod2VpZ2h0X3RvdGFsKTtcbiAgICAgICAgaWYgKHNwbGl0ID49IHN1Ym9wdHMud2VpZ2h0X2JlbmQpIHtcbiAgICAgICAgICBub3B0ID0gMjtcbiAgICAgICAgICBpZiAoc3BsaXQgLSBzdWJvcHRzLndlaWdodF9iZW5kID49IHN1Ym9wdHMud2VpZ2h0X3Nmb3JrKSB7XG4gICAgICAgICAgICBhc3ltID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IG5vcHQ7ICsraWkpIHtcbiAgICAgICAgICBsZXQgdCA9IG9wdGlvbnNbaWldO1xuICAgICAgICAgIGxldCBjaWR4ID0gaWkgKyByYW5kLnJhbmdlKG9wdGlvbnMubGVuZ3RoIC0gaWkpO1xuICAgICAgICAgIG9wdGlvbnNbaWldID0gb3B0aW9uc1tjaWR4XTtcbiAgICAgICAgICBvcHRpb25zW2NpZHhdID0gdDtcbiAgICAgICAgfVxuICAgICAgICBvcHRpb25zLmxlbmd0aCA9IG5vcHQ7XG4gICAgICB9XG4gICAgICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgb3B0aW9ucy5sZW5ndGg7ICsraWkpIHtcbiAgICAgICAgbGV0IG5wb3MgPSBvcHRpb25zW2lpXVswXTtcbiAgICAgICAgbGV0IG5kaXIgPSBvcHRpb25zW2lpXVsxXTtcbiAgICAgICAgbGV0IG5lbGV2ID0gcmVsZXZbcG9zXSArIHJzbG9wZVtucG9zXTtcbiAgICAgICAgbGV0IHAgPSBhc3ltID9cbiAgICAgICAgICBpaSA9PT0gMSA/IGNob3Nlbl9wcmlvcml0eSAtIDEgOiBjaG9zZW5fcHJpb3JpdHkgOlxuICAgICAgICAgIG9wdGlvbnMubGVuZ3RoID4gMSA/IGNob3Nlbl9wcmlvcml0eSAtIDEgOiBjaG9zZW5fcHJpb3JpdHk7XG4gICAgICAgIHAgPSBtYXgoMCwgcCk7XG4gICAgICAgIGRlYnVnX3ByaW9yaXR5W25wb3NdID0gcDtcbiAgICAgICAgcmVsZXZbbnBvc10gPSBuZWxldjtcbiAgICAgICAgcml2ZXJbbnBvc10gPSAxIDw8ICgobmRpciArIDMpICUgNik7XG4gICAgICAgIHJpdmVyW3Bvc10gfD0gMSA8PCBuZGlyO1xuICAgICAgICBtaW5fZWxldl9ieV9wcmlvcltwXSA9IG1pbihtaW5fZWxldl9ieV9wcmlvcltwXSwgbmVsZXYpO1xuICAgICAgICBsZXQgYWN0aXZlX2J5X2VsZXYgPSBhY3RpdmVfYnlfcHJpb3JbcF07XG4gICAgICAgIGxldCBhY3RpdmUgPSBhY3RpdmVfYnlfZWxldltuZWxldl07XG4gICAgICAgIGlmICghYWN0aXZlKSB7XG4gICAgICAgICAgYWN0aXZlID0gYWN0aXZlX2J5X2VsZXZbbmVsZXZdID0gW107XG4gICAgICAgIH1cbiAgICAgICAgYWN0aXZlLnB1c2gobnBvcyk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGdyb3coKTtcbiAgZnVuY3Rpb24gY29tcHV0ZVN0cmFobGVyKCkge1xuICAgIGZ1bmN0aW9uIGZpbGxTdHJhaGxlcihwb3MsIGZyb21fZGlyKSB7XG4gICAgICBsZXQgYml0cyA9IHJpdmVyW3Bvc107XG4gICAgICBsZXQgb3V0ID0gW107XG4gICAgICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgNjsgKytpaSkge1xuICAgICAgICBpZiAoaWkgIT09IGZyb21fZGlyICYmIChiaXRzICYgKDEgPDwgaWkpKSkge1xuICAgICAgICAgIG91dC5wdXNoKGlpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgbGV0IHM7XG4gICAgICBpZiAoIW91dC5sZW5ndGgpIHtcbiAgICAgICAgcyA9IDE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsZXQgbmVpZ2hib3JzID0gbmVpZ2hib3JzX2JpdFtwb3MgJiAxXTtcbiAgICAgICAgaWYgKG91dC5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICBzID0gZmlsbFN0cmFobGVyKHBvcyArIG5laWdoYm9yc1tvdXRbMF1dLCAob3V0WzBdICsgMykgJSA2KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBhc3NlcnQuZXF1YWwob3V0Lmxlbmd0aCwgMik7XG4gICAgICAgICAgbGV0IHMxID0gZmlsbFN0cmFobGVyKHBvcyArIG5laWdoYm9yc1tvdXRbMF1dLCAob3V0WzBdICsgMykgJSA2KTtcbiAgICAgICAgICBsZXQgczIgPSBmaWxsU3RyYWhsZXIocG9zICsgbmVpZ2hib3JzW291dFsxXV0sIChvdXRbMV0gKyAzKSAlIDYpO1xuICAgICAgICAgIGlmIChzMSA9PT0gczIpIHtcbiAgICAgICAgICAgIHMgPSBzMSArIDE7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHMgPSBtYXgoczEsIHMyKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJzdHJhaGxlcltwb3NdID0gcztcbiAgICAgIHJldHVybiBzO1xuICAgIH1cbiAgICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgb3JpZ19jb2FzdGxpbmVzLmxlbmd0aDsgKytpaSkge1xuICAgICAgZmlsbFN0cmFobGVyKG9yaWdfY29hc3RsaW5lc1tpaV0sIGNvYXN0bGluZXNfaW5jZGlyW2lpXSk7XG4gICAgfVxuICB9XG4gIGNvbXB1dGVTdHJhaGxlcigpO1xuICBmdW5jdGlvbiBwcnVuZVJpdmVycygpIHtcbiAgICBmb3IgKGxldCBwb3MgPSAwOyBwb3MgPCB0b3RhbF9zaXplOyArK3Bvcykge1xuICAgICAgaWYgKHJzdHJhaGxlcltwb3NdID09PSAxKSB7XG4gICAgICAgIGxldCBiaXRzID0gcml2ZXJbcG9zXTtcbiAgICAgICAgcml2ZXJbcG9zXSA9IDA7XG4gICAgICAgIHJzdHJhaGxlcltwb3NdID0gMDtcbiAgICAgICAgcmVsZXZbcG9zXSA9IDA7XG4gICAgICAgIGxldCBuZWlnaGJvcnMgPSBuZWlnaGJvcnNfYml0W3BvcyAmIDFdO1xuICAgICAgICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgNjsgKytpaSkge1xuICAgICAgICAgIGlmIChiaXRzICYgKDEgPDwgaWkpKSB7XG4gICAgICAgICAgICBsZXQgbnBvcyA9IHBvcyArIG5laWdoYm9yc1tpaV07XG4gICAgICAgICAgICByaXZlcltucG9zXSAmPSB+KDEgPDwgKChpaSArIDMpICUgNikpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuICBpZiAoc3Vib3B0cy5wcnVuZSkge1xuICAgIHBydW5lUml2ZXJzKCk7XG4gICAgY29tcHV0ZVN0cmFobGVyKCk7XG4gIH1cbiAgZnVuY3Rpb24gYnVpbGRVcEhlaWdodCgpIHtcbiAgICB1dGlsLmZpbGwoMCk7XG4gICAgLy8gQWNjdW11bGF0ZSByaXZlciBub2Rlc1xuICAgIC8vIE1heWJlIGFsc28gc3RhcnQgd2l0aCBjb2FzdGxpbmVzP1xuICAgIGxldCB3b3JrX25vZGVzID0gW107XG4gICAgZm9yIChsZXQgcG9zID0gMDsgcG9zIDwgdG90YWxfc2l6ZTsgKytwb3MpIHtcbiAgICAgIGlmIChyaXZlcltwb3NdKSB7XG4gICAgICAgIHdvcmtfbm9kZXMucHVzaChwb3MpO1xuICAgICAgfVxuICAgIH1cbiAgICAvLyBDb250cmlidXRlIGZyb20gd29yayBub2RlcyB0byBhbGwgbGFuZCBuZWlnaGJvcnNcbiAgICB3aGlsZSAod29ya19ub2Rlcy5sZW5ndGgpIHtcbiAgICAgIGxldCBuZXh0X25vZGVzID0gW107XG4gICAgICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgd29ya19ub2Rlcy5sZW5ndGg7ICsraWkpIHtcbiAgICAgICAgbGV0IHBvcyA9IHdvcmtfbm9kZXNbaWldO1xuICAgICAgICBsZXQgbmVpZ2hib3JzID0gbmVpZ2hib3JzX2JpdFtwb3MgJiAxXTtcbiAgICAgICAgbGV0IG5oZWlnaHQgPSByZWxldltwb3NdICsgdHNsb3BlW3Bvc107XG4gICAgICAgIGZvciAobGV0IGpqID0gMDsgamogPCBuZWlnaGJvcnMubGVuZ3RoOyArK2pqKSB7XG4gICAgICAgICAgbGV0IG5wb3MgPSBwb3MgKyBuZWlnaGJvcnNbampdO1xuICAgICAgICAgIGlmICghcml2ZXJbbnBvc10gJiYgbGFuZFtucG9zXSAmJiB1dGlsW25wb3NdICE9PSAyNTUpIHtcbiAgICAgICAgICAgIGlmICghdXRpbFtucG9zXSkge1xuICAgICAgICAgICAgICByZWxldltucG9zXSA9IDA7XG4gICAgICAgICAgICAgIG5leHRfbm9kZXMucHVzaChucG9zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlbGV2W25wb3NdKz1uaGVpZ2h0O1xuICAgICAgICAgICAgdXRpbFtucG9zXSsrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy8gYXZlcmFnZVxuICAgICAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IG5leHRfbm9kZXMubGVuZ3RoOyArK2lpKSB7XG4gICAgICAgIGxldCBwb3MgPSBuZXh0X25vZGVzW2lpXTtcbiAgICAgICAgcmVsZXZbcG9zXSAvPSB1dGlsW3Bvc107XG4gICAgICAgIHV0aWxbcG9zXSA9IDI1NTtcbiAgICAgIH1cbiAgICAgIHdvcmtfbm9kZXMgPSBuZXh0X25vZGVzO1xuICAgIH1cbiAgfVxuICBidWlsZFVwSGVpZ2h0KCk7XG59XG5cbmZ1bmN0aW9uIGdlbmVyYXRlT2NlYW5EaXN0YW5jZUZpZWxkKCkge1xuICB1dGlsLmZpbGwoMCk7XG4gIGxldCB0b2RvID0gc3RhdGUub2NlYW5fY29hc3RsaW5lcztcbiAgbGV0IGQgPSAwO1xuICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgdG9kby5sZW5ndGg7ICsraWkpIHtcbiAgICBsZXQgcG9zID0gdG9kb1tpaV07XG4gICAgb2NlYW5fZGlzdGFuY2VbcG9zXSA9IGQ7XG4gICAgdXRpbFtwb3NdID0gMTtcbiAgfVxuICB3aGlsZSAodG9kby5sZW5ndGgpIHtcbiAgICBkID0gbWluKGQgKyAxLCAyNTUpO1xuICAgIGxldCBuZXh0ID0gW107XG4gICAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IHRvZG8ubGVuZ3RoOyArK2lpKSB7XG4gICAgICBsZXQgcG9zID0gdG9kb1tpaV07XG4gICAgICBsZXQgbmVpZ2hib3JzID0gbmVpZ2hib3JzX2JpdFtwb3MgJiAxXTtcbiAgICAgIGZvciAobGV0IGpqID0gMDsgamogPCBuZWlnaGJvcnMubGVuZ3RoOyArK2pqKSB7XG4gICAgICAgIGxldCBucG9zID0gcG9zICsgbmVpZ2hib3JzW2pqXTtcbiAgICAgICAgaWYgKCF1dGlsW25wb3NdKSB7XG4gICAgICAgICAgdXRpbFtucG9zXSA9IDE7XG4gICAgICAgICAgb2NlYW5fZGlzdGFuY2VbbnBvc10gPSBkO1xuICAgICAgICAgIGlmIChmaWxsW25wb3NdICE9PSBEX0JPUkRFUikge1xuICAgICAgICAgICAgbmV4dC5wdXNoKG5wb3MpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICB0b2RvID0gbmV4dDtcbiAgfVxuICBvY2Vhbl9kaXN0YW5jZVswXSA9IG1pbihvY2Vhbl9kaXN0YW5jZVsxXSArIDEsIDI1NSk7XG4gIG9jZWFuX2Rpc3RhbmNlW3RvdGFsX3NpemUgLSAxXSA9IG1pbihvY2Vhbl9kaXN0YW5jZVt0b3RhbF9zaXplIC0gMl0gKyAxLCAyNTUpO1xufVxuXG5mdW5jdGlvbiBnZW5lcmF0ZU9jZWFuVHJlbmNoZXMoaWksamopIHtcbiAgaW5pdE5vaXNlKG9wdHMub2NlYW5fdHJlbmNoZXMpO1xuICBoZXhQb3NUb1VuaWZQb3MoaWksIGpqKTtcbiAgbGV0IG5vaXNlX3YgPSBzYW1wbGUoKTtcbiAgbGV0IHZhbCA9IHN0ZXAobm9pc2VfdixvcHRzLm9jZWFuX3RyZW5jaGVzLmN1dG9mZik7XG5cbiAgaWYgKHZhbCkge1xuICAgIGhleFBvc1RvVW5pZlBvcyhpaSowLjUsIGpqKjAuNSk7XG4gICAgdmFsID0gc2FtcGxlKCkqMzA7XG4gIH0gZWxzZSB7XG4gICAgdmFsID0gc2FtcGxlKCkqMTA7XG4gIH1cbiAgcmV0dXJuIHZhbDtcbn1cblxuZnVuY3Rpb24gZ2VuZXJhdGVTaGFsbG93cyhpaSxqaikge1xuICAvL3VzZSB0cmVuY2hlcyBub2lzZSBmb3Igbm93LlxuICBpbml0Tm9pc2Uob3B0cy5vY2Vhbl90cmVuY2hlcyk7XG4gIGhleFBvc1RvVW5pZlBvcyhpaSowLjgsIDIwK2pqKjAuOCk7XG4gIGxldCBub2lzZV92ID0gc2FtcGxlKCk7XG4gIGxldCB2YWwgPSBzdGVwKG5vaXNlX3YsMC42NSk7XG5cbiAgcmV0dXJuIHZhbDtcbn1cblxuZnVuY3Rpb24gZ2VuZXJhdGVPY2VhbigpIHtcbiAgbGV0IHsgYm9yZGVyX21pbl9kaXN0IH0gPSBzdGF0ZTtcbiAgaW5pdE5vaXNlKG9wdHMub2NlYW4pO1xuICBzaGFsbG93cy5maWxsKDApO1xuICB0cmVuY2hlcy5maWxsKDApO1xuICBmb3IgKGxldCBqaiA9IDA7IGpqIDwgaGVpZ2h0OyArK2pqKSB7XG4gICAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IHdpZHRoOyArK2lpKSB7XG4gICAgICBsZXQgcG9zID0gamogKiB3aWR0aCArIGlpO1xuICAgICAgaWYgKGZpbGxbcG9zXSA9PT0gRF9TRUEyIHx8IGZpbGxbcG9zXSA9PT0gRF9CT1JERVIpIHtcbiAgICAgICAgaGV4UG9zVG9VbmlmUG9zKGlpLCBqaik7XG5cbiAgICAgICAgbGV0IG5vaXNlX3YgPSBzYW1wbGUoKTtcbiAgICAgICAgbGV0IGRpc3RhbmNlID0gY2xhbXAob2NlYW5fZGlzdGFuY2VbcG9zXSAvIGJvcmRlcl9taW5fZGlzdCwgMCwgMSk7XG4gICAgICAgIGxldCBub2lzZV93ZWlnaHQgPSAoMC41IC0gYWJzKGRpc3RhbmNlIC0gMC41KSk7XG4gICAgICAgIGRpc3RhbmNlIC09IG5vaXNlX3YgKiBub2lzZV93ZWlnaHQ7XG5cbiAgICAgICAgLy9yaXZlciBkZWx0YXNcbiAgICAgICAgaWYgKHJpdmVyX21vdXRoX2Rpc3RhbmNlW3Bvc10gPCBuZWFyZXN0X3N0cmFobGVyW3Bvc10pIHtcbiAgICAgICAgICByZWxldltwb3NdID0gKHJpdmVyX21vdXRoX2Rpc3RhbmNlW3Bvc10gKiByaXZlcl9tb3V0aF9kaXN0YW5jZVtwb3NdKTtcbiAgICAgICAgfSBlbHNlIHsgLy9ubyBkZWx0YSAtIG5vcm1hbCBtb2RlXG4gICAgICAgICAgZGlzdGFuY2UgPSBmaWxsW3Bvc10gPT09IERfQk9SREVSID8gMSA6IGRpc3RhbmNlO1xuICAgICAgICAgIHRyZW5jaGVzW3Bvc10gPSBnZW5lcmF0ZU9jZWFuVHJlbmNoZXMoamosaWkpO1xuICAgICAgICAgIHJlbGV2W3Bvc10gPSBjbGFtcChkaXN0YW5jZSAqIDcwICsgdHJlbmNoZXNbcG9zXSwgMCwgMjU1KTtcbiAgICAgICAgICBpZiAoZGlzdGFuY2UgPCAwLjA1KSB7XG4gICAgICAgICAgICBzaGFsbG93c1twb3NdID0gZ2VuZXJhdGVTaGFsbG93cyhpaSxqaik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGdlbmVyYXRlT3V0cHV0RWxldmF0aW9uKCkge1xuICAvLyBsZXQgbWF4X2RlcHRoID0gMDsgLy8gYWx3YXlzIDI1NVxuICAvLyBsZXQgbWF4X2hlaWdodCA9IDA7XG4gIC8vIEVtcGlyaWNhbCBlc3RpbWF0ZSBvbiAyNTZ4MjU2IHRleHR1cmUsIGJlZm9yZSBtb3VudGFpbmlmeWluZ1xuICBsZXQgZXN0X21heF9vdXRwdXQgPSBvcHRzLnJzbG9wZS5zdGVwcyAqIDUwICsgODA7XG4gIC8vIGNvdmVydCB0byBhIGhlaWdodCBpbiBxdWFydGVyLXZveGVscyBmb3Igb3V0cHV0XG4gIGxldCB2b3hlbF9zY2FsZSA9IHN0YXRlLnZveGVsX3NjYWxlID0gMSAvIGVzdF9tYXhfb3V0cHV0ICogb3B0cy5vdXRwdXQubGFuZF9yYW5nZSAvIDI7XG4gIC8vIGZvciAobGV0IHBvcyA9IDA7IHBvcyA8IHRvdGFsX3NpemU7ICsrcG9zKSB7XG4gIC8vICAgbGV0IGUgPSByZWxldltwb3NdO1xuICAvLyAgIGlmIChsYW5kW3Bvc10pIHtcbiAgLy8gICAgIG1heF9oZWlnaHQgPSBtYXgobWF4X2hlaWdodCwgZSk7XG4gIC8vICAgfSBlbHNlIHtcbiAgLy8gICAgIG1heF9kZXB0aCA9IG1heChtYXhfZGVwdGgsIGUpO1xuICAvLyAgIH1cbiAgLy8gfVxuICBsZXQgYWJvdmVfc2VhX2xldmVsID0gb3B0cy5vdXRwdXQuc2VhX3JhbmdlO1xuICBmb3IgKGxldCBwb3MgPSAwOyBwb3MgPCB0b3RhbF9zaXplOyArK3Bvcykge1xuICAgIGxldCBlID0gcmVsZXZbcG9zXTtcbiAgICBpZiAobGFuZFtwb3NdKSB7XG4gICAgICBlID0gYWJvdmVfc2VhX2xldmVsICsgZSAqIHZveGVsX3NjYWxlOyAvLyAoZSAvIG1heF9oZWlnaHQpICogb3B0cy5vdXRwdXQubGFuZF9yYW5nZTtcbiAgICB9IGVsc2UgaWYgKHNoYWxsb3dzW3Bvc10pIHtcbiAgICAgIGUgPSBhYm92ZV9zZWFfbGV2ZWw7XG4gICAgfSBlbHNlIHtcbiAgICAgIGUgPSBhYm92ZV9zZWFfbGV2ZWwgLSAxIC0gZSAvIDI1NSAqIGFib3ZlX3NlYV9sZXZlbDtcbiAgICB9XG4gICAgcmVsZXZbcG9zXSA9IG1heCgwLCByb3VuZChlKSk7XG4gIH1cbiAgd2F0ZXJfbGV2ZWwuZmlsbCgwKTtcbn1cblxuZnVuY3Rpb24gZml4dXBDb2FzdGFsV2F0ZXJzKCkge1xuICAvLyBIYWNrOiB1c2UgYXZlcmFnZSBzbG9wZSB0byBjYWxjIGRlcHRoIG9mIGhleG9tZXMgYm9yZGVyaW5nIGNvYXN0LCBpbnN0ZWFkIG9mIG5vaXNlXG4gIGxldCBhYm92ZV9zZWFfbGV2ZWwgPSBvcHRzLm91dHB1dC5zZWFfcmFuZ2U7XG4gIGZvciAobGV0IHBvcyA9IDA7IHBvcyA8IHRvdGFsX3NpemU7ICsrcG9zKSB7XG4gICAgaWYgKGZpbGxbcG9zXSA9PT0gRF9TRUEyKSB7XG4gICAgICBsZXQgbGFuZF9jb3VudCA9IDA7XG4gICAgICAvL2xldCBlbGV2X3N1bSA9IDA7XG4gICAgICBsZXQgZWxldl9taW4gPSBJbmZpbml0eTtcbiAgICAgIGxldCBuZWlnaGJvcnMgPSBuZWlnaGJvcnNfYml0W3BvcyAmIDFdO1xuICAgICAgZm9yIChsZXQga2sgPSAwOyBrayA8IG5laWdoYm9ycy5sZW5ndGg7ICsra2spIHtcbiAgICAgICAgbGV0IG5pZHggPSBwb3MgKyBuZWlnaGJvcnNba2tdO1xuICAgICAgICBpZiAobGFuZFtuaWR4XSkge1xuICAgICAgICAgICsrbGFuZF9jb3VudDtcbiAgICAgICAgICBsZXQgZGVsZXYgPSByZWxldltuaWR4XSAtIGFib3ZlX3NlYV9sZXZlbDtcbiAgICAgICAgICAvL2VsZXZfc3VtICs9IGRlbGV2O1xuICAgICAgICAgIGVsZXZfbWluID0gbWluKGVsZXZfbWluLCBkZWxldik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChsYW5kX2NvdW50ICYmIHJpdmVyX21vdXRoX2Rpc3RhbmNlW3Bvc10gPj0gbmVhcmVzdF9zdHJhaGxlcltwb3NdICYmICFzaGFsbG93c1twb3NdKSB7XG4gICAgICAgIC8vcmVsZXZbcG9zXSA9IG1heChyZWxldltwb3NdLCBhYm92ZV9zZWFfbGV2ZWwgLSBtYXgoZWxldl9zdW0gLyBsYW5kX2NvdW50LCAxKSk7XG4gICAgICAgIHJlbGV2W3Bvc10gPSBtYXgocmVsZXZbcG9zXSwgYWJvdmVfc2VhX2xldmVsIC0gbWF4KGVsZXZfbWluLCAxKSk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIC8vIEhhY2s6IGFueSBsYW5kIHRoYXQgaXMgbGV2ZWwgd2l0aCB0aGUgd2F0ZXIsIHJhaXNlIHVwIGEgYml0IHNvIGl0IGJsZW5kcyB3ZWxsXG4gIGxldCB7IHZveGVsX3NjYWxlIH0gPSBzdGF0ZTtcbiAgZm9yIChsZXQgcG9zID0gMDsgcG9zIDwgdG90YWxfc2l6ZTsgKytwb3MpIHtcbiAgICBpZiAocmVsZXZbcG9zXSA9PT0gYWJvdmVfc2VhX2xldmVsICYmICFyaXZlcltwb3NdKSB7XG4gICAgICByZWxldltwb3NdID0gYWJvdmVfc2VhX2xldmVsICsgbWluKHJzbG9wZVtwb3NdLCB0c2xvcGVbcG9zXSkgKiB2b3hlbF9zY2FsZSAqIDAuNTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gYmx1ckV4dHJlbWVTbG9wZXMoKSB7XG4gIHN1Ym9wdHMgPSBvcHRzLmJsdXI7XG4gIGxldCB7IHRocmVzaG9sZCwgd2VpZ2h0IH0gPSBzdWJvcHRzO1xuICBsZXQgYmx1cnMgPSBbXTtcbiAgZm9yIChsZXQgcG9zID0gMDsgcG9zIDwgdG90YWxfc2l6ZTsgKytwb3MpIHtcbiAgICBpZiAoIWxhbmRbcG9zXSB8fCByaXZlcltwb3NdKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgbGV0IGVsZXYgPSByZWxldltwb3NdO1xuICAgIGxldCBuZWlnaGJvcnMgPSBuZWlnaGJvcnNfYml0W3BvcyAmIDFdO1xuICAgIGxldCBibHVyID0gZmFsc2U7XG4gICAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IG5laWdoYm9ycy5sZW5ndGg7ICsraWkpIHtcbiAgICAgIGxldCBuaWR4ID0gcG9zICsgbmVpZ2hib3JzW2lpXTtcbiAgICAgIGxldCBuZWxldiA9IHJlbGV2W25pZHhdO1xuICAgICAgaWYgKG5lbGV2IC0gZWxldiA+IHRocmVzaG9sZCkge1xuICAgICAgICBibHVyID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGJsdXIpIHtcbiAgICAgIGxldCB0b3RhbCA9IGVsZXY7XG4gICAgICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgbmVpZ2hib3JzLmxlbmd0aDsgKytpaSkge1xuICAgICAgICBsZXQgbmlkeCA9IHBvcyArIG5laWdoYm9yc1tpaV07XG4gICAgICAgIGxldCBuZWxldiA9IHJlbGV2W25pZHhdO1xuICAgICAgICB0b3RhbCArPSBtYXgob3B0cy5vdXRwdXQuc2VhX3JhbmdlLCBuZWxldik7XG4gICAgICB9XG4gICAgICBibHVycy5wdXNoKFtwb3MsIGxlcnAod2VpZ2h0LCBlbGV2LCByb3VuZCh0b3RhbCAvIDcpKV0pO1xuICAgIH1cbiAgfVxuICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgYmx1cnMubGVuZ3RoOyArK2lpKSB7XG4gICAgbGV0IGIgPSBibHVyc1tpaV07XG4gICAgcmVsZXZbYlswXV0gPSBiWzFdO1xuICB9XG59XG5cbmZ1bmN0aW9uIGZpbGxMYWtlcygpIHsgLy8gSGFwcGVucyBtdWNoIGxhdGVyIHRoYW4gZ2VuZXJhdGVMYWtlcyAtIGFmdGVyIHJpdmVyIGdyb3dpbmchXG4gIGxldCB7IGxha2VzIH0gPSBzdGF0ZTtcbiAgdXRpbC5maWxsKDApO1xuICBmdW5jdGlvbiBmaWxsTGFrZShzb3VyY2VfcG9zKSB7XG4gICAgLy8gcmVtb3ZlIHN0cmFobGVyIHNvIHJpdmVyX2RlbHRhcyBkb250IGdldCBwbGFjZWQgaW4gbWlkZGxlIG9mIGxha2VzLlxuICAgIG5lYXJlc3Rfc3RyYWhsZXJbc291cmNlX3Bvc10gPSAwO1xuICAgIGxldCBjdXJfZWxldiA9IHJlbGV2W3NvdXJjZV9wb3NdO1xuICAgIHV0aWxbc291cmNlX3Bvc10gPSAxO1xuICAgIGxldCBuZWlnaGJvcnNfYnlfZWxldiA9IFtdOyAvLyBuZWlnaGJvcnMgb2YgZGlzdGFuY2UgMSwgc29ydGVkIGJ5IGVsZXZhdGlvblxuICAgIGxldCBuMiA9IHt9OyAvLyBuZWlnaGJvcnMgb2YgYSBkaXN0YW5jZSAyXG4gICAgbGV0IGZpbGxlZCA9IFtdO1xuICAgIGxldCB0cnlfZWxldiA9IGN1cl9lbGV2O1xuICAgIGxldCBnb29kX2VsZXZhdGlvbnMgPSBbXTtcbiAgICBmdW5jdGlvbiBhZGRQb3MocG9zKSB7XG4gICAgICBmaWxsZWQucHVzaChwb3MpO1xuICAgICAgbGV0IG5laWdoYm9ycyA9IG5laWdoYm9yc19iaXRbcG9zICYgMV07XG4gICAgICBmb3IgKGxldCBqaiA9IDA7IGpqIDwgbmVpZ2hib3JzLmxlbmd0aDsgKytqaikge1xuICAgICAgICBsZXQgbmlkeCA9IHBvcyArIG5laWdoYm9yc1tqal07XG4gICAgICAgIGlmICghdXRpbFtuaWR4XSkge1xuICAgICAgICAgIGxldCBuZWxldiA9IHJlbGV2W25pZHhdO1xuICAgICAgICAgIGlmIChuZWxldiA8IHRyeV9lbGV2KSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICAgIGxldCBuZSA9IG5laWdoYm9yc19ieV9lbGV2W25lbGV2XTtcbiAgICAgICAgICBpZiAoIW5lKSB7XG4gICAgICAgICAgICBuZSA9IG5laWdoYm9yc19ieV9lbGV2W25lbGV2XSA9IFtdO1xuICAgICAgICAgIH1cbiAgICAgICAgICBuZS5wdXNoKG5pZHgpO1xuICAgICAgICAgIHV0aWxbbmlkeF0gPSAxO1xuXG4gICAgICAgICAgLy8gQWxzbyByZW1vdmUgZnJvbSBOMlxuICAgICAgICAgIGRlbGV0ZSBuMltuaWR4XTtcbiAgICAgICAgICAvLyBBbHNvIGFkZCBvdXIgbmVpZ2hib3JzIHRvIE4yXG4gICAgICAgICAgbGV0IG5laWdoYm9yczIgPSBuZWlnaGJvcnNfYml0W25pZHggJiAxXTtcbiAgICAgICAgICBmb3IgKGxldCBrayA9IDA7IGtrIDwgbmVpZ2hib3JzMi5sZW5ndGg7ICsra2spIHtcbiAgICAgICAgICAgIGxldCBuaWR4MiA9IG5pZHggKyBuZWlnaGJvcnMyW2trXTtcbiAgICAgICAgICAgIGlmICghdXRpbFtuaWR4Ml0gJiYgIW4yW25pZHgyXSkge1xuICAgICAgICAgICAgICBuMltuaWR4Ml0gPSByZWxldltuaWR4Ml07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKCFhZGRQb3Moc291cmNlX3BvcykpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gdHJ5IGluY3JlYXNpbmcgd2F0ZXIgZWxldmF0aW9uXG4gICAgb3V0ZXI6XG4gICAgZG8ge1xuICAgICAgKyt0cnlfZWxldjtcbiAgICAgIGxldCBuZSA9IG5laWdoYm9yc19ieV9lbGV2W3RyeV9lbGV2XTtcbiAgICAgIGxldCBmaWxsZWRfbGVuID0gZmlsbGVkLmxlbmd0aDtcbiAgICAgIGlmIChuZSkge1xuICAgICAgICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgbmUubGVuZ3RoOyArK2lpKSB7IC8vIGdyb3dzIHdoaWxlIGl0ZXJhdGluZ1xuICAgICAgICAgIGlmICghYWRkUG9zKG5lW2lpXSkpIHtcbiAgICAgICAgICAgIGZpbGxlZC5sZW5ndGggPSBmaWxsZWRfbGVuO1xuICAgICAgICAgICAgYnJlYWsgb3V0ZXI7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIFRoaXMgZWxldmF0aW9uIGlzIGxvd2VyIHRoYW4gYWxsIGltbWVkaWF0ZSBuZWlnaGJvcnNcbiAgICAgICAgLy8gVGhpcyBpcyBhIGdvb2QgZWxldmF0aW9uIGlmIGl0IGlzIGxvd2VyIHRoYW4gZXZlcnlvbmUgaW4gTjJcbiAgICAgICAgbGV0IGlzX2dvb2QgPSB0cnVlO1xuICAgICAgICBmb3IgKGxldCBrZXkgaW4gbjIpIHtcbiAgICAgICAgICBpZiAobjJba2V5XSA8PSB0cnlfZWxldikge1xuICAgICAgICAgICAgaXNfZ29vZCA9IGZhbHNlO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChpc19nb29kKSB7XG4gICAgICAgICAgY3VyX2VsZXYgPSB0cnlfZWxldjtcbiAgICAgICAgICBnb29kX2VsZXZhdGlvbnMucHVzaChbY3VyX2VsZXYsIGZpbGxlZC5sZW5ndGhdKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gd2hpbGUgKHRydWUpO1xuICAgIGlmICghZ29vZF9lbGV2YXRpb25zLmxlbmd0aCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyBBcmliaXRyYXJ5IGdyYWIgdGhlIGVsZXZhdGlvbiBmb3VuZCBoYWxmd2F5IHRob3VnaCB0aGUgZmxvb2RpbmcgcHJvY2Vzc1xuICAgIGxldCBwaWNrID0gZmxvb3IoZ29vZF9lbGV2YXRpb25zLmxlbmd0aCAqIDAuNSk7XG4gICAgcGljayA9IGdvb2RfZWxldmF0aW9uc1twaWNrXTtcbiAgICBmaWxsZWQubGVuZ3RoID0gcGlja1sxXTtcbiAgICBjdXJfZWxldiA9IHBpY2tbMF0gKyAxO1xuICAgIGZvciAobGV0IGlpID0gMDsgaWkgPCBmaWxsZWQubGVuZ3RoOyArK2lpKSB7XG4gICAgICBsZXQgcG9zID0gZmlsbGVkW2lpXTtcbiAgICAgIHdhdGVyX2xldmVsW3Bvc10gPSBjdXJfZWxldjtcbiAgICAgIGxhbmRbcG9zXSA9IDA7XG4gICAgfVxuICAgIC8vIGxha2VfZmlsbHMucHVzaChmaWxsZWQpO1xuICAgIC8vIEFsc28gc3ByZWFkIHNlYSBsZXZlbCB0byBuZWlnaGJvcmluZyBoZXhvbWVzXG4gICAgZm9yIChsZXQgaWkgaW4gbmVpZ2hib3JzX2J5X2VsZXYpIHtcbiAgICAgIGxldCBlbGV2ID0gTnVtYmVyKGlpKTtcbiAgICAgIGlmIChlbGV2ID4gY3VyX2VsZXYpIHtcbiAgICAgICAgbGV0IG5lID0gbmVpZ2hib3JzX2J5X2VsZXZbZWxldl07XG4gICAgICAgIGZvciAobGV0IGpqID0gMDsgamogPCBuZS5sZW5ndGg7ICsramopIHtcbiAgICAgICAgICB3YXRlcl9sZXZlbFtuZVtqal1dID0gY3VyX2VsZXY7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IGxha2VzLmxlbmd0aDsgKytpaSkge1xuICAgIGZpbGxMYWtlKGxha2VzW2lpXSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gcHJ1bmVGbG9vZGVkUml2ZXJzKCkge1xuICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgdG90YWxfc2l6ZTsgKytpaSkge1xuICAgIGlmICghcml2ZXJbaWldKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgbGV0IHdsID0gd2F0ZXJfbGV2ZWxbaWldO1xuICAgIGlmICh3bCAmJiByZWxldltpaV0gPCB3bCkge1xuICAgICAgcml2ZXJbaWldID0gMDtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gZ2VuZXJhdGVDb2FzdERpc3RhbmNlRmllbGQoKSB7XG4gIHV0aWwuZmlsbCgwKTtcbiAgZnVuY3Rpb24gZmluZENvYXN0KCkge1xuICAgIGxldCBkZWZhdWx0X3dhdGVyX2xldmVsID0gb3B0cy5vdXRwdXQuc2VhX3JhbmdlO1xuICAgIGxldCBjb2FzdCA9IFtdO1xuICAgIGZvciAobGV0IGlpID0gMDsgaWkgPCB0b3RhbF9zaXplOyArK2lpKSB7XG4gICAgICBpZiAocmVsZXZbaWldID49ICh3YXRlcl9sZXZlbFtpaV0gfHwgZGVmYXVsdF93YXRlcl9sZXZlbCkpIHtcbiAgICAgICAgLy8gaXQncyBsYW5kXG4gICAgICAgIGxldCBuZWlnaGJvcnMgPSBuZWlnaGJvcnNfYml0W2lpICYgMV07XG4gICAgICAgIGxldCBpc19jb2FzdCA9IGZhbHNlO1xuICAgICAgICBmb3IgKGxldCBqaiA9IDA7IGpqIDwgbmVpZ2hib3JzLmxlbmd0aDsgKytqaikge1xuICAgICAgICAgIGxldCBuaWQgPSBpaSArIG5laWdoYm9yc1tqal07XG4gICAgICAgICAgaWYgKHJlbGV2W25pZF0gPCAod2F0ZXJfbGV2ZWxbbmlkXSB8fCBkZWZhdWx0X3dhdGVyX2xldmVsKSkge1xuICAgICAgICAgICAgaXNfY29hc3QgPSB0cnVlO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChpc19jb2FzdCkge1xuICAgICAgICAgIGNvYXN0LnB1c2goaWkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBjb2FzdDtcbiAgfVxuICBsZXQgdG9kbyA9IGZpbmRDb2FzdCgpO1xuICBsZXQgZCA9IDA7XG4gIGZvciAobGV0IGlpID0gMDsgaWkgPCB0b2RvLmxlbmd0aDsgKytpaSkge1xuICAgIGxldCBwb3MgPSB0b2RvW2lpXTtcbiAgICBjb2FzdF9kaXN0YW5jZVtwb3NdID0gZDtcbiAgICB1dGlsW3Bvc10gPSAxO1xuICB9XG4gIHdoaWxlICh0b2RvLmxlbmd0aCkge1xuICAgIGQgPSBtaW4oZCArIDEsIDI1NSk7XG4gICAgbGV0IG5leHQgPSBbXTtcbiAgICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgdG9kby5sZW5ndGg7ICsraWkpIHtcbiAgICAgIGxldCBwb3MgPSB0b2RvW2lpXTtcbiAgICAgIGxldCBuZWlnaGJvcnMgPSBuZWlnaGJvcnNfYml0W3BvcyAmIDFdO1xuICAgICAgZm9yIChsZXQgamogPSAwOyBqaiA8IG5laWdoYm9ycy5sZW5ndGg7ICsramopIHtcbiAgICAgICAgbGV0IG5wb3MgPSBwb3MgKyBuZWlnaGJvcnNbampdO1xuICAgICAgICBpZiAoIXV0aWxbbnBvc10pIHtcbiAgICAgICAgICB1dGlsW25wb3NdID0gMTtcbiAgICAgICAgICBjb2FzdF9kaXN0YW5jZVtucG9zXSA9IGQ7XG4gICAgICAgICAgaWYgKGZpbGxbbnBvc10gIT09IERfQk9SREVSKSB7XG4gICAgICAgICAgICBuZXh0LnB1c2gobnBvcyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHRvZG8gPSBuZXh0O1xuICB9XG4gIGNvYXN0X2Rpc3RhbmNlWzBdID0gbWluKGNvYXN0X2Rpc3RhbmNlWzFdICsgMSwgMjU1KTtcbiAgY29hc3RfZGlzdGFuY2VbdG90YWxfc2l6ZSAtIDFdID0gbWluKGNvYXN0X2Rpc3RhbmNlW3RvdGFsX3NpemUgLSAyXSArIDEsIDI1NSk7XG59XG5cbmZ1bmN0aW9uIGdlbmVyYXRlUml2ZXJNb3V0aERpc3RhbmNlRmllbGQoKSB7XG5cbiAgdXRpbC5maWxsKDApO1xuICByaXZlcl9tb3V0aF9kaXN0YW5jZS5maWxsKDI1NSk7XG4gIG5lYXJlc3Rfc3RyYWhsZXIuZmlsbCgwKTtcbiAgbGV0IHRvZG8gPSBbXTtcbiAgbGV0IGQgPSAwO1xuICBsZXQgbnN0cmFobGVyID0gMDtcbiAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IHJpdmVyLmxlbmd0aDsgKytpaSkge1xuICAgIGlmIChyaXZlcltpaV0gJiYgbGFuZFtpaV0pIHtcbiAgICAgIG5lYXJlc3Rfc3RyYWhsZXJbaWldID0gcnN0cmFobGVyW2lpXTtcbiAgICAgIGxldCBuZWlnaGJvcnMgPSBuZWlnaGJvcnNfYml0W2lpICYgMV07XG4gICAgICBmb3IgKGxldCBqaiA9IDA7IGpqIDwgbmVpZ2hib3JzLmxlbmd0aDsgKytqaikge1xuICAgICAgICBsZXQgbnBvcyA9IGlpICsgbmVpZ2hib3JzW2pqXTtcbiAgICAgICAgaWYgKCFsYW5kW25wb3NdKSB7XG4gICAgICAgICAgdG9kby5wdXNoKG5wb3MpO1xuICAgICAgICAgIG5lYXJlc3Rfc3RyYWhsZXJbbnBvc10gPSBuZWFyZXN0X3N0cmFobGVyW2lpXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZvciAobGV0IGlpID0gMDsgaWkgPCB0b2RvLmxlbmd0aDsgKytpaSkge1xuICAgIGxldCBwb3MgPSB0b2RvW2lpXTtcbiAgICByaXZlcl9tb3V0aF9kaXN0YW5jZVtwb3NdID0gMDtcbiAgICB1dGlsW3Bvc10gPSAxO1xuICB9XG4gIHdoaWxlICh0b2RvLmxlbmd0aCkge1xuICAgIGQgPSBtaW4oZCArIDEsIDI1NSk7XG4gICAgbGV0IG5leHQgPSBbXTtcbiAgICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgdG9kby5sZW5ndGg7ICsraWkpIHtcbiAgICAgIGxldCBwb3MgPSB0b2RvW2lpXTtcbiAgICAgIG5zdHJhaGxlciA9IG5lYXJlc3Rfc3RyYWhsZXJbcG9zXTtcbiAgICAgIGxldCBuZWlnaGJvcnMgPSBuZWlnaGJvcnNfYml0W3BvcyAmIDFdO1xuICAgICAgZm9yIChsZXQgamogPSAwOyBqaiA8IG5laWdoYm9ycy5sZW5ndGg7ICsramopIHtcbiAgICAgICAgbGV0IG5wb3MgPSBwb3MgKyBuZWlnaGJvcnNbampdO1xuICAgICAgICBpZiAoIXV0aWxbbnBvc10pIHtcbiAgICAgICAgICB1dGlsW25wb3NdID0gMTtcbiAgICAgICAgICByaXZlcl9tb3V0aF9kaXN0YW5jZVtucG9zXSA9IGQ7XG4gICAgICAgICAgbmVhcmVzdF9zdHJhaGxlcltucG9zXSA9IG5zdHJhaGxlcjtcbiAgICAgICAgICBpZiAoZmlsbFtucG9zXSAhPT0gRF9CT1JERVIpIHtcbiAgICAgICAgICAgIG5leHQucHVzaChucG9zKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgdG9kbyA9IG5leHQ7XG4gIH1cblxuICByaXZlcl9tb3V0aF9kaXN0YW5jZVswXSA9IG1pbihyaXZlcl9tb3V0aF9kaXN0YW5jZVsxXSArIDEsIDI1NSk7XG4gIHJpdmVyX21vdXRoX2Rpc3RhbmNlW3RvdGFsX3NpemUgLSAxXSA9IG1pbihyaXZlcl9tb3V0aF9kaXN0YW5jZVt0b3RhbF9zaXplIC0gMl0gKyAxLCAyNTUpO1xuXG59XG5cbmZ1bmN0aW9uIG1vdW50YWluaWZ5KCkge1xuICBzdWJvcHRzID0gb3B0cy5tb3VudGFpbmlmeTtcbiAgbGV0IHsgY2Rpc3RfcmFtcCwgcGVha19yYWRpdXMsIHBlYWtfcGVyY2VudCwgcGVha19rIH0gPSBzdWJvcHRzO1xuICBsZXQgcGVha19jYW5kaWRhdGVzO1xuICAvLyBHZW5lcmF0ZSBQb2lzc29uIGRpc2sgc2FtcGxpbmcgYWNyb3NzIG1hcFxuICBwZWFrX2NhbmRpZGF0ZXMgPSBwb2lzc29uU2FtcGxlKHBlYWtfcmFkaXVzLCBwZWFrX2spLmZpbHRlcigoYSkgPT4gbGFuZFthXSk7XG4gIGZ1bmN0aW9uIGNob29zZVBlYWtzKCkge1xuICAgIGxldCBwZWFrX2VsZXYgPSBmaW5kTWF4UGVyUmVnaW9uKHBlYWtfY2FuZGlkYXRlcywgcmVsZXYsIChwZWFrX3JhZGl1cyAvIDIpIHwgMCk7XG4gICAgbGV0IGtlZXAgPSBtYXgoMSwgY2VpbChwZWFrX3BlcmNlbnQgKiBwZWFrX2VsZXYubGVuZ3RoKSk7XG4gICAgcGVha19lbGV2ID0gcGVha19lbGV2LnNsaWNlKDAsIGtlZXApO1xuICAgIHJldHVybiBwZWFrX2VsZXYubWFwKChhKSA9PiBhWzFdKTtcbiAgfVxuICBsZXQgcG9pbnRzID0gY2hvb3NlUGVha3MoKTtcblxuICBsZXQge1xuICAgIGJsZW5kX3JhZGl1cyxcbiAgICBoZWlnaHRfc2NhbGUsXG4gICAgd2VpZ2h0X2xvY2FsLFxuICAgIHBvd2VyX21heCxcbiAgICBwb3dlcl9taW4sXG4gICAgcG93ZXJfYmxlbmQsXG4gIH0gPSBzdWJvcHRzO1xuICBmdW5jdGlvbiBncm93TW91bnRhaW4ocG9zKSB7XG4gICAgbGV0IHJzcXVhcmVkID0gYmxlbmRfcmFkaXVzKmJsZW5kX3JhZGl1cztcbiAgICBsZXQgaG9yaXpfcmFkaXVzID0gY2VpbChibGVuZF9yYWRpdXMgKiBTS0VXX1gpO1xuICAgIGxldCB3ZWlnaHRfYWJzID0gMSAtIHdlaWdodF9sb2NhbDtcbiAgICBsZXQgYXZnX2hlaWdodCA9IDA7XG4gICAgbGV0IGF2Z19jb3VudCA9IDA7XG4gICAgbGV0IHgwID0gcG9zICUgd2lkdGg7XG4gICAgbGV0IHkwID0gKHBvcyAtIHgwKSAvIHdpZHRoO1xuICAgIC8vIEZpbmQgYXZlcmFnZSBoZWlnaHQgdW5kZXIgdGhlIG1vdW50YWluIHdpdGhpbiB0aGUgcmFkaXVzXG4gICAgLy8gUEVSRlRPRE86IElmIGNvbnN0YW50IHJhZGl1cywgY291bGQgcHJlLWJ1aWxkIGFuIGFycmF5IG9mIGp1c3QgdGhlXG4gICAgLy8gICBpbmRleC1vZmZzZXRzIG9mIHBvaW50cyB0aGF0IHBhc3MgdGhlIHJhbmdlIHRlc3RzIGFuZCBwcmUtY29tcHV0ZVxuICAgIC8vICAgdGhlaXIgd2VpZ2h0cy5cblxuICAgIC8vIFdlaWdodGVkIGF2ZXJhZ2Ugb2YgZW50aXJlIGFyZWFcbiAgICBmb3IgKGxldCBkeCA9IC1ob3Jpel9yYWRpdXM7IGR4IDw9IGhvcml6X3JhZGl1czsgKytkeCkge1xuICAgICAgZm9yIChsZXQgZHkgPSAtYmxlbmRfcmFkaXVzOyBkeSA8PSBibGVuZF9yYWRpdXM7ICsrZHkpIHtcbiAgICAgICAgbGV0IGRzcSA9IGR4KmR4ICsgZHkqZHk7IC8vIE5vdCBxdWl0ZSBhY2N1cmF0ZSBkaXN0YW5jZSwgYnV0IGZpbmUgZm9yIHRoaXMgZXN0aW1hdGVcbiAgICAgICAgaWYgKGRzcSA+PSByc3F1YXJlZCkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGxldCB4ID0geDAgKyBkeDtcbiAgICAgICAgbGV0IHkgPSB5MCArIGR5O1xuICAgICAgICBpZiAoeCA8IDAgfHwgeCA+PSB3aWR0aCB8fCB5IDwgMCB8fCB5ID49IGhlaWdodCkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGxldCBwb3NfaWR4ID0geSAqIHdpZHRoICsgeDtcbiAgICAgICAgaWYgKCFsYW5kW3Bvc19pZHhdKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgLy9sZXQgdyA9IDEgLSBkc3EgLyByc3F1YXJlZDsgLy8gMSBpbiBjZW50ZXIsIDAgb24gZWRnZVxuICAgICAgICBsZXQgdyA9IGRzcSAvIHJzcXVhcmVkOyAvLyAwIGluIGNlbnRlciwgMSBvbiBlZGdlXG4gICAgICAgIGF2Z19oZWlnaHQgKz0gcmVsZXZbeSAqIHdpZHRoICsgeF0gKiB3O1xuICAgICAgICBhdmdfY291bnQgKz0gdztcbiAgICAgIH1cbiAgICB9XG4gICAgYXZnX2hlaWdodCAvPSBhdmdfY291bnQ7XG4gICAgLy8gU2NhbGUgdXAgZXhwb25lbnRpYWxseSBpbiB0aGUgbWlkZGxlXG4gICAgbGV0IGNlbnRlcl9kaCA9IHJlbGV2W3Bvc10gLSBhdmdfaGVpZ2h0O1xuICAgIGlmIChjZW50ZXJfZGggPCAxMCkge1xuICAgICAgLy8gdGhlIGNlbnRlciBpcyBsb3dlciB0aGFuIHRoZSBhdmVyYWdlIC0gbXVzdCBoYXZlIGJlZW4gYXQgdGhlIGVkZ2Ugb2YgYSBwZWFrIHNlbGVjdGlvbiByYWRpdXMsIGFuZFxuICAgICAgLy8gb24gYSBzbG9wZSwgc28gcHJvYmFibHkgbm90IGFjdHVhbGx5IGEgZ29vZCBjaG9pY2UgZm9yIGEgZXhhZ2dlcmF0ZWQgcGVha1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIERlY2lkZSB3aGljaCBhbmdsZSB0byBhcHBseSB0aGUgcG93ZXIgY3VydmVcbiAgICAvLyBUcnkganVzdCBwZXJwaW5kaWN1bGFyIHRvIHRoZSAzIGNhcmRpbmFsIGhleC1heGVzXG4gICAgbGV0IGFuZ2xlX29mZnMgPSBQSS82O1xuICAgIGxldCBiZXN0X2ggPSAwO1xuICAgIGxldCBhbmdsZXMgPSBbXG4gICAgICBbLTAuNSwgc3FydCgzLzQpLCBQSS82XSxcbiAgICAgIFstMSwgMCwgUEkqMy82XSxcbiAgICAgIFstMC41LCAtc3FydCgzLzQpLCBQSSo1LzZdLFxuICAgICAgWzAuNSwgLXNxcnQoMy80KSwgUEkqNy82XSxcbiAgICAgIFsxLCAwLCBQSSo5LzZdLFxuICAgICAgWzAuNSwgc3FydCgzLzQpLCBQSSoxMS82XSxcbiAgICBdO1xuICAgIGZvciAobGV0IGlpID0gMDsgaWkgPCBhbmdsZXMubGVuZ3RoOyArK2lpKSB7XG4gICAgICBsZXQgc3ggPSByb3VuZCh4MCArIGFuZ2xlc1tpaV1bMF0gKiBibGVuZF9yYWRpdXMgLyAyIC8gU0tFV19YKTtcbiAgICAgIGxldCBzeSA9IHJvdW5kKHkwICsgYW5nbGVzW2lpXVsxXSAqIGJsZW5kX3JhZGl1cyAvIDIpO1xuICAgICAgc3ggPSBjbGFtcChzeCwgMCwgd2lkdGggLSAxKTtcbiAgICAgIHN5ID0gY2xhbXAoc3ksIDAsIGhlaWdodCAtIDEpO1xuICAgICAgbGV0IGggPSByZWxldltzeCArIHN5ICogd2lkdGhdO1xuICAgICAgaWYgKGggPiBiZXN0X2gpIHtcbiAgICAgICAgYmVzdF9oID0gaDtcbiAgICAgICAgYW5nbGVfb2ZmcyA9IGFuZ2xlc1tpaV1bMl07XG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yIChsZXQgZHggPSAtaG9yaXpfcmFkaXVzOyBkeCA8PSBob3Jpel9yYWRpdXM7ICsrZHgpIHtcbiAgICAgIGZvciAobGV0IGR5ID0gLWJsZW5kX3JhZGl1czsgZHkgPD0gYmxlbmRfcmFkaXVzOyArK2R5KSB7XG4gICAgICAgIGxldCB4ID0geDAgKyBkeDtcbiAgICAgICAgbGV0IHkgPSB5MCArIGR5O1xuICAgICAgICBsZXQgdW5pZl9keCA9ICh4IC0geDApIC8gU0tFV19YO1xuICAgICAgICBsZXQgdW5pZl9keSA9IHkgLSB5MDtcbiAgICAgICAgaWYgKCh4MCAmIDEpICE9PSAoeCAmIDEpKSB7XG4gICAgICAgICAgaWYgKHgwICYgMSkge1xuICAgICAgICAgICAgdW5pZl9keSAtPSAwLjU7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHVuaWZfZHkgKz0gMC41O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBsZXQgZHNxID0gdW5pZl9keCp1bmlmX2R4ICsgdW5pZl9keSp1bmlmX2R5O1xuICAgICAgICBpZiAoZHNxID49IHJzcXVhcmVkKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHggPCAwIHx8IHggPj0gd2lkdGggfHwgeSA8IDAgfHwgeSA+PSBoZWlnaHQpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgcG9zX2lkeCA9IHkgKiB3aWR0aCArIHg7XG4gICAgICAgIGlmICghbGFuZFtwb3NfaWR4XSkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGxldCBlbGV2ID0gcmVsZXZbcG9zX2lkeF07XG4gICAgICAgIGxldCBkaCA9IGVsZXYgLSBhdmdfaGVpZ2h0O1xuICAgICAgICBsZXQgc2NhbGUgPSAxIC0gc3FydChkc3EpIC8gYmxlbmRfcmFkaXVzO1xuICAgICAgICBsZXQgYW5nbGUgPSBhdGFuMih1bmlmX2R4LCB1bmlmX2R5KTtcbiAgICAgICAgLy8gVE9ETzogYWRkIHJvdGF0ZSBoZXJlXG4gICAgICAgIGFuZ2xlID0gKChhbmdsZSArIGFuZ2xlX29mZnMpICsgUEkpICUgVFdPUEkgLSBQSTtcbiAgICAgICAgYW5nbGUgPSBhYnMoYW5nbGUpIC8gUEk7XG4gICAgICAgIGFuZ2xlID0gY2xhbXAoKGFuZ2xlIC0gKDEgLSBwb3dlcl9ibGVuZCkgLyAyKSAvIHBvd2VyX2JsZW5kLCAwLCAxKTtcbiAgICAgICAgbGV0IGVmZl9wb3dlciA9IGxlcnAoYW5nbGUsIHBvd2VyX21pbiwgcG93ZXJfbWF4KTtcbiAgICAgICAgc2NhbGUgPSBwb3coc2NhbGUsIGVmZl9wb3dlcik7XG4gICAgICAgIGxldCBjZGlzdCA9IGNvYXN0X2Rpc3RhbmNlW3Bvc19pZHhdO1xuICAgICAgICBpZiAoY2Rpc3RfcmFtcCkge1xuICAgICAgICAgIHNjYWxlICo9IGNsYW1wKGNkaXN0IC8gY2Rpc3RfcmFtcCwgMCwgMSk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGRlbHRhID0gKHdlaWdodF9sb2NhbCAqIG1heCgwLCBkaCkgKyB3ZWlnaHRfYWJzICogY2VudGVyX2RoKSAqIGhlaWdodF9zY2FsZSAqIHNjYWxlO1xuICAgICAgICBtb3VudGFpbl9kZWx0YVtwb3NfaWR4XSA9IG1heChtb3VudGFpbl9kZWx0YVtwb3NfaWR4XSwgZGVsdGEpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBhcHBseUdyb3d0aCgpIHtcbiAgICBmb3IgKGxldCBwb3NfaWR4ID0gMDsgcG9zX2lkeCA8IHRvdGFsX3NpemU7ICsrcG9zX2lkeCkge1xuICAgICAgcmVsZXZbcG9zX2lkeF0gKz0gbW91bnRhaW5fZGVsdGFbcG9zX2lkeF07XG4gICAgfVxuICB9XG5cbiAgbW91bnRhaW5fZGVsdGEuZmlsbCgwKTtcbiAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IHBvaW50cy5sZW5ndGg7ICsraWkpIHtcbiAgICBncm93TW91bnRhaW4ocG9pbnRzW2lpXSk7XG4gIH1cbiAgYXBwbHlHcm93dGgoKTtcbn1cblxuZnVuY3Rpb24gcHJ1bmVVcGhpbGxSaXZlcnMoKSB7XG4gIC8vIEFmdGVyIE1vdW50YWluaWZ5IGhhcyBjaGFuZ2VkIHRoZSBzbG9wZXMsIGFyZSBhbnkgcml2ZXJzIG5vdyBmbG93aW5nIHVwaGlsbD9cbiAgc3Vib3B0cyA9IG9wdHMucml2ZXI7XG4gIGlmICghc3Vib3B0cy5tdGlmeV9wcnVuZSkge1xuICAgIHJldHVybjtcbiAgfVxuICBsZXQgeyBtdGlmeV9wcnVuZV9ncmFjZSB9ID0gc3Vib3B0cztcblxuICBmdW5jdGlvbiBjbGVhclJpdmVyKHBvcywgZnJvbV9kaXIpIHtcbiAgICBsZXQgYml0cyA9IHJpdmVyW3Bvc107XG4gICAgbGV0IG5laWdoYm9ycyA9IG5laWdoYm9yc19iaXRbcG9zICYgMV07XG4gICAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IDY7ICsraWkpIHtcbiAgICAgIGlmIChpaSAhPT0gZnJvbV9kaXIgJiYgKGJpdHMgJiAoMSA8PCBpaSkpKSB7XG4gICAgICAgIGNsZWFyUml2ZXIocG9zICsgbmVpZ2hib3JzW2lpXSwgKGlpICsgMykgJSA2KTtcbiAgICAgIH1cbiAgICB9XG4gICAgcnN0cmFobGVyW3Bvc10gPSAwO1xuICAgIHJpdmVyW3Bvc10gPSAwO1xuICB9XG4gIGZ1bmN0aW9uIGZpbGxTdHJhaGxlcihwb3MsIGZyb21fZGlyKSB7XG4gICAgbGV0IG15X2VsZXYgPSByZWxldltwb3NdO1xuICAgIGxldCBiaXRzID0gcml2ZXJbcG9zXTtcbiAgICBsZXQgb3V0ID0gW107XG4gICAgbGV0IG5laWdoYm9ycyA9IG5laWdoYm9yc19iaXRbcG9zICYgMV07XG4gICAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IDY7ICsraWkpIHtcbiAgICAgIGlmIChpaSAhPT0gZnJvbV9kaXIgJiYgKGJpdHMgJiAoMSA8PCBpaSkpKSB7XG4gICAgICAgIGxldCBuaWQgPSBwb3MgKyBuZWlnaGJvcnNbaWldO1xuICAgICAgICBpZiAocmVsZXZbbmlkXSA8IG15X2VsZXYpIHtcbiAgICAgICAgICBpZiAocmVsZXZbbmlkXSA8IG15X2VsZXYgLSBtdGlmeV9wcnVuZV9ncmFjZSkge1xuICAgICAgICAgICAgcml2ZXJbcG9zXSAmPSB+KDEgPDwgaWkpO1xuICAgICAgICAgICAgY2xlYXJSaXZlcihuaWQsIChpaSArIDMpICUgNik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIFByZXR0eSBjbG9zZSwganVzdCByYWlzZSBhIGJpdFxuICAgICAgICAgICAgcmVsZXZbbmlkXSA9IG15X2VsZXY7XG4gICAgICAgICAgICBvdXQucHVzaChpaSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG91dC5wdXNoKGlpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICAvLyBNaWdodCBhcyB3ZWxsIGFsc28gcmUtY29tcHV0ZSBTdHJhaGxlciAoanVzdCBmb3IgZGVidWcpXG4gICAgbGV0IHM7XG4gICAgaWYgKCFvdXQubGVuZ3RoKSB7XG4gICAgICBzID0gMTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKG91dC5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgcyA9IGZpbGxTdHJhaGxlcihwb3MgKyBuZWlnaGJvcnNbb3V0WzBdXSwgKG91dFswXSArIDMpICUgNik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhc3NlcnQuZXF1YWwob3V0Lmxlbmd0aCwgMik7XG4gICAgICAgIGxldCBzMSA9IGZpbGxTdHJhaGxlcihwb3MgKyBuZWlnaGJvcnNbb3V0WzBdXSwgKG91dFswXSArIDMpICUgNik7XG4gICAgICAgIGxldCBzMiA9IGZpbGxTdHJhaGxlcihwb3MgKyBuZWlnaGJvcnNbb3V0WzFdXSwgKG91dFsxXSArIDMpICUgNik7XG4gICAgICAgIGlmIChzMSA9PT0gczIpIHtcbiAgICAgICAgICBzID0gczEgKyAxO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHMgPSBtYXgoczEsIHMyKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByc3RyYWhsZXJbcG9zXSA9IHM7XG4gICAgcmV0dXJuIHM7XG4gIH1cblxuICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgdG90YWxfc2l6ZTsgKytpaSkge1xuICAgIGxldCByYml0cyA9IHJpdmVyW2lpXTtcbiAgICBpZiAoIXJiaXRzKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgbGV0IG5laWdoYm9ycyA9IG5laWdoYm9yc19iaXRbaWkgJiAxXTtcbiAgICBsZXQgZm91bmRfb25lID0gZmFsc2U7XG4gICAgZm9yIChsZXQgamogPSAwOyBqaiA8IG5laWdoYm9ycy5sZW5ndGg7ICsramopIHtcbiAgICAgIGlmIChyYml0cyAmICgxIDw8IGpqKSkge1xuICAgICAgICBsZXQgbmlkID0gaWkgKyBuZWlnaGJvcnNbampdO1xuICAgICAgICBpZiAoIXJpdmVyW25pZF0pIHtcbiAgICAgICAgICBhc3NlcnQoIWZvdW5kX29uZSk7XG4gICAgICAgICAgZm91bmRfb25lID0gdHJ1ZTtcbiAgICAgICAgICBmaWxsU3RyYWhsZXIoaWksIGpqKTtcbiAgICAgICAgICAvLyBBbHNvLCBhZGQgYSBiaXQgdG8gd2hlcmUgd2UgZmxvdyBpbnRvLCB0byBjb250aW51ZSByaXZlcnNcbiAgICAgICAgICAvLyB0b2RvLnB1c2goW25pZCwgampdKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBnZW5lcmF0ZUh1bWlkaXR5KCkge1xuICBsZXQgdG90YWxfcmFuZ2UgPSBvcHRzLm91dHB1dC5sYW5kX3JhbmdlOyAvLyArIG9wdHMub3V0cHV0LnNlYV9yYW5nZTsgLSBzZWEgaXNuJ3QgdXNlZCBmb3Igc2xvcGUsIGZvciB0aGUgbW9zdCBwYXJ0XG4gIGxldCBzbG9wZV9tdWwgPSA0MDk2IC8gdG90YWxfcmFuZ2U7XG4gIGZ1bmN0aW9uIGdlbmVyYXRlU2xvcGUoKSB7XG4gICAgZm9yIChsZXQgeSA9IDA7IHkgPCBoZWlnaHQ7ICsreSkge1xuICAgICAgZm9yIChsZXQgeCA9IDA7IHggPCB3aWR0aDsgKyt4KSB7XG4gICAgICAgIGxldCBwb3MgPSB5ICogd2lkdGggKyB4O1xuICAgICAgICBpZiAobGFuZFtwb3NdKSB7XG4gICAgICAgICAgLy8gaGV4UG9zVG9VbmlmUG9zKHgsIHkpO1xuICAgICAgICAgIC8vIGxldCBub2lzZV92ID0gc2FtcGxlKCk7XG4gICAgICAgICAgbGV0IGVsZXYgPSByZWxldltwb3NdO1xuICAgICAgICAgIGxldCByaWdodF9zbG9wZSA9IDA7IC8vIGlmIHBvc2l0aXZlLCBzbG9wZXMgZG93biB0byB0aGUgcmlnaHRcbiAgICAgICAgICBsZXQgbmVpZ2hib3JzID0gbmVpZ2hib3JzX2JpdFt4ICYgMV07XG4gICAgICAgICAgZm9yIChsZXQgaWkgPSAxOyBpaSA8IDY7ICsraWkpIHtcbiAgICAgICAgICAgIGlmIChpaSA9PT0gMykge1xuICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBucG9zID0gcG9zICsgbmVpZ2hib3JzW2lpXTtcbiAgICAgICAgICAgIGxldCBuZWxldiA9IHJlbGV2W25wb3NdO1xuICAgICAgICAgICAgaWYgKGlpIDwgMykge1xuICAgICAgICAgICAgICByaWdodF9zbG9wZSArPSBlbGV2IC0gbmVsZXY7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICByaWdodF9zbG9wZSArPSBuZWxldiAtIGVsZXY7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGh1bWlkaXR5W3Bvc10gPSBjbGFtcCgxMjggKyByaWdodF9zbG9wZSAqIHNsb3BlX211bCwgMCwgMjU1KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBodW1pZGl0eVtwb3NdID0gMTI4O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGdlbmVyYXRlU2xvcGUoKTtcbiAgaWYgKG9wdHMuaHVtaWRpdHkuc2hvd19yZWxpZWYpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgZnVuY3Rpb24gYmx1clNsb3BlKCkge1xuICAgIGZvciAobGV0IHkgPSAwOyB5IDwgaGVpZ2h0OyArK3kpIHtcbiAgICAgIGZvciAobGV0IHggPSAwOyB4IDwgd2lkdGg7ICsreCkge1xuICAgICAgICBsZXQgcG9zID0geSAqIHdpZHRoICsgeDtcbiAgICAgICAgaWYgKGxhbmRbcG9zXSkge1xuICAgICAgICAgIGxldCBuZWlnaGJvcnMgPSBuZWlnaGJvcnNfYml0W3ggJiAxXTtcbiAgICAgICAgICBsZXQgdG90YWwgPSBodW1pZGl0eVtwb3NdO1xuICAgICAgICAgIGxldCBjb3VudCA9IDE7XG4gICAgICAgICAgZm9yIChsZXQgaWkgPSAxOyBpaSA8IDY7ICsraWkpIHtcbiAgICAgICAgICAgIGxldCBucG9zID0gcG9zICsgbmVpZ2hib3JzW2lpXTtcbiAgICAgICAgICAgIGlmIChsYW5kW25wb3NdKSB7XG4gICAgICAgICAgICAgIHRvdGFsICs9IGh1bWlkaXR5W25wb3NdO1xuICAgICAgICAgICAgICBjb3VudCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBodW1pZGl0eVtwb3NdID0gcm91bmQodG90YWwgLyBjb3VudCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgYmx1clNsb3BlKCk7XG4gIGZ1bmN0aW9uIGFkZFRvTm9pc2UoKSB7XG4gICAgaW5pdE5vaXNlKG9wdHMuaHVtaWRpdHkpO1xuICAgIGZvciAobGV0IHkgPSAwOyB5IDwgaGVpZ2h0OyArK3kpIHtcbiAgICAgIGZvciAobGV0IHggPSAwOyB4IDwgd2lkdGg7ICsreCkge1xuICAgICAgICBsZXQgcG9zID0geSAqIHdpZHRoICsgeDtcbiAgICAgICAgaGV4UG9zVG9VbmlmUG9zKHgsIHkpO1xuICAgICAgICBsZXQgbm9pc2VfdiA9IHNhbXBsZSgpO1xuICAgICAgICBsZXQgcmFpbnNoYWRvdyA9IChodW1pZGl0eVtwb3NdIC0gMTI4KSAvIDEyNztcbiAgICAgICAgcmFpbnNoYWRvdyA9ICgocmFpbnNoYWRvdyA+PSAwKSA/IDAuMjUgOiAtMC4yNSkgKyByYWluc2hhZG93ICogMC43NTsgLy8gWy0xLC0wLjI1XSBvciBbMC4yNSwxLjBdXG4gICAgICAgIGxldCByYWluc2hhZG93X2VmZmVjdCA9IGdldCgncmFpbnNoYWRvdycpOyAvLyBbMCwxXVxuICAgICAgICByYWluc2hhZG93ICo9IHJhaW5zaGFkb3dfZWZmZWN0O1xuICAgICAgICBub2lzZV92ID0gKChub2lzZV92ICsgcmFpbnNoYWRvdykgKyByYWluc2hhZG93X2VmZmVjdCkgLyAoMSArIHJhaW5zaGFkb3dfZWZmZWN0ICogMik7IC8vIFswLDFdXG4gICAgICAgIGh1bWlkaXR5W3Bvc10gPSBjbGFtcChub2lzZV92ICogMjU1LCAwLCAyNTUpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBhZGRUb05vaXNlKCk7XG59XG5cbmZ1bmN0aW9uIGRldGVybWluZUNsYXNzaWZpY2F0aW9uKCkge1xuICBzdWJvcHRzID0gb3B0cy5jbGFzc2lmO1xuICBsZXQgeyBjdXQxLCBjdXQyLCBibHVyX3NjYWxlLCBibHVyX3cgfSA9IHN1Ym9wdHM7XG5cbiAgZnVuY3Rpb24gYmx1ckhlaWdodCgpIHtcbiAgICBsZXQgd19sZW4gPSBibHVyX3cgKiAyICsgMTtcbiAgICBsZXQgdyA9IDEgLyB3X2xlbjtcblxuICAgIGxldCBoX21pbiA9IG9wdHMub3V0cHV0LnNlYV9yYW5nZTtcblxuICAgIC8vIEhvcml6b250YWwgYmx1clxuICAgIGZvciAobGV0IHl5ID0gMDsgeXkgPCBoZWlnaHQ7ICsreXkpIHtcbiAgICAgIGZvciAobGV0IHh4ID0gMDsgeHggPD0gd2lkdGggLSB3X2xlbjsgKyt4eCkge1xuICAgICAgICBsZXQgcG9zID0geHggKyB5eSAqIHdpZHRoO1xuICAgICAgICBsZXQgdiA9IDA7XG4gICAgICAgIGZvciAobGV0IGR4ID0gMDsgZHggPCB3X2xlbjsgKytkeCkge1xuICAgICAgICAgIHYgKz0gbWF4KGhfbWluLCByZWxldltwb3MgKyBkeF0pO1xuICAgICAgICB9XG4gICAgICAgIGJsdXJfdGVtcDFbcG9zICsgYmx1cl93XSA9IHJvdW5kKHYgKiB3KTtcbiAgICAgIH1cbiAgICB9XG4gICAgLy8gVmVydGljYWwgYmx1clxuICAgIGZvciAobGV0IHl5ID0gMDsgeXkgPCBoZWlnaHQgLSB3X2xlbjsgKyt5eSkge1xuICAgICAgZm9yIChsZXQgeHggPSBibHVyX3c7IHh4IDw9IHdpZHRoIC0gYmx1cl93OyArK3h4KSB7XG4gICAgICAgIGxldCBwb3MgPSB4eCArIHl5ICogd2lkdGg7XG4gICAgICAgIGxldCB2ID0gMDtcbiAgICAgICAgZm9yIChsZXQgZHkgPSAwOyBkeSA8IHdfbGVuOyArK2R5KSB7XG4gICAgICAgICAgdiArPSBibHVyX3RlbXAxW3BvcyArIGR5ICogd2lkdGhdO1xuICAgICAgICB9XG4gICAgICAgIGJsdXJfdGVtcDJbcG9zICsgYmx1cl93ICogd2lkdGhdID0gcm91bmQodiAqIHcpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBjbGFzc2lmRnJvbURpZmYoKSB7XG4gICAgZm9yIChsZXQgcG9zID0gMDsgcG9zIDwgdG90YWxfc2l6ZTsgKytwb3MpIHtcbiAgICAgIGxldCBjO1xuICAgICAgaWYgKCFsYW5kW3Bvc10pIHtcbiAgICAgICAgaWYgKHJpdmVyX21vdXRoX2Rpc3RhbmNlW3Bvc10gPT09IDAgJiYgbmVhcmVzdF9zdHJhaGxlcltwb3NdID4gMSkge1xuICAgICAgICAgIGMgPSBDX1JJVkVSX0RFTFRBO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGMgPSBDX1dBVEVSO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsZXQgZWxldiA9IHJlbGV2W3Bvc107XG4gICAgICAgIGxldCBibHVycmVkID0gYmx1cl90ZW1wMltwb3NdIHx8IGVsZXY7XG4gICAgICAgIGxldCBkaWZmID0gZWxldiAtIGJsdXJyZWQ7XG4gICAgICAgIGxldCB2ID0gZGlmZiAvIGJsdXJfc2NhbGU7XG4gICAgICAgIGMgPSB2ID4gY3V0MiA/IENfTU9VTlRBSU5TIDogdiA+IGN1dDEgPyBDX0hJTExTIDogQ19QTEFJTlM7XG4gICAgICB9XG4gICAgICBjbGFzc2lmW3Bvc10gPSBjO1xuICAgIH1cbiAgfVxuICBibHVySGVpZ2h0KCk7XG4gIGNsYXNzaWZGcm9tRGlmZigpO1xuICAvLyBNYXliZSBhbHNvIHdhbnQgYSBibHVyIC8gY2VsbHVsYXIgYXV0b21hdGEgcGFzcyB0byByZW1vdmUgaXNsYW5kcyBvZiBjbGFzc2lmaWNhdGlvblxuICAvLyBNYXliZSB3YW50IHRvIGRvIHN0dWZmIHRvIGRlY3JlYXNlIHRoZSBtb3VudGFpbnMgb24gdGhlIGNvYXN0c1xufVxuXG5cbmV4cG9ydCBmdW5jdGlvbiBjb250aW5lbnRHZW4ocGFyYW0pIHtcbiAgbGV0IHN0YXJ0ID0gRGF0ZS5ub3coKTtcbiAgaWYgKHR5cGVvZiBwYXJhbSA9PT0gJ251bWJlcicpIHtcbiAgICBvcHRzID0gZGVmYXVsdF9vcHRzO1xuICAgIG9wdHMuc2VlZCA9IHBhcmFtO1xuICB9IGVsc2Uge1xuICAgIG9wdHMgPSBwYXJhbTtcbiAgICBhc3NlcnQuZXF1YWwodHlwZW9mIG9wdHMuc2VlZCwgJ251bWJlcicpO1xuICB9XG4gIGxldCB7IGhleF90ZXhfc2l6ZSB9ID0gb3B0cztcbiAgbGV0IG91dHB1dF9kZWJ1ZyA9IG9wdHMub3V0cHV0LmRlYnVnO1xuICBpZiAoaGV4X3RleF9zaXplICE9PSBsYXN0X3RleF9zaXplKSB7XG4gICAgc2V0dXBXb3JrQnVmZmVycyhoZXhfdGV4X3NpemUpO1xuICB9XG5cbiAgZGVidWdfcHJpb3JpdHkgPSBbXTtcbiAgc3RhdGUgPSB7fTsgLy8gZm9yIHBhc3NpbmcgbWlzYyBwYXJhbWV0ZXJzIGJldHdlZW4gcGhhc2VzXG4gIHJhbmQgPSByYW5kQ3JlYXRlKG9wdHMuc2VlZCk7XG5cbiAgZmlsbC5maWxsKDApO1xuXG4gIGdlbmVyYXRlQ29hc3RsaW5lcygpO1xuICBmaWxsU2VhcygpO1xuICBnZW5lcmF0ZUxha2VzKCk7XG4gIGdlbmVyYXRlVGVycmFpblNsb3BlKCk7XG4gIGdlbmVyYXRlUml2ZXJTbG9wZSgpO1xuICBncm93Uml2ZXJzKCk7XG4gIHBydW5lRmxvb2RlZFJpdmVycygpO1xuICBnZW5lcmF0ZU9jZWFuRGlzdGFuY2VGaWVsZCgpO1xuICBnZW5lcmF0ZVJpdmVyTW91dGhEaXN0YW5jZUZpZWxkKCk7XG4gIGdlbmVyYXRlT2NlYW4oKTtcbiAgZ2VuZXJhdGVPdXRwdXRFbGV2YXRpb24oKTtcbiAgZml4dXBDb2FzdGFsV2F0ZXJzKCk7XG4gIGJsdXJFeHRyZW1lU2xvcGVzKCk7XG4gIGZpbGxMYWtlcygpO1xuICBwcnVuZUZsb29kZWRSaXZlcnMoKTtcbiAgZ2VuZXJhdGVDb2FzdERpc3RhbmNlRmllbGQoKTsgLy8gaW5jbHVkZXMgbGFrZXNcbiAgZ2VuZXJhdGVSaXZlck1vdXRoRGlzdGFuY2VGaWVsZCgpOyAvL2luY2x1ZGUgbGFrZXMsIGNhbGMgbmVlZGVkIGVhcmxpZXIgZm9yIG9jZWFuIGRlcHRoLlxuICBtb3VudGFpbmlmeSgpO1xuICBwcnVuZVVwaGlsbFJpdmVycygpO1xuICBpZiAob3B0cy5lYXJseV9vdXQgIT09ICdyaXZlcicpIHtcbiAgICBnZW5lcmF0ZUh1bWlkaXR5KCk7XG4gIH1cbiAgZGV0ZXJtaW5lQ2xhc3NpZmljYXRpb24oKTtcblxuICBsZXQgcmV0ID0ge1xuICAgIHNlYV9sZXZlbDogb3B0cy5vdXRwdXQuc2VhX3JhbmdlLFxuICAgIG1heF9lbGV2YXRpb246IG9wdHMub3V0cHV0LnNlYV9yYW5nZSArIG9wdHMub3V0cHV0LmxhbmRfcmFuZ2UsXG4gIH07XG4gIGlmIChvdXRwdXRfZGVidWcpIHtcbiAgICByZXQubGFuZCA9IGxhbmQ7XG4gICAgcmV0LmZpbGwgPSBmaWxsO1xuICAgIHJldC50c2xvcGUgPSB0c2xvcGU7XG4gICAgcmV0LnJzbG9wZSA9IHJzbG9wZTtcbiAgICByZXQucml2ZXIgPSByaXZlcjtcbiAgICByZXQuZWxldiA9IHJlbGV2O1xuICAgIHJldC53YXRlcl9sZXZlbCA9IHdhdGVyX2xldmVsO1xuICAgIHJldC5yc3RyYWhsZXIgPSByc3RyYWhsZXI7XG4gICAgcmV0Lmh1bWlkaXR5ID0gaHVtaWRpdHk7XG4gICAgcmV0LmNsYXNzaWYgPSBjbGFzc2lmO1xuICAgIHJldC50cmVuY2hlcyA9IHRyZW5jaGVzO1xuICAgIHJldC5zaGFsbG93cyA9IHNoYWxsb3dzO1xuICAgIHJldC5jb2FzdF9kaXN0YW5jZSA9IGNvYXN0X2Rpc3RhbmNlO1xuICAgIHJldC5vY2Vhbl9kaXN0YW5jZSA9IG9jZWFuX2Rpc3RhbmNlO1xuICAgIHJldC5kZWJ1Z19wcmlvcml0eSA9IGRlYnVnX3ByaW9yaXR5O1xuICAgIHJldC5ibHVyX3RlbXAxID0gYmx1cl90ZW1wMTtcbiAgICByZXQuYmx1cl90ZW1wMiA9IGJsdXJfdGVtcDI7XG4gIH0gZWxzZSB7XG4gICAgcmV0LmVsZXYgPSByZWxldi5zbGljZSgwKTtcbiAgICByZXQuaHVtaWRpdHkgPSBodW1pZGl0eS5zbGljZSgwKTtcbiAgICByZXQucml2ZXIgPSByaXZlci5zbGljZSgwKTtcbiAgICByZXQud2F0ZXJfbGV2ZWwgPSB3YXRlcl9sZXZlbC5zbGljZSgwKTtcbiAgICByZXQuY2xhc3NpZiA9IGNsYXNzaWYuc2xpY2UoMCk7XG4gIH1cbiAgcmV0LnRpbWUgPSBEYXRlLm5vdygpIC0gc3RhcnQ7XG4gIHJldHVybiByZXQ7XG59XG4iLCIvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBDb2RlIHByb3ZpZGVkIGZvciBleGFtcGxlIHB1cnBvc2VzIG9ubHkgd2l0aCBubyBsaWNlbnNlIGZvciB1c2Ugb3IgZGlzdHJpYnV0aW9uXG5jb25zdCBhc3NlcnQgPSByZXF1aXJlKCdhc3NlcnQnKTtcbmNvbnN0IHsgcGFja2V0Q3JlYXRlLCBwYWNrZXRGcm9tQnVmZmVyLCBQQUNLRVRfREVCVUcgfSA9IHJlcXVpcmUoJy4uL2NvbW1vbi9wYWNrZXQuanMnKTtcblxuY29uc3QgQ09OVElORU5UX1NFUl9WRVJTSU9OID0gMTtcblxuY29uc3QgU0VSX01FVEhPRF9ERUxUQV9QQUNLX0lOVCA9IDE7XG5jb25zdCBTRVJfTUVUSE9EX1JMRV9ESUNUID0gMjtcbmNvbnN0IFNFUl9NRVRIT0RfUkxFX1pFUk9FUyA9IDM7XG5jb25zdCBTRVJfTUVUSE9EX1JMRV9VMiA9IDQ7XG5cbmNvbnN0IEZJRUxEUyA9IFtcbiAgJ2VsZXYnLCAgICAgICAgLy8gVTE2XG4gICd3YXRlcl9sZXZlbCcsIC8vIFUxNlxuICAnaHVtaWRpdHknLCAgICAvLyBVOFxuICAncml2ZXInLCAgICAgICAvLyBVOFxuICAnY2xhc3NpZicsICAgICAvLyBVOFxuXTtcblxuY29uc3QgU0VSX01FVEhPRF9GT1JfRklFTEQgPSB7XG4gIC8vIFUxNjsgYmVzdDogRGVsdGFQYWtJbnQgKHNhdmVzIGp1c3QgMTklOyB3aWxsIHppcFxuICAvLyAgICAgICAgICAgIHZlcnkgd2VsbCBhZnRlciBkZWx0YSBlbmNvZGVkLCB0aG91Z2ghKVxuICAvLyAtIGh1ZmZtYW4oZGVsdGEoKSkgd291bGQgc2F2ZSBhbm90aGVyIDMwJVxuICBlbGV2OiBTRVJfTUVUSE9EX0RFTFRBX1BBQ0tfSU5ULFxuXG4gIC8vIFUxNjsgYmVzdDogUkxFRGljdCAoc2F2ZXMgOTkuNiUpXG4gIHdhdGVyX2xldmVsOiBTRVJfTUVUSE9EX1JMRV9ESUNULFxuXG4gIC8vIFU4OyAgc2FtZTogcmF3PVJMRVplcm9lcz1EZWx0YVBha0ludCAoc2F2ZXMgMCUsIGJ1dCBkZWx0YXMgc2hvdWxkIHppcFxuICAvLyAgICAgICAgICAgIG9yIGh1ZmZtYW4gdmVyeSB3ZWxsIHRob3VnaClcbiAgLy8gLSBodWZmbWFuKGRlbHRhKCkpIHNhdmVzIGEgdG90YWwgb2YgMzUlXG4gIGh1bWlkaXR5OiBTRVJfTUVUSE9EX0RFTFRBX1BBQ0tfSU5ULFxuXG4gIC8vIFU4OyAgYmVzdDogUkxFWmVyb2VzIChzYXZlcyA4MiUpXG4gIHJpdmVyOiBTRVJfTUVUSE9EX1JMRV9aRVJPRVMsXG5cbiAgLy8gVTg7ICBiZXN0OiBSTEVVMiAoc2F2ZXMgOTIlKVxuICBjbGFzc2lmOiBTRVJfTUVUSE9EX1JMRV9VMixcbn07XG5cbmNvbnN0IEZJRUxEX1RZUEUgPSB7XG4gIGVsZXY6IFVpbnQxNkFycmF5LFxuICB3YXRlcl9sZXZlbDogVWludDE2QXJyYXksXG4gIGh1bWlkaXR5OiBVaW50OEFycmF5LFxuICByaXZlcjogVWludDhBcnJheSxcbiAgY2xhc3NpZjogVWludDhBcnJheSxcbn07XG5cbi8vIFdyaXRlIGVpdGhlciBhIHNpbmdsZSB2YWx1ZSwgb3IgYSAwIGZvbGxvd2VkIGJ5IGEgY291bnQgb2YgemVyb2VzXG5leHBvcnQgZnVuY3Rpb24gZW5jb2RlUkxFWmVyb2VzKHBhaywgZGF0YSkge1xuICBsZXQgc2l6ZSA9IGRhdGEubGVuZ3RoO1xuICBsZXQgYyA9IDA7XG4gIGZvciAobGV0IGlpID0gMDsgaWkgPCBzaXplOyArK2lpKSB7XG4gICAgbGV0IHYgPSBkYXRhW2lpXTtcbiAgICBpZiAodikge1xuICAgICAgaWYgKGMpIHtcbiAgICAgICAgcGFrLndyaXRlSW50KGMpO1xuICAgICAgICBjID0gMDtcbiAgICAgIH1cbiAgICAgIHBhay53cml0ZUludCh2KTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKCFjKSB7XG4gICAgICAgIHBhay53cml0ZUludCh2KTtcbiAgICAgIH1cbiAgICAgIGMrKztcbiAgICB9XG4gIH1cbiAgaWYgKGMpIHtcbiAgICBwYWsud3JpdGVJbnQoYyk7XG4gIH1cbn1cblxuZnVuY3Rpb24gZGVjb2RlUkxFWmVyb2VzKGRhdGEsIHBhaykge1xuICBsZXQgaWR4ID0gMDtcbiAgd2hpbGUgKGlkeCA8IGRhdGEubGVuZ3RoKSB7XG4gICAgbGV0IHYgPSBwYWsucmVhZEludCgpO1xuICAgIGxldCBjID0gMTtcbiAgICBpZiAoIXYpIHtcbiAgICAgIGMgPSBwYWsucmVhZEludCgpO1xuICAgIH1cbiAgICBhc3NlcnQoaWR4ICsgYyA8PSBkYXRhLmxlbmd0aCk7XG4gICAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IGM7ICsraWkpIHtcbiAgICAgIGRhdGFbaWR4KytdID0gdjtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGVuY29kZVJMRVUyKHBhaywgZGF0YSkge1xuICBsZXQgdiA9IGRhdGFbMF07XG4gIGxldCBzaXplID0gZGF0YS5sZW5ndGg7XG4gIGxldCBjID0gMDtcbiAgZnVuY3Rpb24gd3JpdGVjdigpIHtcbiAgICBsZXQgb3V0ID0gKHYgPDwgNikgfCBjO1xuICAgIHBhay53cml0ZVU4KG91dCk7XG4gIH1cbiAgZm9yIChsZXQgaWkgPSAxOyBpaSA8IHNpemU7ICsraWkpIHtcbiAgICBpZiAoZGF0YVtpaV0gIT09IHYgfHwgYyA9PT0gNjMpIHtcbiAgICAgIHdyaXRlY3YoKTtcbiAgICAgIGMgPSAwO1xuICAgICAgdiA9IGRhdGFbaWldO1xuICAgIH0gZWxzZSB7XG4gICAgICBjKys7XG4gICAgfVxuICB9XG4gIHdyaXRlY3YoKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGVuY29kZVJMRVUzKHBhaywgZGF0YSkge1xuICBsZXQgdiA9IGRhdGFbMF07XG4gIGxldCBzaXplID0gZGF0YS5sZW5ndGg7XG4gIGxldCBjID0gMDtcbiAgZnVuY3Rpb24gd3JpdGVjdigpIHtcbiAgICBsZXQgb3V0ID0gKHYgPDwgNSkgfCBjO1xuICAgIHBhay53cml0ZVU4KG91dCk7XG4gIH1cbiAgZm9yIChsZXQgaWkgPSAxOyBpaSA8IHNpemU7ICsraWkpIHtcbiAgICBpZiAoZGF0YVtpaV0gIT09IHYgfHwgYyA9PT0gMzEpIHtcbiAgICAgIHdyaXRlY3YoKTtcbiAgICAgIGMgPSAwO1xuICAgICAgdiA9IGRhdGFbaWldO1xuICAgIH0gZWxzZSB7XG4gICAgICBjKys7XG4gICAgfVxuICB9XG4gIHdyaXRlY3YoKTtcbn1cblxuZnVuY3Rpb24gZGVjb2RlUkxFVTIoZGF0YSwgcGFrKSB7XG4gIGxldCBpZHggPSAwO1xuICB3aGlsZSAoaWR4IDwgZGF0YS5sZW5ndGgpIHtcbiAgICBsZXQgdiA9IHBhay5yZWFkVTgoKTtcbiAgICBsZXQgYyA9ICh2ICYgMHgzRikgKyAxO1xuICAgIHYgPj4+PSA2O1xuICAgIGFzc2VydChpZHggKyBjIDw9IGRhdGEubGVuZ3RoKTtcbiAgICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgYzsgKytpaSkge1xuICAgICAgZGF0YVtpZHgrK10gPSB2O1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZW5jb2RlUkxFRGljdChwYWssIGRhdGEpIHtcbiAgbGV0IHYgPSBkYXRhWzBdO1xuICBsZXQgc2l6ZSA9IGRhdGEubGVuZ3RoO1xuICBsZXQgYyA9IDA7XG4gIGxldCBkaWN0ID0gW107XG4gIGxldCBkaWN0X2lkeCA9IDA7XG4gIGZ1bmN0aW9uIHdyaXRlY3YoKSB7XG4gICAgcGFrLndyaXRlSW50KGMpO1xuICAgIGxldCBkaSA9IGRpY3Rbdl07XG4gICAgaWYgKGRpICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHBhay53cml0ZUludChkaSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRpID0gZGljdFt2XSA9IGRpY3RfaWR4Kys7XG4gICAgICBwYWsud3JpdGVJbnQoZGkpO1xuICAgICAgcGFrLndyaXRlSW50KHYpO1xuICAgIH1cbiAgfVxuICBmb3IgKGxldCBpaSA9IDE7IGlpIDwgc2l6ZTsgKytpaSkge1xuICAgIGlmIChkYXRhW2lpXSAhPT0gdikge1xuICAgICAgd3JpdGVjdigpO1xuICAgICAgYyA9IDA7XG4gICAgICB2ID0gZGF0YVtpaV07XG4gICAgfSBlbHNlIHtcbiAgICAgIGMrKztcbiAgICB9XG4gIH1cbiAgd3JpdGVjdigpO1xufVxuXG5mdW5jdGlvbiBkZWNvZGVSTEVEaWN0KGRhdGEsIHBhaykge1xuICBsZXQgaWR4ID0gMDtcbiAgbGV0IGRpY3QgPSBbXTtcbiAgd2hpbGUgKGlkeCA8IGRhdGEubGVuZ3RoKSB7XG4gICAgbGV0IGMgPSBwYWsucmVhZEludCgpICsgMTtcbiAgICBsZXQgZGkgPSBwYWsucmVhZEludCgpO1xuICAgIGxldCB2ID0gZGljdFtkaV07XG4gICAgaWYgKHYgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdiA9IGRpY3RbZGldID0gcGFrLnJlYWRJbnQoKTtcbiAgICB9XG4gICAgYXNzZXJ0KGlkeCArIGMgPD0gZGF0YS5sZW5ndGgpO1xuICAgIGZvciAobGV0IGlpID0gMDsgaWkgPCBjOyArK2lpKSB7XG4gICAgICBkYXRhW2lkeCsrXSA9IHY7XG4gICAgfVxuICB9XG59XG5cbi8vIFBhY2tlZCBpbnQsIGJpYXNpbmcgdGhlIGRlbHRhIGJ5IDEyNCB0byB0cnkgdG8ga2VlcCBpdCBpbiBhIHNpbmdsZSBieXRlXG4vLyAgICh3aGljaCBlbmNvZGVzIDAtMjQ4KVxuZXhwb3J0IGZ1bmN0aW9uIGVuY29kZURlbHRhUGFrSW50KHBhaywgZGF0YSkge1xuICBsZXQgdiA9IDEyNDtcbiAgbGV0IHNpemUgPSBkYXRhLmxlbmd0aDtcbiAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IHNpemU7ICsraWkpIHtcbiAgICBsZXQgZGVsdGEgPSBkYXRhW2lpXSAtIHYgKyAxMjQ7XG4gICAgcGFrLndyaXRlSW50KGRlbHRhKTtcbiAgICB2ID0gZGF0YVtpaV07XG4gIH1cbn1cblxuZnVuY3Rpb24gZGVjb2RlRGVsdGFQYWtJbnQoZGF0YSwgcGFrKSB7XG4gIGxldCBzaXplID0gZGF0YS5sZW5ndGg7XG4gIGxldCB2ID0gMTI0O1xuICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgc2l6ZTsgKytpaSkge1xuICAgIHYgKz0gcGFrLnJlYWRJbnQoKSAtIDEyNDtcbiAgICBkYXRhW2lpXSA9IHY7XG4gIH1cbn1cblxuZnVuY3Rpb24gZW5jb2RlVG9QYWNrZXQocGFrLCBtZXRob2QsIGJ1Zikge1xuICBzd2l0Y2ggKG1ldGhvZCkge1xuICAgIGNhc2UgU0VSX01FVEhPRF9ERUxUQV9QQUNLX0lOVDpcbiAgICAgIGVuY29kZURlbHRhUGFrSW50KHBhaywgYnVmKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgU0VSX01FVEhPRF9STEVfRElDVDpcbiAgICAgIGVuY29kZVJMRURpY3QocGFrLCBidWYpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBTRVJfTUVUSE9EX1JMRV9aRVJPRVM6XG4gICAgICBlbmNvZGVSTEVaZXJvZXMocGFrLCBidWYpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBTRVJfTUVUSE9EX1JMRV9VMjpcbiAgICAgIGVuY29kZVJMRVUyKHBhaywgYnVmKTtcbiAgICAgIGJyZWFrO1xuICAgIGRlZmF1bHQ6XG4gICAgICBhc3NlcnQoKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBkZWNvZGVGcm9tUGFja2V0KGJ1ZiwgbWV0aG9kLCBwYWspIHtcbiAgc3dpdGNoIChtZXRob2QpIHtcbiAgICBjYXNlIFNFUl9NRVRIT0RfREVMVEFfUEFDS19JTlQ6XG4gICAgICBkZWNvZGVEZWx0YVBha0ludChidWYsIHBhayk7XG4gICAgICBicmVhaztcbiAgICBjYXNlIFNFUl9NRVRIT0RfUkxFX0RJQ1Q6XG4gICAgICBkZWNvZGVSTEVEaWN0KGJ1ZiwgcGFrKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgU0VSX01FVEhPRF9STEVfWkVST0VTOlxuICAgICAgZGVjb2RlUkxFWmVyb2VzKGJ1ZiwgcGFrKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgU0VSX01FVEhPRF9STEVfVTI6XG4gICAgICBkZWNvZGVSTEVVMihidWYsIHBhayk7XG4gICAgICBicmVhaztcbiAgICBkZWZhdWx0OlxuICAgICAgYXNzZXJ0KCk7XG4gIH1cbn1cblxuY29uc3QgRklFTERfTUFHSUMgPSAyMjc7XG5leHBvcnQgZnVuY3Rpb24gY29udGluZW50U2VyaWFsaXplKGNkYXRhLCBkZWJ1Zykge1xuICBsZXQgeyBzZWFfbGV2ZWwsIG1heF9lbGV2YXRpb24gfSA9IGNkYXRhO1xuICBsZXQgdG90YWxfc2l6ZSA9IGNkYXRhLmVsZXYubGVuZ3RoO1xuICAvLyBFc3RpbWF0ZWQgdG90YWwgc2l6ZSBvZiBwYWNrZXQgaXMgPSB0b3RhbF9zaXplICogMywgZnJvbSBlbXBpcmljYWwgZGF0YSxcbiAgLy8gICBnaXZlIGEgbGl0dGxlIGV4dHJhIHJvb20uXG4gIGxldCBwYWsgPSBwYWNrZXRDcmVhdGUoZGVidWcgPyBQQUNLRVRfREVCVUcgOiAwLCB0b3RhbF9zaXplICogNCk7XG4gIHBhay53cml0ZUZsYWdzKCk7XG4gIHBhay53cml0ZUludChDT05USU5FTlRfU0VSX1ZFUlNJT04pO1xuICBwYWsud3JpdGVJbnQoc2VhX2xldmVsKTtcbiAgcGFrLndyaXRlSW50KG1heF9lbGV2YXRpb24pO1xuICBwYWsud3JpdGVJbnQodG90YWxfc2l6ZSk7XG5cbiAgRklFTERTLmZvckVhY2goZnVuY3Rpb24gKGZpZWxkKSB7XG4gICAgcGFrLndyaXRlSW50KEZJRUxEX01BR0lDKTtcbiAgICBlbmNvZGVUb1BhY2tldChwYWssIFNFUl9NRVRIT0RfRk9SX0ZJRUxEW2ZpZWxkXSwgY2RhdGFbZmllbGRdKTtcbiAgfSk7XG4gIHBhay5tYWtlUmVhZGFibGUoKTtcbiAgbGV0IHJldF9sZW4gPSBwYWsuZ2V0QnVmZmVyTGVuKCk7XG4gIGxldCByZXQgPSBwYWsuZ2V0QnVmZmVyKCkuc2xpY2UoMCwgcmV0X2xlbik7XG4gIHBhay5wb29sKCk7XG4gIHJldHVybiByZXQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb250aW5lbnREZXNlcmlhbGl6ZShidWYpIHtcbiAgbGV0IHJldCA9IHt9O1xuICBsZXQgcGFrID0gcGFja2V0RnJvbUJ1ZmZlcihidWYsIGJ1Zi5sZW5ndGgsIGZhbHNlKTtcbiAgcGFrLnJlYWRGbGFncygpO1xuICBsZXQgdmVyID0gcGFrLnJlYWRJbnQoKTtcbiAgYXNzZXJ0LmVxdWFsKHZlciwgQ09OVElORU5UX1NFUl9WRVJTSU9OKTtcbiAgcmV0LnNlYV9sZXZlbCA9IHBhay5yZWFkSW50KCk7XG4gIHJldC5tYXhfZWxldmF0aW9uID0gcGFrLnJlYWRJbnQoKTtcbiAgbGV0IHRvdGFsX3NpemUgPSBwYWsucmVhZEludCgpO1xuICBhc3NlcnQodG90YWxfc2l6ZSA8PSA1MTIqNTEyKTtcblxuICBGSUVMRFMuZm9yRWFjaChmdW5jdGlvbiAoZmllbGQpIHtcbiAgICBsZXQgZmllbGRfbWFnaWMgPSBwYWsucmVhZEludCgpO1xuICAgIGFzc2VydC5lcXVhbChmaWVsZF9tYWdpYywgRklFTERfTUFHSUMpO1xuICAgIGxldCBBcnJheVR5cGUgPSBGSUVMRF9UWVBFW2ZpZWxkXTtcbiAgICBsZXQgb3V0ID0gcmV0W2ZpZWxkXSA9IG5ldyBBcnJheVR5cGUodG90YWxfc2l6ZSk7XG4gICAgZGVjb2RlRnJvbVBhY2tldChvdXQsIFNFUl9NRVRIT0RfRk9SX0ZJRUxEW2ZpZWxkXSwgcGFrKTtcbiAgfSk7XG4gIHJldHVybiByZXQ7XG59XG4iLCIvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBDb2RlIHByb3ZpZGVkIGZvciBleGFtcGxlIHB1cnBvc2VzIG9ubHkgd2l0aCBubyBsaWNlbnNlIGZvciB1c2Ugb3IgZGlzdHJpYnV0aW9uXG5cbi8vIEFkZGl0aW9uYWwgc2VyaWFsaXphdGlvbiBtZXRob2RzIGFuZCBjb21wYXJpc29uLCB0aGF0IHdlcmUgbm90IHNpZ25pZmljYW50bHlcbi8vICAgYmV0dGVyLlxuXG5jb25zdCBhc3NlcnQgPSByZXF1aXJlKCdhc3NlcnQnKTtcbmNvbnN0IHsgcGFja2V0Q3JlYXRlIH0gPSByZXF1aXJlKCcuLi9jb21tb24vcGFja2V0LmpzJyk7XG5jb25zdCB7IHJpZHggfSA9IHJlcXVpcmUoJy4uL2NvbW1vbi91dGlsLmpzJyk7XG5jb25zdCB7XG4gIGVuY29kZVJMRVplcm9lcyxcbiAgZW5jb2RlUkxFVTIsXG4gIGVuY29kZVJMRVUzLFxuICBlbmNvZGVSTEVEaWN0LFxuICBlbmNvZGVEZWx0YVBha0ludCxcbn0gPSByZXF1aXJlKCcuL2NvbnRpbmVudF9zZXJpYWxpemUuanMnKTtcblxuZnVuY3Rpb24gQml0QnVmZmVyKCkge1xuICB0aGlzLnBhayA9IHBhY2tldENyZWF0ZSgwKTtcbiAgdGhpcy52ID0gMDtcbiAgdGhpcy5iID0gMDtcbn1cbkJpdEJ1ZmZlci5wcm90b3R5cGUud3JpdGVCaXRzID0gZnVuY3Rpb24gKG51bV9iaXRzLCB2YWx1ZSkge1xuICBhc3NlcnQobnVtX2JpdHMgPCAyNCk7XG4gIGxldCB7IHYsIGIsIHBhayB9ID0gdGhpcztcbiAgdiB8PSB2YWx1ZSA8PCBiO1xuICBiICs9IG51bV9iaXRzO1xuICB3aGlsZSAoYiA+IDgpIHtcbiAgICBwYWsud3JpdGVVOCh2ICYgMjU1KTtcbiAgICB2ID4+Pj0gODtcbiAgICBiIC09IDg7XG4gIH1cbiAgdGhpcy52ID0gdjtcbiAgdGhpcy5iID0gYjtcbn07XG5CaXRCdWZmZXIucHJvdG90eXBlLmZsdXNoID0gZnVuY3Rpb24gKCkge1xuICBsZXQgeyBwYWssIGIgfSA9IHRoaXM7XG4gIGlmIChiKSB7XG4gICAgdGhpcy53cml0ZUJpdHMoOCAtIGIsIDApO1xuICB9XG4gIHBhay5tYWtlUmVhZGFibGUoKTtcbiAgbGV0IHJldF9sZW4gPSBwYWsuZ2V0QnVmZmVyTGVuKCk7XG4gIGxldCByZXQgPSBwYWsuZ2V0QnVmZmVyKCkuc2xpY2UoMCwgcmV0X2xlbik7XG4gIHBhay5wb29sKCk7XG4gIHJldHVybiByZXQ7XG59O1xuXG5mdW5jdGlvbiBlbmNvZGVSTEVQYWtJbnQocGFrLCBkYXRhKSB7XG4gIGxldCB2ID0gZGF0YVswXTtcbiAgbGV0IHNpemUgPSBkYXRhLmxlbmd0aDtcbiAgbGV0IGMgPSAwO1xuICBmb3IgKGxldCBpaSA9IDE7IGlpIDwgc2l6ZTsgKytpaSkge1xuICAgIGlmIChkYXRhW2lpXSAhPT0gdikge1xuICAgICAgcGFrLndyaXRlSW50KGMpO1xuICAgICAgcGFrLndyaXRlSW50KHYpO1xuICAgICAgYyA9IDA7XG4gICAgICB2ID0gZGF0YVtpaV07XG4gICAgfSBlbHNlIHtcbiAgICAgIGMrKztcbiAgICB9XG4gIH1cbiAgcGFrLndyaXRlSW50KGMpO1xuICBwYWsud3JpdGVJbnQodik7XG59XG5cbmZ1bmN0aW9uIGVuY29kZVJMRVV4KGJhc2VfYml0cywgZGF0YSkge1xuICBsZXQgY291bnRfcGFrID0gcGFja2V0Q3JlYXRlKDApO1xuICBsZXQgdmFsdWVfYnVmID0gbmV3IEJpdEJ1ZmZlcigpO1xuICBsZXQgdiA9IGRhdGFbMF07XG4gIGxldCBzaXplID0gZGF0YS5sZW5ndGg7XG4gIGxldCBjID0gMDtcbiAgZnVuY3Rpb24gd3JpdGVjdigpIHtcbiAgICBjb3VudF9wYWsud3JpdGVJbnQoYyk7XG4gICAgaWYgKHYpIHtcbiAgICAgIHZhbHVlX2J1Zi53cml0ZUJpdHMoMSwgMSk7XG4gICAgICB2YWx1ZV9idWYud3JpdGVCaXRzKGJhc2VfYml0cywgdik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhbHVlX2J1Zi53cml0ZUJpdHMoMSwgMCk7XG4gICAgfVxuICB9XG4gIGZvciAobGV0IGlpID0gMTsgaWkgPCBzaXplOyArK2lpKSB7XG4gICAgaWYgKGRhdGFbaWldICE9PSB2KSB7XG4gICAgICB3cml0ZWN2KCk7XG4gICAgICBjID0gMDtcbiAgICAgIHYgPSBkYXRhW2lpXTtcbiAgICB9IGVsc2Uge1xuICAgICAgYysrO1xuICAgIH1cbiAgfVxuICB3cml0ZWN2KCk7XG5cbiAgY291bnRfcGFrLm1ha2VSZWFkYWJsZSgpO1xuICBsZXQgcmV0X2xlbiA9IGNvdW50X3Bhay5nZXRCdWZmZXJMZW4oKTtcbiAgbGV0IHJldDEgPSBjb3VudF9wYWsuZ2V0QnVmZmVyKCkuc2xpY2UoMCwgcmV0X2xlbik7XG4gIGNvdW50X3Bhay5wb29sKCk7XG4gIGxldCByZXQyID0gdmFsdWVfYnVmLmZsdXNoKCk7XG4gIHJldHVybiBbcmV0MSwgcmV0Ml07XG59XG5cbmxldCB0ZW1wX3U4X2VuY29kZTtcbmZ1bmN0aW9uIGVuY29kZVJMRVU4KGRhdGEpIHtcbiAgaWYgKCEoZGF0YSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpKSB7XG4gICAgcmV0dXJuICcnO1xuICB9XG4gIGlmICghdGVtcF91OF9lbmNvZGUgfHwgdGVtcF91OF9lbmNvZGUubGVuZ3RoIDwgZGF0YS5sZW5ndGggKiAyKSB7XG4gICAgdGVtcF91OF9lbmNvZGUgPSBuZXcgVWludDhBcnJheShkYXRhLmxlbmd0aCAqIDIpO1xuICB9XG4gIGxldCBvdXQgPSB0ZW1wX3U4X2VuY29kZTtcbiAgbGV0IGlkeCA9IDA7XG5cbiAgbGV0IHYgPSBkYXRhWzBdO1xuICBsZXQgc2l6ZSA9IGRhdGEubGVuZ3RoO1xuICBsZXQgYyA9IDA7XG4gIGZvciAobGV0IGlpID0gMTsgaWkgPCBzaXplOyArK2lpKSB7XG4gICAgaWYgKGRhdGFbaWldICE9PSB2IHx8IGMgPT09IDI1NSkge1xuICAgICAgb3V0W2lkeCsrXSA9IGM7XG4gICAgICBvdXRbaWR4KytdID0gdjtcbiAgICAgIGMgPSAwO1xuICAgICAgdiA9IGRhdGFbaWldO1xuICAgIH0gZWxzZSB7XG4gICAgICBjKys7XG4gICAgfVxuICB9XG4gIG91dFtpZHgrK10gPSBjO1xuICBvdXRbaWR4KytdID0gdjtcbiAgcmV0dXJuIG91dC5zbGljZSgwLCBpZHgpO1xufVxuXG5sZXQgdGVtcF91MTZfZW5jb2RlO1xuZnVuY3Rpb24gZW5jb2RlUkxFVTE2KGRhdGEpIHtcbiAgaWYgKCEoZGF0YSBpbnN0YW5jZW9mIFVpbnQxNkFycmF5KSkge1xuICAgIHJldHVybiAnJztcbiAgfVxuICBpZiAoIXRlbXBfdTE2X2VuY29kZSB8fCB0ZW1wX3UxNl9lbmNvZGUubGVuZ3RoIDwgZGF0YS5sZW5ndGggKiAyKSB7XG4gICAgdGVtcF91MTZfZW5jb2RlID0gbmV3IFVpbnQxNkFycmF5KGRhdGEubGVuZ3RoICogMik7XG4gIH1cbiAgbGV0IG91dCA9IHRlbXBfdTE2X2VuY29kZTtcbiAgbGV0IGlkeCA9IDA7XG5cbiAgbGV0IHYgPSBkYXRhWzBdO1xuICBsZXQgc2l6ZSA9IGRhdGEubGVuZ3RoO1xuICBsZXQgYyA9IDA7XG4gIGZvciAobGV0IGlpID0gMTsgaWkgPCBzaXplOyArK2lpKSB7XG4gICAgaWYgKGRhdGFbaWldICE9PSB2IHx8IGMgPT09IDY1NTM1KSB7XG4gICAgICBvdXRbaWR4KytdID0gYztcbiAgICAgIG91dFtpZHgrK10gPSB2O1xuICAgICAgYyA9IDA7XG4gICAgICB2ID0gZGF0YVtpaV07XG4gICAgfSBlbHNlIHtcbiAgICAgIGMrKztcbiAgICB9XG4gIH1cbiAgb3V0W2lkeCsrXSA9IGM7XG4gIG91dFtpZHgrK10gPSB2O1xuICByZXR1cm4gb3V0LnNsaWNlKDAsIGlkeCk7XG59XG5cbmZ1bmN0aW9uIGVuY29kZUh1ZmZtYW4oZGF0YSkge1xuICAvLyBCdWlsZCBlbmNvZGluZyB0YWJsZVxuICBsZXQgaGlzdG8gPSB7fTtcbiAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IGRhdGEubGVuZ3RoOyArK2lpKSB7XG4gICAgbGV0IHYgPSBkYXRhW2lpXTtcbiAgICBoaXN0b1t2XSA9IChoaXN0b1t2XSB8fCAwKSArIDE7XG4gIH1cbiAgbGV0IG5vZGVzID0gW107XG4gIGZvciAobGV0IGtleSBpbiBoaXN0bykge1xuICAgIGxldCB2ID0gTnVtYmVyKGtleSk7XG4gICAgbGV0IGNvdW50ID0gaGlzdG9ba2V5XTtcbiAgICBub2Rlcy5wdXNoKFtjb3VudCwgdl0pO1xuICB9XG4gIGZ1bmN0aW9uIGNoZWNrQ291bnQoKSB7XG4gICAgbGV0IGEgPSAwO1xuICAgIGZvciAobGV0IGlpID0gMDsgaWkgPCBub2Rlcy5sZW5ndGg7ICsraWkpIHtcbiAgICAgIGEgKz0gbm9kZXNbaWldWzBdO1xuICAgIH1cbiAgICBhc3NlcnQuZXF1YWwoYSwgZGF0YS5sZW5ndGgpO1xuICB9XG4gIGNoZWNrQ291bnQoKTtcbiAgd2hpbGUgKG5vZGVzLmxlbmd0aCA+IDEpIHtcbiAgICBsZXQgbG93ZXN0MSA9IDA7XG4gICAgbGV0IGxvd2VzdDIgPSAxO1xuICAgIGlmIChub2Rlc1swXVswXSA+IG5vZGVzWzFdWzBdKSB7XG4gICAgICBsb3dlc3QxID0gMTtcbiAgICAgIGxvd2VzdDIgPSAwO1xuICAgIH1cbiAgICBmb3IgKGxldCBpaSA9IDI7IGlpIDwgbm9kZXMubGVuZ3RoOyArK2lpKSB7XG4gICAgICBpZiAobm9kZXNbaWldWzBdIDwgbm9kZXNbbG93ZXN0Ml1bMF0pIHtcbiAgICAgICAgaWYgKG5vZGVzW2lpXVswXSA8IG5vZGVzW2xvd2VzdDFdWzBdKSB7XG4gICAgICAgICAgbG93ZXN0MiA9IGxvd2VzdDE7XG4gICAgICAgICAgbG93ZXN0MSA9IGlpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGxvd2VzdDIgPSBpaTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBhc3NlcnQobG93ZXN0MSAhPT0gbG93ZXN0Mik7XG4gICAgbGV0IG4xID0gbm9kZXNbbG93ZXN0MV07XG4gICAgbGV0IG4yID0gbm9kZXNbbG93ZXN0Ml07XG4gICAgbGV0IG5ld25vZGUgPSBbbjFbMF0gKyBuMlswXSwgW24xWzFdLCBuMlsxXV1dO1xuICAgIGlmIChsb3dlc3QxID09PSBub2Rlcy5sZW5ndGggLSAxKSB7XG4gICAgICBub2Rlcy5wb3AoKTtcbiAgICAgIHJpZHgobm9kZXMsIGxvd2VzdDIpO1xuICAgIH0gZWxzZSBpZiAobG93ZXN0MiA9PT0gbm9kZXMubGVuZ3RoIC0gMSkge1xuICAgICAgbm9kZXMucG9wKCk7XG4gICAgICByaWR4KG5vZGVzLCBsb3dlc3QxKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmlkeChub2RlcywgbG93ZXN0MSk7XG4gICAgICByaWR4KG5vZGVzLCBsb3dlc3QyKTtcbiAgICB9XG4gICAgbm9kZXMucHVzaChuZXdub2RlKTtcbiAgICBjaGVja0NvdW50KCk7XG4gIH1cbiAgbGV0IGVuY29kaW5nID0gW107XG4gIC8vIE5vdGU6IGN1cnJlbnQgZGF0YSB3cml0dGVuIHRvIGVuY19wYWsgaXMgbm90IGNvaGVyZW50LCB3ZSdkIG5lZWQgdG8gZmlyc3RcbiAgLy8gc29ydCBub2RlcyBieSB0aGVpciB2YWx1ZXMgc28gYSB2YWx1ZXMgbG93ZXIgdGhhbiB0aGUgY3VycmVudCBub2RlX2lkeFxuICAvLyBpcyBuZXZlciB3cml0dGVuXG4gIGxldCBlbmNfcGFrID0gcGFja2V0Q3JlYXRlKDApO1xuICBsZXQgbm9kZV9pZHggPSAwO1xuICBmdW5jdGlvbiB3YWxrKG5vZGUsIHByZWZpeCwgbnVtYml0cykge1xuICAgIGlmIChBcnJheS5pc0FycmF5KG5vZGUpKSB7XG4gICAgICBwcmVmaXggPDw9IDE7XG4gICAgICBsZXQgbGVmdF9pZHggPSB3YWxrKG5vZGVbMF0sIHByZWZpeCwgbnVtYml0cysxKTtcbiAgICAgIGxldCByaWdodF9pZHggPSB3YWxrKG5vZGVbMV0sIHByZWZpeCB8IDEsIG51bWJpdHMrMSk7XG4gICAgICBlbmNfcGFrLndyaXRlSW50KGxlZnRfaWR4KTtcbiAgICAgIGVuY19wYWsud3JpdGVJbnQocmlnaHRfaWR4KTtcbiAgICB9IGVsc2Uge1xuICAgICAgZW5jb2Rpbmdbbm9kZV0gPSBbcHJlZml4LCBudW1iaXRzXTtcbiAgICAgIGVuY19wYWsud3JpdGVJbnQobm9kZSk7XG4gICAgfVxuICAgIHJldHVybiBub2RlX2lkeCsrO1xuICB9XG4gIHdhbGsobm9kZXNbMF1bMV0sIDAsIDApO1xuXG4gIGxldCBidWYgPSBuZXcgQml0QnVmZmVyKCk7XG5cbiAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IGRhdGEubGVuZ3RoOyArK2lpKSB7XG4gICAgbGV0IHYgPSBkYXRhW2lpXTtcbiAgICBsZXQgZW5jID0gZW5jb2Rpbmdbdl07XG4gICAgYXNzZXJ0KGVuYyk7XG4gICAgYnVmLndyaXRlQml0cyhlbmNbMV0sIGVuY1swXSk7XG4gIH1cblxuICBlbmNfcGFrLm1ha2VSZWFkYWJsZSgpO1xuICBsZXQgcmV0X2xlbiA9IGVuY19wYWsuZ2V0QnVmZmVyTGVuKCk7XG4gIGxldCByZXQxID0gZW5jX3Bhay5nZXRCdWZmZXIoKS5zbGljZSgwLCByZXRfbGVuKTtcbiAgZW5jX3Bhay5wb29sKCk7XG4gIHJldHVybiBbYnVmLmZsdXNoKCksIHJldDFdO1xufVxuXG5mdW5jdGlvbiBlbmNvZGVXcmFwKGZuKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoZGF0YSkge1xuICAgIGxldCBwYWsgPSBwYWNrZXRDcmVhdGUoMCk7XG4gICAgZm4ocGFrLCBkYXRhKTtcbiAgICBwYWsubWFrZVJlYWRhYmxlKCk7XG4gICAgbGV0IHJldF9sZW4gPSBwYWsuZ2V0QnVmZmVyTGVuKCk7XG4gICAgbGV0IHJldCA9IHBhay5nZXRCdWZmZXIoKS5zbGljZSgwLCByZXRfbGVuKTtcbiAgICBwYWsucG9vbCgpO1xuICAgIHJldHVybiByZXQ7XG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb250aW5lbnRTZXJpYWxpemVUZXN0KGNkYXRhKSB7XG4gIFtcbiAgICAnZWxldicsICAgICAgICAvLyBVMTZcbiAgICAnd2F0ZXJfbGV2ZWwnLCAvLyBVMTZcbiAgICAnaHVtaWRpdHknLCAgICAvLyBVOFxuICAgICdyaXZlcicsICAgICAgIC8vIFU4XG4gICAgJ2NsYXNzaWYnLCAgICAgLy8gVThcbiAgXS5mb3JFYWNoKGZ1bmN0aW9uIChmaWVsZCkge1xuICAgIGxldCBkYXRhID0gY2RhdGFbZmllbGRdO1xuICAgIGNvbnNvbGUubG9nKGAke2ZpZWxkfTpgKTtcbiAgICBmdW5jdGlvbiB0ZXN0KG5hbWUsIGZuKSB7XG4gICAgICBsZXQgYnVmID0gZm4oZGF0YSk7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShidWYpKSB7XG4gICAgICAgIGxldCBiMCA9IGJ1ZlswXS5idWZmZXIuYnl0ZUxlbmd0aDtcbiAgICAgICAgbGV0IGIxID0gYnVmWzFdLmJ1ZmZlci5ieXRlTGVuZ3RoO1xuICAgICAgICBjb25zb2xlLmxvZyhgICAke25hbWV9OiAke2IwICsgYjF9ICgke2IwfSArICR7YjF9KWApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS5sb2coYCAgJHtuYW1lfTogJHtidWYuYnVmZmVyLmJ5dGVMZW5ndGh9YCk7XG4gICAgICB9XG4gICAgfVxuICAgIHRlc3QoJ3JhdycsICgpID0+IG5ldyBVaW50OEFycmF5KGRhdGEuYnVmZmVyKSk7XG4gICAgdGVzdCgnUkxFUGFrSW50JywgZW5jb2RlV3JhcChlbmNvZGVSTEVQYWtJbnQpKTtcbiAgICB0ZXN0KCdSTEVaZXJvZXMnLCBlbmNvZGVXcmFwKGVuY29kZVJMRVplcm9lcykpO1xuICAgIHRlc3QoJ1JMRURpY3QnLCBlbmNvZGVXcmFwKGVuY29kZVJMRURpY3QpKTtcbiAgICB0ZXN0KCdSTEVVOC8xNicsIChkYXRhIGluc3RhbmNlb2YgVWludDhBcnJheSkgPyBlbmNvZGVSTEVVOCA6IGVuY29kZVJMRVUxNik7XG4gICAgdGVzdCgnRGVsdGFQYWtJbnQnLCBlbmNvZGVXcmFwKGVuY29kZURlbHRhUGFrSW50KSk7XG4gICAgaWYgKGZpZWxkID09PSAncml2ZXInKSB7XG4gICAgICB0ZXN0KCdSTEVVNicsIGVuY29kZVJMRVV4LmJpbmQobnVsbCwgNikpO1xuICAgIH1cbiAgICBpZiAoZmllbGQgPT09ICdjbGFzc2lmJykge1xuICAgICAgdGVzdCgnUkxFVTMnLCBlbmNvZGVXcmFwKGVuY29kZVJMRVUzKSk7XG4gICAgICB0ZXN0KCdSTEVVeCgyKScsIGVuY29kZVJMRVV4LmJpbmQobnVsbCwgMikpO1xuICAgICAgdGVzdCgnUkxFVTInLCBlbmNvZGVXcmFwKGVuY29kZVJMRVUyKSk7XG4gICAgfVxuICAgIHRlc3QoJ0h1ZmZtYW4nLCBlbmNvZGVIdWZmbWFuKTtcbiAgICB0ZXN0KCdIdWZmbWFuKERlbHRhUGFrSW50KScsKCkgPT4gZW5jb2RlSHVmZm1hbihlbmNvZGVXcmFwKGVuY29kZURlbHRhUGFrSW50KShkYXRhKSkpO1xuXG4gICAgLy8gQ2hhaW5pbmcgZGlkIG5vdGhpbmcgZ29vZDpcbiAgICAvLyB0ZXN0KCdybGVQYWtJbnQoZGVsdGFQYWtJbnQpJywgKCkgPT4gZW5jb2RlV3JhcChlbmNvZGVQYWtJbnQpKGVuY29kZVdyYXAoZW5jb2RlRGVsdGFQYWtJbnQpKGRhdGEpKSk7XG4gICAgLy8gdGVzdCgnZW5jb2RlUkxFRGljdChkZWx0YVBha0ludCknLCAoKSA9PiBlbmNvZGVXcmFwKGVuY29kZVJMRURpY3QpKGVuY29kZVdyYXAoZW5jb2RlRGVsdGFQYWtJbnQpKGRhdGEpKSk7XG4gIH0pO1xufVxuIiwiLy8gUG9ydGlvbnMgQ29weXJpZ2h0IDIwMTkgSmltYiBFc3NlciAoaHR0cHM6Ly9naXRodWIuY29tL0ppbWJseS8pXG4vLyBSZWxlYXNlZCB1bmRlciBNSVQgTGljZW5zZTogaHR0cHM6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9NSVRcblxuLy8gVGhpbmdzIHRoYXQgc2hvdWxkIGJlIGRvbmUgYmVmb3JlIHJlcXVpcmluZyBvciBydW5uaW5nIGFueSB1c2VyLWxldmVsIGNvZGUgb3Igb3RoZXIgZW5naW5lIGNvZGVcblxucmVxdWlyZSgnLi9wb2x5ZmlsbC5qcycpO1xuXG5sZXQgZGVidWcgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGVidWcnKTtcbndpbmRvdy5vbmVycm9yID0gZnVuY3Rpb24gKGUsIGZpbGUsIGxpbmUsIGNvbCwgZXJyb3JvYmopIHtcbiAgbGV0IG1zZyA9IGAke2V9XFxuICBhdCAke2ZpbGV9KCR7bGluZX06JHtjb2x9KWA7XG4gIGlmIChlcnJvcm9iaiAmJiBlcnJvcm9iai5zdGFjaykge1xuICAgIG1zZyA9IGAke2Vycm9yb2JqLnN0YWNrfWA7XG4gICAgaWYgKGVycm9yb2JqLm1lc3NhZ2UpIHtcbiAgICAgIGlmIChtc2cuaW5kZXhPZihlcnJvcm9iai5tZXNzYWdlKSA9PT0gLTEpIHtcbiAgICAgICAgbXNnID0gYCR7ZXJyb3JvYmoubWVzc2FnZX1cXG4ke21zZ31gO1xuICAgICAgfVxuICAgIH1cbiAgICBsZXQgb3JpZ2luID0gZG9jdW1lbnQubG9jYXRpb24ub3JpZ2luIHx8ICcnO1xuICAgIGlmIChvcmlnaW4pIHtcbiAgICAgIGlmIChvcmlnaW4uc2xpY2UoLTEpICE9PSAnLycpIHtcbiAgICAgICAgb3JpZ2luICs9ICcvJztcbiAgICAgIH1cbiAgICAgIG1zZyA9IG1zZy5zcGxpdChvcmlnaW4pLmpvaW4oJycpOyAvLyByZXBsYWNlXG4gICAgfVxuICAgIC8vIGZpeHVwIHdlaXJkIEZpcmVmb3ggd2VpcmRuZXNzXG4gICAgbXNnID0gbXNnLnJlcGxhY2UoL1xcW1xcZCtcXF08L2csICcnKSAvLyByZW1vdmUgZnVubnkgWzEyM10gYXQgc3RhcnQgb2Ygc3RhY2sgbGluZXNcbiAgICAgIC5yZXBsYWNlKC88P1xcLzw/L2csICcvJykgLy8gcmVtb3ZlIGZ1bm55IDxzLCB0aGV5IG1lc3MgdXAgcGVvcGxlJ3MgY29weSBhbmQgcGFzdGVcbiAgICAgIC5yZXBsYWNlKC9cXG4oW14gXSkvZywgJ1xcbiAgJDEnKTsgLy8gYWRkIGluZGVudGF0aW9uIGlmIG1pc3NpbmdcbiAgfVxuICBsZXQgc2hvdyA9IHRydWU7XG4gIGlmICh3aW5kb3cuZ2xvdl9lcnJvcl9yZXBvcnQpIHtcbiAgICBzaG93ID0gd2luZG93Lmdsb3ZfZXJyb3JfcmVwb3J0KG1zZywgZmlsZSwgbGluZSwgY29sKTtcbiAgfVxuICBpZiAoc2hvdykge1xuICAgIGRlYnVnLmlubmVyVGV4dCA9IGAke21zZ31cXG5cXG5QbGVhc2UgcmVwb3J0IHRoaXMgZXJyb3IgdG8gdGhlIGRldmVsb3BlciwgYW5kIHRoZW4gcmVsb2FkIHRoaXMgcGFnZS5gO1xuICB9XG59O1xud2luZG93LmRlYnVnbXNnID0gZnVuY3Rpb24gKG1zZywgY2xlYXIpIHtcbiAgaWYgKGNsZWFyKSB7XG4gICAgZGVidWcuaW5uZXJUZXh0ID0gbXNnO1xuICB9IGVsc2Uge1xuICAgIGRlYnVnLmlubmVyVGV4dCArPSBgJHttc2d9XFxuYDtcbiAgfVxufTtcbiIsIi8vIFBvcnRpb25zIENvcHlyaWdodCAyMDE5IEppbWIgRXNzZXIgKGh0dHBzOi8vZ2l0aHViLmNvbS9KaW1ibHkvKVxuLy8gUmVsZWFzZWQgdW5kZXIgTUlUIExpY2Vuc2U6IGh0dHBzOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvTUlUXG4vKiBlc2xpbnQgbm8tc2hhZG93Om9mZiAqL1xuXG5jb25zdCBlbmdpbmUgPSByZXF1aXJlKCcuL2VuZ2luZS5qcycpO1xuXG5jb25zdCB7IHJvdW5kIH0gPSBNYXRoO1xuXG5jb25zdCBzYWZlYXJlYV9wYWQgPSBuZXcgRmxvYXQzMkFycmF5KDQpOyAvLyBsZWZ0LCByaWdodCwgdG9wLCBib3R0b21cbi8vIDA6IHgwX3JlYWxcbi8vIDE6IHkwX3JlYWxcbi8vIDI6IHgxX3JlYWxcbi8vIDM6IHkxX3JlYWxcbi8vIDQ6IHhfc2NhbGVcbi8vIDU6IHlfc2NhbGVcbi8vIDY6IGNzc190b19yZWFsXG4vLyA3OiBpbnZlcnNlIHZpZXdwb3J0IHhfc2NhbGVcbi8vIDg6IGludmVyc2Ugdmlld3BvcnQgeV9zY2FsZVxuLy8gOTogeDBcbi8vIDEwOiB5MFxuLy8gMTE6IHgxXG4vLyAxMjogeTFcbmV4cG9ydCBjb25zdCBkYXRhID0gbmV3IEZsb2F0MzJBcnJheSgxMyk7XG5cbmxldCBzY3JlZW5fd2lkdGg7XG5sZXQgc2NyZWVuX2hlaWdodDtcbi8vIE5vdGU6IHJlbmRlcl8qIG5vdCB1c2VkIGJ5IEZSVlIgYXQgdGhpcyB0aW1lXG5sZXQgcmVuZGVyX3dpZHRoO1xubGV0IHJlbmRlcl9oZWlnaHQ7XG5leHBvcnQgbGV0IHJlbmRlcl92aWV3cG9ydF93O1xuZXhwb3J0IGxldCByZW5kZXJfdmlld3BvcnRfaDtcbmV4cG9ydCBsZXQgcmVuZGVyX29mZnNldF94O1xubGV0IHJlbmRlcl9vZmZzZXRfeV90b3A7XG5leHBvcnQgbGV0IHJlbmRlcl9vZmZzZXRfeV9ib3R0b207XG5cbmZ1bmN0aW9uIHJlYXBwbHkoKSB7XG4gIGlmIChyZW5kZXJfd2lkdGgpIHtcbiAgICBkYXRhWzRdID0gcmVuZGVyX3dpZHRoIC8gKGRhdGFbMl0gLSBkYXRhWzBdKTtcbiAgICBkYXRhWzVdID0gcmVuZGVyX2hlaWdodCAvIChkYXRhWzNdIC0gZGF0YVsxXSk7XG4gICAgZGF0YVs3XSA9IChkYXRhWzJdIC0gZGF0YVswXSkgLyByZW5kZXJfdmlld3BvcnRfdztcbiAgICBkYXRhWzhdID0gKGRhdGFbM10gLSBkYXRhWzFdKSAvIHJlbmRlcl92aWV3cG9ydF9oO1xuICB9IGVsc2Uge1xuICAgIGRhdGFbNF0gPSBzY3JlZW5fd2lkdGggLyAoZGF0YVsyXSAtIGRhdGFbMF0pO1xuICAgIGRhdGFbNV0gPSBzY3JlZW5faGVpZ2h0IC8gKGRhdGFbM10gLSBkYXRhWzFdKTtcbiAgfVxufVxuXG4vLyBUbyBnZXQgdG8gY29vcmRpbmF0ZXMgdXNlZCBieSBPcGVuR0wgLyBjYW52YXNcbmV4cG9ydCBmdW5jdGlvbiB2aXJ0dWFsVG9DYW52YXMoZHN0LCBzcmMpIHtcbiAgZHN0WzBdID0gKHNyY1swXSAtIGRhdGFbMF0pICogZGF0YVs0XTtcbiAgZHN0WzFdID0gKHNyY1sxXSAtIGRhdGFbMV0pICogZGF0YVs1XTtcbn1cblxuLy8gU2V0cyB0aGUgMkQgXCJjYW1lcmFcIiB1c2VkIHRvIHRyYW5zbGF0ZSBzcHJpdGUgcG9zaXRpb25zIHRvIHNjcmVlbiBzcGFjZS4gIEFmZmVjdHMgc3ByaXRlcyBxdWV1ZWRcbi8vICBhZnRlciB0aGlzIGNhbGxcbmV4cG9ydCBmdW5jdGlvbiBzZXQoeDAsIHkwLCB4MSwgeTEsIGlnbm9yZV9zYWZlX2FyZWEpIHtcbiAgaWYgKGlnbm9yZV9zYWZlX2FyZWEgfHwgcmVuZGVyX3dpZHRoKSB7XG4gICAgZGF0YVs5XSA9IGRhdGFbMF0gPSB4MDtcbiAgICBkYXRhWzEwXSA9IGRhdGFbMV0gPSB5MDtcbiAgICBkYXRhWzExXSA9IGRhdGFbMl0gPSB4MTtcbiAgICBkYXRhWzEyXSA9IGRhdGFbM10gPSB5MTtcbiAgfSBlbHNlIHtcbiAgICBkYXRhWzldID0geDA7XG4gICAgZGF0YVsxMF0gPSB5MDtcbiAgICBkYXRhWzExXSA9IHgxO1xuICAgIGRhdGFbMTJdID0geTE7XG4gICAgbGV0IHdzY2FsZSA9ICh4MSAtIHgwKSAvIChzY3JlZW5fd2lkdGggLSBzYWZlYXJlYV9wYWRbMF0gLSBzYWZlYXJlYV9wYWRbMV0pO1xuICAgIGxldCBoc2NhbGUgPSAoeTEgLSB5MCkgLyAoc2NyZWVuX2hlaWdodCAtIHNhZmVhcmVhX3BhZFsyXSAtIHNhZmVhcmVhX3BhZFszXSk7XG4gICAgZGF0YVswXSA9IHgwIC0gc2FmZWFyZWFfcGFkWzBdICogd3NjYWxlO1xuICAgIGRhdGFbMV0gPSB5MCAtIHNhZmVhcmVhX3BhZFsyXSAqIGhzY2FsZTtcbiAgICBkYXRhWzJdID0geDEgKyBzYWZlYXJlYV9wYWRbMV0gKiB3c2NhbGU7XG4gICAgZGF0YVszXSA9IHkxICsgc2FmZWFyZWFfcGFkWzNdICogaHNjYWxlO1xuICB9XG5cbiAgcmVhcHBseSgpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2V0U2FmZUFyZWFQYWRkaW5nKGxlZnQsIHJpZ2h0LCB0b3AsIGJvdHRvbSkge1xuICBzYWZlYXJlYV9wYWRbMF0gPSByb3VuZChsZWZ0KTtcbiAgc2FmZWFyZWFfcGFkWzFdID0gcm91bmQocmlnaHQpO1xuICBzYWZlYXJlYV9wYWRbMl0gPSByb3VuZCh0b3ApO1xuICBzYWZlYXJlYV9wYWRbM10gPSByb3VuZChib3R0b20pO1xuICAvLyBDYWxsZWQgd2hpbGUgdXBkYXRpbmcgc2NyZWVuIHdpZHRoL2hlaWdodCwgcmVhcHBseSgpIHNob3VsZCBnZXQgY2FsbGVkIGxhdGVyXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzYWZlQXJlYVBhZGRpbmcoKSB7XG4gIHJldHVybiBzYWZlYXJlYV9wYWQ7XG59XG5cbmNvbnN0IHN0YWNrID0gW107XG5leHBvcnQgZnVuY3Rpb24gcHVzaCgpIHtcbiAgc3RhY2sucHVzaChkYXRhLnNsaWNlKDApKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBwb3AoKSB7XG4gIGxldCBvbGQgPSBzdGFjay5wb3AoKTtcbiAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IG9sZC5sZW5ndGg7ICsraWkpIHtcbiAgICBkYXRhW2lpXSA9IG9sZFtpaV07XG4gIH1cbiAgcmVhcHBseSgpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZG9tVG9DYW52YXNSYXRpbygpIHtcbiAgcmV0dXJuIGRhdGFbNl07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzY3JlZW5Bc3BlY3QoKSB7XG4gIHJldHVybiAoc2NyZWVuX3dpZHRoIC0gc2FmZWFyZWFfcGFkWzBdIC0gc2FmZWFyZWFfcGFkWzFdKSAvXG4gICAgKHNjcmVlbl9oZWlnaHQgLSBzYWZlYXJlYV9wYWRbMl0gLSBzYWZlYXJlYV9wYWRbM10pO1xufVxuXG4vLyBEcmF3aW5nIGFyZWEgMCwwLXcsaFxuLy8gQnV0IGtlZXAgdGhlIGFzcGVjdCByYXRpbyBvZiB0aG9zZSB0aGluZ3MgZHJhd24gdG8gYmUgY29ycmVjdFxuLy8gVGhpcyBtYXkgY3JlYXRlIGEgcGFkZGluZyBvciBtYXJnaW4gb24gZWl0aGVyIHRvcCBhbmQgYm90dG9tIG9yIHNpZGVzIG9mIHRoZSBzY3JlZW5cbi8vIFVzZXIgdXNlcnMgY29uc3RhbnQgdmFsdWVzIGluIHRoaXMgcmFuZ2UgZm9yIGNvbnNpc3RlbnQgVUkgb24gYWxsIGRldmljZXNcbmV4cG9ydCBmdW5jdGlvbiBzZXRBc3BlY3RGaXhlZCh3LCBoKSB7XG4gIGxldCBwYSA9IHJlbmRlcl93aWR0aCA/IDEgOiBlbmdpbmUucGl4ZWxfYXNwZWN0O1xuICBsZXQgaW52X2FzcGVjdCA9IGggLyBwYSAvIHc7XG4gIGxldCBpbnZfZGVzaXJlZF9hc3BlY3Q7XG4gIGlmIChyZW5kZXJfd2lkdGgpIHtcbiAgICBpbnZfZGVzaXJlZF9hc3BlY3QgPSByZW5kZXJfaGVpZ2h0IC8gcmVuZGVyX3dpZHRoO1xuICB9IGVsc2Uge1xuICAgIGludl9kZXNpcmVkX2FzcGVjdCA9IDEgLyBzY3JlZW5Bc3BlY3QoKTtcbiAgfVxuICBpZiAoaW52X2FzcGVjdCA+IGludl9kZXNpcmVkX2FzcGVjdCkge1xuICAgIGxldCBtYXJnaW4gPSAoaCAvIHBhIC8gaW52X2Rlc2lyZWRfYXNwZWN0IC0gdykgLyAyO1xuICAgIHNldCgtbWFyZ2luLCAwLCB3ICsgbWFyZ2luLCBoLCBmYWxzZSk7XG4gIH0gZWxzZSB7XG4gICAgbGV0IG1hcmdpbiA9ICh3ICogcGEgKiBpbnZfZGVzaXJlZF9hc3BlY3QgLSBoKSAvIDI7XG4gICAgc2V0KDAsIC1tYXJnaW4sIHcsIGggKyBtYXJnaW4sIGZhbHNlKTtcbiAgfVxufVxuXG4vLyBQcmltYXJ5IGRyYXdpbmcgYXJlYSBhdCBsZWFzdCBXIHggSFxuLy8gQnV0IGtlZXAgdGhlIGFzcGVjdCByYXRpbyBvZiB0aG9zZSB0aGluZ3MgZHJhd24gdG8gYmUgY29ycmVjdFxuLy8gU2ltaWxhciB0byBzZXRBc3BlY3RGaXhlZCgpIGJ1dCBrZWVwcyAoMCwwKSBpbiB0aGUgdXBwZXIgbGVmdCAoYWxsIHBhZGRpbmdcbi8vICAgaXMgYWRkZWQgdG8gcmlnaHQgYW5kIGJvdHRvbSlcbi8vIFJlcXVpcmVzIHVzZXJzIHRvIHVzZSBjYW1lcmEyZC53KCkvIGFuZCBjYW1lcmEyZC5oKCkgdG8gZGV0ZXJtaW5lIHJlYXNvbmFibGVcbi8vICAgVUkgcG9zaXRpb25pbmdcbmV4cG9ydCBmdW5jdGlvbiBzZXRBc3BlY3RGaXhlZDIodywgaCkge1xuICBsZXQgcGEgPSByZW5kZXJfd2lkdGggPyAxIDogZW5naW5lLnBpeGVsX2FzcGVjdDtcbiAgbGV0IGludl9hc3BlY3QgPSBoIC8gcGEgLyB3O1xuICBsZXQgaW52X2Rlc2lyZWRfYXNwZWN0O1xuICBpZiAocmVuZGVyX3dpZHRoKSB7XG4gICAgaW52X2Rlc2lyZWRfYXNwZWN0ID0gcmVuZGVyX2hlaWdodCAvIHJlbmRlcl93aWR0aDtcbiAgfSBlbHNlIHtcbiAgICBpbnZfZGVzaXJlZF9hc3BlY3QgPSAxIC8gc2NyZWVuQXNwZWN0KCk7XG4gIH1cbiAgaWYgKGludl9hc3BlY3QgPiBpbnZfZGVzaXJlZF9hc3BlY3QpIHtcbiAgICBsZXQgbWFyZ2luID0gKGggLyBwYSAvIGludl9kZXNpcmVkX2FzcGVjdCAtIHcpO1xuICAgIHNldCgwLCAwLCB3ICsgbWFyZ2luLCBoLCBmYWxzZSk7XG4gIH0gZWxzZSB7XG4gICAgbGV0IG1hcmdpbiA9ICh3ICogcGEgKiBpbnZfZGVzaXJlZF9hc3BlY3QgLSBoKTtcbiAgICBzZXQoMCwgMCwgdywgaCArIG1hcmdpbiwgZmFsc2UpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB6b29tKHgsIHksIGZhY3Rvcikge1xuICBsZXQgaW52X2ZhY3RvciA9IDEuMCAvIGZhY3RvcjtcbiAgc2V0KFxuICAgIHggLSAoeCAtIGRhdGFbMF0pICogaW52X2ZhY3RvcixcbiAgICB5IC0gKHkgLSBkYXRhWzFdKSAqIGludl9mYWN0b3IsXG4gICAgeCArIChkYXRhWzJdIC0geCkgKiBpbnZfZmFjdG9yLFxuICAgIHkgKyAoZGF0YVszXSAtIHkpICogaW52X2ZhY3RvciwgdHJ1ZSk7XG59XG5cbi8vIHJldHVybnMgW3gwLHkwLHgxLHkxXSB0byB1c2UgYXMgcGFyYW1ldGVycyBzZXQoKSBzdWNoIHRoYXQgc3JjX3JlY3QgaW4gdGhlXG4vLyBjdXJyZW50IHZpZXcgaXMgbm93IGFkZHJlc3NhYmxlIGJ5IGRlc3RfcmVjdCAocHJlc3VtYWJseSBzb21ldGhpbmcgbGlrZVxuLy8gWzAsMCx2dyx2aF0pXG5leHBvcnQgZnVuY3Rpb24gY2FsY01hcChvdXQsIHNyY19yZWN0LCBkZXN0X3JlY3QpIHtcbiAgbGV0IGN1cl93ID0gZGF0YVsxMV0gLSBkYXRhWzldO1xuICBsZXQgY3VyX2ggPSBkYXRhWzEyXSAtIGRhdGFbMTBdO1xuICBsZXQgdngwID0gc3JjX3JlY3RbMF0gLyBjdXJfdztcbiAgbGV0IHZ5MCA9IHNyY19yZWN0WzFdIC8gY3VyX2g7XG4gIGxldCB2eDEgPSBzcmNfcmVjdFsyXSAvIGN1cl93O1xuICBsZXQgdnkxID0gc3JjX3JlY3RbM10gLyBjdXJfaDtcbiAgbGV0IHZ3ID0gdngxIC0gdngwO1xuICBsZXQgdmggPSB2eTEgLSB2eTA7XG4gIGxldCBkZXN0X3Z3ID0gZGVzdF9yZWN0WzJdIC0gZGVzdF9yZWN0WzBdO1xuICBsZXQgZGVzdF92aCA9IGRlc3RfcmVjdFszXSAtIGRlc3RfcmVjdFsxXTtcbiAgb3V0WzBdID0gZGVzdF9yZWN0WzBdIC0gZGVzdF92dyAvIHZ3ICogdngwO1xuICBvdXRbMV0gPSBkZXN0X3JlY3RbMV0gLSBkZXN0X3ZoIC8gdmggKiB2eTA7XG4gIG91dFsyXSA9IGRlc3RfcmVjdFsyXSArIGRlc3RfdncgLyB2dyAqICgxIC0gdngxKTtcbiAgb3V0WzNdID0gZGVzdF9yZWN0WzNdICsgZGVzdF92aCAvIHZoICogKDEgLSB2eTEpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2V0Tm9ybWFsaXplZCgpIHtcbiAgc2V0KDAsIDAsIDEsIDEsIHRydWUpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24geDBSZWFsKCkge1xuICByZXR1cm4gZGF0YVswXTtcbn1cbmV4cG9ydCBmdW5jdGlvbiB5MFJlYWwoKSB7XG4gIHJldHVybiBkYXRhWzFdO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHgxUmVhbCgpIHtcbiAgcmV0dXJuIGRhdGFbMl07XG59XG5leHBvcnQgZnVuY3Rpb24geTFSZWFsKCkge1xuICByZXR1cm4gZGF0YVszXTtcbn1cbmV4cG9ydCBmdW5jdGlvbiB3UmVhbCgpIHtcbiAgcmV0dXJuIGRhdGFbMl0gLSBkYXRhWzBdO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGhSZWFsKCkge1xuICByZXR1cm4gZGF0YVszXSAtIGRhdGFbMV07XG59XG5leHBvcnQgZnVuY3Rpb24geDAoKSB7XG4gIHJldHVybiBkYXRhWzldO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHkwKCkge1xuICByZXR1cm4gZGF0YVsxMF07XG59XG5leHBvcnQgZnVuY3Rpb24geDEoKSB7XG4gIHJldHVybiBkYXRhWzExXTtcbn1cbmV4cG9ydCBmdW5jdGlvbiB5MSgpIHtcbiAgcmV0dXJuIGRhdGFbMTJdO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHcoKSB7XG4gIHJldHVybiBkYXRhWzExXSAtIGRhdGFbOV07XG59XG5leHBvcnQgZnVuY3Rpb24gaCgpIHtcbiAgcmV0dXJuIGRhdGFbMTJdIC0gZGF0YVsxMF07XG59XG5leHBvcnQgZnVuY3Rpb24geFNjYWxlKCkge1xuICByZXR1cm4gZGF0YVs0XTtcbn1cbmV4cG9ydCBmdW5jdGlvbiB5U2NhbGUoKSB7XG4gIHJldHVybiBkYXRhWzVdO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaHRtbFBvcyh4LCB5KSB7XG4gIGlmIChyZW5kZXJfd2lkdGgpIHtcbiAgICByZXR1cm4gW1xuICAgICAgMTAwICogKCgoeCAtIGRhdGFbMF0pIC8gZGF0YVs3XSArIHJlbmRlcl9vZmZzZXRfeCkgLyBzY3JlZW5fd2lkdGgpLFxuICAgICAgMTAwICogKCgoeSAtIGRhdGFbMV0pIC8gZGF0YVs4XSArIHJlbmRlcl9vZmZzZXRfeV90b3ApIC8gc2NyZWVuX2hlaWdodCksXG4gICAgXTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gW1xuICAgICAgMTAwICogKHggLSBkYXRhWzBdKSAvIChkYXRhWzJdIC0gZGF0YVswXSksXG4gICAgICAxMDAgKiAoeSAtIGRhdGFbMV0pIC8gKGRhdGFbM10gLSBkYXRhWzFdKSxcbiAgICBdO1xuICB9XG59XG5leHBvcnQgZnVuY3Rpb24gaHRtbFNpemUodywgaCkge1xuICBpZiAocmVuZGVyX3dpZHRoKSB7XG4gICAgcmV0dXJuIFtcbiAgICAgIDEwMCAqIHcgLyBkYXRhWzddIC8gc2NyZWVuX3dpZHRoLFxuICAgICAgMTAwICogaCAvIGRhdGFbOF0gLyBzY3JlZW5faGVpZ2h0LFxuICAgIF07XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIFsxMDAgKiB3IC8gKGRhdGFbMl0gLSBkYXRhWzBdKSwgMTAwICogaCAvIChkYXRhWzNdIC0gZGF0YVsxXSldO1xuICB9XG59XG5cbmxldCBpbnB1dF9jbGlwcGluZztcbmV4cG9ydCBmdW5jdGlvbiBzZXRJbnB1dENsaXBwaW5nKHh5d2gpIHtcbiAgaW5wdXRfY2xpcHBpbmcgPSB4eXdoO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZG9tVG9WaXJ0dWFsKGRzdCwgc3JjKSB7XG4gIGxldCByZXQgPSB0cnVlO1xuICBpZiAoaW5wdXRfY2xpcHBpbmcpIHtcbiAgICBpZiAoc3JjWzBdIDwgaW5wdXRfY2xpcHBpbmdbMF0gfHwgc3JjWzBdID4gaW5wdXRfY2xpcHBpbmdbMF0gKyBpbnB1dF9jbGlwcGluZ1syXSB8fFxuICAgICAgc3JjWzFdIDwgaW5wdXRfY2xpcHBpbmdbMV0gfHwgc3JjWzFdID4gaW5wdXRfY2xpcHBpbmdbMV0gKyBpbnB1dF9jbGlwcGluZ1szXVxuICAgICkge1xuICAgICAgcmV0ID0gZmFsc2U7XG4gICAgfVxuICB9XG4gIGlmIChyZW5kZXJfd2lkdGgpIHtcbiAgICBkc3RbMF0gPSAoc3JjWzBdICogZGF0YVs2XSAtIHJlbmRlcl9vZmZzZXRfeCkgKiBkYXRhWzddICsgZGF0YVswXTtcbiAgICBkc3RbMV0gPSAoc3JjWzFdICogZGF0YVs2XSAtIHJlbmRlcl9vZmZzZXRfeV90b3ApICogZGF0YVs4XSArIGRhdGFbMV07XG4gIH0gZWxzZSB7XG4gICAgZHN0WzBdID0gc3JjWzBdICogZGF0YVs2XSAvIGRhdGFbNF0gKyBkYXRhWzBdO1xuICAgIGRzdFsxXSA9IHNyY1sxXSAqIGRhdGFbNl0gLyBkYXRhWzVdICsgZGF0YVsxXTtcbiAgfVxuICByZXR1cm4gcmV0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZG9tRGVsdGFUb1ZpcnR1YWwoZHN0LCBzcmMpIHtcbiAgaWYgKHJlbmRlcl93aWR0aCkge1xuICAgIGRzdFswXSA9IHNyY1swXSAqIGRhdGFbNl0gKiBkYXRhWzddO1xuICAgIGRzdFsxXSA9IHNyY1sxXSAqIGRhdGFbNl0gKiBkYXRhWzhdO1xuICB9IGVsc2Uge1xuICAgIGRzdFswXSA9IHNyY1swXSAqIGRhdGFbNl0gLyBkYXRhWzRdO1xuICAgIGRzdFsxXSA9IHNyY1sxXSAqIGRhdGFbNl0gLyBkYXRhWzVdO1xuICB9XG59XG5cbi8vIFRvIGdldCB0byBjb29yZGluYXRlcyB1c2VkIGJ5IG1vdXNlIGV2ZW50c1xuZXhwb3J0IGZ1bmN0aW9uIHZpcnR1YWxUb0RvbShkc3QsIHNyYykge1xuICBpZiAocmVuZGVyX3dpZHRoKSB7XG4gICAgZHN0WzBdID0gKHJlbmRlcl9vZmZzZXRfeCArIChzcmNbMF0gLSBkYXRhWzBdKSAvIGRhdGFbN10pIC8gZGF0YVs2XTtcbiAgICBkc3RbMV0gPSAocmVuZGVyX29mZnNldF95X3RvcCArIChzcmNbMV0gLSBkYXRhWzFdKSAvIGRhdGFbOF0pIC8gZGF0YVs2XTtcbiAgfSBlbHNlIHtcbiAgICBkc3RbMF0gPSAoc3JjWzBdIC0gZGF0YVswXSkgKiBkYXRhWzRdIC8gZGF0YVs2XTtcbiAgICBkc3RbMV0gPSAoc3JjWzFdIC0gZGF0YVsxXSkgKiBkYXRhWzVdIC8gZGF0YVs2XTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdmlydHVhbFRvRm9udFNpemUoaGVpZ2h0KSB7XG4gIGlmIChyZW5kZXJfd2lkdGgpIHtcbiAgICByZXR1cm4gaGVpZ2h0IC8gKGRhdGFbNl0gKiBkYXRhWzhdKSAqIDAuODQ7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGhlaWdodCAqIGRhdGFbNV0gLyBkYXRhWzZdICogMC44NDtcbiAgfVxufVxuXG4vLyBkc3Qvc3JjIGFyZSB4L3kvdy9oIG9iamVjdHMgKGUuZy4gZnJvbSBpbnB1dCBzeXN0ZW0pXG5leHBvcnQgZnVuY3Rpb24gdmlydHVhbFRvRG9tUG9zUGFyYW0oZHN0LCBzcmMpIHtcbiAgaWYgKHJlbmRlcl93aWR0aCkge1xuICAgIGRzdC54ID0gKHJlbmRlcl9vZmZzZXRfeCArIChzcmMueCAtIGRhdGFbMF0pIC8gZGF0YVs3XSkgLyBkYXRhWzZdO1xuICAgIGRzdC53ID0gc3JjLncgLyBkYXRhWzddIC8gZGF0YVs2XTtcbiAgICBkc3QueSA9IChyZW5kZXJfb2Zmc2V0X3lfdG9wICsgKHNyYy55IC0gZGF0YVsxXSkgLyBkYXRhWzhdKSAvIGRhdGFbNl07XG4gICAgZHN0LmggPSBzcmMuaCAvIGRhdGFbOF0gLyBkYXRhWzZdO1xuICB9IGVsc2Uge1xuICAgIGRzdC54ID0gKHNyYy54IC0gZGF0YVswXSkgKiBkYXRhWzRdIC8gZGF0YVs2XTtcbiAgICBkc3QudyA9IHNyYy53ICogZGF0YVs0XSAvIGRhdGFbNl07XG4gICAgZHN0LnkgPSAoc3JjLnkgLSBkYXRhWzFdKSAqIGRhdGFbNV0gLyBkYXRhWzZdO1xuICAgIGRzdC5oID0gc3JjLmggKiBkYXRhWzVdIC8gZGF0YVs2XTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdGlja0NhbWVyYTJEKCkge1xuICBkYXRhWzZdID0gd2luZG93LmRldmljZVBpeGVsUmF0aW8gfHwgMTsgLyogY3NzX3RvX3JlYWwgKi9cbiAgc2NyZWVuX3dpZHRoID0gZW5naW5lLndpZHRoO1xuICBzY3JlZW5faGVpZ2h0ID0gZW5naW5lLmhlaWdodDtcbiAgbGV0IHZpZXdwb3J0ID0gWzAsIDAsIHNjcmVlbl93aWR0aCwgc2NyZWVuX2hlaWdodF07XG4gIGlmIChlbmdpbmUucmVuZGVyX3dpZHRoKSB7IC8vIE5vdGU6IHJlbmRlcl8qIG5vdCB1c2VkIGJ5IEZSVlIgYXQgdGhpcyB0aW1lXG4gICAgcmVuZGVyX3dpZHRoID0gZW5naW5lLnJlbmRlcl93aWR0aDtcbiAgICByZW5kZXJfaGVpZ2h0ID0gZW5naW5lLnJlbmRlcl9oZWlnaHQ7XG4gICAgLy8gRmluZCBhbiBvZmZzZXQgc28gdGhpcyByZW5kZXJlZCB2aWV3cG9ydCBpcyBjZW50ZXJlZCB3aGlsZSBwcmVzZXJ2aW5nIGFzcGVjdCByYXRpbywganVzdCBsaWtlIHNldEFzcGVjdEZpeGVkXG4gICAgbGV0IHBhID0gZW5naW5lLnBpeGVsX2FzcGVjdDtcbiAgICBsZXQgaW52X2FzcGVjdCA9IHJlbmRlcl9oZWlnaHQgLyBwYSAvIHJlbmRlcl93aWR0aDtcbiAgICBsZXQgZWZmX3NjcmVlbl93aWR0aCA9IChzY3JlZW5fd2lkdGggLSBzYWZlYXJlYV9wYWRbMF0gLSBzYWZlYXJlYV9wYWRbMV0pO1xuICAgIGxldCBlZmZfc2NyZWVuX2hlaWdodCA9IChzY3JlZW5faGVpZ2h0IC0gc2FmZWFyZWFfcGFkWzJdIC0gc2FmZWFyZWFfcGFkWzNdKTtcbiAgICBsZXQgaW52X2Rlc2lyZWRfYXNwZWN0ID0gZWZmX3NjcmVlbl9oZWlnaHQgLyBlZmZfc2NyZWVuX3dpZHRoO1xuICAgIGlmIChpbnZfYXNwZWN0ID4gaW52X2Rlc2lyZWRfYXNwZWN0KSB7XG4gICAgICBsZXQgbWFyZ2luID0gKHJlbmRlcl9oZWlnaHQgLyBpbnZfZGVzaXJlZF9hc3BlY3QgLSByZW5kZXJfd2lkdGggKiBwYSkgLyAyICpcbiAgICAgICAgZWZmX3NjcmVlbl9oZWlnaHQgLyByZW5kZXJfaGVpZ2h0O1xuICAgICAgcmVuZGVyX29mZnNldF94ID0gc2FmZWFyZWFfcGFkWzBdICsgcm91bmQobWFyZ2luKTtcbiAgICAgIHJlbmRlcl9vZmZzZXRfeV90b3AgPSBzYWZlYXJlYV9wYWRbMl07XG4gICAgICByZW5kZXJfb2Zmc2V0X3lfYm90dG9tID0gc2FmZWFyZWFfcGFkWzNdO1xuICAgICAgcmVuZGVyX3ZpZXdwb3J0X3cgPSByb3VuZChlZmZfc2NyZWVuX3dpZHRoIC0gbWFyZ2luICogMik7XG4gICAgICByZW5kZXJfdmlld3BvcnRfaCA9IGVmZl9zY3JlZW5faGVpZ2h0O1xuICAgIH0gZWxzZSB7XG4gICAgICBsZXQgbWFyZ2luID0gKHJlbmRlcl93aWR0aCAqIGludl9kZXNpcmVkX2FzcGVjdCAtIHJlbmRlcl9oZWlnaHQgLyBwYSkgLyAyICpcbiAgICAgICAgZWZmX3NjcmVlbl93aWR0aCAvIHJlbmRlcl93aWR0aDtcbiAgICAgIHJlbmRlcl9vZmZzZXRfeCA9IHNhZmVhcmVhX3BhZFswXTtcbiAgICAgIHJlbmRlcl9vZmZzZXRfeV90b3AgPSBzYWZlYXJlYV9wYWRbMl0gKyByb3VuZChtYXJnaW4pO1xuICAgICAgcmVuZGVyX29mZnNldF95X2JvdHRvbSA9IHNhZmVhcmVhX3BhZFszXSArIHJvdW5kKG1hcmdpbik7XG4gICAgICByZW5kZXJfdmlld3BvcnRfdyA9IGVmZl9zY3JlZW5fd2lkdGg7XG4gICAgICByZW5kZXJfdmlld3BvcnRfaCA9IHJvdW5kKGVmZl9zY3JlZW5faGVpZ2h0IC0gbWFyZ2luICogMik7XG4gICAgfVxuICAgIHZpZXdwb3J0WzJdID0gcmVuZGVyX3dpZHRoO1xuICAgIHZpZXdwb3J0WzNdID0gcmVuZGVyX2hlaWdodDtcbiAgfSBlbHNlIHtcbiAgICByZW5kZXJfd2lkdGggPSByZW5kZXJfaGVpZ2h0ID0gMDtcbiAgICByZW5kZXJfb2Zmc2V0X3ggPSAwO1xuICAgIHJlbmRlcl9vZmZzZXRfeV90b3AgPSAwO1xuICAgIHJlbmRlcl9vZmZzZXRfeV9ib3R0b20gPSAwO1xuICB9XG5cbiAgcmVhcHBseSgpO1xuXG4gIC8vIGxldCBzY3JlZW5fd2lkdGggPSBlbmdpbmUud2lkdGg7XG4gIC8vIGxldCBzY3JlZW5faGVpZ2h0ID0gZW5naW5lLmhlaWdodDtcbiAgLy8gbGV0IHNjcmVlbl9hc3BlY3QgPSBzY3JlZW5fd2lkdGggLyBzY3JlZW5faGVpZ2h0O1xuICAvLyBsZXQgdmlld19hc3BlY3QgPSBnYW1lX3dpZHRoIC8gZ2FtZV9oZWlnaHQ7XG4gIC8vIGlmIChzY3JlZW5fYXNwZWN0ID4gdmlld19hc3BlY3QpIHtcbiAgLy8gICBsZXQgdmlld3BvcnRfd2lkdGggPSBnYW1lX2hlaWdodCAqIHNjcmVlbl9hc3BlY3Q7XG4gIC8vICAgbGV0IGhhbGZfZGlmZiA9ICh2aWV3cG9ydF93aWR0aCAtIGdhbWVfd2lkdGgpIC8gMjtcbiAgLy8gICB2aWV3cG9ydFJlY3RhbmdsZSA9IFstaGFsZl9kaWZmLCAwLCBnYW1lX3dpZHRoICsgaGFsZl9kaWZmLCBnYW1lX2hlaWdodF07XG4gIC8vIH0gZWxzZSB7XG4gIC8vICAgbGV0IHZpZXdwb3J0X2hlaWdodCA9IGdhbWVfd2lkdGggLyBzY3JlZW5fYXNwZWN0O1xuICAvLyAgIGxldCBoYWxmX2RpZmYgPSAodmlld3BvcnRfaGVpZ2h0IC0gZ2FtZV9oZWlnaHQpIC8gMjtcbiAgLy8gICB2aWV3cG9ydFJlY3RhbmdsZSA9IFswLCAtaGFsZl9kaWZmLCBnYW1lX3dpZHRoLCBnYW1lX2hlaWdodCArIGhhbGZfZGlmZl07XG4gIC8vIH1cblxuICBlbmdpbmUuc2V0Vmlld3BvcnQodmlld3BvcnQpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc3RhcnR1cCgpIHtcbiAgc2V0KDAsIDAsIGVuZ2luZS53aWR0aCwgZW5naW5lLmhlaWdodCk7XG4gIHRpY2tDYW1lcmEyRCgpO1xufVxuIiwiLy8gUG9ydGlvbnMgQ29weXJpZ2h0IDIwMTkgSmltYiBFc3NlciAoaHR0cHM6Ly9naXRodWIuY29tL0ppbWJseS8pXG4vLyBSZWxlYXNlZCB1bmRlciBNSVQgTGljZW5zZTogaHR0cHM6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9NSVRcblxuY29uc3QgY21kX3BhcnNlX21vZCA9IHJlcXVpcmUoJy4uLy4uL2NvbW1vbi9jbWRfcGFyc2UuanMnKTtcbmNvbnN0IGxvY2FsX3N0b3JhZ2UgPSByZXF1aXJlKCcuL2xvY2FsX3N0b3JhZ2UuanMnKTtcbmV4cG9ydCBsZXQgY21kX3BhcnNlID0gY21kX3BhcnNlX21vZC5jcmVhdGUoeyBzdG9yYWdlOiBsb2NhbF9zdG9yYWdlIH0pO1xuXG5jb25zdCBlbmdpbmUgPSByZXF1aXJlKCcuL2VuZ2luZS5qcycpO1xuY29uc3QgdGV4dHVyZXMgPSByZXF1aXJlKCcuL3RleHR1cmVzLmpzJyk7XG5jb25zdCB7IFBJLCByb3VuZCB9ID0gTWF0aDtcblxud2luZG93LmNtZCA9IGZ1bmN0aW9uIChzdHIpIHtcbiAgY21kX3BhcnNlLmhhbmRsZShudWxsLCBzdHIsIGNtZF9wYXJzZV9tb2QuZGVmYXVsdEhhbmRsZXIpO1xufTtcblxuY21kX3BhcnNlLnJlZ2lzdGVyVmFsdWUoJ2ZvdicsIHtcbiAgdHlwZTogY21kX3BhcnNlLlRZUEVfRkxPQVQsXG4gIGxhYmVsOiAnRk9WJyxcbiAgcmFuZ2U6IFsxLDE3OV0sXG4gIGdldDogKCkgPT4gcm91bmQoZW5naW5lLmZvdl9taW4gKiAxODAgLyBQSSksXG4gIHNldDogKHYpID0+IGVuZ2luZS5zZXRGT1YodiAqIFBJIC8gMTgwKSxcbiAgc3RvcmU6IHRydWUsXG59KTtcblxuZnVuY3Rpb24gYnl0ZUZvcm1hdChieXRlcykge1xuICBpZiAoYnl0ZXMgPiA4NTAwMDApIHtcbiAgICByZXR1cm4gYCR7KGJ5dGVzLygxMDI0KjEwMjQpKS50b0ZpeGVkKDIpfU1CYDtcbiAgfVxuICBpZiAoYnl0ZXMgPiA4NTApIHtcbiAgICByZXR1cm4gYCR7KGJ5dGVzLzEwMjQpLnRvRml4ZWQoMil9S0JgO1xuICB9XG4gIHJldHVybiBgJHtieXRlc31CYDtcbn1cblxuY21kX3BhcnNlLnJlZ2lzdGVyKHtcbiAgY21kOiAndGV4bWVtJyxcbiAgaGVscDogJ0Rpc3BsYXlzIHRleHR1cmUgbWVtb3J5IHVzYWdlJyxcbiAgZnVuYzogZnVuY3Rpb24gKHN0ciwgcmVzcF9mdW5jKSB7XG4gICAgbGV0IGtleXMgPSBPYmplY3Qua2V5cyh0ZXh0dXJlcy50ZXh0dXJlcyk7XG4gICAga2V5cyA9IGtleXMuZmlsdGVyKChhKSA9PiB0ZXh0dXJlcy50ZXh0dXJlc1thXS5ncHVfbWVtID4gMTAyNCk7XG4gICAga2V5cy5zb3J0KChhLCBiKSA9PiB0ZXh0dXJlcy50ZXh0dXJlc1thXS5ncHVfbWVtIC0gdGV4dHVyZXMudGV4dHVyZXNbYl0uZ3B1X21lbSk7XG4gICAgcmVzcF9mdW5jKG51bGwsIGtleXMubWFwKChhKSA9PiBgJHtieXRlRm9ybWF0KHRleHR1cmVzLnRleHR1cmVzW2FdLmdwdV9tZW0pfSAke2F9YCkuam9pbignXFxuJykpO1xuICB9XG59KTtcblxuY21kX3BhcnNlLnJlZ2lzdGVyKHtcbiAgY21kOiAnZ3B1bWVtJyxcbiAgaGVscDogJ0Rpc3BsYXlzIEdQVSBtZW1vcnkgdXNhZ2Ugc3VtbWFyeScsXG4gIGZ1bmM6IGZ1bmN0aW9uIChzdHIsIHJlc3BfZnVuYykge1xuICAgIGxldCB7IGdwdV9tZW0gfSA9IGVuZ2luZS5wZXJmX3N0YXRlO1xuICAgIHJlc3BfZnVuYyhudWxsLCBgJHtieXRlRm9ybWF0KGdwdV9tZW0uZ2VvbSl9IEdlb1xcbiR7Ynl0ZUZvcm1hdChncHVfbWVtLnRleCl9IFRleFxcbiR7XG4gICAgICBieXRlRm9ybWF0KGdwdV9tZW0uZ2VvbSArIGdwdV9tZW0udGV4KX0gVG90YWxgKTtcbiAgfVxufSk7XG5cbmNtZF9wYXJzZS5yZWdpc3Rlcih7XG4gIGNtZDogJ2QnLFxuICBoZWxwOiAnVG9nZ2xlcyBhIGRlYnVnIGRlZmluZScsXG4gIGZ1bmM6IGZ1bmN0aW9uIChzdHIsIHJlc3BfZnVuYykge1xuICAgIHN0ciA9IHN0ci50b1VwcGVyQ2FzZSgpO1xuICAgIGVuZ2luZS5kZWZpbmVzW3N0cl0gPSAhZW5naW5lLmRlZmluZXNbc3RyXTtcbiAgICByZXNwX2Z1bmMobnVsbCwgYEQ9JHtzdHJ9IG5vdyAke2VuZ2luZS5kZWZpbmVzW3N0cl0/J1NFVCc6J3Vuc2V0J31gKTtcbiAgICBlbmdpbmUuZGVmaW5lc0NoYW5nZWQoKTtcbiAgfVxufSk7XG5cbmNtZF9wYXJzZS5yZWdpc3Rlcih7XG4gIGNtZDogJ3JlbmRlcmVyJyxcbiAgaGVscDogJ0Rpc3BsYXlzIGN1cnJlbnQgcmVuZGVyZXInLFxuICBmdW5jOiBmdW5jdGlvbiAoc3RyLCByZXNwX2Z1bmMpIHtcbiAgICByZXNwX2Z1bmMobnVsbCwgYFJlbmRlcmVyPVdlYkdMJHtlbmdpbmUud2ViZ2wyPzI6MX1gKTtcbiAgfVxufSk7XG5cbmZ1bmN0aW9uIGNtZERlc2MoY21kX2RhdGEpIHtcbiAgcmV0dXJuIGAvJHtjbWRfZGF0YS5jbWR9IC0gJHtjbWRfZGF0YS5oZWxwfWA7XG59XG5cbmNtZF9wYXJzZS5yZWdpc3Rlcih7XG4gIGNtZDogJ2hlbHAnLFxuICBoZWxwOiAnU2VhcmNoZXMgY29tbWFuZHMnLFxuICBmdW5jOiBmdW5jdGlvbiAoc3RyLCByZXNwX2Z1bmMpIHtcbiAgICBsZXQgbGlzdCA9IGNtZF9wYXJzZS5hdXRvQ29tcGxldGUoJycsIHRoaXMgJiYgdGhpcy5hY2Nlc3MpO1xuICAgIGlmIChzdHIpIHtcbiAgICAgIGxldCBzdHJfY25hbWUgPSBjbWRfcGFyc2UuY2Fub25pY2FsKHN0cik7XG4gICAgICBsZXQgc3RyX2xjID0gc3RyLnRvTG93ZXJDYXNlKCk7XG4gICAgICBsaXN0ID0gbGlzdC5maWx0ZXIoKGNtZF9kYXRhKSA9PiBjbWRfZGF0YS5jbmFtZS5pbmRleE9mKHN0cl9jbmFtZSkgIT09IC0xIHx8XG4gICAgICAgICAgY21kX2RhdGEuaGVscC50b0xvd2VyQ2FzZSgpLmluZGV4T2Yoc3RyX2xjKSAhPT0gLTEpO1xuICAgIH1cbiAgICBpZiAoIWxpc3QubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gdm9pZCByZXNwX2Z1bmMobnVsbCwgYE5vIGNvbW1hbmRzIGZvdW5kIG1hdGNoaW5nIFwiJHtzdHJ9XCJgKTtcbiAgICB9XG4gICAgcmVzcF9mdW5jKG51bGwsIGxpc3QubWFwKGNtZERlc2MpLmpvaW4oJ1xcbicpKTtcbiAgfVxufSk7XG5cbmV4cG9ydCBsZXQgc2FmZWFyZWEgPSBbLTEsLTEsLTEsLTFdO1xuY21kX3BhcnNlLnJlZ2lzdGVyVmFsdWUoJ3NhZmVfYXJlYScsIHtcbiAgbGFiZWw6ICdTYWZlIEFyZWEnLFxuICB0eXBlOiBjbWRfcGFyc2UuVFlQRV9TVFJJTkcsXG4gIHVzYWdlOiAnU2FmZSBBcmVhIHZhbHVlOiBVc2UgLTEgZm9yIGF1dG8gYmFzZWQgb24gYnJvd3NlciBlbnZpcm9ubWVudCxcXG4nICtcbiAgICAnb3IgMC0yNSBmb3IgcGVyY2VudGFnZSBvZiBzY3JlZW4gc2l6ZVxcbicgK1xuICAgICcgIFVzYWdlOiAvc2FmZV9hcmVhIFt2YWx1ZV1cXG4nICtcbiAgICAnICBVc2FnZTogL3NhZmVfYXJlYSBob3Jpem9udGFsLHZlcnRpY2FsXFxuJyArXG4gICAgJyAgVXNhZ2U6IC9zYWZlX2FyZWEgbGVmdCxyaWdodCx0b3AsYm90dG9tJyxcbiAgZGVmYXVsdF92YWx1ZTogJy0xJyxcbiAgZ2V0OiAoKSA9PiAoc2FmZWFyZWFbMF0gPT09IC0xID8gJy0xIChhdXRvKScgOiBzYWZlYXJlYS5qb2luKCcsJykpLFxuICBzZXQ6ICh2KSA9PiB7XG4gICAgdiA9IFN0cmluZyh2KTtcbiAgICBsZXQga2V5cyA9IHYuc3BsaXQoJywnKTtcbiAgICBpZiAodiAmJiBrZXlzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgc2FmZWFyZWFbMF0gPSBzYWZlYXJlYVsxXSA9IHNhZmVhcmVhWzJdID0gc2FmZWFyZWFbM10gPSBOdW1iZXIodik7XG4gICAgfSBlbHNlIGlmIChrZXlzLmxlbmd0aCA9PT0gMikge1xuICAgICAgc2FmZWFyZWFbMF0gPSBzYWZlYXJlYVsxXSA9IE51bWJlcihrZXlzWzBdKTtcbiAgICAgIHNhZmVhcmVhWzJdID0gc2FmZWFyZWFbM10gPSBOdW1iZXIoa2V5c1sxXSk7XG4gICAgfSBlbHNlIGlmIChrZXlzLmxlbmd0aCA9PT0gNCkge1xuICAgICAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IDQ7ICsraWkpIHtcbiAgICAgICAgc2FmZWFyZWFbaWldID0gTnVtYmVyKGtleXNbaWldKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gZXJyb3IsIGlnbm9yZT9cbiAgICB9XG4gIH0sXG4gIHN0b3JlOiB0cnVlLFxufSk7XG5cbmNtZF9wYXJzZS5yZWdpc3Rlcih7XG4gIGNtZDogJ3dlYmdsMl9hdXRvJyxcbiAgaGVscDogJ1Jlc2V0cyBXZWJHTDIgYXV0by1kZXRlY3Rpb24nLFxuICBmdW5jOiBmdW5jdGlvbiAoc3RyLCByZXNwX2Z1bmMpIHtcbiAgICBsZXQgZGlzYWJsZV9kYXRhID0gbG9jYWxfc3RvcmFnZS5nZXRKU09OKCd3ZWJnbDJfZGlzYWJsZScpO1xuICAgIGlmICghZGlzYWJsZV9kYXRhKSB7XG4gICAgICByZXR1cm4gcmVzcF9mdW5jKG51bGwsICdXZWJHTDIgaXMgYWxyZWFkeSBiZWluZyBhdXRvLWRldGVjdGVkJyk7XG4gICAgfVxuICAgIGxvY2FsX3N0b3JhZ2Uuc2V0SlNPTignd2ViZ2wyX2Rpc2FibGUnLCB1bmRlZmluZWQpO1xuICAgIHJldHVybiByZXNwX2Z1bmMobnVsbCwgJ1dlYkdMMiB3YXMgZGlzYWJsZWQsIHdpbGwgYXR0ZW1wdCB0byB1c2UgaXQgYWdhaW4gb24gdGhlIG5leHQgbG9hZCcpO1xuICB9LFxufSk7XG5cbmNtZF9wYXJzZS5yZWdpc3RlclZhbHVlKCdwb3N0cHJvY2Vzc2luZycsIHtcbiAgbGFiZWw6ICdQb3N0cHJvY2Vzc2luZycsXG4gIHR5cGU6IGNtZF9wYXJzZS5UWVBFX0lOVCxcbiAgaGVscDogJ0VuYWJsZXMvZGlzYWJsZXMgcG9zdHByb2Nlc3NpbmcnLFxuICBnZXQ6ICgpID0+IChlbmdpbmUucG9zdHByb2Nlc3NpbmcgPyAxIDogMCksXG4gIHNldDogKHYpID0+IGVuZ2luZS5wb3N0cHJvY2Vzc2luZ0FsbG93KHYpLFxufSk7XG4iLCIvLyBQb3J0aW9ucyBDb3B5cmlnaHQgMjAxOSBKaW1iIEVzc2VyIChodHRwczovL2dpdGh1Yi5jb20vSmltYmx5Lylcbi8vIFJlbGVhc2VkIHVuZGVyIE1JVCBMaWNlbnNlOiBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVFxuXG5jb25zdCBjYW1lcmEyZCA9IHJlcXVpcmUoJy4vY2FtZXJhMmQuanMnKTtcbmNvbnN0IGVuZ2luZSA9IHJlcXVpcmUoJy4vZW5naW5lLmpzJyk7XG5jb25zdCBnbG92X2lucHV0ID0gcmVxdWlyZSgnLi9pbnB1dC5qcycpO1xuY29uc3QgZ2xvdl91aSA9IHJlcXVpcmUoJy4vdWkuanMnKTtcblxuY29uc3QgeyBmb2N1c2xvZyB9ID0gZ2xvdl91aTtcblxuY2xhc3MgR2xvdlVJRWRpdEJveCB7XG4gIGNvbnN0cnVjdG9yKHBhcmFtcykge1xuICAgIHRoaXMueCA9IDA7XG4gICAgdGhpcy55ID0gMDtcbiAgICB0aGlzLnogPSBaLlVJOyAvLyBhY3R1YWxseSBpbiBET00sIHNvIGFib3ZlIGV2ZXJ5dGhpbmchXG4gICAgdGhpcy53ID0gZ2xvdl91aS5idXR0b25fd2lkdGg7XG4gICAgdGhpcy50eXBlID0gJ3RleHQnO1xuICAgIHRoaXMuYWxsb3dfbW9kYWwgPSBmYWxzZTtcbiAgICAvLyB0aGlzLmggPSBnbG92X3VpLmJ1dHRvbl9oZWlnaHQ7XG4gICAgdGhpcy5mb250X2hlaWdodCA9IGdsb3ZfdWkuZm9udF9oZWlnaHQ7XG4gICAgdGhpcy50ZXh0ID0gJyc7XG4gICAgdGhpcy5wbGFjZWhvbGRlciA9ICcnO1xuICAgIHRoaXMubWF4X2xlbiA9IDA7XG4gICAgdGhpcy5pbml0aWFsX2ZvY3VzID0gZmFsc2U7XG4gICAgdGhpcy5vbmV0aW1lX2ZvY3VzID0gZmFsc2U7XG4gICAgdGhpcy5hdXRvX3VuZm9jdXMgPSBmYWxzZTtcbiAgICB0aGlzLmluaXRpYWxfc2VsZWN0ID0gZmFsc2U7XG4gICAgdGhpcy5zcGVsbGNoZWNrID0gdHJ1ZTtcbiAgICB0aGlzLmVzY19jbGVhcnMgPSB0cnVlO1xuICAgIHRoaXMuYXBwbHlQYXJhbXMocGFyYW1zKTtcblxuICAgIHRoaXMuaXNfZm9jdXNlZCA9IGZhbHNlO1xuICAgIHRoaXMuZWxlbSA9IG51bGw7XG4gICAgdGhpcy5pbnB1dCA9IG51bGw7XG4gICAgdGhpcy5zdWJtaXR0ZWQgPSBmYWxzZTtcbiAgICB0aGlzLnBvaW50ZXJfbG9jayA9IGZhbHNlO1xuICAgIHRoaXMubGFzdF9mcmFtZSA9IDA7XG4gIH1cbiAgYXBwbHlQYXJhbXMocGFyYW1zKSB7XG4gICAgaWYgKCFwYXJhbXMpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZm9yIChsZXQgZiBpbiBwYXJhbXMpIHtcbiAgICAgIHRoaXNbZl0gPSBwYXJhbXNbZl07XG4gICAgfVxuICB9XG4gIGdldFRleHQoKSB7XG4gICAgcmV0dXJuIHRoaXMudGV4dDtcbiAgfVxuICBzZXRUZXh0KG5ld190ZXh0KSB7XG4gICAgaWYgKHRoaXMuaW5wdXQpIHtcbiAgICAgIHRoaXMuaW5wdXQudmFsdWUgPSBuZXdfdGV4dDtcbiAgICB9XG4gICAgdGhpcy50ZXh0ID0gbmV3X3RleHQ7XG4gIH1cbiAgZm9jdXMoKSB7XG4gICAgaWYgKHRoaXMuaW5wdXQpIHtcbiAgICAgIHRoaXMuaW5wdXQuZm9jdXMoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5vbmV0aW1lX2ZvY3VzID0gdHJ1ZTtcbiAgICB9XG4gICAgZ2xvdl91aS5mb2N1c1N0ZWFsKHRoaXMpO1xuICAgIHRoaXMuaXNfZm9jdXNlZCA9IHRydWU7XG4gICAgaWYgKHRoaXMucG9pbnRlcl9sb2NrICYmIGdsb3ZfaW5wdXQucG9pbnRlckxvY2tlZCgpKSB7XG4gICAgICBnbG92X2lucHV0LnBvaW50ZXJMb2NrRXhpdCgpO1xuICAgIH1cbiAgfVxuICB1bmZvY3VzKCkge1xuICAgIGdsb3ZfdWkuZm9jdXNOZXh0KHRoaXMpO1xuICB9XG4gIGlzRm9jdXNlZCgpIHsgLy8gY2FsbCBhZnRlciAucnVuKClcbiAgICByZXR1cm4gdGhpcy5pc19mb2N1c2VkO1xuICB9XG5cbiAgdXBkYXRlRm9jdXMoKSB7XG4gICAgbGV0IHdhc19nbG92X2ZvY3VzZWQgPSB0aGlzLmlzX2ZvY3VzZWQ7XG4gICAgbGV0IGdsb3ZfZm9jdXNlZCA9IGdsb3ZfdWkuZm9jdXNDaGVjayh0aGlzKTtcbiAgICBsZXQgZG9tX2ZvY3VzZWQgPSB0aGlzLmlucHV0ICYmIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgPT09IHRoaXMuaW5wdXQ7XG4gICAgaWYgKHdhc19nbG92X2ZvY3VzZWQgIT09IGdsb3ZfZm9jdXNlZCkge1xuICAgICAgLy8gc29tZXRoaW5nIGV4dGVybmFsIChmcm9tIGNsaWNrcy9rZXlzIGluIEdMT1YpIGNoYW5nZWQsIGFwcGx5IGl0IGlmIGl0IGRvZXNuJ3QgbWF0Y2hcbiAgICAgIGlmIChnbG92X2ZvY3VzZWQgJiYgIWRvbV9mb2N1c2VkICYmIHRoaXMuaW5wdXQpIHtcbiAgICAgICAgZm9jdXNsb2coJ0dMT1YgZm9jdXNlZCwgRE9NIG5vdCwgZm9jdXNpbmcnLCB0aGlzKTtcbiAgICAgICAgdGhpcy5pbnB1dC5mb2N1cygpO1xuICAgICAgfVxuICAgICAgaWYgKCFnbG92X2ZvY3VzZWQgJiYgZG9tX2ZvY3VzZWQpIHtcbiAgICAgICAgZm9jdXNsb2coJ0RPTSBmb2N1c2VkLCBHTE9WIG5vdCwgYW5kIGNoYW5nZWQsIGJsdXJyaW5nJywgdGhpcyk7XG4gICAgICAgIHRoaXMuaW5wdXQuYmx1cigpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoZG9tX2ZvY3VzZWQgJiYgIWdsb3ZfZm9jdXNlZCkge1xuICAgICAgZm9jdXNsb2coJ0RPTSBmb2N1c2VkLCBHTE9WIG5vdCwgc3RlYWxpbmcnLCB0aGlzKTtcbiAgICAgIGdsb3ZfdWkuZm9jdXNTdGVhbCh0aGlzKTtcbiAgICAgIGdsb3ZfZm9jdXNlZCA9IHRydWU7XG4gICAgfSBlbHNlIGlmICghZG9tX2ZvY3VzZWQgJiYgZ2xvdl9mb2N1c2VkKSB7XG4gICAgICAvLyBMZWF2ZSBpdCBhbG9uZSwgaXQgbWF5IGJlIGEgYnJvd3NlciBwb3AtdXAgc3VjaCBhcyBmb3IgcGFzc3dvcmRzXG4gICAgfVxuICAgIGxldCBmb2N1c2VkID0gZ2xvdl9mb2N1c2VkO1xuXG4gICAgaWYgKGZvY3VzZWQpIHtcbiAgICAgIGxldCBrZXlfb3B0ID0gKHRoaXMucG9pbnRlcl9sb2NrICYmICF0aGlzLnRleHQpID8geyBpbl9ldmVudF9jYjogZ2xvdl9pbnB1dC5wb2ludGVyTG9ja0VudGVyIH0gOiBudWxsO1xuICAgICAgaWYgKGdsb3ZfaW5wdXQua2V5VXBFZGdlKGdsb3ZfaW5wdXQuS0VZUy5FU0MsIGtleV9vcHQpKSB7XG4gICAgICAgIGlmICh0aGlzLnRleHQgJiYgdGhpcy5lc2NfY2xlYXJzKSB7XG4gICAgICAgICAgdGhpcy5zZXRUZXh0KCcnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBnbG92X3VpLmZvY3VzQ2FudmFzKCk7XG4gICAgICAgICAgaWYgKHRoaXMuaW5wdXQpIHtcbiAgICAgICAgICAgIHRoaXMuaW5wdXQuYmx1cigpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBmb2N1c2VkID0gZmFsc2U7XG4gICAgICAgICAgdGhpcy5jYW5jZWxlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5pc19mb2N1c2VkID0gZm9jdXNlZDtcbiAgICByZXR1cm4gZm9jdXNlZDtcbiAgfVxuXG4gIHJ1bihwYXJhbXMpIHtcbiAgICB0aGlzLmFwcGx5UGFyYW1zKHBhcmFtcyk7XG5cbiAgICBpZiAodGhpcy5sYXN0X2ZyYW1lICE9PSBlbmdpbmUuZnJhbWVfaW5kZXggLSAxKSB7XG4gICAgICAvLyBpdCdzIGJlZW4gbW9yZSB0aGFuIGEgZnJhbWUsIHdlIG11c3QgaGF2ZSBub3QgYmVlbiBydW5uaW5nLCBkaXNjYXJkIGFzeW5jIGV2ZW50c1xuICAgICAgdGhpcy5zdWJtaXR0ZWQgPSBmYWxzZTtcbiAgICB9XG4gICAgdGhpcy5sYXN0X2ZyYW1lID0gZW5naW5lLmZyYW1lX2luZGV4O1xuXG4gICAgdGhpcy5jYW5jZWxlZCA9IGZhbHNlO1xuICAgIGxldCBmb2N1c2VkID0gdGhpcy51cGRhdGVGb2N1cygpO1xuXG4gICAgZ2xvdl91aS50aGlzX2ZyYW1lX2VkaXRfYm94ZXMucHVzaCh0aGlzKTtcbiAgICBsZXQgZWxlbSA9IGdsb3ZfdWkuZ2V0RWxlbSh0aGlzLmFsbG93X21vZGFsLCB0aGlzLmVsZW0pO1xuICAgIGlmIChlbGVtICE9PSB0aGlzLmVsZW0pIHtcbiAgICAgIGlmIChlbGVtKSB7XG4gICAgICAgIC8vIG5ldyBET00gZWxlbWVudCwgaW5pdGlhbGl6ZVxuICAgICAgICBlbGVtLnRleHRDb250ZW50ID0gJyc7XG4gICAgICAgIGxldCBmb3JtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZm9ybScpO1xuICAgICAgICBmb3JtLnNldEF0dHJpYnV0ZSgnYXV0b2NvbXBsZXRlJywgJ29mZicpO1xuICAgICAgICBsZXQgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICAgICAgICBpbnB1dC5zZXRBdHRyaWJ1dGUoJ2F1dG9jb21wbGV0ZScsIGBhdXRvX29mZl8ke01hdGgucmFuZG9tKCl9YCk7XG4gICAgICAgIGlucHV0LnNldEF0dHJpYnV0ZSgndHlwZScsIHRoaXMudHlwZSk7XG4gICAgICAgIGlucHV0LnNldEF0dHJpYnV0ZSgncGxhY2Vob2xkZXInLCB0aGlzLnBsYWNlaG9sZGVyKTtcbiAgICAgICAgaWYgKHRoaXMubWF4X2xlbikge1xuICAgICAgICAgIGlucHV0LnNldEF0dHJpYnV0ZSgnbWF4TGVuZ3RoJywgdGhpcy5tYXhfbGVuKTtcbiAgICAgICAgfVxuICAgICAgICBpbnB1dC5zZXRBdHRyaWJ1dGUoJ3RhYmluZGV4JywgMik7XG4gICAgICAgIGZvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGV2KSA9PiB7XG4gICAgICAgICAgZXYucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICB0aGlzLnN1Ym1pdHRlZCA9IHRydWU7XG4gICAgICAgICAgdGhpcy50ZXh0ID0gdGhpcy5pbnB1dC52YWx1ZTtcbiAgICAgICAgICBpZiAodGhpcy5wb2ludGVyX2xvY2sgJiYgIXRoaXMudGV4dCkge1xuICAgICAgICAgICAgZ2xvdl9pbnB1dC5wb2ludGVyTG9ja0VudGVyKCdlZGl0X2JveF9zdWJtaXQnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sIHRydWUpO1xuICAgICAgICBmb3JtLmFwcGVuZENoaWxkKGlucHV0KTtcbiAgICAgICAgbGV0IHNwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgICAgIHNwYW4uc2V0QXR0cmlidXRlKCd0YWJpbmRleCcsIDMpO1xuICAgICAgICBmb3JtLmFwcGVuZENoaWxkKHNwYW4pO1xuICAgICAgICBlbGVtLmFwcGVuZENoaWxkKGZvcm0pO1xuICAgICAgICBpbnB1dC52YWx1ZSA9IHRoaXMudGV4dDtcbiAgICAgICAgdGhpcy5pbnB1dCA9IGlucHV0O1xuICAgICAgICBpZiAodGhpcy5pbml0aWFsX2ZvY3VzIHx8IHRoaXMub25ldGltZV9mb2N1cykge1xuICAgICAgICAgIGlucHV0LmZvY3VzKCk7XG4gICAgICAgICAgdGhpcy5vbmV0aW1lX2ZvY3VzID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuaW5pdGlhbF9zZWxlY3QpIHtcbiAgICAgICAgICBpbnB1dC5zZWxlY3QoKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5pbnB1dCA9IG51bGw7XG4gICAgICB9XG4gICAgICB0aGlzLnN1Ym1pdHRlZCA9IGZhbHNlO1xuICAgICAgdGhpcy5lbGVtID0gZWxlbTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHRoaXMuaW5wdXQpIHtcbiAgICAgICAgdGhpcy50ZXh0ID0gdGhpcy5pbnB1dC52YWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGVsZW0pIHtcbiAgICAgIGxldCBwb3MgPSBjYW1lcmEyZC5odG1sUG9zKHRoaXMueCwgdGhpcy55KTtcbiAgICAgIGlmICghdGhpcy5zcGVsbGNoZWNrKSB7XG4gICAgICAgIGVsZW0uc3BlbGxjaGVjayA9IGZhbHNlO1xuICAgICAgfVxuICAgICAgZWxlbS5zdHlsZS5sZWZ0ID0gYCR7cG9zWzBdfSVgO1xuICAgICAgZWxlbS5zdHlsZS50b3AgPSBgJHtwb3NbMV19JWA7XG4gICAgICBsZXQgc2l6ZSA9IGNhbWVyYTJkLmh0bWxTaXplKHRoaXMudywgMCk7XG4gICAgICBlbGVtLnN0eWxlLndpZHRoID0gYCR7c2l6ZVswXX0lYDtcbiAgICAgIGxldCBvbGRfZm9udHNpemUgPSBlbGVtLnN0eWxlLmZvbnRTaXplIHx8ICc/cHgnO1xuICAgICAgbGV0IG5ld19mb250c2l6ZSA9IGAke2NhbWVyYTJkLnZpcnR1YWxUb0ZvbnRTaXplKHRoaXMuZm9udF9oZWlnaHQpLnRvRml4ZWQoMCl9cHhgO1xuICAgICAgaWYgKG5ld19mb250c2l6ZSAhPT0gb2xkX2ZvbnRzaXplKSB7XG4gICAgICAgIGVsZW0uc3R5bGUuZm9udFNpemUgPSBuZXdfZm9udHNpemU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGZvY3VzZWQpIHtcbiAgICAgIGlmICh0aGlzLmF1dG9fdW5mb2N1cykge1xuICAgICAgICBpZiAoZ2xvdl9pbnB1dC5jbGljayh7IHBlZWs6IHRydWUgfSkpIHtcbiAgICAgICAgICBnbG92X3VpLmZvY3VzU3RlYWwoJ2NhbnZhcycpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvLyBrZXlib2FyZCBpbnB1dCBpcyBoYW5kbGVkIGJ5IHRoZSBJTlBVVCBlbGVtZW50LCBidXQgYWxsb3cgbW91c2UgZXZlbnRzIHRvIHRyaWNrbGVcbiAgICAgIGdsb3ZfaW5wdXQuZWF0QWxsS2V5Ym9hcmRJbnB1dCgpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnN1Ym1pdHRlZCkge1xuICAgICAgdGhpcy5zdWJtaXR0ZWQgPSBmYWxzZTtcbiAgICAgIHJldHVybiB0aGlzLlNVQk1JVDtcbiAgICB9XG4gICAgaWYgKHRoaXMuY2FuY2VsZWQpIHtcbiAgICAgIHRoaXMuY2FuY2VsZWQgPSBmYWxzZTtcbiAgICAgIHJldHVybiB0aGlzLkNBTkNFTDtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgdW5ydW4oKSB7XG4gICAgLy8gcmVtb3ZlIGZyb20gRE9NIG9yIGhpZGVcbiAgICB0aGlzLmVsZW0gPSBudWxsO1xuICAgIHRoaXMuaW5wdXQgPSBudWxsO1xuICB9XG59XG5HbG92VUlFZGl0Qm94LnByb3RvdHlwZS5TVUJNSVQgPSAnc3VibWl0Jztcbkdsb3ZVSUVkaXRCb3gucHJvdG90eXBlLkNBTkNFTCA9ICdjYW5jZWwnO1xuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlKHBhcmFtcykge1xuICByZXR1cm4gbmV3IEdsb3ZVSUVkaXRCb3gocGFyYW1zKTtcbn1cbiIsIi8vIFBvcnRpb25zIENvcHlyaWdodCAyMDE5IEppbWIgRXNzZXIgKGh0dHBzOi8vZ2l0aHViLmNvbS9KaW1ibHkvKVxuLy8gUmVsZWFzZWQgdW5kZXIgTUlUIExpY2Vuc2U6IGh0dHBzOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvTUlUXG4vLyBTb21lIGNvZGUgZnJvbSBUdXJidWxlbno6IENvcHlyaWdodCAoYykgMjAxMi0yMDEzIFR1cmJ1bGVueiBMaW1pdGVkXG4vLyBSZWxlYXNlZCB1bmRlciBNSVQgTGljZW5zZTogaHR0cHM6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9NSVRcblxuY29uc3QgZW5naW5lID0gcmVxdWlyZSgnLi9lbmdpbmUuanMnKTtcbmNvbnN0IGdlb20gPSByZXF1aXJlKCcuL2dlb20uanMnKTtcbmNvbnN0IHNoYWRlcnMgPSByZXF1aXJlKCcuL3NoYWRlcnMuanMnKTtcbmNvbnN0IHRleHR1cmVzID0gcmVxdWlyZSgnLi90ZXh0dXJlcy5qcycpO1xuY29uc3QgeyB2ZWMyLCB2ZWMzLCB2ZWM0LCB2NHNldCB9ID0gcmVxdWlyZSgnLi92bWF0aC5qcycpO1xuXG5jb25zdCBzaGFkZXJfZGF0YSA9IHtcbiAgdnBfY29weToge1xuICAgIHZwOiAnZ2xvdi9zaGFkZXJzL2VmZmVjdHNfY29weS52cCcsXG4gIH0sXG4gIGNvcHk6IHtcbiAgICBmcDogJ2dsb3Yvc2hhZGVycy9lZmZlY3RzX2NvcHkuZnAnLFxuICB9LFxuICBwaXhlbHlfZXhwYW5kOiB7XG4gICAgZnA6ICdnbG92L3NoYWRlcnMvcGl4ZWx5X2V4cGFuZC5mcCcsXG4gIH0sXG4gIGdhdXNzaWFuX2JsdXI6IHtcbiAgICBmcDogJ2dsb3Yvc2hhZGVycy9lZmZlY3RzX2dhdXNzaWFuX2JsdXIuZnAnLFxuICB9LFxuICAvLyBibG9vbV9tZXJnZToge1xuICAvLyAgIGZwOiAnZ2xvdi9zaGFkZXJzL2VmZmVjdHNfYmxvb21fbWVyZ2UuZnAnLFxuICAvLyB9LFxuICAvLyBibG9vbV90aHJlc2hvbGQ6IHtcbiAgLy8gICBmcDogJ2dsb3Yvc2hhZGVycy9lZmZlY3RzX2Jsb29tX3RocmVzaG9sZC5mcCcsXG4gIC8vIH0sXG4gIGNvbG9yX21hdHJpeDoge1xuICAgIGZwOiAnZ2xvdi9zaGFkZXJzL2VmZmVjdHNfY29sb3JfbWF0cml4LmZwJyxcbiAgfSxcbiAgLy8gZGlzdG9ydDoge1xuICAvLyAgIGZwOiAnZ2xvdi9zaGFkZXJzL2VmZmVjdHNfZGlzdG9ydC5mcCcsXG4gIC8vIH0sXG59O1xuXG5leHBvcnQgZnVuY3Rpb24gcmVnaXN0ZXJTaGFkZXIoa2V5LCBvYmopIHtcbiAgc2hhZGVyX2RhdGFba2V5XSA9IG9iajtcbn1cblxuZnVuY3Rpb24gZ2V0U2hhZGVyKGtleSkge1xuICBsZXQgZWxlbSA9IHNoYWRlcl9kYXRhW2tleV07XG4gIGlmICghZWxlbS5zaGFkZXIpIHtcbiAgICBpZiAoZWxlbS5mcCkge1xuICAgICAgZWxlbS5zaGFkZXIgPSBzaGFkZXJzLmNyZWF0ZShlbGVtLmZwKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZWxlbS5zaGFkZXIgPSBzaGFkZXJzLmNyZWF0ZShlbGVtLnZwKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGVsZW0uc2hhZGVyO1xufVxuXG5cbmxldCBpbml0ZWQgPSBmYWxzZTtcbmxldCBjbGlwX3NwYWNlID0gdmVjNCgyLCAyLCAtMSwgLTEpO1xubGV0IGNvcHlfdXZfc2NhbGUgPSB2ZWMyKDEsIDEpO1xubGV0IHNoYWRlcl9wYXJhbXNfZGVmYXVsdCA9IHtcbiAgY2xpcF9zcGFjZSxcbiAgY29weV91dl9zY2FsZSxcbn07XG4vLyBsZXQgc2hhZGVyX3BhcmFtc19kaXN0b3J0O1xubGV0IHNoYWRlcl9wYXJhbXNfY29sb3JfbWF0cml4O1xuLy8gbGV0IHNoYWRlcl9wYXJhbXNfYmxvb207XG4vLyBsZXQgc2hhZGVyX3BhcmFtc19ibG9vbV9tZXJnZTtcbmxldCBzaGFkZXJfcGFyYW1zX2dhdXNzaWFuX2JsdXI7XG5sZXQgc2hhZGVyX3BhcmFtc19waXhlbHlfZXhwYW5kO1xubGV0IHF1YWRfZ2VvbTtcbmZ1bmN0aW9uIHN0YXJ0dXAoKSB7XG4gIGluaXRlZCA9IHRydWU7XG5cbiAgcXVhZF9nZW9tID0gZ2VvbS5jcmVhdGUoXG4gICAgW1tzaGFkZXJzLnNlbWFudGljLlBPU0lUSU9OLCBnbC5GTE9BVCwgMiwgZmFsc2VdXSxcbiAgICBuZXcgRmxvYXQzMkFycmF5KFtcbiAgICAgIDAsIDAsXG4gICAgICAxLCAwLFxuICAgICAgMSwgMSxcbiAgICAgIDAsIDEsXG4gICAgXSksIG51bGwsIGdlb20uUVVBRFMpOyAvLyBUT0RPOiB1c2UgZ2wuVFJJQU5HTEVfU1RSSVAgaW5zdGVhZCwgc2F2ZSBpbmRleCBidWZmZXIgYmluZGluZ1xuXG4gIC8vIHNoYWRlcl9wYXJhbXNfZGlzdG9ydCA9IHtcbiAgLy8gICBjbGlwX3NwYWNlLFxuICAvLyAgIGNvcHlfdXZfc2NhbGUsXG4gIC8vICAgc3RyZW5ndGg6IHZlYzIoMCwgMCksXG4gIC8vICAgdHJhbnNmb3JtOiBuZXcgRmxvYXQzMkFycmF5KFswLCAwLCAwLCAwLCAwLCAwXSksXG4gIC8vICAgaW52VHJhbnNmb3JtOiB2ZWM0KDAsIDAsIDAsIDApLFxuICAvLyB9O1xuXG4gIHNoYWRlcl9wYXJhbXNfY29sb3JfbWF0cml4ID0ge1xuICAgIGNsaXBfc3BhY2UsXG4gICAgY29weV91dl9zY2FsZSxcbiAgICBjb2xvck1hdHJpeDogbmV3IEZsb2F0MzJBcnJheShbMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMF0pLFxuICB9O1xuXG4gIC8vIHNoYWRlcl9wYXJhbXNfYmxvb20gPSB7XG4gIC8vICAgY2xpcF9zcGFjZSxcbiAgLy8gICBjb3B5X3V2X3NjYWxlLFxuICAvLyAgIGJsb29tVGhyZXNob2xkOiAwLFxuICAvLyAgIHRocmVzaG9sZEN1dHRvZmY6IDAsXG4gIC8vIH07XG5cbiAgLy8gc2hhZGVyX3BhcmFtc19ibG9vbV9tZXJnZSA9IHtcbiAgLy8gICBjbGlwX3NwYWNlLFxuICAvLyAgIGNvcHlfdXZfc2NhbGUsXG4gIC8vICAgYmxvb21JbnRlbnNpdHk6IDAsXG4gIC8vICAgYmxvb21TYXR1cmF0aW9uOiAwLFxuICAvLyAgIG9yaWdpbmFsSW50ZW5zaXR5OiAwLFxuICAvLyAgIG9yaWdpbmFsU2F0dXJhdGlvbjogMCxcbiAgLy8gfTtcblxuICAvLyBHYXVzc2lhbiBCbHVyIGVmZmVjdCAoYWxzbyB1c2VkIGJ5IGJsb29tKVxuICBzaGFkZXJfcGFyYW1zX2dhdXNzaWFuX2JsdXIgPSB7XG4gICAgY2xpcF9zcGFjZSxcbiAgICBjb3B5X3V2X3NjYWxlLFxuICAgIHNhbXBsZVJhZGl1czogdmVjMygxLCAxLCAxKSxcbiAgICBHYXVzczogbmV3IEZsb2F0MzJBcnJheShbMC45MywgMC44LCAwLjcsIDAuNiwgMC41LCAwLjQsIDAuMywgMC4yLCAwLjFdKSxcbiAgfTtcblxuICBzaGFkZXJfcGFyYW1zX3BpeGVseV9leHBhbmQgPSB7XG4gICAgY2xpcF9zcGFjZSxcbiAgICBjb3B5X3V2X3NjYWxlLFxuICAgIG9yaWdfcGl4ZWxfc2l6ZTogdmVjNCgpLFxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ3JheVNjYWxlTWF0cml4KGRzdCkge1xuICBkc3RbMF0gPSAwLjIxMjY7XG4gIGRzdFsxXSA9IDAuMjEyNjtcbiAgZHN0WzJdID0gMC4yMTI2O1xuICBkc3RbM10gPSAwLjcxNTI7XG4gIGRzdFs0XSA9IDAuNzE1MjtcbiAgZHN0WzVdID0gMC43MTUyO1xuICBkc3RbNl0gPSAwLjA3MjI7XG4gIGRzdFs3XSA9IDAuMDcyMjtcbiAgZHN0WzhdID0gMC4wNzIyO1xuICBkc3RbOV0gPSBkc3RbMTBdID0gZHN0WzExXSA9IDA7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXBpYU1hdHJpeChkc3QpIHtcbiAgZHN0WzBdID0gMC4zOTM7XG4gIGRzdFsxXSA9IDAuMzQ5O1xuICBkc3RbMl0gPSAwLjI3MjtcbiAgZHN0WzNdID0gMC43Njk7XG4gIGRzdFs0XSA9IDAuNjg2O1xuICBkc3RbNV0gPSAwLjUzNDtcbiAgZHN0WzZdID0gMC4xODk7XG4gIGRzdFs3XSA9IDAuMTY4O1xuICBkc3RbOF0gPSAwLjEzMTtcbiAgZHN0WzldID0gZHN0WzEwXSA9IGRzdFsxMV0gPSAwO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbmVnYXRpdmVNYXRyaXgoZHN0KSB7XG4gIGRzdFswXSA9IGRzdFs0XSA9IGRzdFs4XSA9IC0xO1xuICBkc3RbMV0gPSBkc3RbMl0gPSBkc3RbM10gPSBkc3RbNV0gPSBkc3RbNl0gPSBkc3RbN10gPSAwO1xuICBkc3RbOV0gPSBkc3RbMTBdID0gZHN0WzExXSA9IDE7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzYXR1cmF0aW9uTWF0cml4KGRzdCwgc2F0dXJhdGlvblNjYWxlKSB7XG4gIGxldCBpcyA9ICgxIC0gc2F0dXJhdGlvblNjYWxlKTtcbiAgZHN0WzBdID0gKGlzICogMC4yMTI2KSArIHNhdHVyYXRpb25TY2FsZTtcbiAgZHN0WzFdID0gKGlzICogMC4yMTI2KTtcbiAgZHN0WzJdID0gKGlzICogMC4yMTI2KTtcbiAgZHN0WzNdID0gKGlzICogMC43MTUyKTtcbiAgZHN0WzRdID0gKGlzICogMC43MTUyKSArIHNhdHVyYXRpb25TY2FsZTtcbiAgZHN0WzVdID0gKGlzICogMC43MTUyKTtcbiAgZHN0WzZdID0gKGlzICogMC4wNzIyKTtcbiAgZHN0WzddID0gKGlzICogMC4wNzIyKTtcbiAgZHN0WzhdID0gKGlzICogMC4wNzIyKSArIHNhdHVyYXRpb25TY2FsZTtcbiAgZHN0WzldID0gZHN0WzEwXSA9IGRzdFsxMV0gPSAwO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaHVlTWF0cml4KGRzdCwgYW5nbGUpIHtcbiAgLy8vL1xuICAvLy8vIFVuY29tbWVudCB0byBjYWxjdWxhdGUgbmV3IGNvZWZmZWNpZW50cyBzaG91bGQgbHVtaW5hbmNlXG4gIC8vLy8gdmFsdWVzIDAuMjEyNiAwLjcxNTIgMC4wNzIyIGNoYW5nZS5cbiAgLy9sZXQgbHVtUiA9IDAuMjEyNjtcbiAgLy9sZXQgbHVtRyA9IDAuNzE1MjtcbiAgLy9sZXQgbHVtQiA9IDAuMDcyMjtcbiAgLy8vL1xuICAvL2xldCByMjMgPSBNYXRoLnNxcnQoMiAvIDMpO1xuICAvL2xldCByMTIgPSAxIC8gTWF0aC5zcXJ0KDIpO1xuICAvL2xldCByMTMgPSAxIC8gTWF0aC5zcXJ0KDMpO1xuICAvL2xldCByMTYgPSAxIC8gTWF0aC5zcXJ0KDYpO1xuICAvL2xldCBNID0gW3IyMywgMCwgcjEzLCAtcjE2LCByMTIsIHIxMywgLXIxNiwgLXIxMiwgcjEzLCAwLCAwLCAwXTtcbiAgLy9sZXQgenggPSAocjIzICogbHVtUikgLSAocjE2ICogbHVtRykgLSAocjE2ICogbHVtQik7XG4gIC8vbGV0IHp5ID0gICAgICAgICAgICAgICAgKHIxMiAqIGx1bUcpIC0gKHIxMiAqIGx1bUIpO1xuICAvL2xldCB6eiA9IChyMTMgKiBsdW1SKSArIChyMTMgKiBsdW1HKSArIChyMTMgKiBsdW1CKTtcbiAgLy9sZXQgeCA9IHp4IC8geno7XG4gIC8vbGV0IHkgPSB6eSAvIHp6O1xuICAvL2xldCBDID0gWzEsIDAsIHgsIDAsIDEsIHksIDAsIDAsIDEsIDAsIDAsIDBdO1xuICAvL200M211bChNLCBNLCBDKTtcbiAgLy9jb25zb2xlLmxvZyhcIlByZSB0cmFuc2Zvcm0gPSBcIiwgTSk7XG4gIC8vbGV0IEUgPSBbMSwgMCwgLXgsIDAsIDEsIC15LCAwLCAwLCAxLCAwLCAwLCAwXTtcbiAgLy9sZXQgTiA9IFtyMjMsIC1yMTYsIC1yMTYsIDAsIHIxMiwgLXIxMiwgcjEzLCByMTMsIHIxMywgMCwgMCwgMF07XG4gIC8vbTQzbXVsKE4sIEUsIE4pO1xuICAvL2NvbnNvbGUubG9nKFwiUG9zdCB0cmFuc2Zvcm0gPSBcIiwgTik7XG4gIC8vLy9cbiAgLy8vLyBGaW5hbCBtYXRyaXggaXMgdGhlbjogbTQzTXVsKFByZSwgW2MsIHMsIDAsIC1zLCBjLCAwLCAwLCAwLCAxLCAwLCAwLCAwLCBdLCBQb3N0KTtcbiAgLy8vLyBmb3IgYyA9IGNvcyhhbmdsZSksIHMgPSBzaW4oYW5nbGUpXG4gIC8vLy9cbiAgLy9sZXQgb3V0ID0gXCJcIjtcbiAgLy9vdXQgKz0gXCJsZXQgYyA9IE1hdGguY29zKGFuZ2xlKTtcXG5cIjtcbiAgLy9vdXQgKz0gXCJsZXQgcyA9IE1hdGguc2luKGFuZ2xlKTtcXG5cIjtcbiAgLy9vdXQgKz0gXCJkc3RbMF0gPSAoXCIgKyAoTlswXSpNWzBdK05bM10qTVsxXSkgKyBcIiAqIGMpICsgKFwiICsgKE5bM10qTVswXS1OWzBdKk1bMV0pICsgXCIgKiBzKSArIFwiICsgbHVtUitcIjtcXG5cIjtcbiAgLy9vdXQgKz0gXCJkc3RbMV0gPSAoXCIgKyAoLWx1bVIpICAgICAgICAgICAgICAgKyBcIiAqIGMpICsgKFwiICsgKE5bNF0qTVswXS1OWzFdKk1bMV0pICsgXCIgKiBzKSArIFwiICsgbHVtUitcIjtcXG5cIjtcbiAgLy9vdXQgKz0gXCJkc3RbMl0gPSAoXCIgKyAoLWx1bVIpICAgICAgICAgICAgICAgKyBcIiAqIGMpICsgKFwiICsgKE5bNV0qTVswXS1OWzJdKk1bMV0pICsgXCIgKiBzKSArIFwiICsgbHVtUitcIjtcXG5cIjtcbiAgLy9vdXQgKz0gXCJkc3RbM10gPSAoXCIgKyAoLWx1bUcpICAgICAgICAgICAgICAgKyBcIiAqIGMpICsgKFwiICsgKE5bM10qTVszXS1OWzBdKk1bNF0pICsgXCIgKiBzKSArIFwiICsgbHVtRytcIjtcXG5cIjtcbiAgLy9vdXQgKz0gXCJkc3RbNF0gPSAoXCIgKyAoTlsxXSpNWzNdK05bNF0qTVs0XSkgKyBcIiAqIGMpICsgKFwiICsgKE5bNF0qTVszXS1OWzFdKk1bNF0pICsgXCIgKiBzKSArIFwiICsgbHVtRytcIjtcXG5cIjtcbiAgLy9vdXQgKz0gXCJkc3RbNV0gPSAoXCIgKyAoLWx1bUcpICAgICAgICAgICAgICAgKyBcIiAqIGMpICsgKFwiICsgKE5bNV0qTVszXS1OWzJdKk1bNF0pICsgXCIgKiBzKSArIFwiICsgbHVtRytcIjtcXG5cIjtcbiAgLy9vdXQgKz0gXCJkc3RbNl0gPSAoXCIgKyAoLWx1bUIpICAgICAgICAgICAgICAgKyBcIiAqIGMpICsgKFwiICsgKE5bM10qTVs2XS1OWzBdKk1bN10pICsgXCIgKiBzKSArIFwiICsgbHVtQitcIjtcXG5cIjtcbiAgLy9vdXQgKz0gXCJkc3RbN10gPSAoXCIgKyAoLWx1bUIpICAgICAgICAgICAgICAgKyBcIiAqIGMpICsgKFwiICsgKE5bNF0qTVs2XS1OWzFdKk1bN10pICsgXCIgKiBzKSArIFwiICsgbHVtQitcIjtcXG5cIjtcbiAgLy9vdXQgKz0gXCJkc3RbOF0gPSAoXCIgKyAoTlsyXSpNWzZdK05bNV0qTVs3XSkgKyBcIiAqIGMpICsgKFwiICsgKE5bNV0qTVs2XS1OWzJdKk1bN10pICsgXCIgKiBzKSArIFwiICsgbHVtQitcIjtcXG5cIjtcbiAgLy9jb25zb2xlLmxvZyhvdXQpO1xuICBsZXQgYyA9IE1hdGguY29zKGFuZ2xlKTtcbiAgbGV0IHMgPSBNYXRoLnNpbihhbmdsZSk7XG4gIGRzdFswXSA9ICgwLjc4NzQgKiBjKSArICgtMC4zNzEyMzYyMjMwODg5MjkzICogcykgKyAwLjIxMjY7XG4gIGRzdFsxXSA9ICgtMC4yMTI2ICogYykgKyAoMC4yMDYxMTQwNDYxMDA2OTY0MiAqIHMpICsgMC4yMTI2O1xuICBkc3RbMl0gPSAoLTAuMjEyNiAqIGMpICsgKC0wLjk0ODU4NjQ5MjI3ODU1NTEgKiBzKSArIDAuMjEyNjtcbiAgZHN0WzNdID0gKC0wLjcxNTIgKiBjKSArICgtMC40OTYyOTAyOTEzOTU0MDIzICogcykgKyAwLjcxNTI7XG4gIGRzdFs0XSA9ICgwLjI4NDggKiBjKSArICgwLjA4MTA1OTk3Nzc5NDIyMzQxICogcykgKyAwLjcxNTI7XG4gIGRzdFs1XSA9ICgtMC43MTUyICogYykgKyAoMC42NTg0MTAyNDY5ODM4NDkyICogcykgKyAwLjcxNTI7XG4gIGRzdFs2XSA9ICgtMC4wNzIyICogYykgKyAoMC44Njc1MjY1MTQ0ODQzMzE2ICogcykgKyAwLjA3MjI7XG4gIGRzdFs3XSA9ICgtMC4wNzIyICogYykgKyAoLTAuMjg3MTc0MDIzODk0OTE5ODYgKiBzKSArIDAuMDcyMjtcbiAgZHN0WzhdID0gKDAuOTI3OCAqIGMpICsgKDAuMjkwMTc2MjQ1Mjk0NzA2ICogcykgKyAwLjA3MjI7XG4gIGRzdFs5XSA9IGRzdFsxMF0gPSBkc3RbMTFdID0gMDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGJyaWdodG5lc3NBZGRNYXRyaXgoZHN0LCBicmlnaHRuZXNzT2Zmc2V0KSB7XG4gIGRzdFswXSA9IGRzdFs0XSA9IGRzdFs4XSA9IDE7XG4gIGRzdFsxXSA9IGRzdFsyXSA9IGRzdFszXSA9IGRzdFs1XSA9IGRzdFs2XSA9IGRzdFs3XSA9IDA7XG4gIGRzdFs5XSA9IGRzdFsxMF0gPSBkc3RbMTFdID0gYnJpZ2h0bmVzc09mZnNldDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGJyaWdodG5lc3NTY2FsZU1hdHJpeChkc3QsIHNjYWxlKSB7XG4gIGRzdFswXSA9IGRzdFs0XSA9IGRzdFs4XSA9IHNjYWxlO1xuICBkc3RbMV0gPSBkc3RbMl0gPSBkc3RbM10gPSBkc3RbNV0gPSBkc3RbNl0gPSBkc3RbN10gPSAwO1xuICBkc3RbOV0gPSBkc3RbMTBdID0gZHN0WzExXSA9IDA7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhZGRpdGl2ZU1hdHJpeChkc3QsIGFkZGl0aXZlUkdCKSB7XG4gIGRzdFswXSA9IGRzdFs0XSA9IGRzdFs4XSA9IDE7XG4gIGRzdFsxXSA9IGRzdFsyXSA9IGRzdFszXSA9IGRzdFs1XSA9IGRzdFs2XSA9IGRzdFs3XSA9IDA7XG4gIGRzdFs5XSA9IGFkZGl0aXZlUkdCWzBdO1xuICBkc3RbMTBdID0gYWRkaXRpdmVSR0JbMV07XG4gIGRzdFsxMV0gPSBhZGRpdGl2ZVJHQlsyXTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbnRyYXN0TWF0cml4KGRzdCwgY29udHJhc3RTY2FsZSkge1xuICBkc3RbMF0gPSBkc3RbNF0gPSBkc3RbOF0gPSBjb250cmFzdFNjYWxlO1xuICBkc3RbMV0gPSBkc3RbMl0gPSBkc3RbM10gPSBkc3RbNV0gPSBkc3RbNl0gPSBkc3RbN10gPSAwO1xuICBkc3RbOV0gPSBkc3RbMTBdID0gZHN0WzExXSA9IDAuNSAqICgxIC0gY29udHJhc3RTY2FsZSk7XG59XG5cbi8vIGVmZmVjdDogeyBzaGFkZXIsIHBhcmFtcywgdGV4cyB9XG5mdW5jdGlvbiBhcHBseUVmZmVjdChlZmZlY3QsIHZpZXdfdywgdmlld19oKSB7XG4gIGxldCB2aWV3cG9ydCA9IGVuZ2luZS52aWV3cG9ydDtcbiAgbGV0IHRhcmdldF93ID0gdmlld3BvcnRbMl07XG4gIGxldCB0YXJnZXRfaCA9IHZpZXdwb3J0WzNdO1xuICB2aWV3X3cgPSB2aWV3X3cgfHwgdGFyZ2V0X3c7XG4gIHZpZXdfaCA9IHZpZXdfaCB8fCB0YXJnZXRfaDtcblxuICAvLyBTZXQgdmFsdWVzIGZvciBwYXJhbWV0ZXJzIHVzZWQgYnkgYWxsIGVmZmVjdHNcbiAgY2xpcF9zcGFjZVswXSA9IDIuMCAqIHZpZXdfdyAvIHRhcmdldF93O1xuICBjbGlwX3NwYWNlWzFdID0gMi4wICogdmlld19oIC8gdGFyZ2V0X2g7XG4gIC8vIGNsaXBfc3BhY2VbMl0gPSAtMS4wO1xuICAvLyBjbGlwX3NwYWNlWzNdID0gLTEuMDtcbiAgLy8gY29weV91dl9zY2FsZVswXSA9IHRhcmdldF93IC8gZWZmZWN0LmNvb3JkX3NvdXJjZS53aWR0aDtcbiAgLy8gY29weV91dl9zY2FsZVsxXSA9IHRhcmdldF9oIC8gZWZmZWN0LmNvb3JkX3NvdXJjZS5oZWlnaHQ7XG5cbiAgc2hhZGVycy5iaW5kKGdldFNoYWRlcigndnBfY29weScpLCBnZXRTaGFkZXIoZWZmZWN0LnNoYWRlciksIGVmZmVjdC5wYXJhbXMpO1xuICB0ZXh0dXJlcy5iaW5kQXJyYXkoZWZmZWN0LnRleHMpO1xuICBxdWFkX2dlb20uZHJhdygpO1xufVxuXG4vLyAvLyBUT0RPOiBVcGRhdGUgZm9yIFJUQkJDVFQgYW5kIHBvcnQgdG8gbmV3IEdMT1YuanNcbi8vIGZ1bmN0aW9uIGFwcGx5Qmxvb21UT0RPKHBhcmFtcykge1xuLy8gICBsZXQgc291cmNlID0gcGFyYW1zLnNvdXJjZTtcbi8vICAgbGV0IGJsdXIxID0gcGFyYW1zLmJsdXJUYXJnZXQxO1xuLy8gICBsZXQgYmx1cjIgPSBwYXJhbXMuYmx1clRhcmdldDI7XG4vLyAgIGxldCBkZXN0ID0gcGFyYW1zLmRlc3RpbmF0aW9uO1xuLy8gICBpZiAoIXNvdXJjZSB8fCAhZGVzdCB8fCAhYmx1cjEgfHwgIWJsdXIyIHx8ICFibHVyMS5jb2xvclRleHR1cmUwIHx8XG4vLyAgICAgIWJsdXIyLmNvbG9yVGV4dHVyZTAgfHwgYmx1cjEgPT09IGJsdXIyIHx8IGJsdXIxID09PSBkZXN0IHx8XG4vLyAgICAgc291cmNlID09PSBibHVyMS5jb2xvclRleHR1cmUwIHx8IHNvdXJjZSA9PT0gZGVzdC5jb2xvclRleHR1cmUwKSB7XG4vLyAgICAgcmV0dXJuIGZhbHNlO1xuLy8gICB9XG4vL1xuLy8gICBsZXQgZWZmZWN0UGFyYW1zID0gdGhpcy5lZmZlY3RQYXJhbXM7XG4vLyAgIGxldCB0ZWNocGFyYW1zO1xuLy9cbi8vICAgLy8gVGhyZXNob2xkIGNvcHkuXG4vLyAgIHRlY2hwYXJhbXMgPSB0aGlzLmJsb29tVGhyZXNob2xkUGFyYW1ldGVycztcbi8vICAgZWZmZWN0UGFyYW1zLnRlY2huaXF1ZSA9IHRoaXMuYmxvb21UaHJlc2hvbGRUZWNobmlxdWU7XG4vLyAgIGVmZmVjdFBhcmFtcy5wYXJhbXMgPSB0ZWNocGFyYW1zO1xuLy9cbi8vICAgdGVjaHBhcmFtcy5ibG9vbVRocmVzaG9sZCA9IChwYXJhbXMuYmxvb21UaHJlc2hvbGQgIT09IHVuZGVmaW5lZCkgPyBwYXJhbXMuYmxvb21UaHJlc2hvbGQgOiAwLjY1O1xuLy8gICB0ZWNocGFyYW1zLnRocmVzaG9sZEN1dG9mZiA9IE1hdGguZXhwKChwYXJhbXMudGhyZXNob2xkQ3V0b2ZmICE9PSB1bmRlZmluZWQpID8gcGFyYW1zLnRocmVzaG9sZEN1dG9mZiA6IDMpO1xuLy8gICB0ZWNocGFyYW1zLmlucHV0VGV4dHVyZTAgPSBzb3VyY2U7XG4vLyAgIGVmZmVjdFBhcmFtcy5kZXN0aW5hdGlvbiA9IGJsdXIxO1xuLy8gICB0aGlzLmFwcGx5RWZmZWN0KGVmZmVjdFBhcmFtcyk7XG4vL1xuLy8gICAvLyBHYXVzc2lhbiBibHVyLlxuLy8gICB0ZWNocGFyYW1zID0gdGhpcy5nYXVzc2lhbkJsdXJQYXJhbWV0ZXJzO1xuLy8gICBlZmZlY3RQYXJhbXMudGVjaG5pcXVlID0gdGhpcy5nYXVzc2lhbkJsdXJUZWNobmlxdWU7XG4vLyAgIGVmZmVjdFBhcmFtcy5wYXJhbXMgPSB0ZWNocGFyYW1zO1xuLy9cbi8vICAgbGV0IHNhbXBsZVJhZGl1cyA9IChwYXJhbXMuYmx1clJhZGl1cyB8fCAyMCk7XG4vLyAgIHRlY2hwYXJhbXMuc2FtcGxlUmFkaXVzWzBdID0gc2FtcGxlUmFkaXVzIC8gc291cmNlLndpZHRoO1xuLy8gICB0ZWNocGFyYW1zLnNhbXBsZVJhZGl1c1sxXSA9IDA7XG4vLyAgIHRlY2hwYXJhbXMuc2FtcGxlUmFkaXVzWzJdID0gMTtcbi8vICAgdGVjaHBhcmFtcy5pbnB1dFRleHR1cmUwID0gYmx1cjEuY29sb3JUZXh0dXJlMDtcbi8vICAgZWZmZWN0UGFyYW1zLmRlc3RpbmF0aW9uID0gYmx1cjI7XG4vLyAgIHRoaXMuYXBwbHlFZmZlY3QoZWZmZWN0UGFyYW1zKTtcbi8vXG4vLyAgIHRlY2hwYXJhbXMuc2FtcGxlUmFkaXVzWzBdID0gMDtcbi8vICAgdGVjaHBhcmFtcy5zYW1wbGVSYWRpdXNbMV0gPSBzYW1wbGVSYWRpdXMgLyBzb3VyY2UuaGVpZ2h0O1xuLy8gICB0ZWNocGFyYW1zLnNhbXBsZVJhZGl1c1syXSA9IDE7XG4vLyAgIHRlY2hwYXJhbXMuaW5wdXRUZXh0dXJlMCA9IGJsdXIyLmNvbG9yVGV4dHVyZTA7XG4vLyAgIGVmZmVjdFBhcmFtcy5kZXN0aW5hdGlvbiA9IGJsdXIxO1xuLy8gICB0aGlzLmFwcGx5RWZmZWN0KGVmZmVjdFBhcmFtcyk7XG4vL1xuLy8gICAvLyBNZXJnZS5cbi8vICAgdGVjaHBhcmFtcyA9IHRoaXMuYmxvb21NZXJnZVBhcmFtZXRlcnM7XG4vLyAgIGVmZmVjdFBhcmFtcy50ZWNobmlxdWUgPSB0aGlzLmJsb29tTWVyZ2VUZWNobmlxdWU7XG4vLyAgIGVmZmVjdFBhcmFtcy5wYXJhbXMgPSB0ZWNocGFyYW1zO1xuLy9cbi8vICAgdGVjaHBhcmFtcy5ibG9vbUludGVuc2l0eSA9IChwYXJhbXMuYmxvb21JbnRlbnNpdHkgIT09IHVuZGVmaW5lZCkgPyBwYXJhbXMuYmxvb21JbnRlbnNpdHkgOiAxLjI7XG4vLyAgIHRlY2hwYXJhbXMuYmxvb21TYXR1cmF0aW9uID0gKHBhcmFtcy5ibG9vbVNhdHVyYXRpb24gIT09IHVuZGVmaW5lZCkgPyBwYXJhbXMuYmxvb21TYXR1cmF0aW9uIDogMS4yO1xuLy8gICB0ZWNocGFyYW1zLm9yaWdpbmFsSW50ZW5zaXR5ID0gKHBhcmFtcy5vcmlnaW5hbEludGVuc2l0eSAhPT0gdW5kZWZpbmVkKSA/IHBhcmFtcy5vcmlnaW5hbEludGVuc2l0eSA6IDEuMDtcbi8vICAgdGVjaHBhcmFtcy5vcmlnaW5hbFNhdHVyYXRpb24gPSAocGFyYW1zLm9yaWdpbmFsU2F0dXJhdGlvbiAhPT0gdW5kZWZpbmVkKSA/IHBhcmFtcy5vcmlnaW5hbFNhdHVyYXRpb24gOiAxLjA7XG4vLyAgIHRlY2hwYXJhbXMuaW5wdXRUZXh0dXJlMCA9IHNvdXJjZTtcbi8vICAgdGVjaHBhcmFtcy5pbnB1dFRleHR1cmUxID0gYmx1cjEuY29sb3JUZXh0dXJlMDtcbi8vICAgZWZmZWN0UGFyYW1zLmRlc3RpbmF0aW9uID0gZGVzdDtcbi8vICAgdGhpcy5hcHBseUVmZmVjdChlZmZlY3RQYXJhbXMpO1xuLy9cbi8vICAgcmV0dXJuIHRydWU7XG4vLyB9XG5cbmV4cG9ydCBmdW5jdGlvbiBhcHBseUNvcHkocGFyYW1zKSB7XG4gIGlmICghaW5pdGVkKSB7XG4gICAgc3RhcnR1cCgpO1xuICB9XG4gIGFwcGx5RWZmZWN0KHtcbiAgICBzaGFkZXI6IHBhcmFtcy5zaGFkZXIgfHwgJ2NvcHknLFxuICAgIHBhcmFtczogc2hhZGVyX3BhcmFtc19kZWZhdWx0LFxuICAgIHRleHM6IFtwYXJhbXMuc291cmNlXSxcbiAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhcHBseVBpeGVseUV4cGFuZChwYXJhbXMpIHtcbiAgaWYgKCFpbml0ZWQpIHtcbiAgICBzdGFydHVwKCk7XG4gIH1cbiAgbGV0IHNvdXJjZSA9IHBhcmFtcy5zb3VyY2U7XG4gIHNvdXJjZS5zZXRTYW1wbGVyU3RhdGUoe1xuICAgIGZpbHRlcl9taW46IGdsLkxJTkVBUixcbiAgICBmaWx0ZXJfbWFnOiBnbC5MSU5FQVIsXG4gICAgd3JhcF9zOiBnbC5DTEFNUF9UT19FREdFLFxuICAgIHdyYXBfdDogZ2wuQ0xBTVBfVE9fRURHRSxcbiAgfSk7XG5cbiAgLy8gZG8gaG9yaXpvbnRhbCBibHVyIGZvciBwcmltYXJ5IGxpbmVzXG4gIGxldCByZXN4ID0gc291cmNlLndpZHRoO1xuICBsZXQgcmVzeSA9IHNvdXJjZS5oZWlnaHQ7XG4gIGxldCBzYW1wbGVSYWRpdXMgPSAocGFyYW1zLmhibHVyIHx8IDAuMjUpIC8gcmVzeDtcbiAgc2hhZGVyX3BhcmFtc19nYXVzc2lhbl9ibHVyLnNhbXBsZVJhZGl1c1swXSA9IHNhbXBsZVJhZGl1cztcbiAgc2hhZGVyX3BhcmFtc19nYXVzc2lhbl9ibHVyLnNhbXBsZVJhZGl1c1sxXSA9IDA7XG4gIHNoYWRlcl9wYXJhbXNfZ2F1c3NpYW5fYmx1ci5zYW1wbGVSYWRpdXNbMl0gPSAxO1xuICBhcHBseUVmZmVjdCh7XG4gICAgc2hhZGVyOiAnZ2F1c3NpYW5fYmx1cicsXG4gICAgcGFyYW1zOiBzaGFkZXJfcGFyYW1zX2dhdXNzaWFuX2JsdXIsXG4gICAgdGV4czogW3NvdXJjZV0sXG4gIH0sIHJlc3gsIHJlc3kpO1xuICBsZXQgaGJsdXIgPSBlbmdpbmUuY2FwdHVyZUZyYW1lYnVmZmVyKG51bGwsIHJlc3gsIHJlc3ksIHRydWUsIGZhbHNlKTtcblxuICAvLyBkbyBzZXBlcmFibGUgZ2F1c3NpYW4gYmx1ciBmb3Igc2NhbmxpbmVzICh1c2luZyBob3Jpem9udGFsIGJsdXIgZnJvbSBhYm92ZSlcbiAgc2FtcGxlUmFkaXVzID0gKHBhcmFtcy52Ymx1ciB8fCAwLjc1KSAvIHJlc3k7XG4gIHNoYWRlcl9wYXJhbXNfZ2F1c3NpYW5fYmx1ci5zYW1wbGVSYWRpdXNbMF0gPSAwO1xuICBzaGFkZXJfcGFyYW1zX2dhdXNzaWFuX2JsdXIuc2FtcGxlUmFkaXVzWzFdID0gc2FtcGxlUmFkaXVzO1xuICBzaGFkZXJfcGFyYW1zX2dhdXNzaWFuX2JsdXIuc2FtcGxlUmFkaXVzWzJdID0gMTtcbiAgYXBwbHlFZmZlY3Qoe1xuICAgIHNoYWRlcjogJ2dhdXNzaWFuX2JsdXInLFxuICAgIHBhcmFtczogc2hhZGVyX3BhcmFtc19nYXVzc2lhbl9ibHVyLFxuICAgIHRleHM6IFtoYmx1cl0sXG4gIH0sIHJlc3gsIHJlc3kpO1xuICBsZXQgdmJsdXIgPSBlbmdpbmUuY2FwdHVyZUZyYW1lYnVmZmVyKG51bGwsIHJlc3gsIHJlc3ksIHRydWUsIGZhbHNlKTtcblxuICAvLyBjb21iaW5lIGF0IGZ1bGwgcmVzXG4gIHY0c2V0KHNoYWRlcl9wYXJhbXNfcGl4ZWx5X2V4cGFuZC5vcmlnX3BpeGVsX3NpemUsXG4gICAgc291cmNlLndpZHRoLCBzb3VyY2UuaGVpZ2h0LCAxL3NvdXJjZS53aWR0aCwgMS9zb3VyY2UuaGVpZ2h0KTtcblxuICBlbmdpbmUuc2V0Vmlld3BvcnQocGFyYW1zLmZpbmFsX3ZpZXdwb3J0KTtcbiAgaWYgKHBhcmFtcy5jbGVhcl9jb2xvcikge1xuICAgIGdsLmNsZWFyQ29sb3IocGFyYW1zLmNsZWFyX2NvbG9yWzBdLCBwYXJhbXMuY2xlYXJfY29sb3JbMV0sIHBhcmFtcy5jbGVhcl9jb2xvclsyXSwgcGFyYW1zLmNsZWFyX2NvbG9yWzNdKTtcbiAgICBnbC5jbGVhcihnbC5DT0xPUl9CVUZGRVJfQklUKTtcbiAgfVxuXG4gIGFwcGx5RWZmZWN0KHtcbiAgICBzaGFkZXI6ICdwaXhlbHlfZXhwYW5kJyxcbiAgICBwYXJhbXM6IHNoYWRlcl9wYXJhbXNfcGl4ZWx5X2V4cGFuZCxcbiAgICB0ZXhzOiBbc291cmNlLCBoYmx1ciwgdmJsdXJdLFxuICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFwcGx5R2F1c3NpYW5CbHVyKHBhcmFtcykge1xuICBpZiAoIWluaXRlZCkge1xuICAgIHN0YXJ0dXAoKTtcbiAgfVxuICBsZXQgc291cmNlID0gcGFyYW1zLnNvdXJjZTtcbiAgc291cmNlLnNldFNhbXBsZXJTdGF0ZSh7XG4gICAgZmlsdGVyX21pbjogZ2wuTElORUFSLFxuICAgIGZpbHRlcl9tYWc6IGdsLkxJTkVBUixcbiAgICB3cmFwX3M6IGdsLkNMQU1QX1RPX0VER0UsXG4gICAgd3JhcF90OiBnbC5DTEFNUF9UT19FREdFLFxuICB9KTtcbiAgbGV0IG1heF9zaXplID0gcGFyYW1zLm1heF9zaXplIHx8IDUxMjtcbiAgbGV0IG1pbl9zaXplID0gcGFyYW1zLm1pbl9zaXplIHx8IDEyODtcblxuICAvLyBRdWljayBzaHJpbmsgZG93biB0byA1MTItPjI1Ni0+MTI4IChvciBvdGhlciBzcGVjaWZpZWQgbWluL21heCBzaXplKVxuICBsZXQgaW5wdXRUZXh0dXJlMCA9IHNvdXJjZTtcblxuICBsZXQgdmlld3BvcnQgPSBlbmdpbmUudmlld3BvcnQ7XG4gIGxldCByZXMgPSBtYXhfc2l6ZTtcbiAgd2hpbGUgKHJlcyA+IHZpZXdwb3J0WzJdIHx8IHJlcyA+IHZpZXdwb3J0WzNdKSB7XG4gICAgcmVzIC89IDI7XG4gIH1cblxuICB3aGlsZSAocmVzID4gbWluX3NpemUpIHtcbiAgICBhcHBseUVmZmVjdCh7XG4gICAgICBzaGFkZXI6IHBhcmFtcy5zaGFkZXJfY29weSB8fCAnY29weScsXG4gICAgICBwYXJhbXM6IHNoYWRlcl9wYXJhbXNfZGVmYXVsdCxcbiAgICAgIHRleHM6IFtpbnB1dFRleHR1cmUwXSxcbiAgICB9LCByZXMsIHJlcyk7XG4gICAgaW5wdXRUZXh0dXJlMCA9IGVuZ2luZS5jYXB0dXJlRnJhbWVidWZmZXIobnVsbCwgcmVzLCByZXMsIHRydWUsIGZhbHNlKTtcbiAgICByZXMgLz0gMjtcbiAgfVxuXG4gIC8vIERvIHNlcGVyYWJsZSBibHVyXG4gIGxldCBzYW1wbGVSYWRpdXMgPSAocGFyYW1zLmJsdXIgfHwgMSkgLyByZXM7XG4gIHNoYWRlcl9wYXJhbXNfZ2F1c3NpYW5fYmx1ci5zYW1wbGVSYWRpdXNbMF0gPSBzYW1wbGVSYWRpdXM7XG4gIHNoYWRlcl9wYXJhbXNfZ2F1c3NpYW5fYmx1ci5zYW1wbGVSYWRpdXNbMV0gPSAwO1xuICBzaGFkZXJfcGFyYW1zX2dhdXNzaWFuX2JsdXIuc2FtcGxlUmFkaXVzWzJdID0gcGFyYW1zLmdsb3cgfHwgMTtcbiAgYXBwbHlFZmZlY3Qoe1xuICAgIHNoYWRlcjogJ2dhdXNzaWFuX2JsdXInLFxuICAgIHBhcmFtczogc2hhZGVyX3BhcmFtc19nYXVzc2lhbl9ibHVyLFxuICAgIHRleHM6IFtpbnB1dFRleHR1cmUwXSxcbiAgfSwgcmVzLCByZXMpO1xuICBsZXQgYmx1ciA9IGVuZ2luZS5jYXB0dXJlRnJhbWVidWZmZXIobnVsbCwgcmVzLCByZXMsIHRydWUsIGZhbHNlKTtcblxuICBzaGFkZXJfcGFyYW1zX2dhdXNzaWFuX2JsdXIuc2FtcGxlUmFkaXVzWzBdID0gMDtcbiAgc2hhZGVyX3BhcmFtc19nYXVzc2lhbl9ibHVyLnNhbXBsZVJhZGl1c1sxXSA9IHNhbXBsZVJhZGl1cztcbiAgc2hhZGVyX3BhcmFtc19nYXVzc2lhbl9ibHVyLnNhbXBsZVJhZGl1c1syXSA9IHBhcmFtcy5nbG93IHx8IDE7XG4gIGFwcGx5RWZmZWN0KHtcbiAgICBzaGFkZXI6ICdnYXVzc2lhbl9ibHVyJyxcbiAgICBwYXJhbXM6IHNoYWRlcl9wYXJhbXNfZ2F1c3NpYW5fYmx1cixcbiAgICB0ZXhzOiBbYmx1cl0sXG4gIH0pO1xuXG4gIHJldHVybiB0cnVlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYXBwbHlDb2xvck1hdHJpeChwYXJhbXMpIHtcbiAgaWYgKCFpbml0ZWQpIHtcbiAgICBzdGFydHVwKCk7XG4gIH1cbiAgbGV0IHNvdXJjZSA9IHBhcmFtcy5zb3VyY2U7XG4gIHNvdXJjZS5zZXRTYW1wbGVyU3RhdGUoe1xuICAgIGZpbHRlcl9taW46IGdsLkxJTkVBUixcbiAgICBmaWx0ZXJfbWFnOiBnbC5MSU5FQVIsXG4gICAgd3JhcF9zOiBnbC5DTEFNUF9UT19FREdFLFxuICAgIHdyYXBfdDogZ2wuQ0xBTVBfVE9fRURHRSxcbiAgfSk7XG5cbiAgbGV0IG1hdHJpeCA9IHBhcmFtcy5jb2xvck1hdHJpeDtcbiAgbGV0IG1vdXQgPSBzaGFkZXJfcGFyYW1zX2NvbG9yX21hdHJpeC5jb2xvck1hdHJpeDtcblxuICBtb3V0WzBdID0gbWF0cml4WzBdO1xuICBtb3V0WzFdID0gbWF0cml4WzNdO1xuICBtb3V0WzJdID0gbWF0cml4WzZdO1xuICBtb3V0WzNdID0gbWF0cml4WzldO1xuICBtb3V0WzRdID0gbWF0cml4WzFdO1xuICBtb3V0WzVdID0gbWF0cml4WzRdO1xuICBtb3V0WzZdID0gbWF0cml4WzddO1xuICBtb3V0WzddID0gbWF0cml4WzEwXTtcbiAgbW91dFs4XSA9IG1hdHJpeFsyXTtcbiAgbW91dFs5XSA9IG1hdHJpeFs1XTtcbiAgbW91dFsxMF0gPSBtYXRyaXhbOF07XG4gIG1vdXRbMTFdID0gbWF0cml4WzExXTtcblxuICBhcHBseUVmZmVjdCh7XG4gICAgc2hhZGVyOiAnY29sb3JfbWF0cml4JyxcbiAgICBwYXJhbXM6IHNoYWRlcl9wYXJhbXNfY29sb3JfbWF0cml4LFxuICAgIHRleHM6IFtzb3VyY2VdLFxuICB9KTtcblxuICByZXR1cm4gdHJ1ZTtcbn1cblxuLy8gLy8gVE9ETzogVXBkYXRlIGZvciBSVEJCQ1RUIGFuZCBwb3J0IHRvIG5ldyBHTE9WLmpzXG4vLyBleHBvcnQgZnVuY3Rpb24gYXBwbHlEaXN0b3J0VE9ETyhwYXJhbXMpIHtcbi8vICAgbGV0IHNvdXJjZSA9IHBhcmFtcy5zb3VyY2U7XG4vLyAgIGxldCBkZXN0ID0gcGFyYW1zLmRlc3RpbmF0aW9uO1xuLy8gICBsZXQgZGlzdG9ydCA9IHBhcmFtcy5kaXN0b3J0aW9uO1xuLy8gICBpZiAoIXNvdXJjZSB8fCAhZGVzdCB8fCAhZGlzdG9ydCB8fCAhZGVzdC5jb2xvclRleHR1cmUwIHx8XG4vLyAgICAgc291cmNlID09PSBkZXN0LmNvbG9yVGV4dHVyZTAgfHwgZGlzdG9ydCA9PT0gZGVzdC5jb2xvclRleHR1cmUwKSB7XG4vLyAgICAgcmV0dXJuIGZhbHNlO1xuLy8gICB9XG4vL1xuLy8gICAvLyBpbnB1dCB0cmFuc2Zvcm0uXG4vLyAgIC8vICBhIGIgdHhcbi8vICAgLy8gIGMgZCB0eVxuLy8gICBsZXQgYTtcbi8vICAgbGV0IGI7XG4vLyAgIGxldCBjO1xuLy8gICBsZXQgZDtcbi8vICAgbGV0IHR4O1xuLy8gICBsZXQgdHk7XG4vL1xuLy8gICBsZXQgdHJhbnNmb3JtID0gcGFyYW1zLnRyYW5zZm9ybTtcbi8vICAgaWYgKHRyYW5zZm9ybSkge1xuLy8gICAgIC8vIHRyYW5zZm9ybSBjb2wtbWFqb3IuXG4vLyAgICAgYSA9IHRyYW5zZm9ybVswXTtcbi8vICAgICBiID0gdHJhbnNmb3JtWzJdO1xuLy8gICAgIHR4ID0gdHJhbnNmb3JtWzRdO1xuLy8gICAgIGMgPSB0cmFuc2Zvcm1bMV07XG4vLyAgICAgZCA9IHRyYW5zZm9ybVszXTtcbi8vICAgICB0eSA9IHRyYW5zZm9ybVs1XTtcbi8vICAgfSBlbHNlIHtcbi8vICAgICBhID0gZCA9IDE7XG4vLyAgICAgYiA9IGMgPSAwO1xuLy8gICAgIHR4ID0gdHkgPSAwO1xuLy8gICB9XG4vL1xuLy8gICBsZXQgZWZmZWN0UGFyYW1zID0gdGhpcy5lZmZlY3RQYXJhbXM7XG4vLyAgIGxldCB0ZWNocGFyYW1zID0gdGhpcy5kaXN0b3J0UGFyYW1ldGVycztcbi8vICAgZWZmZWN0UGFyYW1zLnRlY2huaXF1ZSA9IHRoaXMuZGlzdG9ydFRlY2huaXF1ZTtcbi8vICAgZWZmZWN0UGFyYW1zLnBhcmFtcyA9IHRlY2hwYXJhbXM7XG4vL1xuLy8gICAvLyBUT0RPOiBDYWNoZSAndHJhbnNmb3JtJywgJ2ludlRyYW5zZm9ybScsIGV0YyBpbiB0aGUgY29kZSBiZWxvd1xuLy8gICB0ZWNocGFyYW1zLnRyYW5zZm9ybVswXSA9IGE7XG4vLyAgIHRlY2hwYXJhbXMudHJhbnNmb3JtWzFdID0gYjtcbi8vICAgdGVjaHBhcmFtcy50cmFuc2Zvcm1bMl0gPSB0eDtcbi8vICAgdGVjaHBhcmFtcy50cmFuc2Zvcm1bM10gPSBjO1xuLy8gICB0ZWNocGFyYW1zLnRyYW5zZm9ybVs0XSA9IGQ7XG4vLyAgIHRlY2hwYXJhbXMudHJhbnNmb3JtWzVdID0gdHk7XG4vL1xuLy8gICAvLyBDb21wdXRlIGludmVyc2UgdHJhbnNmb3JtIHRvIHVzZSBpbiBkaXN0b3J0IHRleHR1cmUgZGlzcGxhY2VtZW50Li5cbi8vICAgbGV0IGlkZXQgPSAxIC8gKGEgKiBkIC0gYiAqIGMpO1xuLy8gICBsZXQgaWEgPSB0ZWNocGFyYW1zLmludlRyYW5zZm9ybVswXSA9IChpZGV0ICogZCk7XG4vLyAgIGxldCBpYiA9IHRlY2hwYXJhbXMuaW52VHJhbnNmb3JtWzFdID0gKGlkZXQgKiAtYik7XG4vLyAgIGxldCBpYyA9IHRlY2hwYXJhbXMuaW52VHJhbnNmb3JtWzJdID0gKGlkZXQgKiAtYyk7XG4vLyAgIGxldCBpZCA9IHRlY2hwYXJhbXMuaW52VHJhbnNmb3JtWzNdID0gKGlkZXQgKiBhKTtcbi8vXG4vLyAgIC8vIENvbXB1dGUgbWF4IHBpeGVsIG9mZnNldCBhZnRlciB0cmFuc2Zvcm0gZm9yIG5vcm1hbGlzYXRpb24uXG4vLyAgIGxldCB4MSA9ICgoaWEgKyBpYikgKiAoaWEgKyBpYikpICsgKChpYyArIGlkKSAqIChpYyArIGlkKSk7XG4vLyAgIGxldCB4MiA9ICgoaWEgLSBpYikgKiAoaWEgLSBpYikpICsgKChpYyAtIGlkKSAqIChpYyAtIGlkKSk7XG4vLyAgIGxldCB4MyA9ICgoLWlhICsgaWIpICogKC1pYSArIGliKSkgKyAoKC1pYyArIGlkKSAqICgtaWMgKyBpZCkpO1xuLy8gICBsZXQgeDQgPSAoKC1pYSAtIGliKSAqICgtaWEgLSBpYikpICsgKCgtaWMgLSBpZCkgKiAoLWljIC0gaWQpKTtcbi8vICAgbGV0IHhtYXggPSAwLjUgKiBNYXRoLnNxcnQoTWF0aC5tYXgoeDEsIHgyLCB4MywgeDQpKTtcbi8vXG4vLyAgIGxldCBzdHJlbmd0aCA9IChwYXJhbXMuc3RyZW5ndGggfHwgMTApO1xuLy8gICB0ZWNocGFyYW1zLnN0cmVuZ3RoWzBdID0gc3RyZW5ndGggLyAoc291cmNlLndpZHRoICogeG1heCk7XG4vLyAgIHRlY2hwYXJhbXMuc3RyZW5ndGhbMV0gPSBzdHJlbmd0aCAvIChzb3VyY2UuaGVpZ2h0ICogeG1heCk7XG4vL1xuLy8gICB0ZWNocGFyYW1zLmlucHV0VGV4dHVyZTAgPSBzb3VyY2U7XG4vLyAgIHRlY2hwYXJhbXMuZGlzdG9ydFRleHR1cmUgPSBkaXN0b3J0OyAvLyBsaW5lYXIgLyByZXBlYXRcbi8vICAgZWZmZWN0UGFyYW1zLmRlc3RpbmF0aW9uID0gZGVzdDtcbi8vICAgdGhpcy5hcHBseUVmZmVjdChlZmZlY3RQYXJhbXMpO1xuLy9cbi8vICAgcmV0dXJuIHRydWU7XG4vLyB9XG5cbmV4cG9ydCBmdW5jdGlvbiBjbGVhckFscGhhKCkge1xuICBsZXQgb2xkX2R0ID0gZ2wuZ2V0UGFyYW1ldGVyKGdsLkRFUFRIX1RFU1QpO1xuICBpZiAob2xkX2R0KSB7XG4gICAgZ2wuZGlzYWJsZShnbC5ERVBUSF9URVNUKTtcbiAgfVxuICBnbC5jb2xvck1hc2soZmFsc2UsIGZhbHNlLCBmYWxzZSwgdHJ1ZSk7XG4gIGFwcGx5Q29weSh7IHNvdXJjZTogdGV4dHVyZXMudGV4dHVyZXMud2hpdGUgfSk7XG4gIGdsLmNvbG9yTWFzayh0cnVlLCB0cnVlLCB0cnVlLCB0cnVlKTtcbiAgaWYgKG9sZF9kdCkge1xuICAgIGdsLmVuYWJsZShnbC5ERVBUSF9URVNUKTtcbiAgfVxufVxuIiwiLy8gUG9ydGlvbnMgQ29weXJpZ2h0IDIwMTkgSmltYiBFc3NlciAoaHR0cHM6Ly9naXRodWIuY29tL0ppbWJseS8pXG4vLyBSZWxlYXNlZCB1bmRlciBNSVQgTGljZW5zZTogaHR0cHM6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9NSVRcbi8qIGVzbGludC1lbnYgYnJvd3NlciAqL1xuXG5yZXF1aXJlKCcuL2Jvb3RzdHJhcC5qcycpOyAvLyBKdXN0IGluIGNhc2UgaXQncyBub3QgaW4gYXBwLmpzXG5cbmV4cG9ydCBsZXQgREVCVUcgPSBTdHJpbmcoZG9jdW1lbnQubG9jYXRpb24pLm1hdGNoKC9eaHR0cHM/OlxcL1xcL2xvY2FsaG9zdC8pO1xuXG5yZXF1aXJlKCdub3Rfd29ya2VyJyk7IC8vIFRoaXMgbW9kdWxlIGNhbm5vdCBiZSByZXF1aXJlZCBmcm9tIGEgd29ya2VyIGJ1bmRsZVxuXG5jb25zdCBhc3NlcnQgPSByZXF1aXJlKCdhc3NlcnQnKTtcbmNvbnN0IGNhbWVyYTJkID0gcmVxdWlyZSgnLi9jYW1lcmEyZC5qcycpO1xuY29uc3QgY21kcyA9IHJlcXVpcmUoJy4vY21kcy5qcycpO1xuY29uc3QgZWZmZWN0cyA9IHJlcXVpcmUoJy4vZWZmZWN0cy5qcycpO1xuY29uc3QgZ2xvdl9mb250ID0gcmVxdWlyZSgnLi9mb250LmpzJyk7XG5jb25zdCBmb250X2luZm9fcGFsYW5xdWluMzIgPSByZXF1aXJlKCcuLi9pbWcvZm9udC9wYWxhbnF1aW4zMi5qc29uJyk7XG5jb25zdCBnZW9tID0gcmVxdWlyZSgnLi9nZW9tLmpzJyk7XG5jb25zdCBpbnB1dCA9IHJlcXVpcmUoJy4vaW5wdXQuanMnKTtcbmNvbnN0IGxvY2FsX3N0b3JhZ2UgPSByZXF1aXJlKCcuL2xvY2FsX3N0b3JhZ2UuanMnKTtcbmNvbnN0IG1hdDNGcm9tTWF0NCA9IHJlcXVpcmUoJ2dsLW1hdDMvZnJvbU1hdDQnKTtcbmNvbnN0IG1hdDRDb3B5ID0gcmVxdWlyZSgnZ2wtbWF0NC9jb3B5Jyk7XG5jb25zdCBtYXQ0SW52ZXJ0ID0gcmVxdWlyZSgnZ2wtbWF0NC9pbnZlcnQnKTtcbmNvbnN0IG1hdDRNdWwgPSByZXF1aXJlKCdnbC1tYXQ0L211bHRpcGx5Jyk7XG5jb25zdCBtYXQ0VHJhbnNwb3NlID0gcmVxdWlyZSgnZ2wtbWF0NC90cmFuc3Bvc2UnKTtcbmNvbnN0IG1hdDRQZXJzcGVjdGl2ZSA9IHJlcXVpcmUoJ2dsLW1hdDQvcGVyc3BlY3RpdmUnKTtcbmNvbnN0IHsgYXNpbiwgY29zLCBmbG9vciwgbWluLCBtYXgsIFBJLCByb3VuZCwgc2luLCBzcXJ0IH0gPSBNYXRoO1xuY29uc3QgbW9kZWxzID0gcmVxdWlyZSgnLi9tb2RlbHMuanMnKTtcbmNvbnN0IHBlcmYgPSByZXF1aXJlKCcuL3BlcmYuanMnKTtcbmNvbnN0IHNldHRpbmdzID0gcmVxdWlyZSgnLi9zZXR0aW5ncy5qcycpO1xuY29uc3Qgc2hhZGVycyA9IHJlcXVpcmUoJy4vc2hhZGVycy5qcycpO1xuY29uc3QgeyBzb3VuZExvYWRpbmcsIHNvdW5kU3RhcnR1cCwgc291bmRUaWNrIH0gPSByZXF1aXJlKCcuL3NvdW5kLmpzJyk7XG5jb25zdCBzcHJpdGVzID0gcmVxdWlyZSgnLi9zcHJpdGVzLmpzJyk7XG5jb25zdCB0ZXh0dXJlcyA9IHJlcXVpcmUoJy4vdGV4dHVyZXMuanMnKTtcbmNvbnN0IHsgdGV4dHVyZXNUaWNrIH0gPSB0ZXh0dXJlcztcbmNvbnN0IGdsb3ZfdHJhbnNpdGlvbiA9IHJlcXVpcmUoJy4vdHJhbnNpdGlvbi5qcycpO1xuY29uc3QgZ2xvdl91aSA9IHJlcXVpcmUoJy4vdWkuanMnKTtcbmNvbnN0IHVybGhhc2ggPSByZXF1aXJlKCcuL3VybGhhc2guanMnKTtcbmNvbnN0IHsgY2xhbXAsIGRlZmF1bHRzLCBuZWFyU2FtZSwgcmlkeCB9ID0gcmVxdWlyZSgnLi4vLi4vY29tbW9uL3V0aWwuanMnKTtcbmNvbnN0IHsgbWF0MywgbWF0NCwgdmVjMywgdmVjNCwgdjNtdWxNYXQ0LCB2M2lOb3JtYWxpemUsIHY0Y29weSwgdjRzYW1lLCB2NHNldCB9ID0gcmVxdWlyZSgnLi92bWF0aC5qcycpO1xuXG5leHBvcnQgbGV0IGNhbnZhcztcbmV4cG9ydCBsZXQgd2ViZ2wyO1xuZXhwb3J0IGxldCBnbG92X3BhcnRpY2xlcztcblxuZXhwb3J0IGxldCB3aWR0aDtcbmV4cG9ydCBsZXQgaGVpZ2h0O1xuZXhwb3J0IGxldCBwaXhlbF9hc3BlY3QgPSAxO1xuZXhwb3J0IGxldCBhbnRpYWxpYXM7XG5cbmV4cG9ydCBsZXQgZ2FtZV93aWR0aDtcbmV4cG9ydCBsZXQgZ2FtZV9oZWlnaHQ7XG5cbmV4cG9ydCBsZXQgcmVuZGVyX3dpZHRoO1xuZXhwb3J0IGxldCByZW5kZXJfaGVpZ2h0O1xuXG4vL2VzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11c2UtYmVmb3JlLWRlZmluZVxuZXhwb3J0IGxldCBkZWZpbmVzID0gdXJsaGFzaC5yZWdpc3Rlcih7IGtleTogJ0QnLCB0eXBlOiB1cmxoYXNoLlRZUEVfU0VULCBjaGFuZ2U6IGRlZmluZXNDaGFuZ2VkIH0pO1xuXG5leHBvcnQgbGV0IGFueV8zZCA9IGZhbHNlO1xuZXhwb3J0IGxldCBaRkFSO1xuZXhwb3J0IGxldCBaTkVBUjtcbmV4cG9ydCBsZXQgZm92X3kgPSAxO1xuZXhwb3J0IGxldCBmb3ZfeCA9IDE7XG5leHBvcnQgbGV0IGZvdl9taW4gPSA2MCAqIFBJIC8gMTgwO1xuXG5leHBvcnQgbGV0IG1hdF9wcm9qZWN0aW9uID0gbWF0NCgpO1xuZXhwb3J0IGxldCBtYXRfdmlldyA9IG1hdDQoKTtcbmxldCBtYXRfbSA9IG1hdDQoKTtcbmV4cG9ydCBsZXQgbWF0X3ZwID0gbWF0NCgpO1xubGV0IG1hdF9tdiA9IG1hdDQoKTtcbmxldCBtYXRfbXZfbm9fc2tldyA9IG1hdDQoKTtcbmxldCBtYXRfbXZwID0gbWF0NCgpO1xubGV0IG1hdF9tdl9pbnZfdHJhbnNmb3JtID0gbWF0MygpO1xubGV0IG1hdF9pbnZfdmlldyA9IG1hdDMoKTtcbmxldCBwcm9qZWN0aW9uX2ludmVyc2UgPSB2ZWM0KCk7XG5cbmV4cG9ydCBsZXQgbGlnaHRfZGlmZnVzZSA9IHZlYzMoMC43NSwgMC43NSwgMC43NSk7XG5sZXQgbGlnaHRfZGlyX3ZzID0gdmVjMygwLCAwLCAwKTtcbmV4cG9ydCBsZXQgbGlnaHRfYW1iaWVudCA9IHZlYzMoMC4yNSwgMC4yNSwgMC4yNSk7XG5leHBvcnQgbGV0IGxpZ2h0X2Rpcl93cyA9IHZlYzMoLTEsIC0yLCAtMyk7XG5cbmV4cG9ydCBsZXQgZm9udDtcbmV4cG9ydCBsZXQgYXBwX3N0YXRlID0gbnVsbDtcbmV4cG9ydCBjb25zdCBib3JkZXJfY29sb3IgPSB2ZWM0KDAsIDAsIDAsIDEpO1xuXG5sZXQgbWF0X3RlbXAgPSBtYXQ0KCk7XG5leHBvcnQgZnVuY3Rpb24gc2V0R2xvYmFsTWF0cmljZXMoX21hdF92aWV3KSB7XG4gIG1hdDRDb3B5KG1hdF92aWV3LCBfbWF0X3ZpZXcpO1xuICBtYXQ0TXVsKG1hdF92cCwgbWF0X3Byb2plY3Rpb24sIG1hdF92aWV3KTtcbiAgdjNpTm9ybWFsaXplKGxpZ2h0X2Rpcl93cyk7XG4gIHYzbXVsTWF0NChsaWdodF9kaXJfdnMsIGxpZ2h0X2Rpcl93cywgbWF0X3ZpZXcpO1xuICBtYXQ0SW52ZXJ0KG1hdF90ZW1wLCBtYXRfdmlldyk7XG4gIG1hdDNGcm9tTWF0NChtYXRfaW52X3ZpZXcsIG1hdF90ZW1wKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNldEZPVihuZXdfZm92KSB7XG4gIGZvdl9taW4gPSBuZXdfZm92O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2V0R2FtZURpbXModywgaCkge1xuICBnYW1lX3dpZHRoID0gdztcbiAgZ2FtZV9oZWlnaHQgPSBoO1xufVxuXG5sZXQgaXNfaW9zX3NhZmFyaSA9IChmdW5jdGlvbiAoKSB7XG4gIGxldCB1YSA9IHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50O1xuICBsZXQgaXNfaW9zID0gdWEubWF0Y2goL2lQYWQvaSkgfHwgdWEubWF0Y2goL2lQaG9uZS9pKTtcbiAgbGV0IHdlYmtpdCA9IHVhLm1hdGNoKC9XZWJLaXQvaSk7XG4gIHJldHVybiBpc19pb3MgJiYgd2Via2l0ICYmICF1YS5tYXRjaCgvQ3JpT1MvaSk7XG59KCkpO1xuXG4vLyBEaWRuJ3QgbmVlZCB0aGlzIGZvciBhIHdoaWxlLCBidXQgZ290IHNsb3cgb24gaU9TIHJlY2VudGx5IDooXG5jb25zdCBwb3N0cHJvY2Vzc2luZ19yZXNldF92ZXJzaW9uID0gJzQnO1xuZXhwb3J0IGxldCBwb3N0cHJvY2Vzc2luZyA9IGxvY2FsX3N0b3JhZ2UuZ2V0KCdnbG92X25vX3Bvc3Rwcm9jZXNzaW5nJykgIT09IHBvc3Rwcm9jZXNzaW5nX3Jlc2V0X3ZlcnNpb247XG5leHBvcnQgZnVuY3Rpb24gcG9zdHByb2Nlc3NpbmdBbGxvdyhhbGxvdykge1xuICBsb2NhbF9zdG9yYWdlLnNldCgnZ2xvdl9ub19wb3N0cHJvY2Vzc2luZycsIGFsbG93ID8gdW5kZWZpbmVkIDogcG9zdHByb2Nlc3NpbmdfcmVzZXRfdmVyc2lvbik7XG4gIHBvc3Rwcm9jZXNzaW5nID0gYWxsb3c7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnbENoZWNrRXJyb3IoKSB7XG4gIGxldCBnbF9lcnIgPSBnbC5nZXRFcnJvcigpO1xuICBpZiAoZ2xfZXJyKSB7XG4gICAgY29uc29sZS5lcnJvcihnbF9lcnIpO1xuICAgIHRocm93IG5ldyBFcnJvcihnbF9lcnIpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZWxlYXNlQ2FudmFzKCkge1xuICB0cnkge1xuICAgIGlmIChnbCkge1xuICAgICAgbGV0IGV4dCA9IGdsLmdldEV4dGVuc2lvbignV0VCR0xfbG9zZV9jb250ZXh0Jyk7XG4gICAgICBpZiAoZXh0KSB7XG4gICAgICAgIGV4dC5sb3NlQ29udGV4dCgpO1xuICAgICAgfVxuICAgIH1cbiAgfSBjYXRjaCAoaWdub3JlZCkge1xuICAgIC8vIG5vdGhpbmcsIGl0J3MgZmluZVxuICB9XG59XG5cbmxldCBlcnJvcl9yZXBvcnRfZGlzYWJsZWQgPSBmYWxzZTtcbmV4cG9ydCBmdW5jdGlvbiByZWxvYWRTYWZlKCkge1xuICAvLyBEbyBub3QgcmVwb3J0IGFueSBlcnJvcnMgYWZ0ZXIgdGhpcyBwb2ludFxuICBlcnJvcl9yZXBvcnRfZGlzYWJsZWQgPSB0cnVlO1xuICAvLyBSZWxlYXNlIGNhbnZhcyB0byBub3QgbGVhayBtZW1vcnkgb24gRmlyZWZveFxuICByZWxlYXNlQ2FudmFzKCk7XG4gIGRvY3VtZW50LmxvY2F0aW9uLnJlbG9hZCgpO1xufVxud2luZG93LnJlbG9hZFNhZmUgPSByZWxvYWRTYWZlO1xuXG5sZXQgcmVsb2FkaW5nX2RlZmluZXMgPSB7fTtcbmV4cG9ydCBmdW5jdGlvbiBkZWZpbmVDYXVzZXNSZWxvYWQoZGVmaW5lKSB7XG4gIHJlbG9hZGluZ19kZWZpbmVzW2RlZmluZV0gPSBkZWZpbmVzW2RlZmluZV07XG59XG5kZWZpbmVDYXVzZXNSZWxvYWQoJ0ZPUkNFV0VCR0wyJyk7XG5kZWZpbmVDYXVzZXNSZWxvYWQoJ05PV0VCR0wyJyk7XG5leHBvcnQgZnVuY3Rpb24gZGVmaW5lc0NoYW5nZWQoKSB7XG4gIGZvciAobGV0IGtleSBpbiByZWxvYWRpbmdfZGVmaW5lcykge1xuICAgIGlmIChkZWZpbmVzW2tleV0gIT09IHJlbG9hZGluZ19kZWZpbmVzW2tleV0pIHtcbiAgICAgIHVybGhhc2gub25VUkxDaGFuZ2UocmVsb2FkU2FmZSk7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgc2hhZGVycy5oYW5kbGVEZWZpbmVzQ2hhbmdlZCgpO1xufVxuXG5mdW5jdGlvbiBub3JtYWxpemVSb3cobSwgaWR4KSB7XG4gIGxldCBsZW4gPSBtW2lkeF0qbVtpZHhdICsgbVtpZHgrMV0qbVtpZHgrMV0gKyBtW2lkeCsyXSptW2lkeCsyXTtcbiAgaWYgKGxlbiA+IDApIHtcbiAgICBsZW4gPSAxIC8gc3FydChsZW4pO1xuICAgIG1baWR4XSAqPSBsZW47XG4gICAgbVtpZHgrMV0gKj0gbGVuO1xuICAgIG1baWR4KzJdICo9IGxlbjtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlTWF0cmljZXMobWF0X21vZGVsKSB7XG4gIC8vIFBFUkZUT0RPOiBkZXBlbmRpbmcgb24gcmVuZGVyaW5nIHBhdGgsIG9ubHkgc29tZSBvZiB0aGVzZSBhcmUgbmVlZGVkIChtICsgdnAgb3IganVzdCBtdnApXG4gIG1hdDRDb3B5KG1hdF9tLCBtYXRfbW9kZWwpO1xuXG4gIG1hdDRNdWwobWF0X212LCBtYXRfdmlldywgbWF0X21vZGVsKTtcbiAgbWF0NE11bChtYXRfbXZwLCBtYXRfcHJvamVjdGlvbiwgbWF0X212KTtcbiAgLy8gVE9ETzogQ2FuIGV4cGFuZCBhbmQgc2ltcGxpZnkgYWxsIG9mIHRoaXMsIGVzcGVjaWFsbHkgYmVsb3dcbiAgLy8gQ29tcHV0ZSB0aGUgaW52ZXJzZSB0cmFuc2Zvcm0gb2YgdGhlZSBtb2RlbF92aWV3IG1hdHJpeCwgZGlzY2FyZGluZyBzY2FsZSxcbiAgLy8gdG8gYmUgdXNlZCBmb3IgZ2V0dGluZyBub3JtYWxzIGludG8gdmlldyBzcGFjZVxuICBtYXQ0Q29weShtYXRfdGVtcCwgbWF0X21vZGVsKTtcbiAgbm9ybWFsaXplUm93KG1hdF90ZW1wLCAwKTtcbiAgbm9ybWFsaXplUm93KG1hdF90ZW1wLCA0KTtcbiAgbm9ybWFsaXplUm93KG1hdF90ZW1wLCA4KTtcbiAgbWF0NE11bChtYXRfbXZfbm9fc2tldywgbWF0X3ZpZXcsIG1hdF90ZW1wKTtcbiAgbWF0NEludmVydChtYXRfdGVtcCwgbWF0X212X25vX3NrZXcpO1xuICBtYXQ0VHJhbnNwb3NlKG1hdF90ZW1wLCBtYXRfdGVtcCk7XG4gIG1hdDNGcm9tTWF0NChtYXRfbXZfaW52X3RyYW5zZm9ybSwgbWF0X3RlbXApO1xufVxuZXhwb3J0IGxldCBmcmFtZV90aW1lc3RhbXAgPSAwO1xuZXhwb3J0IGZ1bmN0aW9uIGdldEZyYW1lVGltZXN0YW1wKCkge1xuICByZXR1cm4gZnJhbWVfdGltZXN0YW1wO1xufVxuXG5leHBvcnQgbGV0IGZyYW1lX2luZGV4ID0gMDtcbmV4cG9ydCBmdW5jdGlvbiBnZXRGcmFtZUluZGV4KCkge1xuICByZXR1cm4gZnJhbWVfaW5kZXg7XG59XG5cbmV4cG9ydCBsZXQgZnJhbWVfZHQgPSAwO1xuZXhwb3J0IGZ1bmN0aW9uIGdldEZyYW1lRHQoKSB7XG4gIHJldHVybiBmcmFtZV9kdDtcbn1cblxuZXhwb3J0IGxldCBocnRpbWUgPSAwO1xuXG4vLyBXYWxsIHRpbWUsIG1heSBjb250YWluIGxhcmdlIGp1bXBzLCBtYXkgYmUgMCBvciBuZWdhdGl2ZVxubGV0IHRoaXNfZnJhbWVfdGltZV9hY3R1YWwgPSAwO1xuZXhwb3J0IGZ1bmN0aW9uIGdldEZyYW1lRHRBY3R1YWwoKSB7XG4gIHJldHVybiB0aGlzX2ZyYW1lX3RpbWVfYWN0dWFsO1xufVxuXG5sZXQgYWZ0ZXJfbG9hZGluZ19zdGF0ZSA9IG51bGw7XG5leHBvcnQgbGV0IGlzX2xvYWRpbmcgPSB0cnVlO1xuZXhwb3J0IGZ1bmN0aW9uIHNldFN0YXRlKG5ld19zdGF0ZSkge1xuICBpZiAoaXNfbG9hZGluZykge1xuICAgIGFmdGVyX2xvYWRpbmdfc3RhdGUgPSBuZXdfc3RhdGU7XG4gIH0gZWxzZSB7XG4gICAgYXBwX3N0YXRlID0gbmV3X3N0YXRlO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzdGF0ZUFjdGl2ZSh0ZXN0X3N0YXRlKSB7XG4gIGlmIChpc19sb2FkaW5nKSB7XG4gICAgcmV0dXJuIGFmdGVyX2xvYWRpbmdfc3RhdGUgPT09IHRlc3Rfc3RhdGU7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGFwcF9zdGF0ZSA9PT0gdGVzdF9zdGF0ZTtcbiAgfVxufVxuXG5sZXQgbXNwZiA9IDEwMDA7XG5sZXQgbXNwZl91cGRhdGVfdGltZSA9IDA7XG5sZXQgbXNwZl9mcmFtZV9jb3VudCA9IDA7XG5sZXQgbGFzdF90aWNrX2NwdSA9IDA7XG5sZXQgbXNwZl90aWNrID0gMTAwMDtcbi8vIGxldCBuZXRfdGltZSA9IDEwMDA7XG5sZXQgbXNwZl90aWNrX2FjY3VtID0gMDtcbi8vIGxldCBuZXRfdGltZV9hY2N1bSA9IDA7XG5leHBvcnQgY29uc3QgUEVSRl9ISVNUT1JZX1NJWkUgPSAxMjg7XG5leHBvcnQgbGV0IHBlcmZfc3RhdGUgPSB3aW5kb3cuZ2xvdl9wZXJmX3N0YXRlID0ge1xuICBmcHNncmFwaDoge1xuICAgIGluZGV4OiAwLFxuICAgIGhpc3Rvcnk6IG5ldyBGbG9hdDMyQXJyYXkoUEVSRl9ISVNUT1JZX1NJWkUgKiAyKSxcbiAgfSxcbiAgZ3B1X21lbToge1xuICAgIHRleDogMCxcbiAgICBnZW9tOiAwLFxuICB9LFxufTtcbmxldCBmcHNncmFwaCA9IHBlcmZfc3RhdGUuZnBzZ3JhcGg7XG5cbnBlcmYuYWRkTWV0cmljKHtcbiAgbmFtZTogJ2ZwcycsXG4gIHNob3dfc3RhdDogJ3Nob3dfZnBzJywgLy8gYWx3YXlzLCBpZiB3ZSdyZSBzaG93aW5nIGFueSBtZXRyaWNzXG4gIHNob3dfZ3JhcGg6ICdmcHNfZ3JhcGgnLFxuICBsYWJlbHM6IHtcbiAgICAnZnBzOiAnOiAoKSA9PiAoMTAwMCAvIG1zcGYpLnRvRml4ZWQoMSksXG4gICAgJ21zL2Y6ICc6ICgpID0+IG1zcGYudG9GaXhlZCgwKSxcbiAgICAnY3B1OiAnOiAoKSA9PiBtc3BmX3RpY2sudG9GaXhlZCgwKSxcbiAgICAvLyAnbmV0OiAnOiAoKSA9PiBuZXRfdGltZS50b0ZpeGVkKDApLFxuICB9LFxuICBkYXRhOiBmcHNncmFwaCwgLy8gY29udGFpbiAuaW5kZXggYW5kIC5oaXN0b3J5IChzdHJpZGUgb2YgY29sb3JzLmxlbmd0aClcbiAgbGluZV9zY2FsZV90b3A6IDUwLFxuICBjb2xvcnM6IFtcbiAgICAvLyB2ZWM0KDAuMTYxLCAwLjY3OCwgMSwgMSksIC8vIG5ldCB0aW1lXG4gICAgdmVjNCgxLCAwLjkyNSwgMC4xNTMsIDEpLCAvLyBjcHUvdGljayB0aW1lXG4gICAgdmVjNCgwLCAwLjg5NCwgMC4yMTIsIDEpLCAvLyB0b3RhbCB0aW1lIChHUFUpXG4gIF0sXG4gIGludGVyYWN0YWJsZTogREVCVUcsXG59KTtcblxubGV0IGRvX2JvcmRlcnMgPSB0cnVlO1xubGV0IGRvX3ZpZXdwb3J0X3Bvc3Rwcm9jZXNzID0gZmFsc2U7XG5sZXQgbmVlZF9yZXBvcyA9IDA7XG5cbmV4cG9ydCBmdW5jdGlvbiByZXNpemluZygpIHtcbiAgcmV0dXJuIG5lZWRfcmVwb3M7XG59XG5cbmxldCBhcHBfdGlja19mdW5jdGlvbnMgPSBbXTtcbmV4cG9ydCBmdW5jdGlvbiBhZGRUaWNrRnVuYyhjYikge1xuICBhcHBfdGlja19mdW5jdGlvbnMucHVzaChjYik7XG59XG5cbmxldCBwb3N0X3RpY2sgPSBbXTtcbmV4cG9ydCBmdW5jdGlvbiBwb3N0VGljayhvcHRzKSB7XG4gIG9wdHMudGlja3MgPSBvcHRzLnRpY2tzIHx8IDE7IC8vIHJ1biBpbiBob3cgbWFueSB0aWNrcz9cbiAgb3B0cy5pbmFjdGl2ZSA9IG9wdHMuaW5hY3RpdmUgfHwgZmFsc2U7IC8vIHJ1biBldmVuIGlmIGluYWN0aXZlP1xuICBhc3NlcnQuZXF1YWwodHlwZW9mIG9wdHMuZm4sICdmdW5jdGlvbicpO1xuICBwb3N0X3RpY2sucHVzaChvcHRzKTtcbn1cblxubGV0IHRlbXBvcmFyeV90ZXh0dXJlcyA9IHt9O1xuXG5mdW5jdGlvbiByZXNldEVmZmVjdHMoKSB7XG4gIGZvciAobGV0IGtleSBpbiB0ZW1wb3JhcnlfdGV4dHVyZXMpIHtcbiAgICBsZXQgdGVtcCA9IHRlbXBvcmFyeV90ZXh0dXJlc1trZXldO1xuICAgIC8vIFJlbGVhc2UgdW51c2VkIHRleHR1cmVzXG4gICAgd2hpbGUgKHRlbXAubGlzdC5sZW5ndGggPiB0ZW1wLmlkeCkge1xuICAgICAgdGVtcC5saXN0LnBvcCgpLmRlc3Ryb3koKTtcbiAgICB9XG4gICAgaWYgKCF0ZW1wLmlkeCkge1xuICAgICAgZGVsZXRlIHRlbXBvcmFyeV90ZXh0dXJlc1trZXldO1xuICAgIH0gZWxzZSB7XG4gICAgICB0ZW1wLmlkeCA9IDA7XG4gICAgfVxuICB9XG59XG5cbmNvbnN0IFNBRkFSSV9GVUxMU0NSRUVOX0FTUEVDVCA9IChmdW5jdGlvbiAoKSB7XG4gIGxldCBzY3JlZW4gPSB3aW5kb3cuc2NyZWVuO1xuICBpZiAoIWlzX2lvc19zYWZhcmkgfHwgIXNjcmVlbikge1xuICAgIHJldHVybiAwO1xuICB9XG4gIGNvbnN0IFNBRkFSSV9ESU1TID0geyAvLyB3eGggOiBbZnVsbHNjcmVlbiBhc3BlY3RdXG4gICAgLy8gaVBob25lIFhSXG4gICAgLy8gaVBob25lIDExIFBybyBNYXhcbiAgICAvLyBpUGhvbmUgWFMgTWF4XG4gICAgLy8gaVBob25lIDExXG4gICAgJzg5Niw0MTQnOiA4OTYvNDE0LFxuICAgIC8vIGlQaG9uZSAxMSBQcm9cbiAgICAvLyBpUGhvbmUgWCAocHJvYmFibHkpXG4gICAgJzgxMiwzNzUnOiA4MTIvMzc1LFxuICAgIC8vIGlQaG9uZSA4IFBsdXNcbiAgICAnNzM2LDQxNCc6IDczNi80MTQsXG4gICAgLy8gaVBob25lIDZzK1xuICAgIC8vIGlQaG9uZSA2K1xuICAgICc3MTYsNDE0JzogNzM2LzQxNCwgLy8gKHNjcmVlbi5hdmFpbFdpZHRoIHJlcG9ydHMgMjAgbGVzcylcbiAgICAvLyBpUGhvbmUgOFxuICAgIC8vIGlQaG9uZSA3ICgxMC4xKVxuICAgIC8vIGlQaG9uZSA3ICgxMS40KVxuICAgICc2NjcsMzc1JzogNjY3LzM3NSxcbiAgICAvLyBpUGhvbmUgNnNcbiAgICAvLyBpUGhvbmUgNlxuICAgICc2NDcsMzc1JzogNjY3LzM3NSwgLy8gKHNjcmVlbi5hdmFpbFdpZHRoIHJlcG9ydHMgMjAgbGVzcylcbiAgICAvLyBpUGhvbmUgNXNcbiAgICAnNTQ4LDMyMCc6IDU2OC8zMjAsIC8vIChzY3JlZW4uYXZhaWxXaWR0aCByZXBvcnRzIDIwIGxlc3MpXG4gIH07XG4gIGxldCBrZXkgPSBgJHttYXgoc2NyZWVuLmF2YWlsV2lkdGgsIHNjcmVlbi5hdmFpbEhlaWdodCl9LCR7bWluKHNjcmVlbi5hdmFpbFdpZHRoLCBzY3JlZW4uYXZhaWxIZWlnaHQpfWA7XG4gIHJldHVybiBTQUZBUklfRElNU1trZXldIHx8IDA7XG59KCkpO1xuZnVuY3Rpb24gc2FmYXJpVG9wU2FmZUFyZWEodmlld193LCB2aWV3X2gpIHtcbiAgLy8gRGV0ZWN0IGlmIHRoZSBVUkwgYmFyIGlzIGhpZGRlbiwgYnV0IHNob3VsZCBiZSBhIHNhZmUgYXJlYVxuICBpZiAoU0FGQVJJX0ZVTExTQ1JFRU5fQVNQRUNUICYmIG5lYXJTYW1lKHZpZXdfdy92aWV3X2gsIFNBRkFSSV9GVUxMU0NSRUVOX0FTUEVDVCwgMC4wMDEpKSB7XG4gICAgLy8gTm90ZTogaWYgdXNlciBoYXMgc2NhbGluZyBlbmFibGVkLCB0aGUgcGFkZGluZyByZXF1aXJlZCBtaWdodCBiZSBkaWZmZXJlbnRcbiAgICAvLyAgIGJ1dCB0aGUgc2FtZSBob2xkcyB0cnVlIGZvciB0aGUgc2FmZSBhcmVhIHBhZGRpbmcgZGV0ZWN0ZWQgdmlhIENTUyFcbiAgICByZXR1cm4gNTAgKiAod2luZG93LmRldmljZVBpeGVsUmF0aW8gfHwgMSk7IC8vIHNlZW1zIHRvIGJlIDUwcHRzIG9uIGFsbCBkZXZpY2VzXG4gIH1cbiAgcmV0dXJuIDA7XG59XG5cblxubGV0IGxhc3RfY2FudmFzX3dpZHRoO1xubGV0IGxhc3RfY2FudmFzX2hlaWdodDtcbmxldCBsYXN0X2JvZHlfaGVpZ2h0O1xubGV0IHNhZmVhcmVhX2VsZW07XG5sZXQgc2FmZWFyZWFfaWdub3JlX2JvdHRvbSA9IGZhbHNlO1xubGV0IHNhZmVhcmVhX3ZhbHVlcyA9IFswLDAsMCwwXTtcbmxldCBsYXN0X3NhZmVhcmVhX3ZhbHVlcyA9IFswLDAsMCwwXTtcbmZ1bmN0aW9uIGNoZWNrUmVzaXplKCkge1xuICAvLyB1c2UgVmlzdWFsVmlld3BvcnQgb24gYXQgbGVhc3QgaU9TIFNhZmFyaSAtIGRlYWwgd2l0aCB0YWJzIGFuZCBrZXlib2FyZFxuICAvLyAgIHNocmlua2luZyB0aGUgdmlld3BvcnQgd2l0aG91dCBjaGFuZ2luZyB0aGUgd2luZG93IGhlaWdodFxuICBsZXQgdnYgPSB3aW5kb3cudmlzdWFsVmlld3BvcnQgfHwge307XG4gIGxldCBjc3NfdG9fcmVhbCA9IHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvIHx8IDE7XG4gIGxldCB2aWV3X3cgPSAodnYud2lkdGggfHwgd2luZG93LmlubmVyV2lkdGgpO1xuICBsZXQgdmlld19oID0gKHZ2LmhlaWdodCB8fCB3aW5kb3cuaW5uZXJIZWlnaHQpO1xuICBpZiAodmlld19oICE9PSBsYXN0X2JvZHlfaGVpZ2h0KSB7XG4gICAgLy8gc2V0IHRoaXMgKmJlZm9yZSogZ2V0dGluZyBjYW52YXMgYW5kIHNhZmVhcmVhX2VsZW0gZGltcyBiZWxvd1xuICAgIGxhc3RfYm9keV9oZWlnaHQgPSB2aWV3X2g7XG4gICAgZG9jdW1lbnQuYm9keS5zdHlsZS5oZWlnaHQgPSBgJHt2aWV3X2h9cHhgO1xuICB9XG4gIGxldCBuZXdfd2lkdGggPSByb3VuZChjYW52YXMuY2xpZW50V2lkdGggKiBjc3NfdG9fcmVhbCkgfHwgMTtcbiAgbGV0IG5ld19oZWlnaHQgPSByb3VuZChjYW52YXMuY2xpZW50SGVpZ2h0ICogY3NzX3RvX3JlYWwpIHx8IDE7XG5cbiAgaWYgKGNtZHMuc2FmZWFyZWFbMF0gPT09IC0xKSB7XG4gICAgaWYgKHNhZmVhcmVhX2VsZW0pIHtcbiAgICAgIGxldCBzYV93aWR0aCA9IHNhZmVhcmVhX2VsZW0ub2Zmc2V0V2lkdGg7XG4gICAgICBsZXQgc2FfaGVpZ2h0ID0gc2FmZWFyZWFfZWxlbS5vZmZzZXRIZWlnaHQ7XG4gICAgICBpZiAoc2Ffd2lkdGggJiYgc2FfaGVpZ2h0KSB7XG4gICAgICAgIHY0c2V0KHNhZmVhcmVhX3ZhbHVlcyxcbiAgICAgICAgICBzYWZlYXJlYV9lbGVtLm9mZnNldExlZnQgKiBjc3NfdG9fcmVhbCxcbiAgICAgICAgICBuZXdfd2lkdGggLSAoc2Ffd2lkdGggKyBzYWZlYXJlYV9lbGVtLm9mZnNldExlZnQpICogY3NzX3RvX3JlYWwsXG4gICAgICAgICAgbWF4KHNhZmVhcmVhX2VsZW0ub2Zmc2V0VG9wICogY3NzX3RvX3JlYWwsIHNhZmFyaVRvcFNhZmVBcmVhKHZpZXdfdywgdmlld19oKSksXG4gICAgICAgICAgLy8gTm90ZTogUG9zc2libHkgaWdub3JpbmcgYm90dG9tIHNhZmUgYXJlYSwgaXQgc2VlbXMgbm90IHVzZWZ1bCBvbiBpUGhvbmVzIChkb2VzIG5vdFxuICAgICAgICAgIC8vICBhZGp1c3Qgd2hlbiBrZXlib2FyZCBpcyB1cCwgb25seSBvYnNjdXJlZCBpbiB0aGUgbWlkZGxlLCBpZiBvYmV5aW5nIGxlZnQvcmlnaHQgc2FmZSBhcmVhKVxuICAgICAgICAgIHNhZmVhcmVhX2lnbm9yZV9ib3R0b20gPyAwIDogbmV3X2hlaWdodCAtIChzYV9oZWlnaHQgKyBzYWZlYXJlYV9lbGVtLm9mZnNldFRvcCkgKiBjc3NfdG9fcmVhbCk7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHY0c2V0KHNhZmVhcmVhX3ZhbHVlcyxcbiAgICAgIG5ld193aWR0aCAqIGNsYW1wKGNtZHMuc2FmZWFyZWFbMF0sIDAsIDI1KS8xMDAsXG4gICAgICBuZXdfd2lkdGggKiBjbGFtcChjbWRzLnNhZmVhcmVhWzFdLCAwLCAyNSkvMTAwLFxuICAgICAgbmV3X2hlaWdodCAqIGNsYW1wKGNtZHMuc2FmZWFyZWFbMl0sIDAsIDI1KS8xMDAsXG4gICAgICBuZXdfaGVpZ2h0ICogY2xhbXAoY21kcy5zYWZlYXJlYVszXSwgMCwgMjUpLzEwMCk7XG4gIH1cbiAgaWYgKCF2NHNhbWUoc2FmZWFyZWFfdmFsdWVzLCBsYXN0X3NhZmVhcmVhX3ZhbHVlcykpIHtcbiAgICB2NGNvcHkobGFzdF9zYWZlYXJlYV92YWx1ZXMsIHNhZmVhcmVhX3ZhbHVlcyk7XG4gICAgY2FtZXJhMmQuc2V0U2FmZUFyZWFQYWRkaW5nKHNhZmVhcmVhX3ZhbHVlc1swXSwgc2FmZWFyZWFfdmFsdWVzWzFdLCBzYWZlYXJlYV92YWx1ZXNbMl0sIHNhZmVhcmVhX3ZhbHVlc1szXSk7XG4gICAgbmVlZF9yZXBvcyA9IG1heChuZWVkX3JlcG9zLCAxKTtcbiAgfVxuXG4gIGlmIChuZXdfd2lkdGggIT09IGxhc3RfY2FudmFzX3dpZHRoIHx8IG5ld19oZWlnaHQgIT09IGxhc3RfY2FudmFzX2hlaWdodCkge1xuICAgIHdpbmRvdy5waXhlbF9zY2FsZSA9IGNzc190b19yZWFsOyAvLyBmb3IgZGVidWdcbiAgICBsYXN0X2NhbnZhc193aWR0aCA9IGNhbnZhcy53aWR0aCA9IG5ld193aWR0aCB8fCAxO1xuICAgIGxhc3RfY2FudmFzX2hlaWdodCA9IGNhbnZhcy5oZWlnaHQgPSBuZXdfaGVpZ2h0IHx8IDE7XG4gICAgLy8gRm9yIHRoZSBuZXh0IDEwIGZyYW1lcywgbWFrZSBzdXJlIGZvbnQgc2l6ZSBpcyBjb3JyZWN0XG4gICAgbmVlZF9yZXBvcyA9IDEwO1xuICB9XG4gIGlmIChpc19pb3Nfc2FmYXJpICYmICh3aW5kb3cudmlzdWFsVmlld3BvcnQgfHwgbmVlZF9yZXBvcykpIHtcbiAgICAvLyB3ZSBoYXZlIGFjY3VyYXRlIHZpZXcgaW5mb3JtYXRpb24sIG9yIHNjcmVlbiB3YXMganVzdCByb3RhdGVkIC8gcmVzaXplZFxuICAgIC8vIGZvcmNlIHNjcm9sbCB0byB0b3BcbiAgICB3aW5kb3cuc2Nyb2xsKDAsMCk7XG4gIH1cbn1cblxuZXhwb3J0IGxldCB2aWV3cG9ydCA9IHZlYzQoMCwwLDEsMSk7XG5leHBvcnQgZnVuY3Rpb24gc2V0Vmlld3BvcnQoeHl3aCkge1xuICB2NGNvcHkodmlld3BvcnQsIHh5d2gpO1xuICBnbC52aWV3cG9ydCh4eXdoWzBdLCB4eXdoWzFdLCB4eXdoWzJdLCB4eXdoWzNdKTtcbn1cblxubGV0IGxhc3RfdGVtcF9pZHggPSAwO1xuZXhwb3J0IGZ1bmN0aW9uIGdldFRlbXBvcmFyeVRleHR1cmUodywgaCkge1xuICBsZXQga2V5ID0gdyA/IGAke3d9XyR7aH1gIDogJ3NjcmVlbic7XG4gIGxldCB0ZW1wID0gdGVtcG9yYXJ5X3RleHR1cmVzW2tleV07XG4gIGlmICghdGVtcCkge1xuICAgIHRlbXAgPSB0ZW1wb3JhcnlfdGV4dHVyZXNba2V5XSA9IHsgbGlzdDogW10sIGlkeDogMCB9O1xuICB9XG4gIGlmICh0ZW1wLmlkeCA+PSB0ZW1wLmxpc3QubGVuZ3RoKSB7XG4gICAgbGV0IHRleCA9IHRleHR1cmVzLmNyZWF0ZUZvckNhcHR1cmUoYHRlbXBfJHtrZXl9XyR7KytsYXN0X3RlbXBfaWR4fWApO1xuICAgIHRlbXAubGlzdC5wdXNoKHRleCk7XG4gIH1cbiAgbGV0IHRleCA9IHRlbXAubGlzdFt0ZW1wLmlkeCsrXTtcbiAgcmV0dXJuIHRleDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNhcHR1cmVGcmFtZWJ1ZmZlcih0ZXgsIHcsIGgsIGRvX2ZpbHRlcl9saW5lYXIsIGRvX3dyYXApIHtcbiAgaWYgKCF3ICYmIHJlbmRlcl93aWR0aCkge1xuICAgIHcgPSByZW5kZXJfd2lkdGg7XG4gICAgaCA9IHJlbmRlcl9oZWlnaHQ7XG4gIH1cbiAgaWYgKCF0ZXgpIHtcbiAgICB0ZXggPSBnZXRUZW1wb3JhcnlUZXh0dXJlKHcsIGgpO1xuICB9XG4gIGlmICh3KSB7XG4gICAgdGV4LmNvcHlUZXhJbWFnZSh2aWV3cG9ydFswXSwgdmlld3BvcnRbMV0sIHcsIGgpO1xuICB9IGVsc2Uge1xuICAgIHRleC5jb3B5VGV4SW1hZ2UoMCwgMCwgd2lkdGgsIGhlaWdodCk7XG4gIH1cbiAgdGV4LnNldFNhbXBsZXJTdGF0ZSh7XG4gICAgZmlsdGVyX21pbjogZG9fZmlsdGVyX2xpbmVhciA/IGdsLkxJTkVBUiA6IGdsLk5FQVJFU1QsXG4gICAgZmlsdGVyX21hZzogZG9fZmlsdGVyX2xpbmVhciA/IGdsLkxJTkVBUiA6IGdsLk5FQVJFU1QsXG4gICAgd3JhcF9zOiBkb193cmFwID8gZ2wuUkVQRUFUIDogZ2wuQ0xBTVBfVE9fRURHRSxcbiAgICB3cmFwX3Q6IGRvX3dyYXAgPyBnbC5SRVBFQVQgOiBnbC5DTEFNUF9UT19FREdFLFxuICB9KTtcbiAgcmV0dXJuIHRleDtcbn1cblxubGV0IGZyYW1lX3JlcXVlc3RlZCA9IGZhbHNlO1xuZnVuY3Rpb24gcmVxdWVzdEZyYW1lKCkge1xuICBpZiAoZnJhbWVfcmVxdWVzdGVkKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGZyYW1lX3JlcXVlc3RlZCA9IHRydWU7XG4gIGxldCBtYXhfZnBzID0gc2V0dGluZ3MubWF4X2ZwcztcbiAgaWYgKGRlZmluZXMuU0xPV0xPQUQgJiYgaXNfbG9hZGluZykge1xuICAgIC8vIFNhZmFyaSBvbiBDcm9zc0Jyb3dzZXJUZXN0aW5nIG5lZWRzIHRoaXMgaW4gb3JkZXIgdG8gaGF2ZSBzb21lIHRpbWUgdG8gbG9hZC9kZWNvZGUgYXVkaW8gZGF0YVxuICAgIC8vIFRPRE86IEluc3RlYWQsIGdlbmVyYWxseSwgaWYgbG9hZGluZywgY29tcGFyZSBsYXN0X3RpY2tfY3B1IHZzIGR0LCBhbmQgaWZcbiAgICAvLyAgIHdlJ3JlIG5vdCBpZGxlIGZvciBhdCBsZWFzdCBoYWxmIG9mIHRoZSB0aW1lIGFuZCB3ZSBoYXZlICppbnRlcm5hbCpcbiAgICAvLyAgIGxvYWRzICh0ZXh0dXJlcywgc291bmRzLCBtb2RlbHMsIE5PVCB1c2VyIGNvZGUpLCBkZWxheSBzbyB0aGF0IHdlIGFyZS5cbiAgICBtYXhfZnBzID0gMjtcbiAgfVxuICBpZiAobWF4X2Zwcykge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11c2UtYmVmb3JlLWRlZmluZVxuICAgIHNldFRpbWVvdXQodGljaywgcm91bmQoMTAwMCAvIG1heF9mcHMpKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdXNlLWJlZm9yZS1kZWZpbmVcbiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGljayk7XG4gIH1cbn1cblxubGV0IG1hdF9wcm9qZWN0aW9uXzEwO1xuZXhwb3J0IGxldCBoYWRfM2RfdGhpc19mcmFtZTtcblxuZXhwb3J0IGZ1bmN0aW9uIHNldHVwUHJvamVjdGlvbih1c2VfZm92X3ksIHVzZV93aWR0aCwgdXNlX2hlaWdodCwgem5lYXIsIHpmYXIpIHtcbiAgbWF0NFBlcnNwZWN0aXZlKG1hdF9wcm9qZWN0aW9uLCB1c2VfZm92X3ksIHVzZV93aWR0aC91c2VfaGVpZ2h0LCB6bmVhciwgemZhcik7XG4gIG1hdF9wcm9qZWN0aW9uXzEwID0gbWF0X3Byb2plY3Rpb25bMTBdO1xuICB2NHNldChwcm9qZWN0aW9uX2ludmVyc2UsXG4gICAgMiAvICh1c2Vfd2lkdGggKiBtYXRfcHJvamVjdGlvblswXSksIC8vIHByb2plY3Rpb25fbWF0cml4Lm0wMCksXG4gICAgMiAvICh1c2VfaGVpZ2h0ICogbWF0X3Byb2plY3Rpb25bNV0pLCAvLyBwcm9qZWN0aW9uX21hdHJpeC5tMTEpLFxuICAgIC0oMSArIG1hdF9wcm9qZWN0aW9uWzhdKSAvIG1hdF9wcm9qZWN0aW9uWzBdLCAvLyBwcm9qZWN0aW9uX21hdHJpeC5tMjApIC8gcHJvamVjdGlvbl9tYXRyaXgubTAwLFxuICAgIC0oMSArIG1hdF9wcm9qZWN0aW9uWzldKSAvIG1hdF9wcm9qZWN0aW9uWzVdIC8vIHByb2plY3Rpb25fbWF0cml4Lm0yMSkgLyBwcm9qZWN0aW9uX21hdHJpeC5tMTFcbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNldFpSYW5nZSh6bmVhciwgemZhcikge1xuICBaTkVBUiA9IHpuZWFyO1xuICBaRkFSID0gemZhcjtcbiAgaWYgKGhhZF8zZF90aGlzX2ZyYW1lKSB7XG4gICAgc2V0dXBQcm9qZWN0aW9uKGZvdl95LCB3aWR0aCwgaGVpZ2h0LCBaTkVBUiwgWkZBUik7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0M0RSZW5kZXJpbmcoKSB7XG4gIGhhZF8zZF90aGlzX2ZyYW1lID0gdHJ1ZTtcbiAgZ2wuYmxlbmRGdW5jKGdsLlNSQ19BTFBIQSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQSk7XG4gIGdsLmVuYWJsZShnbC5CTEVORCk7XG4gIGdsLmVuYWJsZShnbC5ERVBUSF9URVNUKTtcbiAgZ2wuZGVwdGhNYXNrKHRydWUpO1xuXG4gIHNldHVwUHJvamVjdGlvbihmb3ZfeSwgd2lkdGgsIGhlaWdodCwgWk5FQVIsIFpGQVIpO1xuXG4gIGdsLnZpZXdwb3J0KHZpZXdwb3J0WzBdLCB2aWV3cG9ydFsxXSwgdmlld3BvcnRbMl0sIHZpZXdwb3J0WzNdKTtcbiAgZ2wuY2xlYXIoZ2wuQ09MT1JfQlVGRkVSX0JJVCB8IGdsLkRFUFRIX0JVRkZFUl9CSVQpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWJpdHdpc2VcbiAgZ2wuZW5hYmxlKGdsLkNVTExfRkFDRSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzdGFydFNwcml0ZVJlbmRlcmluZygpIHtcbiAgZ2wuZGlzYWJsZShnbC5DVUxMX0ZBQ0UpO1xuICBnbC5ibGVuZEZ1bmMoZ2wuU1JDX0FMUEhBLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBKTtcbiAgZ2wuZW5hYmxlKGdsLkJMRU5EKTtcbiAgZ2wuZGlzYWJsZShnbC5ERVBUSF9URVNUKTtcbiAgZ2wuZGVwdGhNYXNrKGZhbHNlKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHByb2plY3Rpb25aQmlhcyhkaXN0LCBhdF96KSB7XG4gIGlmICghZGlzdCkge1xuICAgIG1hdF9wcm9qZWN0aW9uWzEwXSA9IG1hdF9wcm9qZWN0aW9uXzEwO1xuICAgIHJldHVybjtcbiAgfVxuICAvL2xldCBlID0gMiAqIFpGQVIgKiBaTkVBUiAvIChaRkFSIC0gWk5FQVIpICogKGRpc3QgLyAoYXRfeiAqIChhdF96ICsgZGlzdCkpKTtcbiAgbGV0IGUgPSAwLjIgKiAoZGlzdCAvIChhdF96ICogKGF0X3ogKyBkaXN0KSkpO1xuICBlID0gbWF4KGUsIDJlLTcpO1xuICBtYXRfcHJvamVjdGlvblsxMF0gPSBtYXRfcHJvamVjdGlvbl8xMCArIGU7XG59XG5cbmZ1bmN0aW9uIGZpeE5hdGl2ZXMoaXNfc3RhcnR1cCkge1xuICAvLyBJZiBhbnkgYnJvd3NlciBleHRlbnNpb25zIGhhdmUgYWRkZWQgdGhpbmdzIHRvIHRoZSBBcnJheSBwcm90b3R5cGUsIHJlbW92ZSB0aGVtIVxuICBsZXQgYiA9IFtdO1xuICBmb3IgKGxldCBhIGluIGIpIHtcbiAgICBjb25zb2xlW2lzX3N0YXJ0dXAgPyAnbG9nJyA6ICdlcnJvciddKGBGb3VuZCBpbnZhc2l2ZSBlbnVtZXJhYmxlIHByb3BlcnR5IFwiJHthfVwiIG9uIEFycmF5LnByb3RvdHlwZSwgcmVtb3ZpbmcuLi5gKTtcbiAgICBsZXQgb2xkX3ZhbCA9IGJbYV07XG4gICAgZGVsZXRlIEFycmF5LnByb3RvdHlwZVthXTtcbiAgICAvLyBJZiB0aGlzIGZhaWxzIHRvIHdvcmssIHBlcmhhcHMgdHJ5IHVzaW5nIE9iamVjdC5wcmV2ZW50RXh0ZW5zaW9ucyhBcnJheS5wcm90b3R5cGUpIGluIGFuIGlubGluZSBoZWFkZXIgc2NyaXB0P1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1leHRlbmQtbmF0aXZlXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEFycmF5LnByb3RvdHlwZSwgYSwgeyB2YWx1ZTogb2xkX3ZhbCwgZW51bWVyYWJsZTogZmFsc2UgfSk7XG4gIH1cbiAgZm9yIChsZXQgYSBpbiBiKSB7XG4gICAgLy8gRmFpbGVkOiBjb2RlIHRoYXQgaXRlcmF0ZXMgYXJyYXlzIHdpbGwgZmFpbFxuICAgIGFzc2VydChmYWxzZSwgYEFycmF5LnByb3RvdHlwZSBoYXMgdW5yZW1vdmFibGUgbWVtYmVyICR7YX1gKTtcbiAgfVxufVxuXG5leHBvcnQgY29uc3QgaHJub3cgPSB3aW5kb3cucGVyZm9ybWFuY2UgPyB3aW5kb3cucGVyZm9ybWFuY2Uubm93LmJpbmQod2luZG93LnBlcmZvcm1hbmNlKSA6IERhdGUubm93LmJpbmQoRGF0ZSk7XG5cbmxldCBsYXN0X3RpY2sgPSAwO1xuZnVuY3Rpb24gdGljayh0aW1lc3RhbXApIHtcbiAgZnJhbWVfcmVxdWVzdGVkID0gZmFsc2U7XG4gIC8vIGlmICh0aW1lc3RhbXAgPCAxZTEyKSB7IC8vIGhpZ2ggcmVzb2x1dGlvbiB0aW1lclxuICAvLyAgIHRoaXMgZW5kcyB1cCBiZWluZyBhIHZhbHVlIHdheSBiYWNrIGluIHRpbWUsIHJlbGF0aXZlIHRvIHdoYXQgaHJub3coKSByZXR1cm5zLFxuICAvLyAgIGFuZCBldmVuIGJhY2sgaW4gdGltZSByZWxhdGl2ZSB0byBpbnB1dCBldmVudHMgYWxyZWFkeSBkaXNwYXRjaGVkLFxuICAvLyAgIGNhdXNpbmcgdGltaW5nIGNvbmZ1c2lvbiwgc28gaWdub3JlIGl0LCBqdXN0IGNhbGwgaHJub3coKVxuICAvLyAgIGhydGltZSA9IHRpbWVzdGFtcDtcbiAgLy8gfSBlbHNlIHsgLy8gcHJvYmFibHkgaW50ZWdlciBtaWxsaXNlY29uZHMgc2luY2UgZXBvY2gsIG9yIG5vdGhpbmdcbiAgaHJ0aW1lID0gaHJub3coKTtcbiAgLy8gfVxuICBsZXQgbm93ID0gcm91bmQoaHJ0aW1lKTsgLy8gQ29kZSBhc3N1bWVzIGludGVnZXIgbWlsbGlzZWNvbmRzXG4gIGlmICghbGFzdF90aWNrKSB7XG4gICAgbGFzdF90aWNrID0gbm93O1xuICB9XG4gIHRoaXNfZnJhbWVfdGltZV9hY3R1YWwgPSBub3cgLSBsYXN0X3RpY2s7XG4gIGxldCBkdCA9IG1pbihtYXgodGhpc19mcmFtZV90aW1lX2FjdHVhbCwgMSksIDI1MCk7XG4gIGZyYW1lX2R0ID0gZHQ7XG4gIGxhc3RfdGljayA9IG5vdztcbiAgZnJhbWVfdGltZXN0YW1wICs9IGR0O1xuICArK2ZyYW1lX2luZGV4O1xuXG4gIGZpeE5hdGl2ZXMoZmFsc2UpO1xuXG4gIC8vIGxldCB0aGlzX25ldF90aW1lID0gd3NjbGllbnQuZ2V0TmV0VGltZSgpO1xuICAvLyBmcHNncmFwaC5oaXN0b3J5WyhmcHNncmFwaC5pbmRleCAlIFBFUkZfSElTVE9SWV9TSVpFKSAqIDMgKyAwXSA9IHRoaXNfbmV0X3RpbWU7XG4gIGZwc2dyYXBoLmhpc3RvcnlbKGZwc2dyYXBoLmluZGV4ICUgUEVSRl9ISVNUT1JZX1NJWkUpICogMiArIDFdID0gdGhpc19mcmFtZV90aW1lX2FjdHVhbDtcbiAgZnBzZ3JhcGguaW5kZXgrKztcbiAgZnBzZ3JhcGguaGlzdG9yeVsoZnBzZ3JhcGguaW5kZXggJSBQRVJGX0hJU1RPUllfU0laRSkgKiAyICsgMF0gPSAwO1xuXG4gICsrbXNwZl9mcmFtZV9jb3VudDtcbiAgbXNwZl90aWNrX2FjY3VtICs9IGxhc3RfdGlja19jcHU7XG4gIC8vIG5ldF90aW1lX2FjY3VtICs9IHRoaXNfbmV0X3RpbWU7XG4gIGlmIChub3cgLSBtc3BmX3VwZGF0ZV90aW1lID4gMTAwMCkge1xuICAgIGlmICghbXNwZl91cGRhdGVfdGltZSkge1xuICAgICAgbXNwZl91cGRhdGVfdGltZSA9IG5vdztcbiAgICB9IGVsc2Uge1xuICAgICAgbXNwZiA9IChub3cgLSBtc3BmX3VwZGF0ZV90aW1lKSAvIG1zcGZfZnJhbWVfY291bnQ7XG4gICAgICBtc3BmX3RpY2sgPSBtc3BmX3RpY2tfYWNjdW0gLyBtc3BmX2ZyYW1lX2NvdW50O1xuICAgICAgbXNwZl90aWNrX2FjY3VtID0gMDtcbiAgICAgIC8vIG5ldF90aW1lID0gbmV0X3RpbWVfYWNjdW0gLyBtc3BmX2ZyYW1lX2NvdW50O1xuICAgICAgLy8gbmV0X3RpbWVfYWNjdW0gPSAwO1xuICAgICAgbXNwZl9mcmFtZV9jb3VudCA9IDA7XG4gICAgICBtc3BmX3VwZGF0ZV90aW1lID0gbm93O1xuICAgIH1cbiAgfVxuXG4gIGlmIChkb2N1bWVudC5oaWRkZW4gfHwgZG9jdW1lbnQud2Via2l0SGlkZGVuKSB7XG4gICAgcmVzZXRFZmZlY3RzKCk7XG4gICAgbGFzdF90aWNrX2NwdSA9IDA7XG4gICAgZm9yIChsZXQgaWkgPSBwb3N0X3RpY2subGVuZ3RoIC0gMTsgaWkgPj0gMDsgLS1paSkge1xuICAgICAgaWYgKHBvc3RfdGlja1tpaV0uaW5hY3RpdmUgJiYgIS0tcG9zdF90aWNrW2lpXS50aWNrcykge1xuICAgICAgICBwb3N0X3RpY2tbaWldLmZuKCk7XG4gICAgICAgIHJpZHgocG9zdF90aWNrLCBpaSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJlcXVlc3RGcmFtZSgpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGhhZF8zZF90aGlzX2ZyYW1lID0gZmFsc2U7XG4gIGNoZWNrUmVzaXplKCk7XG4gIHdpZHRoID0gY2FudmFzLndpZHRoO1xuICBoZWlnaHQgPSBjYW52YXMuaGVpZ2h0O1xuXG4gIGlmIChhbnlfM2QpIHtcbiAgICAvLyBzZXR0aW5nIHRoZSBmb3YgdmFsdWVzIGZvciB0aGUgZnJhbWUgZXZlbiBpZiB3ZSBkb24ndCBkbyAzRCB0aGlzIGZyYW1lLCBiZWNhdXNlIHNvbWV0aGluZ1xuICAgIC8vIG1pZ2h0IG5lZWQgaXQgYmVmb3JlIHN0YXJ0M0RSZW5kZXJpbmcoKSAoZS5nLiBtb3VzZSBjbGljayBpbnZlcnNlIHByb2plY3Rpb24pXG4gICAgaWYgKHdpZHRoID4gaGVpZ2h0KSB7XG4gICAgICBmb3ZfeSA9IGZvdl9taW47XG4gICAgICBsZXQgcmlzZSA9IHdpZHRoL2hlaWdodCAqIHNpbihmb3ZfeSAvIDIpIC8gY29zKGZvdl95IC8gMik7XG4gICAgICBmb3ZfeCA9IDIgKiBhc2luKHJpc2UgLyBzcXJ0KHJpc2UgKiByaXNlICsgMSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBmb3ZfeCA9IGZvdl9taW47XG4gICAgICBsZXQgcmlzZSA9IGhlaWdodC93aWR0aCAqIHNpbihmb3ZfeCAvIDIpIC8gY29zKGZvdl94IC8gMik7XG4gICAgICBmb3ZfeSA9IDIgKiBhc2luKHJpc2UgLyBzcXJ0KHJpc2UgKiByaXNlICsgMSkpO1xuICAgIH1cbiAgfVxuICB0ZXh0dXJlcy5iaW5kKDAsIHRleHR1cmVzLnRleHR1cmVzLmVycm9yKTtcblxuICBjYW1lcmEyZC50aWNrQ2FtZXJhMkQoKTtcbiAgY2FtZXJhMmQuc2V0QXNwZWN0Rml4ZWQoZ2FtZV93aWR0aCwgZ2FtZV9oZWlnaHQpO1xuXG4gIHNvdW5kVGljayhkdCk7XG4gIGlucHV0LnRpY2tJbnB1dCgpO1xuICBnbG92X3VpLnRpY2tVSShkdCk7XG5cbiAgaWYgKG5lZWRfcmVwb3MpIHtcbiAgICAtLW5lZWRfcmVwb3M7XG4gICAgbGV0IHVsID0gW107XG4gICAgY2FtZXJhMmQudmlydHVhbFRvRG9tKHVsLCBbMCwwXSk7XG4gICAgbGV0IGxyID0gW107XG4gICAgY2FtZXJhMmQudmlydHVhbFRvRG9tKGxyLCBbZ2FtZV93aWR0aC0xLGdhbWVfaGVpZ2h0LTFdKTtcbiAgICBsZXQgdmlld3BvcnQyID0gW3VsWzBdLCB1bFsxXSwgbHJbMF0sIGxyWzFdXTtcbiAgICBsZXQgdmlld19oZWlnaHQgPSB2aWV3cG9ydDJbM10gLSB2aWV3cG9ydDJbMV07XG4gICAgLy8gZGVmYXVsdCBmb250IHNpemUgb2YgMTYgd2hlbiBhdCBoZWlnaHQgb2YgZ2FtZV9oZWlnaHRcbiAgICBsZXQgZm9udF9zaXplID0gbWluKDI1NiwgbWF4KDIsIGZsb29yKHZpZXdfaGVpZ2h0LzgwMCAqIDE2KSkpO1xuICAgIGxldCBlbGVtX2Z1bGxzY3JlZW4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZnVsbHNjcmVlbicpO1xuICAgIGlmIChlbGVtX2Z1bGxzY3JlZW4pIHtcbiAgICAgIGVsZW1fZnVsbHNjcmVlbi5zdHlsZVsnZm9udC1zaXplJ10gPSBgJHtmb250X3NpemV9cHhgO1xuICAgIH1cbiAgfVxuXG4gIGlmIChkb19ib3JkZXJzKSB7XG4gICAgLy8gQm9yZGVyc1xuICAgIGdsb3ZfdWkuZHJhd1JlY3QoY2FtZXJhMmQueDBSZWFsKCksIGNhbWVyYTJkLnkwUmVhbCgpLCBjYW1lcmEyZC54MVJlYWwoKSwgMCwgWi5CT1JERVJTLCBib3JkZXJfY29sb3IpO1xuICAgIGdsb3ZfdWkuZHJhd1JlY3QoY2FtZXJhMmQueDBSZWFsKCksIGdhbWVfaGVpZ2h0LCBjYW1lcmEyZC54MVJlYWwoKSwgY2FtZXJhMmQueTFSZWFsKCksIFouQk9SREVSUywgYm9yZGVyX2NvbG9yKTtcbiAgICBnbG92X3VpLmRyYXdSZWN0KGNhbWVyYTJkLngwUmVhbCgpLCAwLCAwLCBnYW1lX2hlaWdodCwgWi5CT1JERVJTLCBib3JkZXJfY29sb3IpO1xuICAgIGdsb3ZfdWkuZHJhd1JlY3QoZ2FtZV93aWR0aCwgMCwgY2FtZXJhMmQueDFSZWFsKCksIGdhbWVfaGVpZ2h0LCBaLkJPUkRFUlMsIGJvcmRlcl9jb2xvcik7XG4gIH1cblxuICBpZiAoc2V0dGluZ3Muc2hvd19tZXRyaWNzKSB7XG4gICAgcGVyZi5kcmF3KCk7XG4gIH1cblxuICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgYXBwX3RpY2tfZnVuY3Rpb25zLmxlbmd0aDsgKytpaSkge1xuICAgIGFwcF90aWNrX2Z1bmN0aW9uc1tpaV0oZHQpO1xuICB9XG4gIGlmIChhcHBfc3RhdGUpIHtcbiAgICBhcHBfc3RhdGUoZHQpO1xuICB9XG5cbiAgZ2xvdl9wYXJ0aWNsZXMudGljayhkdCk7IC8vICphZnRlciogYXBwX3RpY2ssIHNvIG5ld2x5IGFkZGVkL2tpbGxlZCBwYXJ0aWNsZXMgY2FuIGJlIHF1ZXVlZCBpbnRvIHRoZSBkcmF3IGxpc3RcbiAgZ2xvdl90cmFuc2l0aW9uLnJlbmRlcihkdCk7XG5cbiAgaWYgKCFoYWRfM2RfdGhpc19mcmFtZSkge1xuICAgIC8vIGRlbGF5ZWQgY2xlYXIgKGFuZCBnZW5lcmFsIEdMIGluaXQpIHVudGlsIGFmdGVyIGFwcF9zdGF0ZSwgYXBwIG1pZ2h0IGNoYW5nZSBjbGVhciBjb2xvclxuICAgIGdsLnZpZXdwb3J0KHZpZXdwb3J0WzBdLCB2aWV3cG9ydFsxXSwgdmlld3BvcnRbMl0sIHZpZXdwb3J0WzNdKTtcbiAgICAvLyBUT0RPOiBmb3IgZG9fdmlld3BvcnRfcG9zdF9wcm9jZXNzLCB3ZSBuZWVkIHRvIGVuYWJsZSBnbC5zY2lzc29yIHRvIGF2b2lkIGNsZWFyaW5nIHRoZSB3aG9sZSBzY3JlZW4hXG4gICAgLy8gZ2wuc2Npc3NvcigwLCAwLCB2aWV3cG9ydFsyXSAtIHZpZXdwb3J0WzBdLCB2aWV3cG9ydFszXSAtIHZpZXdwb3J0WzFdKTtcbiAgICBnbC5jbGVhcihnbC5DT0xPUl9CVUZGRVJfQklUKTtcbiAgfVxuXG4gIHN0YXJ0U3ByaXRlUmVuZGVyaW5nKCk7XG4gIHNwcml0ZXMuZHJhdygpO1xuXG4gIGdsb3ZfdWkuZW5kRnJhbWUoKTtcblxuICBpZiAocmVuZGVyX3dpZHRoKSB7XG4gICAgbGV0IHNvdXJjZSA9IGNhcHR1cmVGcmFtZWJ1ZmZlcigpO1xuICAgIGxldCBjbGVhcl9jb2xvciA9IFswLCAwLCAwLCAxXTtcbiAgICBsZXQgZmluYWxfdmlld3BvcnQgPSBbXG4gICAgICBjYW1lcmEyZC5yZW5kZXJfb2Zmc2V0X3gsIGNhbWVyYTJkLnJlbmRlcl9vZmZzZXRfeV9ib3R0b20sXG4gICAgICBjYW1lcmEyZC5yZW5kZXJfdmlld3BvcnRfdywgY2FtZXJhMmQucmVuZGVyX3ZpZXdwb3J0X2hcbiAgICBdO1xuICAgIGlmIChkb192aWV3cG9ydF9wb3N0cHJvY2Vzcykge1xuICAgICAgZWZmZWN0cy5hcHBseVBpeGVseUV4cGFuZCh7IHNvdXJjZSwgZmluYWxfdmlld3BvcnQsIGNsZWFyX2NvbG9yIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoY2xlYXJfY29sb3IpIHtcbiAgICAgICAgZ2wuY2xlYXJDb2xvcihjbGVhcl9jb2xvclswXSwgY2xlYXJfY29sb3JbMV0sIGNsZWFyX2NvbG9yWzJdLCBjbGVhcl9jb2xvclszXSk7XG4gICAgICAgIGdsLmNsZWFyKGdsLkNPTE9SX0JVRkZFUl9CSVQpO1xuICAgICAgfVxuICAgICAgc2V0Vmlld3BvcnQoZmluYWxfdmlld3BvcnQpO1xuICAgICAgLy8gZ2wuc2Npc3NvcigwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICAgIGVmZmVjdHMuYXBwbHlDb3B5KHsgc291cmNlIH0pO1xuICAgIH1cbiAgfVxuXG4gIGlucHV0LmVuZEZyYW1lKCk7XG4gIHJlc2V0RWZmZWN0cygpO1xuICB0ZXh0dXJlc1RpY2soKTtcblxuICBmb3IgKGxldCBpaSA9IHBvc3RfdGljay5sZW5ndGggLSAxOyBpaSA+PSAwOyAtLWlpKSB7XG4gICAgaWYgKCEtLXBvc3RfdGlja1tpaV0udGlja3MpIHtcbiAgICAgIHBvc3RfdGlja1tpaV0uZm4oKTtcbiAgICAgIHJpZHgocG9zdF90aWNrLCBpaSk7XG4gICAgfVxuICB9XG5cbiAgbGFzdF90aWNrX2NwdSA9IGhybm93KCkgLSBub3c7XG4gIGZwc2dyYXBoLmhpc3RvcnlbKGZwc2dyYXBoLmluZGV4ICUgUEVSRl9ISVNUT1JZX1NJWkUpICogMiArIDBdID0gbGFzdF90aWNrX2NwdTtcbiAgcmVxdWVzdEZyYW1lKCk7XG59XG5cbmxldCBlcnJvcl9yZXBvcnRfZGV0YWlscyA9IHt9O1xubGV0IGVycm9yX3JlcG9ydF9kZXRhaWxzX3N0ciA9ICcnO1xuZXhwb3J0IGZ1bmN0aW9uIHNldEVycm9yUmVwb3J0RGV0YWlscyhrZXksIHZhbHVlKSB7XG4gIGlmICh2YWx1ZSkge1xuICAgIGVycm9yX3JlcG9ydF9kZXRhaWxzW2tleV0gPSBlc2NhcGUoU3RyaW5nKHZhbHVlKSk7XG4gIH0gZWxzZSB7XG4gICAgZGVsZXRlIGVycm9yX3JlcG9ydF9kZXRhaWxzW2tleV07XG4gIH1cbiAgZXJyb3JfcmVwb3J0X2RldGFpbHNfc3RyID0gYCYke09iamVjdC5rZXlzKGVycm9yX3JlcG9ydF9kZXRhaWxzKVxuICAgIC5tYXAoKGspID0+IGAke2t9PSR7ZXJyb3JfcmVwb3J0X2RldGFpbHNba119YClcbiAgICAuam9pbignJicpfWA7XG59XG5zZXRFcnJvclJlcG9ydERldGFpbHMoJ3ZlcicsIEJVSUxEX1RJTUVTVEFNUCk7XG5sZXQgbGFzdF9lcnJvcl90aW1lID0gMDtcbmxldCBjcmFzaF9pZHggPSAwO1xuLy8gRXJyb3JzIGZyb20gcGx1Z2lucyB0aGF0IHdlIGRvbid0IHdhbnQgdG8gZ2V0IHJlcG9ydGVkIHRvIHVzLCBvciBzaG93IHRoZSB1c2VyIVxubGV0IGZpbHRlcmVkX2Vycm9ycyA9IC9hdmFzdF9zdWJtaXR8dmNfcmVxdWVzdF9hY3Rpb24vO1xuZnVuY3Rpb24gZ2xvdkVycm9yUmVwb3J0KG1zZywgZmlsZSwgbGluZSwgY29sKSB7XG4gICsrY3Jhc2hfaWR4O1xuICBsZXQgbm93ID0gRGF0ZS5ub3coKTtcbiAgc2V0VGltZW91dChyZXF1ZXN0RnJhbWUsIDEpO1xuICBsZXQgZHQgPSBub3cgLSBsYXN0X2Vycm9yX3RpbWU7XG4gIGxhc3RfZXJyb3JfdGltZSA9IG5vdztcbiAgaWYgKGVycm9yX3JlcG9ydF9kaXNhYmxlZCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAoZHQgPCAzMCoxMDAwKSB7XG4gICAgLy8gTGVzcyB0aGFuIDMwIHNlY29uZHMgc2luY2UgdGhlIGxhc3QgZXJyb3IsIGVpdGhlciB3ZSdyZSBlcnJvcmluZyBldmVyeVxuICAgIC8vIGZyYW1lLCBvciB0aGlzIGlzIGEgc2Vjb25kYXJ5IGVycm9yIGNhdXNlZCBieSB0aGUgZmlyc3QsIGRvIG5vdCByZXBvcnQgaXQuXG4gICAgLy8gQ291bGQgbWF5YmUgaGFzaCB0aGUgZXJyb3IgbWVzc2FnZSBhbmQganVzdCByZXBvcnQgZWFjaCBtZXNzYWdlIG9uY2UsIGFuZFxuICAgIC8vIGZsYWcgZXJyb3JzIGFzIHByaW1hcnkgb3Igc2Vjb25kYXJ5LlxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAobXNnLm1hdGNoKGZpbHRlcmVkX2Vycm9ycykpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgLy8gUG9zdCB0byBhbiBlcnJvciByZXBvcnRpbmcgZW5kcG9pbnQgdGhhdCAocHJvYmFibHkpIGRvZXNuJ3QgZXhpc3QgLSBpdCdsbCBnZXQgaW4gdGhlIGxvZ3MgYW55d2F5IVxuICBsZXQgdXJsID0gdXJsaGFzaC5nZXRBUElQYXRoKCk7IC8vIGJhc2UgbGlrZSBodHRwOi8vZm9vLmNvbS9iYXIvICh3aXRob3V0IGluZGV4Lmh0bWwpXG4gIHVybCArPSBgZXJyb3JSZXBvcnQ/Y2lkeD0ke2NyYXNoX2lkeH0mZmlsZT0ke2VzY2FwZShmaWxlKX0mbGluZT0ke2xpbmV9JmNvbD0ke2NvbH0mdXJsPSR7ZXNjYXBlKGxvY2F0aW9uLmhyZWYpfWAgK1xuICAgIGAmbXNnPSR7ZXNjYXBlKG1zZyl9JHtlcnJvcl9yZXBvcnRfZGV0YWlsc19zdHJ9YDtcbiAgbGV0IHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICB4aHIub3BlbignUE9TVCcsIHVybCwgdHJ1ZSk7XG4gIHhoci5zZW5kKG51bGwpO1xuICByZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gcGVyaW9kaWNseVJlcXVlc3RGcmFtZSgpIHtcbiAgcmVxdWVzdEZyYW1lKCk7XG4gIHNldFRpbWVvdXQocGVyaW9kaWNseVJlcXVlc3RGcmFtZSwgNTAwMCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzdGFydHVwKHBhcmFtcykge1xuICBmaXhOYXRpdmVzKHRydWUpO1xuXG4gIGNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYW52YXMnKTtcbiAgc2FmZWFyZWFfZWxlbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzYWZlYXJlYScpO1xuXG4gIGlmIChwYXJhbXMuZXJyb3JfcmVwb3J0ICE9PSBmYWxzZSkge1xuICAgIHdpbmRvdy5nbG92X2Vycm9yX3JlcG9ydCA9IGdsb3ZFcnJvclJlcG9ydDtcbiAgfVxuXG4gIHNhZmVhcmVhX2lnbm9yZV9ib3R0b20gPSBwYXJhbXMuc2FmZWFyZWFfaWdub3JlX2JvdHRvbSB8fCBmYWxzZTtcblxuICAvLyByZXNpemUgdGhlIGNhbnZhcyB0byBmaWxsIGJyb3dzZXIgd2luZG93IGR5bmFtaWNhbGx5XG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBjaGVja1Jlc2l6ZSwgZmFsc2UpO1xuICBjaGVja1Jlc2l6ZSgpO1xuXG4gIGxldCBpc19waXhlbHkgPSBwYXJhbXMucGl4ZWx5ICYmIHBhcmFtcy5waXhlbHkgIT09ICdvZmYnO1xuICBhbnRpYWxpYXMgPSBwYXJhbXMuYW50aWFsaWFzIHx8ICFpc19waXhlbHkgJiYgcGFyYW1zLmFudGlhbGlhcyAhPT0gZmFsc2U7XG4gIGxldCBwb3dlclByZWZlcmVuY2UgPSBwYXJhbXMuaGlnaCA/ICdoaWdoLXBlcmZvcm1hbmNlJyA6ICdkZWZhdWx0JztcbiAgbGV0IGNvbnRleHRfbmFtZXMgPSBbJ3dlYmdsMicsICd3ZWJnbCcsICdleHBlcmltZW50YWwtd2ViZ2wnXTtcbiAgbGV0IGZvcmNlX3dlYmdsMSA9IGRlZmluZXMuTk9XRUJHTDI7XG4gIGxldCBkaXNhYmxlX2RhdGEgPSBsb2NhbF9zdG9yYWdlLmdldEpTT04oJ3dlYmdsMl9kaXNhYmxlJyk7XG4gIC8vIENoZWNrIGlmIGEgcHJldmlvdXMsIHJlY2VudCBydW4gaGFkIGFuIGVycm9yIHRoYXQgaGludGVkIHdlIHNob3VsZCBkaXNhYmxlIFdlYkdMMlxuICBpZiAoZGlzYWJsZV9kYXRhICYmIGRpc2FibGVfZGF0YS51YSA9PT0gbmF2aWdhdG9yLnVzZXJBZ2VudCAmJiBkaXNhYmxlX2RhdGEudHMgPiBEYXRlLm5vdygpIC0gNyoyNCo2MCo2MCoxMDAwKSB7XG4gICAgY29uc29sZS5sb2coJ0Rpc2FibGluZyBXZWJHTDIgYmVjYXVzZSBhIHByZXZpb3VzIHJ1biBlbmNvdW50ZXJlZCBhIHJlbGF0ZWQgZXJyb3InKTtcbiAgICBmb3JjZV93ZWJnbDEgPSB0cnVlO1xuICB9XG4gIGlmIChERUJVRyAmJiAhZGVmaW5lcy5GT1JDRVdFQkdMMikge1xuICAgIGxldCByYyA9IGxvY2FsX3N0b3JhZ2UuZ2V0SlNPTigncnVuX2NvdW50JywgMCkgKyAxO1xuICAgIGxvY2FsX3N0b3JhZ2Uuc2V0SlNPTigncnVuX2NvdW50JywgcmMpO1xuICAgIGlmIChyYyAlIDIpIHtcbiAgICAgIGZvcmNlX3dlYmdsMSA9IHRydWU7XG4gICAgfVxuICB9XG4gIGlmIChmb3JjZV93ZWJnbDEpIHtcbiAgICBjb250ZXh0X25hbWVzLnNwbGljZSgwLCAxKTtcbiAgfVxuICBsZXQgY29udGV4dF9vcHRzID0gW3sgYW50aWFsaWFzLCBwb3dlclByZWZlcmVuY2UgfSwgeyBwb3dlclByZWZlcmVuY2UgfSwge31dO1xuICBsZXQgZ29vZCA9IGZhbHNlO1xuICB3ZWJnbDIgPSBmYWxzZTtcbiAgZm9yIChsZXQgaSA9IDA7ICFnb29kICYmIGkgPCBjb250ZXh0X25hbWVzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgZm9yIChsZXQgamogPSAwOyAhZ29vZCAmJiBqaiA8IGNvbnRleHRfb3B0cy5sZW5ndGg7ICsramopIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHdpbmRvdy5nbCA9IGNhbnZhcy5nZXRDb250ZXh0KGNvbnRleHRfbmFtZXNbaV0sIGNvbnRleHRfb3B0c1tqal0pO1xuICAgICAgICBpZiAod2luZG93LmdsKSB7XG4gICAgICAgICAgaWYgKGNvbnRleHRfbmFtZXNbaV0gPT09ICd3ZWJnbDInKSB7XG4gICAgICAgICAgICB3ZWJnbDIgPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBnb29kID0gdHJ1ZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAvLyBpZ25vcmVcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgaWYgKCFnb29kKSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWFsZXJ0XG4gICAgd2luZG93LmFsZXJ0KCdTb3JyeSwgYnV0IHlvdXIgYnJvd3NlciBkb2VzIG5vdCBzdXBwb3J0IFdlYkdMIG9yIGRvZXMgbm90IGhhdmUgaXQgZW5hYmxlZC4nKTtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbG9hZGluZycpLnN0eWxlLnZpc2liaWxpdHkgPSAnaGlkZGVuJztcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbm93ZWJnbCcpLnN0eWxlLnZpc2liaWxpdHkgPSAndmlzaWJsZSc7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGNvbnNvbGUubG9nKGBVc2luZyBXZWJHTCR7d2ViZ2wyPzI6MX1gKTtcblxuICBhc3NlcnQoZ2wpO1xuICBjYW52YXMuZm9jdXMoKTtcbiAgd2lkdGggPSBjYW52YXMud2lkdGg7XG4gIGhlaWdodCA9IGNhbnZhcy5oZWlnaHQ7XG4gIGdhbWVfd2lkdGggPSBwYXJhbXMuZ2FtZV93aWR0aCB8fCAxMjgwO1xuICBnYW1lX2hlaWdodCA9IHBhcmFtcy5nYW1lX2hlaWdodCB8fCA5NjA7XG4gIGFueV8zZCA9IHBhcmFtcy5hbnlfM2QgfHwgZmFsc2U7XG4gIFpORUFSID0gcGFyYW1zLnpuZWFyIHx8IDAuNztcbiAgWkZBUiA9IHBhcmFtcy56ZmFyIHx8IDEwMDAwO1xuICBpZiAocGFyYW1zLnBpeGVseSA9PT0gJ3N0cmljdCcpIHtcbiAgICByZW5kZXJfd2lkdGggPSBnYW1lX3dpZHRoO1xuICAgIHJlbmRlcl9oZWlnaHQgPSBnYW1lX2hlaWdodDtcbiAgICBpZiAocGFyYW1zLnZpZXdwb3J0X3Bvc3Rwcm9jZXNzKSB7XG4gICAgICBkb192aWV3cG9ydF9wb3N0cHJvY2VzcyA9IHRydWU7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHJlbmRlcl93aWR0aCA9IHVuZGVmaW5lZDtcbiAgICByZW5kZXJfaGVpZ2h0ID0gdW5kZWZpbmVkO1xuICB9XG4gIHBpeGVsX2FzcGVjdCA9IHBhcmFtcy5waXhlbF9hc3BlY3QgfHwgMTtcblxuICBnbC5kZXB0aEZ1bmMoZ2wuTEVRVUFMKTtcbiAgLy8gZ2wuZW5hYmxlKGdsLlNDSVNTT1JfVEVTVCk7XG4gIGlmICghYW55XzNkKSB7XG4gICAgZ2wuZGlzYWJsZShnbC5DVUxMX0ZBQ0UpO1xuICB9XG4gIGdsLmN1bGxGYWNlKGdsLkJBQ0spO1xuICBnbC5jbGVhckNvbG9yKDAsIDAuMSwgMC4yLCAxKTtcbiAgZ2wucGl4ZWxTdG9yZWkoZ2wuVU5QQUNLX0FMSUdOTUVOVCwgMSk7IC8vIEFsbG93IFJHQiB0ZXh0dXJlIGRhdGEgd2l0aCBub24tbXVsdC00IHdpZHRoc1xuXG4gIHRleHR1cmVzLnN0YXJ0dXAoKTtcbiAgZ2VvbS5zdGFydHVwKCk7XG4gIHNoYWRlcnMuc3RhcnR1cCh7XG4gICAgbGlnaHRfZGlmZnVzZSxcbiAgICBsaWdodF9kaXJfdnMsXG4gICAgYW1iaWVudDogbGlnaHRfYW1iaWVudCxcbiAgICBtYXRfbTogbWF0X20sXG4gICAgbWF0X212OiBtYXRfbXYsXG4gICAgbWF0X3ZwOiBtYXRfdnAsXG4gICAgbXZwOiBtYXRfbXZwLFxuICAgIG12X2ludl90cmFuczogbWF0X212X2ludl90cmFuc2Zvcm0sXG4gICAgbWF0X2ludl92aWV3OiBtYXRfaW52X3ZpZXcsXG4gICAgdmlldzogbWF0X3ZpZXcsXG4gICAgcHJvamVjdGlvbjogbWF0X3Byb2plY3Rpb24sXG4gICAgcHJvamVjdGlvbl9pbnZlcnNlLFxuICB9KTtcbiAgY2FtZXJhMmQuc3RhcnR1cCgpO1xuICBzcHJpdGVzLnN0YXJ0dXAoKTtcbiAgaW5wdXQuc3RhcnR1cChjYW52YXMsIHBhcmFtcyk7XG4gIGlmIChhbnlfM2QpIHtcbiAgICBtb2RlbHMuc3RhcnR1cCgpO1xuICB9XG5cbiAgLyogZXNsaW50LWRpc2FibGUgZ2xvYmFsLXJlcXVpcmUgKi9cbiAgZ2xvdl9wYXJ0aWNsZXMgPSByZXF1aXJlKCcuL3BhcnRpY2xlcy5qcycpLmNyZWF0ZSgpO1xuXG4gIGlmIChpc19waXhlbHkpIHtcbiAgICB0ZXh0dXJlcy5kZWZhdWx0RmlsdGVycyhnbC5ORUFSRVNULCBnbC5ORUFSRVNUKTtcbiAgfSBlbHNlIHtcbiAgICB0ZXh0dXJlcy5kZWZhdWx0RmlsdGVycyhnbC5MSU5FQVJfTUlQTUFQX0xJTkVBUiwgZ2wuTElORUFSKTtcbiAgfVxuXG4gIGNvbnN0IGZvbnRfaW5mb18wNGIwM3gyID0gcmVxdWlyZSgnLi4vaW1nL2ZvbnQvMDRiMDNfOHgyLmpzb24nKTtcbiAgY29uc3QgZm9udF9pbmZvXzA0YjAzeDEgPSByZXF1aXJlKCcuLi9pbWcvZm9udC8wNGIwM184eDEuanNvbicpO1xuICBpZiAocGFyYW1zLmZvbnQpIHtcbiAgICBmb250ID0gZ2xvdl9mb250LmNyZWF0ZShwYXJhbXMuZm9udC5pbmZvLCBwYXJhbXMuZm9udC50ZXh0dXJlKTtcbiAgfSBlbHNlIGlmIChwYXJhbXMucGl4ZWx5ID09PSAnc3RyaWN0Jykge1xuICAgIGZvbnQgPSBnbG92X2ZvbnQuY3JlYXRlKGZvbnRfaW5mb18wNGIwM3gxLCAnZm9udC8wNGIwM184eDEnKTtcbiAgfSBlbHNlIGlmIChpc19waXhlbHkpIHtcbiAgICBmb250ID0gZ2xvdl9mb250LmNyZWF0ZShmb250X2luZm9fMDRiMDN4MiwgJ2ZvbnQvMDRiMDNfOHgyJyk7XG4gIH0gZWxzZSB7XG4gICAgZm9udCA9IGdsb3ZfZm9udC5jcmVhdGUoZm9udF9pbmZvX3BhbGFucXVpbjMyLCAnZm9udC9wYWxhbnF1aW4zMicpO1xuICB9XG4gIHBhcmFtcy5mb250ID0gZm9udDtcbiAgZ2xvdl91aS5zdGFydHVwKHBhcmFtcyk7XG5cbiAgc291bmRTdGFydHVwKHBhcmFtcy5zb3VuZCk7XG4gIGdsb3ZfdWkuYmluZFNvdW5kcyhkZWZhdWx0cyhwYXJhbXMudWlfc291bmRzIHx8IHt9LCB7XG4gICAgYnV0dG9uX2NsaWNrOiAnYnV0dG9uX2NsaWNrJyxcbiAgICByb2xsb3ZlcjogJ3JvbGxvdmVyJyxcbiAgfSkpO1xuXG4gIGNhbWVyYTJkLnNldEFzcGVjdEZpeGVkKGdhbWVfd2lkdGgsIGdhbWVfaGVpZ2h0KTtcblxuICBpZiAocGFyYW1zLnN0YXRlKSB7XG4gICAgc2V0U3RhdGUocGFyYW1zLnN0YXRlKTtcbiAgfVxuICBpZiAocGFyYW1zLmRvX2JvcmRlcnMgIT09IHVuZGVmaW5lZCkge1xuICAgIGRvX2JvcmRlcnMgPSBwYXJhbXMuZG9fYm9yZGVycztcbiAgfVxuICBpZiAocGFyYW1zLnNob3dfZnBzICE9PSB1bmRlZmluZWQpIHtcbiAgICBzZXR0aW5ncy5zaG93X2ZwcyA9IHBhcmFtcy5zaG93X2ZwcztcbiAgfVxuXG4gIHBlcmlvZGljbHlSZXF1ZXN0RnJhbWUoKTtcbiAgcmV0dXJuIHRydWU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBsb2Fkc1BlbmRpbmcoKSB7XG4gIHJldHVybiB0ZXh0dXJlcy5sb2FkX2NvdW50ICsgc291bmRMb2FkaW5nKCkgKyBtb2RlbHMubG9hZF9jb3VudDtcbn1cblxuZnVuY3Rpb24gbG9hZGluZygpIHtcbiAgbGV0IGxvYWRfY291bnQgPSBsb2Fkc1BlbmRpbmcoKTtcbiAgbGV0IGVsZW1fbG9hZGluZ190ZXh0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xvYWRpbmdfdGV4dCcpO1xuICBpZiAoZWxlbV9sb2FkaW5nX3RleHQpIHtcbiAgICBlbGVtX2xvYWRpbmdfdGV4dC5pbm5lclRleHQgPSBgTG9hZGluZyAoJHtsb2FkX2NvdW50fSkuLi5gO1xuICB9XG4gIGlmICghbG9hZF9jb3VudCkge1xuICAgIGlzX2xvYWRpbmcgPSBmYWxzZTtcbiAgICBhcHBfc3RhdGUgPSBhZnRlcl9sb2FkaW5nX3N0YXRlO1xuICAgIC8vIENsZWFyIGFmdGVyIG5leHQgZnJhbWUsIHNvIHNvbWV0aGluZyBpcyByZW5kZXJlZCB0byB0aGUgY2FudmFzXG4gICAgcG9zdFRpY2soe1xuICAgICAgdGlja3M6IDIsXG4gICAgICBmbjogZnVuY3Rpb24gKCkge1xuICAgICAgICBsZXQgbG9hZGluZ19lbGVtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xvYWRpbmcnKTtcbiAgICAgICAgaWYgKGxvYWRpbmdfZWxlbSkge1xuICAgICAgICAgIGxvYWRpbmdfZWxlbS5zdHlsZS52aXNpYmlsaXR5ID0gJ2hpZGRlbic7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufVxuYXBwX3N0YXRlID0gbG9hZGluZztcblxud2luZG93Lmdsb3ZfZW5naW5lID0gZXhwb3J0cztcbiIsIi8qIGdsb2JhbHMgRkJJbnN0YW50ICovXG5jb25zdCB1cmxoYXNoID0gcmVxdWlyZSgnLi91cmxoYXNoLmpzJyk7XG5cbmV4cG9ydCBsZXQgcmVhZHkgPSBmYWxzZTtcbmxldCBvbnJlYWR5Y2FsbGJhY2tzID0gW107XG5leHBvcnQgZnVuY3Rpb24gb25yZWFkeShjYWxsYmFjaykge1xuICBpZiAocmVhZHkpIHtcbiAgICByZXR1cm4gdm9pZCBjYWxsYmFjaygpO1xuICB9XG4gIG9ucmVhZHljYWxsYmFja3MucHVzaChjYWxsYmFjayk7XG59XG5leHBvcnQgZnVuY3Rpb24gaW5pdCgpIHtcbiAgaWYgKCF3aW5kb3cuRkJJbnN0YW50KSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgbGV0IGxlZnQgPSAxO1xuICBsZXQgZmFrZV9sb2FkX2ludGVydmFsID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xuICAgIGxlZnQgKj0gMC45O1xuICAgIEZCSW5zdGFudC5zZXRMb2FkaW5nUHJvZ3Jlc3MoMTAwLShsZWZ0KjEwMCk+PjApO1xuICB9LDEwMCk7XG5cbiAgRkJJbnN0YW50LmluaXRpYWxpemVBc3luYygpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgIGxldCBlbnRyeVBvaW50RGF0YSA9IEZCSW5zdGFudC5nZXRFbnRyeVBvaW50RGF0YSgpfHx7fTtcbiAgICAvLyBsZXQgZW50cnlQb2ludERhdGEgPSB7IHF1ZXJ5c3RyaW5nOiB7IHc6ICc0Njc1Jywgd2c6ICcxJyB9IH07IC8vIEZSVlJcbiAgICAvLyBsZXQgZW50cnlQb2ludERhdGEgPSB7IHF1ZXJ5c3RyaW5nOiB7IGJsdWVwcmludDogJ1JLV1ZBRTI2WFMyNFonIH0gfTsgLy8gRlJWUlxuICAgIGxldCBxdWVyeXN0cmluZyA9IGVudHJ5UG9pbnREYXRhLnF1ZXJ5c3RyaW5nfHx7fTtcbiAgICBmb3IgKGxldCB4IGluIHF1ZXJ5c3RyaW5nKSB7XG4gICAgICB1cmxoYXNoLnNldCh4LCBxdWVyeXN0cmluZ1t4XSk7XG4gICAgfVxuXG4gICAgY2xlYXJJbnRlcnZhbChmYWtlX2xvYWRfaW50ZXJ2YWwpO1xuICAgIHJlYWR5ID0gdHJ1ZTtcbiAgICBGQkluc3RhbnQuc3RhcnRHYW1lQXN5bmMoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIG9ucmVhZHljYWxsYmFja3MuZm9yRWFjaCgoZSkgPT4gZSgpKTtcbiAgICAgIG9ucmVhZHljYWxsYmFja3MgPSBbXTtcbiAgICB9KTtcbiAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHtcbiAgICBjb25zb2xlLndhcm4oJ2luaXRpYWxpemVBc3luYyBmYWlsZWQnLCBlKTtcbiAgfSk7XG59XG4iLCJjb25zdCBhc3NlcnQgPSByZXF1aXJlKCdhc3NlcnQnKTtcblxubGV0IGJ5X2V4dCA9IHt9O1xubGV0IGJ5X21hdGNoID0gW107XG5cbi8vIGNiKGZpbGVuYW1lKVxuZXhwb3J0IGZ1bmN0aW9uIGZpbGV3YXRjaE9uKGV4dF9vcl9zZWFyY2gsIGNiKSB7XG4gIGlmIChleHRfb3Jfc2VhcmNoWzBdID09PSAnLicpIHtcbiAgICBhc3NlcnQoIWJ5X2V4dFtleHRfb3Jfc2VhcmNoXSk7XG4gICAgYnlfZXh0W2V4dF9vcl9zZWFyY2hdID0gY2I7XG4gIH0gZWxzZSB7XG4gICAgYnlfbWF0Y2gucHVzaChbZXh0X29yX3NlYXJjaCwgY2JdKTtcbiAgfVxufVxuXG5sZXQgbWVzc2FnZV9jYjtcbi8vIGNiKG1lc3NhZ2UpXG5leHBvcnQgZnVuY3Rpb24gZmlsZXdhdGNoTWVzc2FnZUhhbmRsZXIoY2IpIHtcbiAgbWVzc2FnZV9jYiA9IGNiO1xufVxuXG5mdW5jdGlvbiBvbkZpbGVDaGFuZ2UoZmlsZW5hbWUpIHtcbiAgY29uc29sZS5sb2coYEZpbGVXYXRjaCBjaGFuZ2U6ICR7ZmlsZW5hbWV9YCk7XG4gIGxldCBleHRfaWR4ID0gZmlsZW5hbWUubGFzdEluZGV4T2YoJy4nKTtcbiAgbGV0IGRpZF9yZWxvYWQgPSBmYWxzZTtcbiAgaWYgKGV4dF9pZHggIT09IC0xKSB7XG4gICAgbGV0IGV4dCA9IGZpbGVuYW1lLnNsaWNlKGV4dF9pZHgpO1xuICAgIGlmIChieV9leHRbZXh0XSkge1xuICAgICAgaWYgKGJ5X2V4dFtleHRdKGZpbGVuYW1lKSAhPT0gZmFsc2UpIHtcbiAgICAgICAgZGlkX3JlbG9hZCA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGZvciAobGV0IGlpID0gMDsgaWkgPCBieV9tYXRjaC5sZW5ndGg7ICsraWkpIHtcbiAgICBpZiAoZmlsZW5hbWUubWF0Y2goYnlfbWF0Y2hbaWldWzBdKSkge1xuICAgICAgaWYgKGJ5X21hdGNoW2lpXVsxXShmaWxlbmFtZSkgIT09IGZhbHNlKSB7XG4gICAgICAgIGRpZF9yZWxvYWQgPSB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBpZiAobWVzc2FnZV9jYiAmJiBkaWRfcmVsb2FkKSB7XG4gICAgbWVzc2FnZV9jYihgUmVsb2FkaW5nOiAke2ZpbGVuYW1lfWApO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmaWxld2F0Y2hUcmlnZ2VyQ2hhbmdlKGZpbGVuYW1lKSB7XG4gIG9uRmlsZUNoYW5nZShmaWxlbmFtZSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmaWxld2F0Y2hTdGFydHVwKGNsaWVudCkge1xuICBjbGllbnQub25Nc2coJ2ZpbGV3YXRjaCcsIG9uRmlsZUNoYW5nZSk7XG59XG4iLCIvLyBQb3J0aW9ucyBDb3B5cmlnaHQgMjAxOSBKaW1iIEVzc2VyIChodHRwczovL2dpdGh1Yi5jb20vSmltYmx5Lylcbi8vIFJlbGVhc2VkIHVuZGVyIE1JVCBMaWNlbnNlOiBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVFxuLyogZXNsaW50IG5vLWJpdHdpc2U6b2ZmLCBjb21wbGV4aXR5Om9mZiwgbm8tc2hhZG93Om9mZiAqL1xuXG5jb25zdCBhc3NlcnQgPSByZXF1aXJlKCdhc3NlcnQnKTtcbmNvbnN0IGNhbWVyYTJkID0gcmVxdWlyZSgnLi9jYW1lcmEyZC5qcycpO1xuY29uc3QgeyBmbG9vciwgbWF4LCByb3VuZCB9ID0gTWF0aDtcbmNvbnN0IHNoYWRlcnMgPSByZXF1aXJlKCcuL3NoYWRlcnMuanMnKTtcbmNvbnN0IHNwcml0ZXMgPSByZXF1aXJlKCcuL3Nwcml0ZXMuanMnKTtcbmNvbnN0IHRleHR1cmVzID0gcmVxdWlyZSgnLi90ZXh0dXJlcy5qcycpO1xuY29uc3QgeyBjbGFtcCB9ID0gcmVxdWlyZSgnLi4vLi4vY29tbW9uL3V0aWwuanMnKTtcbmNvbnN0IHsgdmVjNCwgdjRjbG9uZSwgdjRzY2FsZSB9ID0gcmVxdWlyZSgnLi92bWF0aC5qcycpO1xuXG4vKlxuXG5mb250X3N0eWxlID0gZ2xvdl9mb250LnN0eWxlKG51bGwsIHtcbiAgY29sb3I6IDB4RkZGRkZGZmYsXG4gIG91dGxpbmVfd2lkdGg6IDAsXG4gIG91dGxpbmVfY29sb3I6IDB4MDAwMDAwMDAsXG4gIGdsb3dfeG9mZnM6IDAsXG4gIGdsb3dfeW9mZnM6IDAsXG4gIGdsb3dfaW5uZXI6IDAsXG4gIGdsb3dfb3V0ZXI6IDAsXG4gIGdsb3dfY29sb3I6IDB4MDAwMDAwZmYsXG59KTtcblxuICovXG5cbi8vIHR5cGVkZWYgc3RydWN0IEZvbnRDaGFySW5mbyB7XG4vLyAgIGludCBjO1xuLy8gICBmbG9hdCB4MDtcbi8vICAgZmxvYXQgeTA7XG4vLyAgIGludCB3O1xuLy8gICBpbnQgaDtcbi8vICAgaW50IGltZ0lkeDtcbi8vIH0gRm9udENoYXJJbmZvO1xuXG4vLyB0eXBlZGVmIHN0cnVjdCBGb250SW5mbyB7XG4vLyAgIEFTX05BTUUoQ2hhckluZm8pIEZvbnRDaGFySW5mbyAqKmNoYXJfaW5mb3M7XG4vLyAgIGludCBmb250X3NpemU7XG4vLyAgIGZsb2F0IHgwO1xuLy8gICBmbG9hdCB5MDtcbi8vICAgaW50IGltYWdlVztcbi8vICAgaW50IGltYWdlSDtcbi8vICAgaW50IHNwcmVhZDtcbi8vIH0gRm9udEluZm87XG5cbmV4cG9ydCBjb25zdCBDT0xPUl9NT0RFID0ge1xuICBTSU5HTEU6IDAsXG4gIEdSQURJRU5UOiAxLFxufTtcblxuZXhwb3J0IGNvbnN0IEFMSUdOID0ge1xuICBITEVGVDogMCxcbiAgSENFTlRFUjogMSxcbiAgSFJJR0hUOiAyLFxuICBITUFTSzogMyxcblxuICBWVE9QOiAwIDw8IDIsXG4gIFZDRU5URVI6IDEgPDwgMixcbiAgVkJPVFRPTTogMiA8PCAyLFxuICBWTUFTSzogMyA8PCAyLFxuXG4gIEhGSVQ6IDEgPDwgNCxcbiAgSFdSQVA6IDEgPDwgNSwgLy8gb25seSBmb3IgZ2xvdk1hcmt1cCosIG5vdCBkcmF3U2l6ZWRBbGlnbmVkIGJlbG93LCB1c2UgZHJhd1NpemVkV3JhcHBlZCBiZWxvdyBpbnN0ZWFkXG5cbiAgSENFTlRFUkZJVDogMSB8ICgxIDw8IDQpLFxuICBIVkNFTlRFUjogMSB8ICgxIDw8IDIpLCAvLyB0byBhdm9pZCBkb2luZyBiaXR3aXNlIG9wcyBlbHNld2hlcmVcbiAgSFZDRU5URVJGSVQ6IDEgfCAoMSA8PCAyKSB8ICgxIDw8IDQpLCAvLyB0byBhdm9pZCBkb2luZyBiaXR3aXNlIG9wcyBlbHNld2hlcmVcbn07XG5cblxuLy8gdHlwZWRlZiBzdHJ1Y3QgR2xvdkZvbnRTdHlsZVxuLy8ge1xuLy8gICAvLyBUaGVzZSBtZW1iZXJzIHdpbGwgbmV2ZXIgYmUgY2hhbmdlZCAoc2FmZSB0byBpbml0aWFsaXplIHdpdGggR2xvdkZvbnRTdHlsZSBmb28gPSB7MS4wLCAweGZmZiwgZXRjfTtcbi8vICAgZmxvYXQgb3V0bGluZV93aWR0aDtcbi8vICAgVTMyIG91dGxpbmVfY29sb3I7XG4vLyAgIC8vIEdsb3c6IGNhbiBiZSB1c2VkIGZvciBhIGRyb3BzaGFkb3cgYXMgd2VsbFxuLy8gICAvLyAgIGlubmVyIGNhbiBiZSBuZWdhdGl2ZSB0byBoYXZlIHRoZSBnbG93IGJlIGxlc3Mgb3BhcXVlIChjYW4gYWxzbyBqdXN0IGNoYW5nZSB0aGUgYWxwaGEgb2YgdGhlIGdsb3cgY29sb3IpXG4vLyAgIC8vICAgYSBnbG93IHdvdWxkIGJlIGUuZy4gKDAsIDAsIC0xLCA1KVxuLy8gICAvLyAgIGEgZHJvcHNoYWRvdyB3b3VsZCBiZSBlLmcuICgzLjI1LCAzLjI1LCAtMi41LCA1KVxuLy8gICBmbG9hdCBnbG93X3hvZmZzO1xuLy8gICBmbG9hdCBnbG93X3lvZmZzO1xuLy8gICBmbG9hdCBnbG93X2lubmVyO1xuLy8gICBmbG9hdCBnbG93X291dGVyO1xuLy8gICBVMzIgZ2xvd19jb2xvcjtcbi8vICAgVTMyIGNvbG9yOyAvLyB1cHBlciBsZWZ0LCBvciBzaW5nbGUgY29sb3Jcbi8vICAgVTMyIGNvbG9yVVI7IC8vIHVwcGVyIHJpZ2h0XG4vLyAgIFUzMiBjb2xvckxSOyAvLyBsb3dlciByaWdodFxuLy8gICBVMzIgY29sb3JMTDsgLy8gbG93ZXIgbGVmdFxuLy8gICBHbG92Rm9udENvbG9yTW9kZSBjb2xvcl9tb2RlO1xuLy8gfSBHbG92Rm9udFN0eWxlO1xuXG4vKiBEZWZhdWx0IEdsb3ZGb250U3R5bGU6XG4gIGZvbnRfc3R5bGUgPSB7XG4gICAgb3V0bGluZV93aWR0aDogMCwgb3V0bGluZV9jb2xvcjogMHgwMDAwMDAwMCxcbiAgICBnbG93X3hvZmZzOiAwLCBnbG93X3lvZmZzOiAwLCBnbG93X2lubmVyOiAwLCBnbG93X291dGVyOiAwLCBnbG93X2NvbG9yOiAweDAwMDAwMDAwLFxuICAgIGNvbG9yOiAweEZGRkZGRmZmXG4gIH07XG5cbiAgZm9udF9zdHlsZSA9IHtcbiAgICBvdXRsaW5lX3dpZHRoOiAwLCBvdXRsaW5lX2NvbG9yOiAweDAwMDAwMDAwLFxuICAgIGdsb3dfeG9mZnM6IDAsIGdsb3dfeW9mZnM6IDAsIGdsb3dfaW5uZXI6IDAsIGdsb3dfb3V0ZXI6IDAsIGdsb3dfY29sb3I6IDB4MDAwMDAwMDAsXG4gICAgLy8gQ29sb3IgZ3JhZGllbnQ6IFVMLCBVUiwgTFIsIExMXG4gICAgY29sb3I6IDB4RkZGRkZGZmYsIGNvbG9yVVI6IDB4RkZGRkZGZmYsIGNvbG9yTFI6IDB4MDAwMDAwZmYsIGNvbG9yTEw6IDB4MDAwMDAwZmYsXG4gICAgY29sb3JfbW9kZTogZ2xvdl9mb250LkNPTE9SX01PREUuR1JBRElFTlQsXG4gIH07XG4qL1xuXG5mdW5jdGlvbiBHbG92Rm9udFN0eWxlKCkge1xuICB0aGlzLmNvbG9yX3ZlYzQgPSB2ZWM0KDEsMSwxLDEpOyAvLyBNYXRjaGVzIEdsb3ZGb250U3R5bGUucHJvdG90eXBlLmNvbG9yIGJlbG93XG59XG5HbG92Rm9udFN0eWxlLnByb3RvdHlwZS5vdXRsaW5lX3dpZHRoID0gMDtcbkdsb3ZGb250U3R5bGUucHJvdG90eXBlLm91dGxpbmVfY29sb3IgPSAweDAwMDAwMDAwO1xuR2xvdkZvbnRTdHlsZS5wcm90b3R5cGUuZ2xvd194b2ZmcyA9IDA7XG5HbG92Rm9udFN0eWxlLnByb3RvdHlwZS5nbG93X3lvZmZzID0gMDtcbkdsb3ZGb250U3R5bGUucHJvdG90eXBlLmdsb3dfaW5uZXIgPSAwO1xuR2xvdkZvbnRTdHlsZS5wcm90b3R5cGUuZ2xvd19vdXRlciA9IDA7XG5HbG92Rm9udFN0eWxlLnByb3RvdHlwZS5nbG93X2NvbG9yID0gMHgwMDAwMDAwMDtcbkdsb3ZGb250U3R5bGUucHJvdG90eXBlLmNvbG9yID0gMHhGRkZGRkZmZjtcbkdsb3ZGb250U3R5bGUucHJvdG90eXBlLmNvbG9yVVIgPSAwO1xuR2xvdkZvbnRTdHlsZS5wcm90b3R5cGUuY29sb3JMUiA9IDA7XG5HbG92Rm9udFN0eWxlLnByb3RvdHlwZS5jb2xvckxMID0gMDtcbkdsb3ZGb250U3R5bGUucHJvdG90eXBlLmNvbG9yX21vZGUgPSBDT0xPUl9NT0RFLlNJTkdMRTtcblxuZXhwb3J0IGNvbnN0IGZvbnRfc2hhZGVycyA9IHt9O1xuXG5leHBvcnQgZnVuY3Rpb24gaW50Q29sb3JGcm9tVmVjNENvbG9yKHYpIHtcbiAgcmV0dXJuICgodlswXSAqIDI1NSB8IDApIDw8IDI0KSB8XG4gICAgKCh2WzFdICogMjU1IHwgMCkgPDwgMTYpIHxcbiAgICAoKHZbMl0gKiAyNTUgfCAwKSA8PCA4KSB8XG4gICAgKCh2WzNdICogMjU1IHwgMCkpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdmVjNENvbG9yRnJvbUludENvbG9yKHYsIGMpIHtcbiAgdlswXSA9ICgoYyA+PiAyNCkgJiAweEZGKSAvIDI1NTtcbiAgdlsxXSA9ICgoYyA+PiAxNikgJiAweEZGKSAvIDI1NTtcbiAgdlsyXSA9ICgoYyA+PiA4KSAmIDB4RkYpIC8gMjU1O1xuICB2WzNdID0gKGMgJiAweEZGKSAvIDI1NTtcbn1cblxuZXhwb3J0IGNvbnN0IGdsb3ZfZm9udF9kZWZhdWx0X3N0eWxlID0gbmV3IEdsb3ZGb250U3R5bGUoKTtcblxuZXhwb3J0IGZ1bmN0aW9uIHN0eWxlKGZvbnRfc3R5bGUsIGZpZWxkcykge1xuICBsZXQgcmV0ID0gbmV3IEdsb3ZGb250U3R5bGUoKTtcbiAgbGV0IHsgY29sb3JfdmVjNCB9ID0gcmV0O1xuICBpZiAoZm9udF9zdHlsZSkge1xuICAgIGZvciAobGV0IGYgaW4gZm9udF9zdHlsZSkge1xuICAgICAgcmV0W2ZdID0gZm9udF9zdHlsZVtmXTtcbiAgICB9XG4gIH1cbiAgZm9yIChsZXQgZiBpbiBmaWVsZHMpIHtcbiAgICByZXRbZl0gPSBmaWVsZHNbZl07XG4gIH1cbiAgcmV0LmNvbG9yX3ZlYzQgPSBjb2xvcl92ZWM0OyAvLyBSZXN0b3JlXG4gIHZlYzRDb2xvckZyb21JbnRDb2xvcihyZXQuY29sb3JfdmVjNCwgcmV0LmNvbG9yKTtcbiAgcmV0dXJuIHJldDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHN0eWxlQ29sb3JlZChmb250X3N0eWxlLCBjb2xvcikge1xuICByZXR1cm4gc3R5bGUoZm9udF9zdHlsZSwge1xuICAgIGNvbG9yXG4gIH0pO1xufVxuXG5mdW5jdGlvbiBjb2xvckFscGhhKGNvbG9yLCBhbHBoYSkge1xuICBhbHBoYSA9IGNsYW1wKHJvdW5kKChjb2xvciAmIDB4RkYpICogYWxwaGEpLCAwLCAyNTUpO1xuICByZXR1cm4gY29sb3IgJiAweEZGRkZGRjAwIHwgYWxwaGE7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzdHlsZUFscGhhKGZvbnRfc3R5bGUsIGFscGhhKSB7XG4gIHJldHVybiBzdHlsZShmb250X3N0eWxlLCB7XG4gICAgY29sb3I6IGNvbG9yQWxwaGEoKGZvbnRfc3R5bGUgfHwgZ2xvdl9mb250X2RlZmF1bHRfc3R5bGUpLmNvbG9yLCBhbHBoYSksXG4gICAgb3V0bGluZV9jb2xvcjogY29sb3JBbHBoYSgoZm9udF9zdHlsZSB8fCBnbG92X2ZvbnRfZGVmYXVsdF9zdHlsZSkub3V0bGluZV9jb2xvciwgYWxwaGEpLFxuICAgIGdsb3dfY29sb3I6IGNvbG9yQWxwaGEoKGZvbnRfc3R5bGUgfHwgZ2xvdl9mb250X2RlZmF1bHRfc3R5bGUpLmdsb3dfY29sb3IsIGFscGhhKSxcbiAgfSk7XG59XG5cbmxldCB0ZWNoX3BhcmFtcyA9IG51bGw7XG5sZXQgdGVjaF9wYXJhbXNfZGlydHkgPSBmYWxzZTtcbmxldCB0ZW1wX2NvbG9yID0gbnVsbDtcblxuZnVuY3Rpb24gY3JlYXRlVGVjaG5pcXVlUGFyYW1ldGVycygpIHtcbiAgaWYgKHRlY2hfcGFyYW1zKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdGVjaF9wYXJhbXMgPSB7XG4gICAgcGFyYW0wOiB2ZWM0KCksXG4gICAgb3V0bGluZUNvbG9yOiB2ZWM0KCksXG4gICAgZ2xvd0NvbG9yOiB2ZWM0KCksXG4gICAgZ2xvd1BhcmFtczogdmVjNCgpLFxuICAgIHRleDA6IG51bGxcbiAgfTtcbiAgaWYgKCF0ZW1wX2NvbG9yKSB7XG4gICAgdGVtcF9jb2xvciA9IHZlYzQoKTtcbiAgfVxufVxuXG5mdW5jdGlvbiB0ZWNoUGFyYW1zU2V0KHBhcmFtLCB2YWx1ZSkge1xuICBsZXQgdHB2ID0gdGVjaF9wYXJhbXNbcGFyYW1dO1xuICAvLyBub3QgZGlydHksIGlmIGFueXRoaW5nIGNoYW5nZXMsIHdlIG5lZWQgYSBuZXcgb2JqZWN0IVxuICBpZiAoIXRlY2hfcGFyYW1zX2RpcnR5KSB7XG4gICAgaWYgKHRwdlswXSAhPT0gdmFsdWVbMF0gfHwgdHB2WzFdICE9PSB2YWx1ZVsxXSB8fCB0cHZbMl0gIT09IHZhbHVlWzJdIHx8IHRwdlszXSAhPT0gdmFsdWVbM10pIHtcbiAgICAgIC8vIGNsb25lXG4gICAgICB0ZWNoX3BhcmFtcyA9IHtcbiAgICAgICAgcGFyYW0wOiB2NGNsb25lKHRlY2hfcGFyYW1zLnBhcmFtMCksXG4gICAgICAgIG91dGxpbmVDb2xvcjogdjRjbG9uZSh0ZWNoX3BhcmFtcy5vdXRsaW5lQ29sb3IpLFxuICAgICAgICBnbG93Q29sb3I6IHY0Y2xvbmUodGVjaF9wYXJhbXMuZ2xvd0NvbG9yKSxcbiAgICAgICAgZ2xvd1BhcmFtczogdjRjbG9uZSh0ZWNoX3BhcmFtcy5nbG93UGFyYW1zKSxcbiAgICAgIH07XG4gICAgICB0ZWNoX3BhcmFtc19kaXJ0eSA9IHRydWU7XG4gICAgICB0cHYgPSB0ZWNoX3BhcmFtc1twYXJhbV07XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGlkZW50aWNhbCwgZG8gbm90aGluZ1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgfVxuICBpZiAodGVjaF9wYXJhbXNfZGlydHkpIHtcbiAgICAvLyBqdXN0IHNldFxuICAgIHRwdlswXSA9IHZhbHVlWzBdO1xuICAgIHRwdlsxXSA9IHZhbHVlWzFdO1xuICAgIHRwdlsyXSA9IHZhbHVlWzJdO1xuICAgIHRwdlszXSA9IHZhbHVlWzNdO1xuICAgIC8vIHJldHVybjtcbiAgfVxufVxuXG5mdW5jdGlvbiB0ZWNoUGFyYW1zR2V0KCkge1xuICB0ZWNoX3BhcmFtc19kaXJ0eSA9IGZhbHNlO1xuICByZXR1cm4gdGVjaF9wYXJhbXM7XG59XG5cbmZ1bmN0aW9uIEdsb3ZGb250KGZvbnRfaW5mbywgdGV4dHVyZV9uYW1lKSB7XG4gIGFzc2VydChmb250X2luZm8uZm9udF9zaXplICE9PSAwKTsgLy8gR290IGxvc3Qgc29tZXdoZXJlXG5cbiAgdGhpcy50ZXh0dXJlID0gdGV4dHVyZXMubG9hZCh7XG4gICAgdXJsOiBgaW1nLyR7dGV4dHVyZV9uYW1lfS5wbmdgLFxuICAgIGZpbHRlcl9taW46IGZvbnRfaW5mby5ub0ZpbHRlciA/IGdsLk5FQVJFU1QgOiBnbC5MSU5FQVIsXG4gICAgZmlsdGVyX21hZzogZm9udF9pbmZvLm5vRmlsdGVyID8gZ2wuTkVBUkVTVCA6IGdsLkxJTkVBUixcbiAgICB3cmFwX3M6IGdsLkNMQU1QX1RPX0VER0UsXG4gICAgd3JhcF90OiBnbC5DTEFNUF9UT19FREdFLFxuICB9KTtcbiAgdGhpcy50ZXh0dXJlcyA9IFt0aGlzLnRleHR1cmVdO1xuXG4gIHRoaXMuZm9udF9pbmZvID0gZm9udF9pbmZvO1xuICB0aGlzLnNoYWRlciA9IGZvbnRfc2hhZGVycy5mb250X2FhO1xuICB0aGlzLnRleF93ID0gZm9udF9pbmZvLmltYWdlVztcbiAgdGhpcy50ZXhfaCA9IGZvbnRfaW5mby5pbWFnZUg7XG5cbiAgLy8gQ2FsY3VsYXRlIGludmVyc2Ugc2NhbGVcbiAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IGZvbnRfaW5mby5jaGFyX2luZm9zLmxlbmd0aDsgKytpaSkge1xuICAgIGxldCBjaGFyX2luZm8gPSBmb250X2luZm8uY2hhcl9pbmZvc1tpaV07XG4gICAgY2hhcl9pbmZvLnNjYWxlID0gMSAvIChjaGFyX2luZm8uc2MgfHwgMSk7XG4gIH1cblxuICAvLyBidWlsZCBsb29rdXBcbiAgdGhpcy5jaGFyX2luZm9zID0gW107XG4gIGZvciAobGV0IGlpID0gMDsgaWkgPCBmb250X2luZm8uY2hhcl9pbmZvcy5sZW5ndGg7ICsraWkpIHtcbiAgICBsZXQgY2hhcl9pbmZvID0gZm9udF9pbmZvLmNoYXJfaW5mb3NbaWldO1xuICAgIHRoaXMuY2hhcl9pbmZvc1tmb250X2luZm8uY2hhcl9pbmZvc1tpaV0uY10gPSBjaGFyX2luZm87XG4gICAgY2hhcl9pbmZvLnhwYWQgPSBjaGFyX2luZm8ueHBhZCB8fCAwO1xuICAgIGNoYXJfaW5mby55b2ZmcyA9IGNoYXJfaW5mby55b2ZmcyB8fCAwO1xuICB9XG4gIHRoaXMucmVwbGFjZW1lbnRfY2hhcmFjdGVyID0gdGhpcy5pbmZvRnJvbUNoYXIoMHhGRkZEKTtcbiAgaWYgKCF0aGlzLnJlcGxhY2VtZW50X2NoYXJhY3Rlcikge1xuICAgIHRoaXMucmVwbGFjZW1lbnRfY2hhcmFjdGVyID0gdGhpcy5pbmZvRnJvbUNoYXIoNjMpOyAvLyAnPydcbiAgfVxuXG4gIHRoaXMuZGVmYXVsdF9zdHlsZSA9IG5ldyBHbG92Rm9udFN0eWxlKCk7XG4gIHRoaXMuYXBwbGllZF9zdHlsZSA9IG5ldyBHbG92Rm9udFN0eWxlKCk7XG5cbiAgY3JlYXRlVGVjaG5pcXVlUGFyYW1ldGVycygpO1xufVxuXG4vLyBHZW5lcmFsIGRyYXcgZnVuY3Rpb25zIHJldHVybiB3aWR0aFxuLy8gUGFzcyBOVUxMIGZvciBzdHlsZSB0byB1c2UgZGVmYXVsdCBzdHlsZVxuLy8gSWYgdGhlIGZ1bmN0aW9uIHRha2VzIGEgY29sb3IsIHRoaXMgb3ZlcnJpZGVzIHRoZSBjb2xvciBvbiB0aGUgc3R5bGVcbkdsb3ZGb250LnByb3RvdHlwZS5kcmF3U2l6ZWRDb2xvciA9IGZ1bmN0aW9uIChzdHlsZSwgeCwgeSwgeiwgc2l6ZSwgY29sb3IsIHRleHQpIHtcbiAgcmV0dXJuIHRoaXMuZHJhd1NpemVkKHN0eWxlQ29sb3JlZChzdHlsZSwgY29sb3IpLCB4LCB5LCB6LCBzaXplLCB0ZXh0KTtcbn07XG5HbG92Rm9udC5wcm90b3R5cGUuZHJhd1NpemVkID0gZnVuY3Rpb24gKHN0eWxlLCB4LCB5LCB6LCBzaXplLCB0ZXh0KSB7XG4gIHJldHVybiB0aGlzLmRyYXdTY2FsZWQoc3R5bGUsIHgsIHksIHosIHNpemUgLyB0aGlzLmZvbnRfaW5mby5mb250X3NpemUsIHNpemUgLyB0aGlzLmZvbnRfaW5mby5mb250X3NpemUsIHRleHQpO1xufTtcblxuR2xvdkZvbnQucHJvdG90eXBlLmRyYXdTaXplZEFsaWduZWQgPSBmdW5jdGlvbiAoc3R5bGUsIF94LCBfeSwgeiwgc2l6ZSwgYWxpZ24sIHcsIGgsIHRleHQpIHtcbiAgbGV0IHhfc2l6ZSA9IHNpemU7XG4gIGxldCB5X3NpemUgPSBzaXplO1xuICBsZXQgd2lkdGggPSB0aGlzLmdldFN0cmluZ1dpZHRoKHN0eWxlLCB4X3NpemUsIHRleHQpO1xuICBpZiAoKGFsaWduICYgQUxJR04uSEZJVCkgJiYgd2lkdGggPiB3KSB7XG4gICAgbGV0IHNjYWxlID0gdyAvIHdpZHRoO1xuICAgIHhfc2l6ZSAqPSBzY2FsZTtcbiAgICB3aWR0aCA9IHc7XG4gICAgLy8gQWRkaXRpb25hbGx5LCBpZiB3ZSdyZSByZWFsbHkgc3F1aXNoaW5nIHRoaW5ncyBob3Jpem9udGFsbHksIHNocmluayB0aGUgZm9udCBzaXplXG4gICAgLy8gYW5kIG9mZnNldCB0byBiZSBjZW50ZXJlZC5cbiAgICBpZiAoc2NhbGUgPCAwLjUpIHtcbiAgICAgIGlmICgoYWxpZ24gJiBBTElHTi5WTUFTSykgIT09IEFMSUdOLlZDRU5URVIgJiYgKGFsaWduICYgQUxJR04uVk1BU0spICE9PSBBTElHTi5WQk9UVE9NKSB7XG4gICAgICAgIC8vIE9mZnNldCB0byBiZSByb3VnaGx5IGNlbnRlcmVkIGluIHRoZSBvcmlnaW5hbCBsaW5lIGJvdW5kc1xuICAgICAgICBfeSArPSAoeV9zaXplIC0gKHlfc2l6ZSAqIHNjYWxlICogMikpIC8gMjtcbiAgICAgIH1cbiAgICAgIHlfc2l6ZSAqPSBzY2FsZSAqIDI7XG4gICAgfVxuICB9XG4gIGxldCBoZWlnaHQgPSB5X3NpemU7XG4gIGxldCB4O1xuICBsZXQgeTtcbiAgc3dpdGNoIChhbGlnbiAmIEFMSUdOLkhNQVNLKSB7XG4gICAgY2FzZSBBTElHTi5IQ0VOVEVSOlxuICAgICAgeCA9IF94ICsgKHcgLSB3aWR0aCkgLyAyO1xuICAgICAgaWYgKHRoaXMuZm9udF9pbmZvLm5vRmlsdGVyKSB7XG4gICAgICAgIHggfD0gMDsgLy8gZW5zdXJlIGludGVncmFsXG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICBjYXNlIEFMSUdOLkhSSUdIVDpcbiAgICAgIHggPSBfeCArIHcgLSB3aWR0aDtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgQUxJR04uSExFRlQ6XG4gICAgICB4ID0gX3g7XG4gICAgICBicmVhaztcbiAgICBkZWZhdWx0OlxuICAgICAgeCA9IF94O1xuICB9XG4gIHN3aXRjaCAoYWxpZ24gJiBBTElHTi5WTUFTSykge1xuICAgIGNhc2UgQUxJR04uVkNFTlRFUjpcbiAgICAgIHkgPSBfeSArIChoIC0gaGVpZ2h0KSAvIDI7XG4gICAgICBpZiAodGhpcy5mb250X2luZm8ubm9GaWx0ZXIpIHtcbiAgICAgICAgeSB8PSAwOyAvLyBlbnN1cmUgaW50ZWdyYWxcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgQUxJR04uVkJPVFRPTTpcbiAgICAgIHkgPSBfeSArIGggLSBoZWlnaHQ7XG4gICAgICBicmVhaztcbiAgICBjYXNlIEFMSUdOLlZUT1A6XG4gICAgICB5ID0gX3k7XG4gICAgICBicmVhaztcbiAgICBkZWZhdWx0OlxuICAgICAgeSA9IF95O1xuICB9XG5cbiAgcmV0dXJuIHRoaXMuZHJhd1NjYWxlZChzdHlsZSwgeCwgeSwgeiwgeF9zaXplIC8gdGhpcy5mb250X2luZm8uZm9udF9zaXplLCB5X3NpemUgLyB0aGlzLmZvbnRfaW5mby5mb250X3NpemUsIHRleHQpO1xufTtcblxuLy8gcmV0dXJucyBoZWlnaHRcbkdsb3ZGb250LnByb3RvdHlwZS5kcmF3U2l6ZWRDb2xvcldyYXBwZWQgPSBmdW5jdGlvbiAoc3R5bGUsIHgsIHksIHosIHcsIGluZGVudCwgc2l6ZSwgY29sb3IsIHRleHQpIHtcbiAgcmV0dXJuIHRoaXMuZHJhd1NjYWxlZFdyYXBwZWQoc3R5bGVDb2xvcmVkKHN0eWxlLCBjb2xvciksIHgsIHksIHosIHcsXG4gICAgaW5kZW50LCBzaXplIC8gdGhpcy5mb250X2luZm8uZm9udF9zaXplLCBzaXplIC8gdGhpcy5mb250X2luZm8uZm9udF9zaXplLCB0ZXh0KTtcbn07XG5HbG92Rm9udC5wcm90b3R5cGUuZHJhd1NpemVkV3JhcHBlZCA9IGZ1bmN0aW9uIChzdHlsZSwgeCwgeSwgeiwgdywgaW5kZW50LCBzaXplLCB0ZXh0KSB7XG4gIHJldHVybiB0aGlzLmRyYXdTY2FsZWRXcmFwcGVkKHN0eWxlLCB4LCB5LCB6LCB3LFxuICAgIGluZGVudCwgc2l6ZSAvIHRoaXMuZm9udF9pbmZvLmZvbnRfc2l6ZSwgc2l6ZSAvIHRoaXMuZm9udF9pbmZvLmZvbnRfc2l6ZSwgdGV4dCk7XG59O1xuXG5HbG92Rm9udC5wcm90b3R5cGUud3JhcExpbmVzID0gZnVuY3Rpb24gKHcsIGluZGVudCwgc2l6ZSwgdGV4dCwgd29yZF9jYiAvKih4LCBpbnQgbGluZW51bSwgY29uc3QgY2hhciAqd29yZCkqLykge1xuICByZXR1cm4gdGhpcy53cmFwTGluZXNTY2FsZWQodywgaW5kZW50LCBzaXplIC8gdGhpcy5mb250X2luZm8uZm9udF9zaXplLCB0ZXh0LCB3b3JkX2NiKTtcbn07XG5cbkdsb3ZGb250LnByb3RvdHlwZS5udW1MaW5lcyA9IGZ1bmN0aW9uIChzdHlsZSwgdywgaW5kZW50LCBzaXplLCB0ZXh0KSB7XG4gIHRoaXMuYXBwbHlTdHlsZShzdHlsZSk7XG4gIGxldCBudW1saW5lcyA9IDA7XG4gIGZ1bmN0aW9uIHdvcmRDYWxsYmFjayhpZ25vcmVkLCBsaW5lbnVtLCB3b3JkKSB7XG4gICAgbnVtbGluZXMgPSBtYXgobnVtbGluZXMsIGxpbmVudW0pO1xuICB9XG4gIHRoaXMud3JhcExpbmVzKHcsIGluZGVudCwgc2l6ZSwgdGV4dCwgd29yZENhbGxiYWNrKTtcbiAgcmV0dXJuIG51bWxpbmVzICsgMTtcbn07XG5cbkdsb3ZGb250LnByb3RvdHlwZS5pbmZvRnJvbUNoYXIgPSBmdW5jdGlvbiAoYykge1xuICBsZXQgcmV0ID0gdGhpcy5jaGFyX2luZm9zW2NdO1xuICBpZiAocmV0KSB7XG4gICAgcmV0dXJuIHJldDtcbiAgfVxuICBpZiAoYyA+IDEyNykge1xuICAgIC8vIG5vIGNoYXIgaW5mbywgYW5kIG5vbi1hc2NpaSwgbm9uLWNvbnRyb2wgY29kZVxuICAgIHJldHVybiB0aGlzLnJlcGxhY2VtZW50X2NoYXJhY3RlcjtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn07XG5cbkdsb3ZGb250LnByb3RvdHlwZS5nZXRDaGFyYWN0ZXJXaWR0aCA9IGZ1bmN0aW9uIChzdHlsZSwgeF9zaXplLCBjKSB7XG4gIGFzc2VydC5lcXVhbCh0eXBlb2YgYywgJ251bWJlcicpO1xuICB0aGlzLmFwcGx5U3R5bGUoc3R5bGUpO1xuICBsZXQgY2hhcl9pbmZvID0gdGhpcy5pbmZvRnJvbUNoYXIoYyk7XG4gIGxldCB4c2MgPSB4X3NpemUgLyB0aGlzLmZvbnRfaW5mby5mb250X3NpemU7XG4gIGxldCB4X2FkdmFuY2UgPSB0aGlzLmNhbGNYQWR2YW5jZSh4c2MpO1xuICBpZiAoY2hhcl9pbmZvKSB7XG4gICAgcmV0dXJuIChjaGFyX2luZm8udyArIGNoYXJfaW5mby54cGFkKSAqIHhzYyAqIGNoYXJfaW5mby5zY2FsZSArIHhfYWR2YW5jZTtcbiAgfVxuICByZXR1cm4gMDtcbn07XG5cbkdsb3ZGb250LnByb3RvdHlwZS5nZXRTdHJpbmdXaWR0aCA9IGZ1bmN0aW9uIChzdHlsZSwgeF9zaXplLCB0ZXh0KSB7XG4gIHRoaXMuYXBwbHlTdHlsZShzdHlsZSk7XG4gIGxldCByZXQ9MDtcbiAgbGV0IHhzYyA9IHhfc2l6ZSAvIHRoaXMuZm9udF9pbmZvLmZvbnRfc2l6ZTtcbiAgbGV0IHhfYWR2YW5jZSA9IHRoaXMuY2FsY1hBZHZhbmNlKHhzYyk7XG4gIGZvciAobGV0IGlpID0gMDsgaWkgPCB0ZXh0Lmxlbmd0aDsgKytpaSkge1xuICAgIGxldCBjID0gdGV4dC5jaGFyQ29kZUF0KGlpKTtcbiAgICBsZXQgY2hhcl9pbmZvID0gdGhpcy5pbmZvRnJvbUNoYXIoYyk7XG4gICAgaWYgKCFjaGFyX2luZm8pIHtcbiAgICAgIGNoYXJfaW5mbyA9IHRoaXMuaW5mb0Zyb21DaGFyKDEzKTtcbiAgICB9XG4gICAgaWYgKGNoYXJfaW5mbykge1xuICAgICAgcmV0ICs9IChjaGFyX2luZm8udyArIGNoYXJfaW5mby54cGFkKSAqIHhzYyAqIGNoYXJfaW5mby5zY2FsZSArIHhfYWR2YW5jZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJldDtcbn07XG5cbi8vIHdvcmRfY2IoeCwgaW50IGxpbmVudW0sIGNvbnN0IGNoYXIgKndvcmQpXG5HbG92Rm9udC5wcm90b3R5cGUud3JhcExpbmVzU2NhbGVkID0gZnVuY3Rpb24gKHcsIGluZGVudCwgeHNjLCB0ZXh0LCB3b3JkX2NiKSB7XG4gIGxldCBsZW4gPSB0ZXh0Lmxlbmd0aDtcbiAgbGV0IHMgPSAwO1xuICBsZXQgd29yZF9zdGFydCA9IDA7XG4gIGxldCB3b3JkX3gwID0gMDtcbiAgbGV0IHggPSB3b3JkX3gwO1xuICBsZXQgbGluZW51bSA9IDA7XG4gIGxldCBzcGFjZV9pbmZvID0gdGhpcy5pbmZvRnJvbUNoYXIoMzIpOyAvLyAnICdcbiAgbGV0IHNwYWNlX3NpemUgPSAoc3BhY2VfaW5mbyA/IHNwYWNlX2luZm8udyArIHNwYWNlX2luZm8ueHBhZCA6IHRoaXMuZm9udF9pbmZvLmZvbnRfc2l6ZSkgKiB4c2M7XG4gIGxldCBoYXJkX3dyYXAgPSBmYWxzZTtcbiAgbGV0IHhfYWR2YW5jZSA9IHRoaXMuY2FsY1hBZHZhbmNlKHhzYyk7XG5cbiAgZG8ge1xuICAgIGxldCBjID0gcyA8IGxlbiA/IHRleHQuY2hhckNvZGVBdChzKSA6IDA7XG4gICAgbGV0IG5ld3ggPSB4O1xuICAgIGxldCBjaGFyX3c7XG4gICAgaWYgKGMgPT09IDkpIHsgLy8gJ1xcdCcpIHtcbiAgICAgIGxldCB0YWJzaXplID0geHNjICogdGhpcy5mb250X2luZm8uZm9udF9zaXplICogNDtcbiAgICAgIG5ld3ggPSAoZmxvb3IoeCAvIHRhYnNpemUpICsgMSkgKiB0YWJzaXplO1xuICAgICAgY2hhcl93ID0gdGFic2l6ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgbGV0IGNoYXJfaW5mbyA9IHRoaXMuaW5mb0Zyb21DaGFyKGMpO1xuICAgICAgaWYgKCFjaGFyX2luZm8pIHtcbiAgICAgICAgY2hhcl9pbmZvID0gdGhpcy5pbmZvRnJvbUNoYXIoMTApO1xuICAgICAgfVxuICAgICAgaWYgKGNoYXJfaW5mbykge1xuICAgICAgICBjaGFyX3cgPSAoY2hhcl9pbmZvLncgKyBjaGFyX2luZm8ueHBhZCkgKiB4c2MgKiBjaGFyX2luZm8uc2NhbGUgKyB4X2FkdmFuY2U7XG4gICAgICAgIG5ld3ggPSB4ICsgY2hhcl93O1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAobmV3eCA+PSB3ICYmIGhhcmRfd3JhcCkge1xuICAgICAgLy8gZmx1c2ggdGhlIHdvcmQgc28gZmFyIVxuICAgICAgaWYgKHdvcmRfY2IpIHtcbiAgICAgICAgd29yZF9jYih3b3JkX3gwLCBsaW5lbnVtLCB0ZXh0LnNsaWNlKHdvcmRfc3RhcnQsIHMpKTtcbiAgICAgIH1cbiAgICAgIHdvcmRfc3RhcnQgPSBzO1xuICAgICAgd29yZF94MCA9IGluZGVudDtcbiAgICAgIHggPSB3b3JkX3gwICsgY2hhcl93O1xuICAgICAgbGluZW51bSsrO1xuICAgIH0gZWxzZSB7XG4gICAgICB4ID0gbmV3eDtcbiAgICB9XG4gICAgaWYgKCEoYyA9PT0gMzIgLyonICcqLyB8fCBjID09PSAwIHx8IGMgPT09IDEwIC8qJ1xcbicqLykpIHtcbiAgICAgIHMrKztcbiAgICAgIGMgPSBzIDwgbGVuID8gdGV4dC5jaGFyQ29kZUF0KHMpIDogMDtcbiAgICB9XG4gICAgaWYgKGMgPT09IDMyIC8qJyAnKi8gfHwgYyA9PT0gMCB8fCBjID09PSAxMCAvKidcXG4nKi8pIHtcbiAgICAgIGhhcmRfd3JhcCA9IGZhbHNlO1xuICAgICAgLy8gZHJhdyB3b3JkIHVudGlsIHNcbiAgICAgIGlmICh4ID4gdykge1xuICAgICAgICAvLyBtYXliZSB3cmFwXG4gICAgICAgIGxldCB3b3JkX3dpZHRoID0geCAtIHdvcmRfeDA7XG4gICAgICAgIGlmICh3b3JkX3dpZHRoID4gdyAtIGluZGVudCkge1xuICAgICAgICAgIC8vIG5vdCBnb2luZyB0byBmaXQsIHNwbGl0IGl0IHVwIVxuICAgICAgICAgIGhhcmRfd3JhcCA9IHRydWU7XG4gICAgICAgICAgLy8gcmVjb3ZlciBhbmQgcmVzdGFydCBhdCB3b3JkIHN0YXJ0XG4gICAgICAgICAgcyA9IHdvcmRfc3RhcnQ7XG4gICAgICAgICAgeCA9IHdvcmRfeDA7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgd29yZF94MCA9IGluZGVudDtcbiAgICAgICAgICB4ID0gd29yZF94MCArIHdvcmRfd2lkdGg7XG4gICAgICAgICAgbGluZW51bSsrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAod29yZF9jYikge1xuICAgICAgICB3b3JkX2NiKHdvcmRfeDAsIGxpbmVudW0sIHRleHQuc2xpY2Uod29yZF9zdGFydCwgcykpO1xuICAgICAgfVxuICAgICAgd29yZF9zdGFydCA9IHMrMTtcbiAgICAgIGlmIChjID09PSAxMCAvKidcXG4nKi8pIHtcbiAgICAgICAgeCA9IGluZGVudDtcbiAgICAgICAgbGluZW51bSsrO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgeCArPSBzcGFjZV9zaXplO1xuICAgICAgfVxuICAgICAgd29yZF94MCA9IHg7XG4gICAgICBpZiAoYyA9PT0gMzIgLyonICcqLyB8fCBjID09PSAxMCAvKidcXG4nKi8pIHtcbiAgICAgICAgcysrOyAvLyBhZHZhbmNlIHBhc3Qgc3BhY2VcbiAgICAgIH1cbiAgICB9XG4gIH0gd2hpbGUgKHMgPCBsZW4pO1xuICArK2xpbmVudW07XG4gIHJldHVybiBsaW5lbnVtO1xufTtcblxuR2xvdkZvbnQucHJvdG90eXBlLmRyYXdTY2FsZWRXcmFwcGVkID0gZnVuY3Rpb24gKHN0eWxlLCB4LCB5LCB6LCB3LCBpbmRlbnQsIHhzYywgeXNjLCB0ZXh0KSB7XG4gIGlmICh0ZXh0ID09PSBudWxsIHx8IHRleHQgPT09IHVuZGVmaW5lZCkge1xuICAgIHRleHQgPSAnKG51bGwpJztcbiAgfVxuICB0aGlzLmFwcGx5U3R5bGUoc3R5bGUpO1xuICB0aGlzLmxhc3Rfd2lkdGggPSAwO1xuICBsZXQgbnVtX2xpbmVzID0gdGhpcy53cmFwTGluZXNTY2FsZWQodywgaW5kZW50LCB4c2MsIHRleHQsICh4b2ZmcywgbGluZW51bSwgd29yZCkgPT4ge1xuICAgIGxldCB5MiA9IHkgKyB0aGlzLmZvbnRfaW5mby5mb250X3NpemUgKiB5c2MgKiBsaW5lbnVtO1xuICAgIGxldCB4MiA9IHggKyB4b2ZmcztcbiAgICBsZXQgd29yZF93ID0gdGhpcy5kcmF3U2NhbGVkKHN0eWxlLCB4MiwgeTIsIHosIHhzYywgeXNjLCB3b3JkKTtcbiAgICB0aGlzLmxhc3Rfd2lkdGggPSBtYXgodGhpcy5sYXN0X3dpZHRoLCB4b2ZmcyArIHdvcmRfdyk7XG4gIH0pO1xuICByZXR1cm4gbnVtX2xpbmVzICogdGhpcy5mb250X2luZm8uZm9udF9zaXplICogeXNjO1xufTtcblxuR2xvdkZvbnQucHJvdG90eXBlLmNhbGNYQWR2YW5jZSA9IGZ1bmN0aW9uICh4c2MpIHtcbiAgLy8gQXNzdW1lIGNhbGxlZDogYXBwbHlTdHlsZShzdHlsZSk7XG5cbiAgLy8gc2NhbGUgYWxsIHN1cHBsaWVkIHZhbHVlcyBieSB0aGlzIHNvIHRoYXQgaWYgd2Ugc3dhcCBpbiBhIGZvbnQgd2l0aCB0d2ljZSB0aGUgcmVzb2x1dGlvbiAoYW5kIHR3aWNlIHRoZSBzcHJlYWQpXG4gIC8vICAgdGhpbmdzIGxvb2sgYWxtb3N0IGlkZW50aWNhbCwganVzdCBjcmlzcGVyXG4gIGxldCBmb250X3RleGVsX3NjYWxlID0gdGhpcy5mb250X2luZm8uZm9udF9zaXplIC8gMzI7XG4gIC8vIEFzIGEgY29tcHJvbWlzZSwgLTIgYmlhcyBoZXJlIHNlZW1zIHRvIHdvcmsgd2VsbFxuICBsZXQgeF9hZHZhbmNlID0geHNjICogZm9udF90ZXhlbF9zY2FsZSAqIG1heCh0aGlzLmFwcGxpZWRfc3R5bGUub3V0bGluZV93aWR0aCAtIDIsIDApO1xuICAvLyBBcyBhIGNvbXByb21pc2UsIHRoZXJlJ3MgYSAtMyBiaWFzIGluIHRoZXJlLCBzbyBpdCBvbmx5IGtpY2tzIGluIHVuZGVyIGV4dHJlbWUgY2lyY3Vtc3RhbmNlc1xuICB4X2FkdmFuY2UgPSBtYXgoeF9hZHZhbmNlLCB4c2MgKiBmb250X3RleGVsX3NjYWxlICpcbiAgICBtYXgodGhpcy5hcHBsaWVkX3N0eWxlLmdsb3dfb3V0ZXIgLSB0aGlzLmFwcGxpZWRfc3R5bGUuZ2xvd194b2ZmcyAtIDMsIDApKTtcbiAgcmV0dXJuIHhfYWR2YW5jZTtcbn07XG5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBNYWluIGltcGxlbWVudGF0aW9uXG5cbkdsb3ZGb250LnByb3RvdHlwZS5kcmF3U2NhbGVkID0gZnVuY3Rpb24gKHN0eWxlLCBfeCwgeSwgeiwgeHNjLCB5c2MsIHRleHQpIHtcbiAgbGV0IHggPSBfeDtcbiAgYXNzZXJ0KGlzRmluaXRlKHgpKTtcbiAgYXNzZXJ0KGlzRmluaXRlKHkpKTtcbiAgYXNzZXJ0KGlzRmluaXRlKHopKTtcbiAgbGV0IGZvbnRfaW5mbyA9IHRoaXMuZm9udF9pbmZvO1xuICAvLyBEZWJ1Zzogc2hvdyBleHBlY3QgYXJlYSBvZiBnbHlwaHNcbiAgLy8gcmVxdWlyZSgnLi91aS5qcycpLmRyYXdSZWN0KF94LCB5LFxuICAvLyAgIF94ICsgeHNjICogZm9udF9pbmZvLmZvbnRfc2l6ZSAqIDIwLCB5ICsgeXNjICogZm9udF9pbmZvLmZvbnRfc2l6ZSxcbiAgLy8gICAxMDAwLCBbMSwgMCwgMSwgMC41XSk7XG4gIHkgKz0gKGZvbnRfaW5mby55X29mZnNldCB8fCAwKSAqIHlzYztcbiAgbGV0IHRleHMgPSB0aGlzLnRleHR1cmVzO1xuICBpZiAodGV4dCA9PT0gbnVsbCB8fCB0ZXh0ID09PSB1bmRlZmluZWQpIHtcbiAgICB0ZXh0ID0gJyhudWxsKSc7XG4gIH1cbiAgY29uc3QgbGVuID0gdGV4dC5sZW5ndGg7XG4gIGlmICh4c2MgPT09IDAgfHwgeXNjID09PSAwKSB7XG4gICAgcmV0dXJuIDA7XG4gIH1cblxuICB0aGlzLmFwcGx5U3R5bGUoc3R5bGUpO1xuXG4gIGNvbnN0IGF2Z19zY2FsZV9mb250ID0gKHhzYyArIHlzYykgKiAwLjU7XG4gIGNvbnN0IGNhbWVyYV94c2NhbGUgPSBjYW1lcmEyZC5kYXRhWzRdO1xuICBjb25zdCBjYW1lcmFfeXNjYWxlID0gY2FtZXJhMmQuZGF0YVs1XTtcbiAgbGV0IGF2Z19zY2FsZV9jb21iaW5lZCA9ICh4c2MgKiBjYW1lcmFfeHNjYWxlICsgeXNjICogY2FtZXJhX3lzY2FsZSkgKiAwLjU7XG4gIC8vIGF2Z19zY2FsZV9jb21iaW5lZCAqPSBnbG92X3NldHRpbmdzLnJlbmRlcl9zY2FsZTtcblxuICAvLyBzY2FsZSBhbGwgc3VwcGxpZWQgdmFsdWVzIGJ5IHRoaXMgc28gdGhhdCBpZiB3ZSBzd2FwIGluIGEgZm9udCB3aXRoIHR3aWNlIHRoZSByZXNvbHV0aW9uIChhbmQgdHdpY2UgdGhlIHNwcmVhZClcbiAgLy8gICB0aGluZ3MgbG9vayBhbG1vc3QgaWRlbnRpY2FsLCBqdXN0IGNyaXNwZXJcbiAgbGV0IHhfYWR2YW5jZSA9IHRoaXMuY2FsY1hBZHZhbmNlKHhzYyk7XG4gIGxldCBmb250X3RleGVsX3NjYWxlID0gZm9udF9pbmZvLmZvbnRfc2l6ZSAvIDMyO1xuICBsZXQgdGlsZV9zdGF0ZSA9IDA7XG5cbiAgbGV0IGFwcGxpZWRfc3R5bGUgPSB0aGlzLmFwcGxpZWRfc3R5bGU7XG5cbiAgLy8gQ2FsY3VsYXRlIGFudGktYWxpYXNpbmcgdmFsdWVzXG4gIGxldCBkZWx0YV9wZXJfc291cmNlX3BpeGVsID0gMC41IC8gZm9udF9pbmZvLnNwcmVhZDtcbiAgbGV0IGRlbHRhX3Blcl9kZXN0X3BpeGVsID0gZGVsdGFfcGVyX3NvdXJjZV9waXhlbCAvIGF2Z19zY2FsZV9jb21iaW5lZDtcbiAgbGV0IHZhbHVlID0gdmVjNChcbiAgICAxIC8gZGVsdGFfcGVyX2Rlc3RfcGl4ZWwsIC8vIEFBIE11bHQgYW5kIE91dGxpbmUgTXVsdFxuICAgIC0wLjUgLyBkZWx0YV9wZXJfZGVzdF9waXhlbCArIDAuNSwgLy8gQUEgQWRkXG4gICAgLy8gT3V0bGluZSBBZGRcbiAgICAtMC41IC8gZGVsdGFfcGVyX2Rlc3RfcGl4ZWwgKyAwLjUgKyBhcHBsaWVkX3N0eWxlLm91dGxpbmVfd2lkdGgqZm9udF90ZXhlbF9zY2FsZSphdmdfc2NhbGVfY29tYmluZWQsXG4gICAgMCwgLy8gVW51c2VkXG4gICk7XG4gIGlmICh2YWx1ZVsyXSA+IDApIHtcbiAgICB2YWx1ZVsyXSA9IDA7XG4gIH1cbiAgbGV0IHBhZGRpbmcxID0gbWF4KDAsIGFwcGxpZWRfc3R5bGUub3V0bGluZV93aWR0aCpmb250X3RleGVsX3NjYWxlKmF2Z19zY2FsZV9mb250KTtcbiAgbGV0IHBhZGRpbmc0ID0gdmVjNCgpO1xuICBjb25zdCBvdXRlcl9zY2FsZWQgPSBhcHBsaWVkX3N0eWxlLmdsb3dfb3V0ZXIqZm9udF90ZXhlbF9zY2FsZTtcbiAgcGFkZGluZzRbMF0gPSBtYXgob3V0ZXJfc2NhbGVkKnhzYyAtIGFwcGxpZWRfc3R5bGUuZ2xvd194b2Zmcypmb250X3RleGVsX3NjYWxlKnhzYywgcGFkZGluZzEpO1xuICBwYWRkaW5nNFsyXSA9IG1heChvdXRlcl9zY2FsZWQqeHNjICsgYXBwbGllZF9zdHlsZS5nbG93X3hvZmZzKmZvbnRfdGV4ZWxfc2NhbGUqeHNjLCBwYWRkaW5nMSk7XG4gIHBhZGRpbmc0WzFdID0gbWF4KG91dGVyX3NjYWxlZCp5c2MgLSBhcHBsaWVkX3N0eWxlLmdsb3dfeW9mZnMqZm9udF90ZXhlbF9zY2FsZSp5c2MsIHBhZGRpbmcxKTtcbiAgcGFkZGluZzRbM10gPSBtYXgob3V0ZXJfc2NhbGVkKnlzYyArIGFwcGxpZWRfc3R5bGUuZ2xvd195b2Zmcypmb250X3RleGVsX3NjYWxlKnlzYywgcGFkZGluZzEpO1xuXG4gIHRlY2hQYXJhbXNTZXQoJ3BhcmFtMCcsIHZhbHVlKTtcbiAgbGV0IHZhbHVlMiA9IHZlYzQoXG4gICAgMCwgLy8gZmlsbGVkIGxhdGVyXG4gICAgMCwgLy8gZmlsbGVkIGxhdGVyXG4gICAgLy8gR2xvdyBtdWx0XG4gICAgMSAvICgoYXBwbGllZF9zdHlsZS5nbG93X291dGVyIC0gYXBwbGllZF9zdHlsZS5nbG93X2lubmVyKSAqIGRlbHRhX3Blcl9zb3VyY2VfcGl4ZWwgKiBmb250X3RleGVsX3NjYWxlKSxcbiAgICAtKDAuNSAtIGFwcGxpZWRfc3R5bGUuZ2xvd19vdXRlciAqIGRlbHRhX3Blcl9zb3VyY2VfcGl4ZWwgKiBmb250X3RleGVsX3NjYWxlKSAvICgoYXBwbGllZF9zdHlsZS5nbG93X291dGVyIC1cbiAgICAgIGFwcGxpZWRfc3R5bGUuZ2xvd19pbm5lcikgKiBkZWx0YV9wZXJfc291cmNlX3BpeGVsICogZm9udF90ZXhlbF9zY2FsZSlcbiAgKTtcbiAgaWYgKHZhbHVlMlszXSA+IDApIHtcbiAgICB2YWx1ZTJbM10gPSAwO1xuICB9XG5cbiAgbGV0IHBhZGRpbmdfaW5fZm9udF9zcGFjZSA9IHZlYzQoKTtcbiAgdjRzY2FsZShwYWRkaW5nX2luX2ZvbnRfc3BhY2UsIHBhZGRpbmc0LCAxIC8gYXZnX3NjYWxlX2ZvbnQpO1xuICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgNDsgKytpaSkge1xuICAgIGlmIChwYWRkaW5nX2luX2ZvbnRfc3BhY2VbaWldID4gZm9udF9pbmZvLnNwcmVhZCkge1xuICAgICAgLy8gTm90IGVub3VnaCBidWZmZXJcbiAgICAgIGxldCBzYyA9IGZvbnRfaW5mby5zcHJlYWQgLyBwYWRkaW5nX2luX2ZvbnRfc3BhY2VbaWldO1xuICAgICAgcGFkZGluZzRbaWldICo9IHNjO1xuICAgICAgcGFkZGluZ19pbl9mb250X3NwYWNlW2lpXSAqPSBzYztcbiAgICB9XG4gIH1cblxuICAvLyBDaG9vc2UgYXBwcm9wcmlhdGUgeiBhZHZhbmNlIHNvIHRoYXQgY2hhcmFjdGVyIGFyZSBkcmF3biBsZWZ0IHRvIHJpZ2h0IChvciBSVEwgaWYgdGhlIGdsb3cgaXMgb24gdGhlIG90aGVyIHNpZGUpXG4gIGNvbnN0IHpfYWR2YW5jZSA9IGFwcGxpZWRfc3R5bGUuZ2xvd194b2ZmcyA8IDAgPyAtMC4wMDAxIDogMC4wMDAxO1xuXG5cbiAgLy8gRm9yIG5vbi0xOjEgYXNwZWN0IHJhdGlvbiByZW5kZXJpbmcsIG5lZWQgdG8gc2NhbGUgb3VyIGNvb3JkaW5hdGVzJyBwYWRkaW5nIGRpZmZlcmVudGx5IGluIGVhY2ggYXhpc1xuICBsZXQgcmVsX3hfc2NhbGUgPSB4c2MgLyBhdmdfc2NhbGVfZm9udDtcbiAgbGV0IHJlbF95X3NjYWxlID0geXNjIC8gYXZnX3NjYWxlX2ZvbnQ7XG5cbiAgZm9yIChsZXQgaT0wOyBpPGxlbjsgaSsrKSB7XG4gICAgY29uc3QgYyA9IHRleHQuY2hhckNvZGVBdChpKTtcbiAgICBpZiAoYyA9PT0gOSkgeyAvLyAnXFx0Jy5jaGFyQ29kZUF0KDApKSB7XG4gICAgICBsZXQgdGFic2l6ZSA9IHhzYyAqIGZvbnRfaW5mby5mb250X3NpemUgKiA0O1xuICAgICAgeCA9ICgoKCh4IC0gX3gpIC8gdGFic2l6ZSkgfCAwKSArIDEpICogdGFic2l6ZSArIF94O1xuICAgIH0gZWxzZSB7XG4gICAgICBsZXQgY2hhcl9pbmZvID0gdGhpcy5pbmZvRnJvbUNoYXIoYyk7XG4gICAgICBpZiAoIWNoYXJfaW5mbykge1xuICAgICAgICBjaGFyX2luZm8gPSB0aGlzLmluZm9Gcm9tQ2hhcigxMyk7XG4gICAgICB9XG4gICAgICBpZiAoY2hhcl9pbmZvKSB7XG4gICAgICAgIGxldCBjaGFyX3NjYWxlID0gY2hhcl9pbmZvLnNjYWxlO1xuICAgICAgICBsZXQgeHNjMiA9IHhzYyAqIGNoYXJfc2NhbGU7XG4gICAgICAgIGlmIChjaGFyX2luZm8udykge1xuICAgICAgICAgIGxldCB5c2MyID0geXNjICogY2hhcl9zY2FsZTtcbiAgICAgICAgICBsZXQgcGFkX3NjYWxlID0gMSAvIGNoYXJfc2NhbGU7XG4gICAgICAgICAgbGV0IHRpbGVfd2lkdGggPSB0aGlzLnRleF93O1xuICAgICAgICAgIGxldCB0aWxlX2hlaWdodCA9IHRoaXMudGV4X2g7XG4gICAgICAgICAgLy8gTGF6eSB1cGRhdGUgcGFyYW1zIGhlcmVcbiAgICAgICAgICBpZiAoY2hhcl9zY2FsZSAhPT0gdGlsZV9zdGF0ZSkge1xuICAgICAgICAgICAgdmFsdWUyWzBdID0gLWFwcGxpZWRfc3R5bGUuZ2xvd194b2ZmcyAqIGZvbnRfdGV4ZWxfc2NhbGUgKiBwYWRfc2NhbGUgLyB0aWxlX3dpZHRoO1xuICAgICAgICAgICAgdmFsdWUyWzFdID0gLWFwcGxpZWRfc3R5bGUuZ2xvd195b2ZmcyAqIGZvbnRfdGV4ZWxfc2NhbGUgKiBwYWRfc2NhbGUgLyB0aWxlX2hlaWdodDtcbiAgICAgICAgICAgIHRlY2hQYXJhbXNTZXQoJ2dsb3dQYXJhbXMnLCB2YWx1ZTIpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGxldCB1MCA9IChjaGFyX2luZm8ueDAgLSBwYWRkaW5nX2luX2ZvbnRfc3BhY2VbMF0gKiBwYWRfc2NhbGUpIC8gdGlsZV93aWR0aDtcbiAgICAgICAgICBsZXQgdTEgPSAoY2hhcl9pbmZvLngwICsgY2hhcl9pbmZvLncgKyBwYWRkaW5nX2luX2ZvbnRfc3BhY2VbMl0gKiBwYWRfc2NhbGUpIC8gdGlsZV93aWR0aDtcbiAgICAgICAgICBsZXQgdjAgPSAoY2hhcl9pbmZvLnkwIC0gcGFkZGluZ19pbl9mb250X3NwYWNlWzFdICogcGFkX3NjYWxlKSAvIHRpbGVfaGVpZ2h0O1xuICAgICAgICAgIGxldCB2MSA9IChjaGFyX2luZm8ueTAgKyBjaGFyX2luZm8uaCArIHBhZGRpbmdfaW5fZm9udF9zcGFjZVszXSAqIHBhZF9zY2FsZSkgLyB0aWxlX2hlaWdodDtcblxuICAgICAgICAgIGxldCB3ID0gY2hhcl9pbmZvLncgKiB4c2MyICsgKHBhZGRpbmc0WzBdICsgcGFkZGluZzRbMl0pICogcmVsX3hfc2NhbGU7XG4gICAgICAgICAgbGV0IGggPSBjaGFyX2luZm8uaCAqIHlzYzIgKyAocGFkZGluZzRbMV0gKyBwYWRkaW5nNFszXSkgKiByZWxfeV9zY2FsZTtcblxuICAgICAgICAgIHNwcml0ZXMucXVldWVyYXcoXG4gICAgICAgICAgICB0ZXhzLFxuICAgICAgICAgICAgeCAtIHJlbF94X3NjYWxlICogcGFkZGluZzRbMF0sIHkgLSByZWxfeV9zY2FsZSAqIHBhZGRpbmc0WzJdICsgY2hhcl9pbmZvLnlvZmZzICogeXNjMixcbiAgICAgICAgICAgIHogKyB6X2FkdmFuY2UgKiBpLCB3LCBoLFxuICAgICAgICAgICAgdTAsIHYwLCB1MSwgdjEsXG4gICAgICAgICAgICBhcHBsaWVkX3N0eWxlLmNvbG9yX3ZlYzQsXG4gICAgICAgICAgICB0aGlzLnNoYWRlciwgdGVjaFBhcmFtc0dldCgpKTtcblxuICAgICAgICAgIC8vIHJlcXVpcmUoJy4vdWkuanMnKS5kcmF3UmVjdCh4IC0gcmVsX3hfc2NhbGUgKiBwYWRkaW5nNFswXSxcbiAgICAgICAgICAvLyAgIHkgLSByZWxfeV9zY2FsZSAqIHBhZGRpbmc0WzJdICsgY2hhcl9pbmZvLnlvZmZzICogeXNjMixcbiAgICAgICAgICAvLyAgIHcgKyB4IC0gcmVsX3hfc2NhbGUgKiBwYWRkaW5nNFswXSxcbiAgICAgICAgICAvLyAgIGggKyB5IC0gcmVsX3lfc2NhbGUgKiBwYWRkaW5nNFsyXSArIGNoYXJfaW5mby55b2ZmcyAqIHlzYzIsXG4gICAgICAgICAgLy8gICAxMDAwLCBbaSAmIDEsIChpICYgMik+PjEsIChpICYgNCk+PjIsIDAuNV0pO1xuICAgICAgICB9XG5cbiAgICAgICAgeCArPSAoY2hhcl9pbmZvLncgKyBjaGFyX2luZm8ueHBhZCkgKiB4c2MyICsgeF9hZHZhbmNlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4geCAtIF94O1xufTtcblxuR2xvdkZvbnQucHJvdG90eXBlLmRldGVybWluZVNoYWRlciA9IGZ1bmN0aW9uICgpIHtcbiAgbGV0IG91dGxpbmUgPSB0aGlzLmFwcGxpZWRfc3R5bGUub3V0bGluZV93aWR0aCAmJiAodGhpcy5hcHBsaWVkX3N0eWxlLm91dGxpbmVfY29sb3IgJiAweGZmKTtcbiAgbGV0IGdsb3cgPSB0aGlzLmFwcGxpZWRfc3R5bGUuZ2xvd19vdXRlciA+IDAgJiYgKHRoaXMuYXBwbGllZF9zdHlsZS5nbG93X2NvbG9yICYgMHhmZik7XG4gIGlmIChvdXRsaW5lKSB7XG4gICAgaWYgKGdsb3cpIHtcbiAgICAgIHRoaXMuc2hhZGVyID0gZm9udF9zaGFkZXJzLmZvbnRfYWFfb3V0bGluZV9nbG93O1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnNoYWRlciA9IGZvbnRfc2hhZGVycy5mb250X2FhX291dGxpbmU7XG4gICAgfVxuICB9IGVsc2UgaWYgKGdsb3cpIHtcbiAgICB0aGlzLnNoYWRlciA9IGZvbnRfc2hhZGVycy5mb250X2FhX2dsb3c7XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5zaGFkZXIgPSBmb250X3NoYWRlcnMuZm9udF9hYTtcbiAgfVxufTtcblxuR2xvdkZvbnQucHJvdG90eXBlLmFwcGx5U3R5bGUgPSBmdW5jdGlvbiAoc3R5bGUpIHtcbiAgaWYgKCFzdHlsZSkge1xuICAgIHN0eWxlID0gdGhpcy5kZWZhdWx0X3N0eWxlO1xuICB9XG4gIC8vIG91dGxpbmVcbiAgdmVjNENvbG9yRnJvbUludENvbG9yKHRlbXBfY29sb3IsIHN0eWxlLm91dGxpbmVfY29sb3IpO1xuICB0ZWNoUGFyYW1zU2V0KCdvdXRsaW5lQ29sb3InLCB0ZW1wX2NvbG9yKTtcblxuICAvLyBnbG93XG4gIHZlYzRDb2xvckZyb21JbnRDb2xvcih0ZW1wX2NvbG9yLCBzdHlsZS5nbG93X2NvbG9yKTtcbiAgdGVjaFBhcmFtc1NldCgnZ2xvd0NvbG9yJywgdGVtcF9jb2xvcik7XG5cbiAgLy8gZXZlcnl0aGluZyBlbHNlXG4gIHRoaXMuYXBwbGllZF9zdHlsZS5vdXRsaW5lX3dpZHRoID0gc3R5bGUub3V0bGluZV93aWR0aDtcbiAgdGhpcy5hcHBsaWVkX3N0eWxlLm91dGxpbmVfY29sb3IgPSBzdHlsZS5vdXRsaW5lX2NvbG9yO1xuICB0aGlzLmFwcGxpZWRfc3R5bGUuZ2xvd194b2ZmcyA9IHN0eWxlLmdsb3dfeG9mZnM7XG4gIHRoaXMuYXBwbGllZF9zdHlsZS5nbG93X3lvZmZzID0gc3R5bGUuZ2xvd195b2ZmcztcbiAgdGhpcy5hcHBsaWVkX3N0eWxlLmdsb3dfaW5uZXIgPSBzdHlsZS5nbG93X2lubmVyO1xuICB0aGlzLmFwcGxpZWRfc3R5bGUuZ2xvd19vdXRlciA9IHN0eWxlLmdsb3dfb3V0ZXI7XG4gIHRoaXMuYXBwbGllZF9zdHlsZS5nbG93X2NvbG9yID0gc3R5bGUuZ2xvd19jb2xvcjtcbiAgdGhpcy5hcHBsaWVkX3N0eWxlLmNvbG9yID0gc3R5bGUuY29sb3I7XG4gIHRoaXMuYXBwbGllZF9zdHlsZS5jb2xvcl92ZWM0ID0gc3R5bGUuY29sb3JfdmVjNDtcbiAgdGhpcy5hcHBsaWVkX3N0eWxlLmNvbG9yVVIgPSBzdHlsZS5jb2xvclVSO1xuICB0aGlzLmFwcGxpZWRfc3R5bGUuY29sb3JMUiA9IHN0eWxlLmNvbG9yTFI7XG4gIHRoaXMuYXBwbGllZF9zdHlsZS5jb2xvckxMID0gc3R5bGUuY29sb3JMTDtcbiAgdGhpcy5hcHBsaWVkX3N0eWxlLmNvbG9yX21vZGUgPSBzdHlsZS5jb2xvcl9tb2RlO1xuXG4gIGlmICh0aGlzLmFwcGxpZWRfc3R5bGUuY29sb3JfbW9kZSA9PT0gQ09MT1JfTU9ERS5TSU5HTEUpIHtcbiAgICB0aGlzLmFwcGxpZWRfc3R5bGUuY29sb3JVUiA9IHRoaXMuYXBwbGllZF9zdHlsZS5jb2xvckxMID0gdGhpcy5hcHBsaWVkX3N0eWxlLmNvbG9yTFIgPSB0aGlzLmFwcGxpZWRfc3R5bGUuY29sb3I7XG4gIH1cblxuICB0aGlzLmRldGVybWluZVNoYWRlcigpO1xufTtcblxuLy8gUmVwbGljYXRlIGNvbnN0YW50cyBhbmQgdXRpbGl0eSBmdW5jdGlvbnMgb24gYWxsIGZvbnQgaW5zdGFuY2VzIGFzIHdlbGxcbkdsb3ZGb250LnByb3RvdHlwZS5DT0xPUl9NT0RFID0gQ09MT1JfTU9ERTtcbkdsb3ZGb250LnByb3RvdHlwZS5BTElHTiA9IEFMSUdOO1xuR2xvdkZvbnQucHJvdG90eXBlLnN0eWxlID0gc3R5bGU7XG5HbG92Rm9udC5wcm90b3R5cGUuc3R5bGVBbHBoYSA9IHN0eWxlQWxwaGE7XG5HbG92Rm9udC5wcm90b3R5cGUuc3R5bGVDb2xvcmVkID0gc3R5bGVDb2xvcmVkO1xuXG5mdW5jdGlvbiBmb250U2hhZGVyc0luaXQoKSB7XG4gIGlmIChmb250X3NoYWRlcnMuZm9udF9hYSkge1xuICAgIHJldHVybjtcbiAgfVxuICBmb250X3NoYWRlcnMuZm9udF9hYSA9IHNoYWRlcnMuY3JlYXRlKCdnbG92L3NoYWRlcnMvZm9udF9hYS5mcCcpO1xuICBmb250X3NoYWRlcnMuZm9udF9hYV9nbG93ID0gc2hhZGVycy5jcmVhdGUoJ2dsb3Yvc2hhZGVycy9mb250X2FhX2dsb3cuZnAnKTtcbiAgZm9udF9zaGFkZXJzLmZvbnRfYWFfb3V0bGluZSA9IHNoYWRlcnMuY3JlYXRlKCdnbG92L3NoYWRlcnMvZm9udF9hYV9vdXRsaW5lLmZwJyk7XG4gIGZvbnRfc2hhZGVycy5mb250X2FhX291dGxpbmVfZ2xvdyA9IHNoYWRlcnMuY3JlYXRlKCdnbG92L3NoYWRlcnMvZm9udF9hYV9vdXRsaW5lX2dsb3cuZnAnKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZShmb250X2luZm8sIHRleHR1cmVfbmFtZSkge1xuICBmb250U2hhZGVyc0luaXQoKTtcbiAgcmV0dXJuIG5ldyBHbG92Rm9udChmb250X2luZm8sIHRleHR1cmVfbmFtZSk7XG59XG4iLCIvLyBQb3J0aW9ucyBDb3B5cmlnaHQgMjAxOSBKaW1iIEVzc2VyIChodHRwczovL2dpdGh1Yi5jb20vSmltYmx5Lylcbi8vIFJlbGVhc2VkIHVuZGVyIE1JVCBMaWNlbnNlOiBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVFxuLyogZXNsaW50IG5vLWJpdHdpc2U6b2ZmICovXG5cbmNvbnN0IGFzc2VydCA9IHJlcXVpcmUoJ2Fzc2VydCcpO1xuY29uc3QgZW5naW5lID0gcmVxdWlyZSgnLi9lbmdpbmUuanMnKTtcbmNvbnN0IHsgY2VpbCwgbWF4LCBtaW4gfSA9IE1hdGg7XG5cbmV4cG9ydCBjb25zdCBUUklBTkdMRVMgPSA0O1xuZXhwb3J0IGNvbnN0IFRSSUFOR0xFX0ZBTiA9IDY7XG5leHBvcnQgY29uc3QgUVVBRFMgPSA3O1xuXG5jb25zdCBnbF9ieXRlX3NpemUgPSB7XG4gIDB4MTQwMDogMSwgLy8gR0xfQllURVxuICAweDE0MDE6IDEsIC8vIEdMX1VOU0lHTkVEX0JZVEVcbiAgMHgxNDAyOiAyLCAvLyBHTF9TSE9SVFxuICAweDE0MDM6IDIsIC8vIEdMX1VOU0lHTkVEX1NIT1JUXG4gIDB4MTQwNjogNCwgLy8gR0xfRkxPQVRcbn07XG5cbi8vIGxldCB1bml0X2J1Zjtcbi8vIGxldCB1bml0X2J1Zl9sZW4gPSAwO1xuXG5sZXQgYm91bmRfZ2VvbTtcblxubGV0IGJvdW5kX2FycmF5X2J1ZiA9IG51bGw7XG5sZXQgYm91bmRfaW5kZXhfYnVmID0gbnVsbDtcblxubGV0IHF1YWRfaW5kZXhfYnVmO1xubGV0IHF1YWRfaW5kZXhfYnVmX2xlbiA9IDA7XG5cbmZ1bmN0aW9uIGRlbGV0ZUJ1ZmZlcihoYW5kbGUpIHtcbiAgaWYgKCFoYW5kbGUpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKGJvdW5kX2FycmF5X2J1ZiA9PT0gaGFuZGxlKSB7XG4gICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIG51bGwpO1xuICAgIGJvdW5kX2FycmF5X2J1ZiA9IG51bGw7XG4gIH1cbiAgaWYgKGJvdW5kX2luZGV4X2J1ZiA9PT0gaGFuZGxlKSB7XG4gICAgZ2wuYmluZEJ1ZmZlcihnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUiwgbnVsbCk7XG4gICAgYm91bmRfaW5kZXhfYnVmID0gbnVsbDtcbiAgfVxuICBnbC5kZWxldGVCdWZmZXIoaGFuZGxlKTtcbn1cblxubGV0IGF0dHJpYl9lbmFibGVkID0gMDtcbmZ1bmN0aW9uIGVuYWJsZVZlcnRleEF0dHJpYkFycmF5KGJpdHMpIHtcbiAgaWYgKGJpdHMgPT09IGF0dHJpYl9lbmFibGVkKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGxldCBkaXNhYmxlX21hc2sgPSAoYXR0cmliX2VuYWJsZWQgJiAofmJpdHMpKTtcbiAgbGV0IGVuYWJsZV9tYXNrID0gKCh+YXR0cmliX2VuYWJsZWQpICYgYml0cyk7XG4gIGF0dHJpYl9lbmFibGVkID0gYml0cztcblxuICBpZiAoZGlzYWJsZV9tYXNrKSB7XG4gICAgbGV0IG4gPSAwO1xuICAgIGRvIHtcbiAgICAgIGlmIChkaXNhYmxlX21hc2sgJiAxKSB7XG4gICAgICAgIGdsLmRpc2FibGVWZXJ0ZXhBdHRyaWJBcnJheShuKTtcbiAgICAgIH1cbiAgICAgIG4rKztcbiAgICAgIGRpc2FibGVfbWFzayA+Pj0gMTtcbiAgICB9IHdoaWxlIChkaXNhYmxlX21hc2spO1xuICB9XG5cbiAgaWYgKGVuYWJsZV9tYXNrKSB7XG4gICAgbGV0IG4gPSAwO1xuICAgIGRvIHtcbiAgICAgIGlmIChlbmFibGVfbWFzayAmIDEpIHtcbiAgICAgICAgZ2wuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkobik7XG4gICAgICB9XG4gICAgICBuKys7XG4gICAgICBlbmFibGVfbWFzayA+Pj0gMTtcbiAgICB9IHdoaWxlIChlbmFibGVfbWFzayk7XG4gIH1cbn1cblxuLy8gZnVuY3Rpb24gYmluZFVuaXRCdWYoYXJyX2lkeCwgbGVuKSB7XG4vLyAgIGlmIChsZW4gPiB1bml0X2J1Zl9sZW4pIHtcbi8vICAgICBkZWxldGVCdWZmZXIodW5pdF9idWYpO1xuLy8gICAgIHVuaXRfYnVmID0gZ2wuY3JlYXRlQnVmZmVyKCk7XG4vLyAgICAgdW5pdF9idWZfbGVuID0gbWF4KGNlaWwodW5pdF9idWZfbGVuICogMS41KSwgbGVuKTtcbi8vICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgdW5pdF9idWYpO1xuLy8gICAgIGJvdW5kX2FycmF5X2J1ZiA9IHVuaXRfYnVmO1xuLy8gICAgIGxldCBhcnIgPSBuZXcgVWludDhBcnJheSh1bml0X2J1Zl9sZW4gKiA0KTtcbi8vICAgICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgdW5pdF9idWZfbGVuICogNDsgKytpaSkge1xuLy8gICAgICAgYXJyW2lpXSA9IDI1NTtcbi8vICAgICB9XG4vLyAgICAgZ2wuYnVmZmVyRGF0YShnbC5BUlJBWV9CVUZGRVIsIGFyciwgZ2wuU1RBVElDX0RSQVcpO1xuLy8gICB9IGVsc2Uge1xuLy8gICAgIGlmIChib3VuZF9hcnJheV9idWYgIT09IHVuaXRfYnVmKSB7XG4vLyAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgdW5pdF9idWYpO1xuLy8gICAgICAgYm91bmRfYXJyYXlfYnVmID0gdW5pdF9idWY7XG4vLyAgICAgfVxuLy8gICB9XG4vLyAgIGdsLnZlcnRleEF0dHJpYlBvaW50ZXIoYXJyX2lkeCwgNCwgZ2wuVU5TSUdORURfQllURSwgdHJ1ZSwgMCwgMCk7XG4vLyB9XG5cbi8vIFZlcnRzIHNob3VsZCBiZSBvcmRlcmVkIGNvdW50ZXItY2xvY2t3aXNlIGZyb20gdGhlIHVwcGVyIGxlZnRcbmZ1bmN0aW9uIGdldFF1YWRJbmRleEJ1ZihxdWFkX2NvdW50KSB7XG4gIGFzc2VydChxdWFkX2NvdW50IDw9IDE2Mzg0KTtcbiAgLy8gSWYgbm90LCBuZWVkIHRvIHNwbGl0IGludG8gbXVsdGlwbGUgdmVydGV4IGFuZCBpbmRleCBidWZmZXJzIChmYWlybHkgZWFzeSksXG4gIC8vICAgb3IgdXNlIHRoZSBPRVNfZWxlbWVudF9pbmRleF91aW50IGV4dGVuc2lvbiAodHJpdmlhbCwgYnV0IHByb2JhYmx5IHNsb3dlciwgbWF5YmUgbm90IHN1cHBvcnRlZCBvbiBtb2JpbGU/KVxuICBpZiAocXVhZF9jb3VudCAqIDYgPiBxdWFkX2luZGV4X2J1Zl9sZW4pIHtcbiAgICBpZiAoIXF1YWRfaW5kZXhfYnVmKSB7XG4gICAgICBxdWFkX2luZGV4X2J1ZiA9IGdsLmNyZWF0ZUJ1ZmZlcigpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBmcmVlaW5nIG9sZCBvbmVcbiAgICAgIGVuZ2luZS5wZXJmX3N0YXRlLmdwdV9tZW0uZ2VvbSAtPSBxdWFkX2luZGV4X2J1Zl9sZW4gKiAyO1xuICAgIH1cbiAgICBxdWFkX2luZGV4X2J1Zl9sZW4gPSBtYXgoY2VpbChxdWFkX2luZGV4X2J1Zl9sZW4gKiAxLjUpLCBxdWFkX2NvdW50ICogNik7XG4gICAgaWYgKGJvdW5kX2luZGV4X2J1ZiAhPT0gcXVhZF9pbmRleF9idWYpIHtcbiAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsIHF1YWRfaW5kZXhfYnVmKTtcbiAgICAgIGJvdW5kX2luZGV4X2J1ZiA9IHF1YWRfaW5kZXhfYnVmO1xuICAgIH1cbiAgICBsZXQgYXJyID0gbmV3IFVpbnQxNkFycmF5KHF1YWRfaW5kZXhfYnVmX2xlbik7XG4gICAgbGV0IHZpZHggPSAwO1xuICAgIGZvciAobGV0IGlpID0gMDsgaWkgPCBxdWFkX2luZGV4X2J1Zl9sZW47KSB7XG4gICAgICBhcnJbaWkrK10gPSB2aWR4ICsgMTtcbiAgICAgIGFycltpaSsrXSA9IHZpZHggKyAzO1xuICAgICAgYXJyW2lpKytdID0gdmlkeCsrOyAvLyAwXG4gICAgICBhcnJbaWkrK10gPSB2aWR4Kys7IC8vIDFcbiAgICAgIGFycltpaSsrXSA9IHZpZHgrKzsgLy8gMlxuICAgICAgYXJyW2lpKytdID0gdmlkeCsrOyAvLyAzXG4gICAgfVxuICAgIGdsLmJ1ZmZlckRhdGEoZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsIGFyciwgZ2wuU1RBVElDX0RSQVcpO1xuICAgIGVuZ2luZS5wZXJmX3N0YXRlLmdwdV9tZW0uZ2VvbSArPSBxdWFkX2luZGV4X2J1Zl9sZW4gKiAyO1xuICB9XG4gIHJldHVybiBxdWFkX2luZGV4X2J1Zjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUluZGljZXMoaWR4cykge1xuICBsZXQgcmV0ID0ge1xuICAgIGlibzogZ2wuY3JlYXRlQnVmZmVyKCksXG4gICAgaWJvX3NpemU6IGlkeHMubGVuZ3RoLFxuICB9O1xuICBnbC5iaW5kQnVmZmVyKGdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLCByZXQuaWJvKTtcbiAgYm91bmRfaW5kZXhfYnVmID0gcmV0LmlibztcbiAgZ2wuYnVmZmVyRGF0YShnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUiwgaWR4cywgZ2wuU1RBVElDX0RSQVcpO1xuICBlbmdpbmUucGVyZl9zdGF0ZS5ncHVfbWVtLmdlb20gKz0gaWR4cy5sZW5ndGggKiAyO1xuICByZXR1cm4gcmV0O1xufVxuXG5mdW5jdGlvbiBmb3JtYXRJbmZvKGZvcm1hdCkge1xuICBpZiAoIWZvcm1hdC5pbmZvKSB7XG4gICAgbGV0IHN0cmlkZSA9IDA7XG4gICAgbGV0IGVsZW1fY291bnQgPSAwO1xuICAgIGxldCB1c2VkX2F0dHJpYnMgPSAwO1xuICAgIGxldCBjb21tb25fYnl0ZV9zaXplID0gMDtcbiAgICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgZm9ybWF0Lmxlbmd0aDsgKytpaSkge1xuICAgICAgbGV0IGZtdCA9IGZvcm1hdFtpaV07XG4gICAgICBsZXQgc2VtID0gZm10WzBdO1xuICAgICAgbGV0IGdsdHlwZSA9IGZtdFsxXTtcbiAgICAgIGxldCBjb3VudCA9IGZtdFsyXTtcbiAgICAgIHVzZWRfYXR0cmlicyB8PSAoMSA8PCBzZW0pO1xuICAgICAgbGV0IGJ5dGVfc2l6ZSA9IGdsX2J5dGVfc2l6ZVtnbHR5cGVdO1xuICAgICAgYXNzZXJ0KGJ5dGVfc2l6ZSk7XG4gICAgICBhc3NlcnQoIWNvbW1vbl9ieXRlX3NpemUgfHwgYnl0ZV9zaXplID09PSBjb21tb25fYnl0ZV9zaXplKTtcbiAgICAgIGNvbW1vbl9ieXRlX3NpemUgPSBieXRlX3NpemU7XG4gICAgICBmbXRbM10gPSBmbXRbM10gfHwgZmFsc2U7XG4gICAgICBmbXRbNF0gPSBieXRlX3NpemU7XG4gICAgICBzdHJpZGUgKz0gY291bnQgKiBieXRlX3NpemU7XG4gICAgICBlbGVtX2NvdW50ICs9IGNvdW50O1xuICAgIH1cbiAgICBmb3JtYXQuaW5mbyA9IHtcbiAgICAgIHN0cmlkZSwgZWxlbV9jb3VudCwgdXNlZF9hdHRyaWJzLCBjb21tb25fYnl0ZV9zaXplXG4gICAgfTtcbiAgfVxuICByZXR1cm4gZm9ybWF0LmluZm87XG59XG5cbi8vIGZvcm1hdCBpcyBbc2hhZGVycy5zZW1hbnRpYy5mb28sIGdsLkZMT0FUL1VOU0lHTkVEX0JZVEUvZXRjLCBjb3VudCwgbm9ybWFsaXplZF1cbmZ1bmN0aW9uIEdlb20oZm9ybWF0LCB2ZXJ0cywgaWR4cywgbW9kZSkge1xuICB0aGlzLm1vZGUgPSBtb2RlIHx8IFRSSUFOR0xFUztcbiAgdGhpcy5mb3JtYXQgPSBmb3JtYXQ7XG4gIGxldCBpbmZvID0gdGhpcy5mb3JtYXRfaW5mbyA9IGZvcm1hdEluZm8oZm9ybWF0KTtcbiAgdGhpcy5zdHJpZGUgPSBpbmZvLnN0cmlkZTtcbiAgdGhpcy51c2VkX2F0dHJpYnMgPSBpbmZvLnVzZWRfYXR0cmlicztcblxuICB0aGlzLnZlcnRfY291bnQgPSB2ZXJ0cy5sZW5ndGggLyB0aGlzLmZvcm1hdF9pbmZvLmVsZW1fY291bnQ7XG4gIHRoaXMudmVydF9ncHVfbWVtID0gdmVydHMubGVuZ3RoICogdGhpcy5mb3JtYXRfaW5mby5jb21tb25fYnl0ZV9zaXplO1xuICBpZiAodmVydHMubGVuZ3RoKSB7XG4gICAgdGhpcy52Ym8gPSBnbC5jcmVhdGVCdWZmZXIoKTtcbiAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgdGhpcy52Ym8pO1xuICAgIGJvdW5kX2FycmF5X2J1ZiA9IHRoaXMudmJvO1xuICAgIGdsLmJ1ZmZlckRhdGEoZ2wuQVJSQVlfQlVGRkVSLCB2ZXJ0cywgZ2wuU1RBVElDX0RSQVcpO1xuICAgIGVuZ2luZS5wZXJmX3N0YXRlLmdwdV9tZW0uZ2VvbSArPSB0aGlzLnZlcnRfZ3B1X21lbTtcbiAgfVxuICB0aGlzLm9yaWdfbW9kZSA9IG1vZGU7XG4gIGlmIChpZHhzKSB7XG4gICAgaWYgKGlkeHMuaWJvKSB7XG4gICAgICB0aGlzLmlibyA9IGlkeHMuaWJvO1xuICAgICAgdGhpcy5pYm9fb3duZWQgPSBmYWxzZTtcbiAgICAgIHRoaXMuaWJvX3NpemUgPSBpZHhzLmlib19zaXplO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmlibyA9IGdsLmNyZWF0ZUJ1ZmZlcigpO1xuICAgICAgdGhpcy5pYm9fb3duZWQgPSB0cnVlO1xuICAgICAgdGhpcy5pYm9fc2l6ZSA9IGlkeHMubGVuZ3RoO1xuICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUiwgdGhpcy5pYm8pO1xuICAgICAgYm91bmRfaW5kZXhfYnVmID0gdGhpcy5pYm87XG4gICAgICBnbC5idWZmZXJEYXRhKGdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLCBpZHhzLCBnbC5TVEFUSUNfRFJBVyk7XG4gICAgICBlbmdpbmUucGVyZl9zdGF0ZS5ncHVfbWVtLmdlb20gKz0gaWR4cy5sZW5ndGggKiAyO1xuICAgIH1cbiAgfSBlbHNlIGlmIChtb2RlID09PSBRVUFEUykge1xuICAgIGFzc2VydC5lcXVhbCh0aGlzLnZlcnRfY291bnQgJSA0LCAwKTtcbiAgICBsZXQgcXVhZF9jb3VudCA9IHRoaXMudmVydF9jb3VudCAvIDQ7XG4gICAgLy8gUEVSRlRPRE86IFVzZSBHTF9RVUFEU19PRVMgZXh0ZW5zaW9uXG4gICAgdGhpcy5pYm8gPSBnZXRRdWFkSW5kZXhCdWYocXVhZF9jb3VudCk7XG4gICAgdGhpcy5pYm9fb3duZWQgPSBmYWxzZTtcbiAgICB0aGlzLmlib19zaXplID0gcXVhZF9jb3VudCAqIDY7XG4gICAgdGhpcy5tb2RlID0gVFJJQU5HTEVTO1xuICB9IGVsc2UgaWYgKG1vZGUgPT09IFRSSUFOR0xFX0ZBTikge1xuICAgIHRoaXMubW9kZSA9IFRSSUFOR0xFX0ZBTjtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLmlibyA9IG51bGw7XG4gICAgdGhpcy5pYm9fb3duZWQgPSBmYWxzZTtcbiAgfVxufVxuXG5HZW9tLnByb3RvdHlwZS51cGRhdGVTdWIgPSBmdW5jdGlvbiAob2Zmc2V0LCB2ZXJ0cykge1xuICBpZiAoYm91bmRfYXJyYXlfYnVmICE9PSB0aGlzLnZibykge1xuICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCB0aGlzLnZibyk7XG4gICAgYm91bmRfYXJyYXlfYnVmID0gdGhpcy52Ym87XG4gIH1cbiAgZ2wuYnVmZmVyU3ViRGF0YShnbC5BUlJBWV9CVUZGRVIsIG9mZnNldCwgdmVydHMpO1xufTtcblxuR2VvbS5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKHZlcnRzLCBudW1fdmVydHMpIHtcbiAgYXNzZXJ0LmVxdWFsKHRoaXMuaWJvX293bmVkLCBmYWxzZSk7XG4gIGlmIChudW1fdmVydHMgPiB0aGlzLnZlcnRfY291bnQpIHtcbiAgICBpZiAoYm91bmRfZ2VvbSA9PT0gdGhpcykge1xuICAgICAgYm91bmRfZ2VvbSA9IG51bGw7XG4gICAgfVxuICAgIGVuZ2luZS5wZXJmX3N0YXRlLmdwdV9tZW0uZ2VvbSAtPSB0aGlzLnZlcnRfZ3B1X21lbTtcbiAgICBkZWxldGVCdWZmZXIodGhpcy52Ym8pO1xuICAgIC8vIE5vdGU6IG1hdGNoaW5nIHNpemUsIGlnbm9yaW5nIG51bV92ZXJ0c1xuICAgIHRoaXMudmVydF9jb3VudCA9IHZlcnRzLmxlbmd0aCAvIHRoaXMuZm9ybWF0X2luZm8uZWxlbV9jb3VudDtcbiAgICB0aGlzLnZlcnRfZ3B1X21lbSA9IHZlcnRzLmxlbmd0aCAqIHRoaXMuZm9ybWF0X2luZm8uY29tbW9uX2J5dGVfc2l6ZTtcbiAgICB0aGlzLnZibyA9IGdsLmNyZWF0ZUJ1ZmZlcigpO1xuICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCB0aGlzLnZibyk7XG4gICAgYm91bmRfYXJyYXlfYnVmID0gdGhpcy52Ym87XG4gICAgZ2wuYnVmZmVyRGF0YShnbC5BUlJBWV9CVUZGRVIsIHZlcnRzLCBnbC5EWU5BTUlDX0RSQVcpO1xuICAgIGVuZ2luZS5wZXJmX3N0YXRlLmdwdV9tZW0uZ2VvbSArPSB0aGlzLnZlcnRfZ3B1X21lbTtcbiAgfSBlbHNlIHtcbiAgICAvLyBGaXRzXG4gICAgaWYgKGJvdW5kX2FycmF5X2J1ZiAhPT0gdGhpcy52Ym8pIHtcbiAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCB0aGlzLnZibyk7XG4gICAgICBib3VuZF9hcnJheV9idWYgPSB0aGlzLnZibztcbiAgICB9XG4gICAgZ2wuYnVmZmVyU3ViRGF0YShnbC5BUlJBWV9CVUZGRVIsIDAsIHZlcnRzLnN1YmFycmF5KDAsIG51bV92ZXJ0cyAqIHRoaXMuZm9ybWF0X2luZm8uZWxlbV9jb3VudCkpO1xuICAgIC8vIGdsLmJ1ZmZlckRhdGEoZ2wuQVJSQVlfQlVGRkVSLCB2ZXJ0cywgZ2wuRFlOQU1JQ19EUkFXKTtcbiAgfVxuICBpZiAodGhpcy5vcmlnX21vZGUgPT09IFFVQURTKSB7XG4gICAgbGV0IHF1YWRfY291bnQgPSBudW1fdmVydHMgLyA0O1xuICAgIHRoaXMuaWJvID0gZ2V0UXVhZEluZGV4QnVmKHF1YWRfY291bnQpO1xuICAgIHRoaXMuaWJvX3NpemUgPSBxdWFkX2NvdW50ICogNjtcbiAgfVxufTtcblxuR2VvbS5wcm90b3R5cGUuZGlzcG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgaWYgKHRoaXMuaWJvX293bmVkKSB7XG4gICAgZGVsZXRlQnVmZmVyKHRoaXMuaWJvKTtcbiAgfVxuICB0aGlzLmlibyA9IG51bGw7XG4gIGRlbGV0ZUJ1ZmZlcih0aGlzLnZibyk7XG4gIHRoaXMudmJvID0gbnVsbDtcbiAgZW5naW5lLnBlcmZfc3RhdGUuZ3B1X21lbS5nZW9tIC09IHRoaXMudmVydF9ncHVfbWVtO1xuICB0aGlzLnZlcnRfZ3B1X21lbSA9IDA7XG59O1xuXG5cbmxldCBib3VuZF9hdHRyaWJzID0gKGZ1bmN0aW9uICgpIHtcbiAgbGV0IHIgPSBbXTtcbiAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IDE2OyArK2lpKSB7XG4gICAgci5wdXNoKHtcbiAgICAgIHZibzogbnVsbCxcbiAgICAgIG9mZnNldDogMCxcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gcjtcbn0oKSk7XG5HZW9tLnByb3RvdHlwZS5iaW5kID0gZnVuY3Rpb24gKCkge1xuICBpZiAoYm91bmRfZ2VvbSAhPT0gdGhpcykge1xuICAgIGJvdW5kX2dlb20gPSB0aGlzO1xuICAgIGxldCB2Ym8gPSB0aGlzLnZibztcblxuICAgIGxldCBvZmZzZXQgPSAwO1xuICAgIGZvciAobGV0IGlpID0gMDsgaWkgPCB0aGlzLmZvcm1hdC5sZW5ndGg7ICsraWkpIHtcbiAgICAgIGxldCBmbXQgPSB0aGlzLmZvcm1hdFtpaV07XG4gICAgICBsZXQgY291bnQgPSBmbXRbMl07XG4gICAgICBsZXQgYnl0ZV9zaXplID0gZm10WzRdO1xuICAgICAgaWYgKGJvdW5kX2F0dHJpYnNbaWldLnZibyA9PT0gdmJvKSB7IC8vICAmJiBib3VuZF9hdHRyaWJzW2lpXS5vZmZzZXQgPSBvZmZzZXRcbiAgICAgICAgLy8gYWxyZWFkeSBib3VuZFxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGJvdW5kX2FycmF5X2J1ZiAhPT0gdmJvKSB7XG4gICAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIHZibyk7XG4gICAgICAgICAgYm91bmRfYXJyYXlfYnVmID0gdmJvO1xuICAgICAgICB9XG4gICAgICAgIGxldCBzZW0gPSBmbXRbMF07XG4gICAgICAgIGxldCBnbHR5cGUgPSBmbXRbMV07XG4gICAgICAgIGxldCBub3JtYWxpemVkID0gZm10WzNdO1xuICAgICAgICBnbC52ZXJ0ZXhBdHRyaWJQb2ludGVyKHNlbSwgY291bnQsIGdsdHlwZSwgbm9ybWFsaXplZCwgdGhpcy5zdHJpZGUsIG9mZnNldCk7XG4gICAgICAgIGJvdW5kX2F0dHJpYnNbaWldLnZibyA9IGJvdW5kX2FycmF5X2J1ZjtcbiAgICAgICAgLy8gYm91bmRfYXR0cmlic1tpaV0ub2Zmc2V0ID0gb2Zmc2V0O1xuICAgICAgfVxuICAgICAgb2Zmc2V0ICs9IGNvdW50ICogYnl0ZV9zaXplO1xuICAgIH1cbiAgICAvLyBpZiAoIXVzZWRbMV0pIHsgLy8gQ09MT1JcbiAgICAvLyAgIHVzZWRfYXR0cmlicyB8PSAxIDw8IHNoYWRlci5zZW1hbnRpY3MuQ09MT1I7XG4gICAgLy8gICBiaW5kVW5pdEJ1ZigxLCB0aGlzLnZlcnRfY291bnQpO1xuICAgIC8vIH1cbiAgICBlbmFibGVWZXJ0ZXhBdHRyaWJBcnJheSh0aGlzLnVzZWRfYXR0cmlicyk7XG4gIH1cblxuICBpZiAodGhpcy5pYm8gJiYgYm91bmRfaW5kZXhfYnVmICE9PSB0aGlzLmlibykge1xuICAgIGdsLmJpbmRCdWZmZXIoZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsIHRoaXMuaWJvKTtcbiAgICBib3VuZF9pbmRleF9idWYgPSB0aGlzLmlibztcbiAgfVxufTtcbkdlb20ucHJvdG90eXBlLmRyYXcgPSBmdW5jdGlvbiAoKSB7XG4gIHRoaXMuYmluZCgpO1xuICBpZiAodGhpcy5pYm8pIHtcbiAgICBnbC5kcmF3RWxlbWVudHModGhpcy5tb2RlLCB0aGlzLmlib19zaXplLCBnbC5VTlNJR05FRF9TSE9SVCwgMCk7XG4gIH0gZWxzZSB7XG4gICAgZ2wuZHJhd0FycmF5cyh0aGlzLm1vZGUsIDAsIHRoaXMudmVydF9jb3VudCk7XG4gIH1cbn07XG5cbmZ1bmN0aW9uIEdlb21NdWx0aVF1YWRzKGZvcm1hdCwgdmVydHMpIHtcbiAgbGV0IGZvcm1hdF9pbmZvID0gZm9ybWF0SW5mbyhmb3JtYXQpO1xuICBsZXQgZWMgPSBmb3JtYXRfaW5mby5lbGVtX2NvdW50O1xuICBsZXQgdmVydF9jb3VudCA9IHZlcnRzLmxlbmd0aCAvIGVjO1xuICB0aGlzLmdlb21zID0gW107XG4gIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IHZlcnRfY291bnQ7IGlkeCArPSA2NTUzNikge1xuICAgIGxldCBudW1fc3ViX3ZlcnRzID0gbWluKHZlcnRfY291bnQgLSBpZHgsIDY1NTM2KTtcbiAgICBsZXQgc3ViX2RhdGEgPSBuZXcgVWludDhBcnJheSh2ZXJ0cy5idWZmZXIsIGlkeCAqIGVjLCBudW1fc3ViX3ZlcnRzICogZWMpO1xuICAgIHRoaXMuZ2VvbXMucHVzaChuZXcgR2VvbShmb3JtYXQsIHN1Yl9kYXRhLCBudWxsLCBRVUFEUykpO1xuICB9XG59XG5HZW9tTXVsdGlRdWFkcy5wcm90b3R5cGUuZHJhdyA9IGZ1bmN0aW9uICgpIHtcbiAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IHRoaXMuZ2VvbXMubGVuZ3RoOyArK2lpKSB7XG4gICAgdGhpcy5nZW9tc1tpaV0uZHJhdygpO1xuICB9XG59O1xuR2VvbU11bHRpUXVhZHMucHJvdG90eXBlLmRpc3Bvc2UgPSBmdW5jdGlvbiAoKSB7XG4gIGZvciAobGV0IGlpID0gMDsgaWkgPCB0aGlzLmdlb21zLmxlbmd0aDsgKytpaSkge1xuICAgIHRoaXMuZ2VvbXNbaWldLmRpc3Bvc2UoKTtcbiAgfVxuICB0aGlzLmdlb21zID0gbnVsbDtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGUoZm9ybWF0LCB2ZXJ0cywgaWR4cywgbW9kZSkge1xuICByZXR1cm4gbmV3IEdlb20oZm9ybWF0LCB2ZXJ0cywgaWR4cywgbW9kZSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVRdWFkcyhmb3JtYXQsIHZlcnRzKSB7XG4gIGxldCBmb3JtYXRfaW5mbyA9IGZvcm1hdEluZm8oZm9ybWF0KTtcbiAgYXNzZXJ0KHZlcnRzIGluc3RhbmNlb2YgVWludDhBcnJheSk7IC8vIG9ubHkgb25lIGhhbmRsZWQgYnkgR2VvbU11bHRpUXVhZHMgZm9yIG5vd1xuICBsZXQgdmVydF9jb3VudCA9IHZlcnRzLmxlbmd0aCAvIGZvcm1hdF9pbmZvLmVsZW1fY291bnQ7XG4gIGlmICh2ZXJ0X2NvdW50ID4gNjU1MzYpIHtcbiAgICByZXR1cm4gbmV3IEdlb21NdWx0aVF1YWRzKGZvcm1hdCwgdmVydHMpO1xuICB9XG4gIHJldHVybiBuZXcgR2VvbShmb3JtYXQsIHZlcnRzLCBudWxsLCBRVUFEUyk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzdGFydHVwKCkge1xuICAvLyBOb3RoaW5nIGZvciBub3cuXG59XG4iLCIvKiBlc2xpbnQgbm8tYml0d2lzZTpvZmYgKi9cbi8vIEZyb20gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvODkzNjk4NC91aW50OGFycmF5LXRvLXN0cmluZy1pbi1qYXZhc2NyaXB0XG5cbmxldCBjaGFyQ2FjaGUgPSBuZXcgQXJyYXkoMTI4KTsgIC8vIFByZWFsbG9jYXRlIHRoZSBjYWNoZSBmb3IgdGhlIGNvbW1vbiBzaW5nbGUgYnl0ZSBjaGFyc1xubGV0IGNoYXJGcm9tQ29kZVB0ID0gU3RyaW5nLmZyb21Db2RlUG9pbnQgfHwgU3RyaW5nLmZyb21DaGFyQ29kZTtcbmxldCByZXN1bHQgPSBbXTtcbmV4cG9ydCBmdW5jdGlvbiBkZWNvZGUoYXJyYXkpIHtcbiAgbGV0IGNvZGVQdDtcbiAgbGV0IGJ5dGUxO1xuICBsZXQgYnVmZkxlbiA9IGFycmF5Lmxlbmd0aDtcblxuICByZXN1bHQubGVuZ3RoID0gMDtcblxuICBmb3IgKGxldCBpID0gMDsgaSA8IGJ1ZmZMZW47KSB7XG4gICAgYnl0ZTEgPSBhcnJheVtpKytdO1xuXG4gICAgaWYgKGJ5dGUxIDw9IDB4N0YpIHtcbiAgICAgIGNvZGVQdCA9IGJ5dGUxO1xuICAgIH0gZWxzZSBpZiAoYnl0ZTEgPD0gMHhERikge1xuICAgICAgY29kZVB0ID0gKChieXRlMSAmIDB4MUYpIDw8IDYpIHwgKGFycmF5W2krK10gJiAweDNGKTtcbiAgICB9IGVsc2UgaWYgKGJ5dGUxIDw9IDB4RUYpIHtcbiAgICAgIGNvZGVQdCA9ICgoYnl0ZTEgJiAweDBGKSA8PCAxMikgfCAoKGFycmF5W2krK10gJiAweDNGKSA8PCA2KSB8IChhcnJheVtpKytdICYgMHgzRik7XG4gICAgfSBlbHNlIGlmIChTdHJpbmcuZnJvbUNvZGVQb2ludCkge1xuICAgICAgY29kZVB0ID0gKChieXRlMSAmIDB4MDcpIDw8IDE4KSB8ICgoYXJyYXlbaSsrXSAmIDB4M0YpIDw8IDEyKSB8ICgoYXJyYXlbaSsrXSAmIDB4M0YpIDw8IDYpIHwgKGFycmF5W2krK10gJiAweDNGKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29kZVB0ID0gNjM7ICAgIC8vIENhbm5vdCBjb252ZXJ0IGZvdXIgYnl0ZSBjb2RlIHBvaW50cywgc28gdXNlIFwiP1wiIGluc3RlYWRcbiAgICAgIGkgKz0gMztcbiAgICB9XG5cbiAgICByZXN1bHQucHVzaChjaGFyQ2FjaGVbY29kZVB0XSB8fCAoY2hhckNhY2hlW2NvZGVQdF0gPSBjaGFyRnJvbUNvZGVQdChjb2RlUHQpKSk7XG4gIH1cblxuICByZXR1cm4gcmVzdWx0LmpvaW4oJycpO1xufVxuIiwiLy8gRGVyaXZlZCBmcm9tIChNSVQgTGljZW5zZWQpIGh0dHBzOi8vZ2l0aHViLmNvbS91YmVyLXdlYi9sb2FkZXJzLmdsL3RyZWUvbWFzdGVyL21vZHVsZXMvZ2x0ZlxuXG5jb25zdCBUWVBFUyA9IFsnU0NBTEFSJywgJ1ZFQzInLCAnVkVDMycsICdWRUM0J107XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRBY2Nlc3NvclR5cGVGcm9tU2l6ZShzaXplKSB7XG4gIGNvbnN0IHR5cGUgPSBUWVBFU1tzaXplIC0gMV07XG4gIHJldHVybiB0eXBlIHx8IFRZUEVTWzBdO1xufVxuXG4vLyBnbFRGIEFDQ0VTU09SIENPTlNUQU5UU1xuXG5leHBvcnQgY29uc3QgQVRUUklCVVRFX1RZUEVfVE9fQ09NUE9ORU5UUyA9IHtcbiAgU0NBTEFSOiAxLFxuICBWRUMyOiAyLFxuICBWRUMzOiAzLFxuICBWRUM0OiA0LFxuICBNQVQyOiA0LFxuICBNQVQzOiA5LFxuICBNQVQ0OiAxNlxufTtcblxuZXhwb3J0IGNvbnN0IEFUVFJJQlVURV9DT01QT05FTlRfVFlQRV9UT19CWVRFX1NJWkUgPSB7XG4gIDUxMjA6IDEsXG4gIDUxMjE6IDEsXG4gIDUxMjI6IDIsXG4gIDUxMjM6IDIsXG4gIDUxMjU6IDQsXG4gIDUxMjY6IDRcbn07XG5cbmV4cG9ydCBjb25zdCBBVFRSSUJVVEVfQ09NUE9ORU5UX1RZUEVfVE9fQVJSQVkgPSB7XG4gIDUxMjA6IEludDhBcnJheSxcbiAgNTEyMTogVWludDhBcnJheSxcbiAgNTEyMjogSW50MTZBcnJheSxcbiAgNTEyMzogVWludDE2QXJyYXksXG4gIDUxMjU6IFVpbnQzMkFycmF5LFxuICA1MTI2OiBGbG9hdDMyQXJyYXlcbn07XG4iLCIvLyBEZXJpdmVkIGZyb20gKE1JVCBMaWNlbnNlZCkgaHR0cHM6Ly9naXRodWIuY29tL3ViZXItd2ViL2xvYWRlcnMuZ2wvdHJlZS9tYXN0ZXIvbW9kdWxlcy9nbHRmXG4vKiBlc2xpbnQtZW52IGJyb3dzZXIgKi9cblxuY29uc3QgYXNzZXJ0ID0gcmVxdWlyZSgnYXNzZXJ0Jyk7XG5cbi8qIGVzbGludC1kaXNhYmxlIGNhbWVsY2FzZSwgbWF4LXN0YXRlbWVudHMgKi9cbmNvbnN0IHsgdW5wYWNrR0xCQnVmZmVycyB9ID0gcmVxdWlyZSgnLi91bnBhY2stZ2xiLWJ1ZmZlcnMuanMnKTtcbmNvbnN0IHsgdW5wYWNrQmluYXJ5SnNvbiB9ID0gcmVxdWlyZSgnLi91bnBhY2stYmluYXJ5LWpzb24uanMnKTtcblxuZnVuY3Rpb24gcGFkVG80Qnl0ZXMoYnl0ZUxlbmd0aCkge1xuICByZXR1cm4gKGJ5dGVMZW5ndGggKyAzKSAmIH4zOyAvL2VzbGludC1kaXNhYmxlLWxpbmUgbm8tYml0d2lzZVxufVxuXG5jb25zdCBkZWNvZGVfdXRmOCA9IHJlcXVpcmUoJy4vZGVjb2RlLXV0ZjguanMnKTtcblxuY29uc3Qge1xuICBBVFRSSUJVVEVfVFlQRV9UT19DT01QT05FTlRTLFxuICBBVFRSSUJVVEVfQ09NUE9ORU5UX1RZUEVfVE9fQllURV9TSVpFLFxuICBBVFRSSUJVVEVfQ09NUE9ORU5UX1RZUEVfVE9fQVJSQVlcbn0gPSByZXF1aXJlKCcuL2dsdGYtdHlwZS11dGlscy5qcycpO1xuXG5jb25zdCBNQUdJQ19nbFRGID0gMHg2NzZjNTQ0NjsgLy8gZ2xURiBpbiBCaWctRW5kaWFuIEFTQ0lJXG5cbmNvbnN0IEdMQl9GSUxFX0hFQURFUl9TSVpFID0gMTI7XG5jb25zdCBHTEJfQ0hVTktfSEVBREVSX1NJWkUgPSA4O1xuXG5jb25zdCBHTEJfQ0hVTktfVFlQRV9KU09OID0gMHg0ZTRmNTM0YTtcbmNvbnN0IEdMQl9DSFVOS19UWVBFX0JJTiA9IDB4MDA0ZTQ5NDI7XG5cbmNvbnN0IExFID0gdHJ1ZTsgLy8gQmluYXJ5IEdMVEYgaXMgbGl0dGxlIGVuZGlhbi5cbmNvbnN0IEJFID0gZmFsc2U7IC8vIE1hZ2ljIG5lZWRzIHRvIGJlIHdyaXR0ZW4gYXMgQkVcblxuLy8gaHR0cHM6Ly9naXRodWIuY29tL0tocm9ub3NHcm91cC9nbFRGL3RyZWUvbWFzdGVyL3NwZWNpZmljYXRpb24vMi4wI2dsYi1maWxlLWZvcm1hdC1zcGVjaWZpY2F0aW9uXG5mdW5jdGlvbiBHTEJQYXJzZXIoKSB7XG4gIC8vIFJlc3VsdFxuICB0aGlzLmJpbmFyeUJ5dGVPZmZzZXQgPSBudWxsO1xuICB0aGlzLnBhY2tlZEpzb24gPSBudWxsO1xuICB0aGlzLmpzb24gPSBudWxsO1xufVxuXG5mdW5jdGlvbiBwYXJzZUJpbmFyeShzZWxmKSB7XG4gIC8vIEdMQiBIZWFkZXJcbiAgY29uc3QgZGF0YVZpZXcgPSBuZXcgRGF0YVZpZXcoc2VsZi5nbGJBcnJheUJ1ZmZlcik7XG4gIGNvbnN0IG1hZ2ljMSA9IGRhdGFWaWV3LmdldFVpbnQzMigwLCBCRSk7IC8vIE1hZ2ljIG51bWJlciAodGhlIEFTQ0lJIHN0cmluZyAnZ2xURicpLlxuICBjb25zdCB2ZXJzaW9uID0gZGF0YVZpZXcuZ2V0VWludDMyKDQsIExFKTsgLy8gVmVyc2lvbiAyIG9mIGJpbmFyeSBnbFRGIGNvbnRhaW5lciBmb3JtYXRcbiAgY29uc3QgZmlsZUxlbmd0aCA9IGRhdGFWaWV3LmdldFVpbnQzMig4LCBMRSk7IC8vIFRvdGFsIGJ5dGUgbGVuZ3RoIG9mIGdlbmVyYXRlZCBmaWxlXG5cbiAgbGV0IHZhbGlkID0gbWFnaWMxID09PSBNQUdJQ19nbFRGO1xuICBpZiAoIXZhbGlkKSB7XG4gICAgY29uc29sZS53YXJuKCdJbnZhbGlkIEdMQiBtYWdpYyBzdHJpbmcnKTtcbiAgfVxuXG4gIGFzc2VydCh2ZXJzaW9uID09PSAyLCBgSW52YWxpZCBHTEIgdmVyc2lvbiAke3ZlcnNpb259LiBPbmx5IC5nbGIgdjIgc3VwcG9ydGVkYCk7XG4gIGFzc2VydChmaWxlTGVuZ3RoID4gMjApO1xuXG4gIC8vIFdyaXRlIHRoZSBKU09OIGNodW5rXG4gIGNvbnN0IGpzb25DaHVua0xlbmd0aCA9IGRhdGFWaWV3LmdldFVpbnQzMigxMiwgTEUpOyAvLyBCeXRlIGxlbmd0aCBvZiBqc29uIGNodW5rXG4gIGNvbnN0IGpzb25DaHVua0Zvcm1hdCA9IGRhdGFWaWV3LmdldFVpbnQzMigxNiwgTEUpOyAvLyBDaHVuayBmb3JtYXQgYXMgdWludDMyXG5cbiAgdmFsaWQgPSBqc29uQ2h1bmtGb3JtYXQgPT09IEdMQl9DSFVOS19UWVBFX0pTT04gfHwganNvbkNodW5rRm9ybWF0ID09PSAwOyAvLyBCYWNrIGNvbXBhdFxuICBhc3NlcnQodmFsaWQsIGBKU09OIGNodW5rIGZvcm1hdCAke2pzb25DaHVua0Zvcm1hdH1gKTtcblxuICAvLyBDcmVhdGUgYSBcInZpZXdcIiBvZiB0aGUgYmluYXJ5IGVuY29kZWQgSlNPTiBkYXRhXG4gIGNvbnN0IGpzb25DaHVua09mZnNldCA9IEdMQl9GSUxFX0hFQURFUl9TSVpFICsgR0xCX0NIVU5LX0hFQURFUl9TSVpFOyAvLyBGaXJzdCBoZWFkZXJzOiAyMCBieXRlc1xuICBjb25zdCBqc29uQ2h1bmsgPSBuZXcgVWludDhBcnJheShzZWxmLmdsYkFycmF5QnVmZmVyLCBqc29uQ2h1bmtPZmZzZXQsIGpzb25DaHVua0xlbmd0aCk7XG5cbiAgLy8gRGVjb2RlIHRoZSBKU09OIGJpbmFyeSBhcnJheSBpbnRvIGNsZWFyIHRleHRcbiAgY29uc3QganNvblRleHQgPSBkZWNvZGVfdXRmOC5kZWNvZGUoanNvbkNodW5rKTtcblxuICAvLyBQYXJzZSB0aGUgSlNPTiB0ZXh0IGludG8gYSBKYXZhU2NyaXB0IGRhdGEgc3RydWN0dXJlXG4gIHNlbGYuanNvbiA9IEpTT04ucGFyc2UoanNvblRleHQpO1xuXG4gIC8vIFRPRE8gLSBCSU4gY2h1bmsgY2FuIGJlIG9wdGlvbmFsXG4gIGNvbnN0IGJpbmFyeUNodW5rU3RhcnQgPSBqc29uQ2h1bmtPZmZzZXQgKyBwYWRUbzRCeXRlcyhqc29uQ2h1bmtMZW5ndGgpO1xuICBzZWxmLmJpbmFyeUJ5dGVPZmZzZXQgPSBiaW5hcnlDaHVua1N0YXJ0ICsgR0xCX0NIVU5LX0hFQURFUl9TSVpFO1xuXG4gIGNvbnN0IGJpbkNodW5rRm9ybWF0ID0gZGF0YVZpZXcuZ2V0VWludDMyKGJpbmFyeUNodW5rU3RhcnQgKyA0LCBMRSk7IC8vIENodW5rIGZvcm1hdCBhcyB1aW50MzJcbiAgdmFsaWQgPSBiaW5DaHVua0Zvcm1hdCA9PT0gR0xCX0NIVU5LX1RZUEVfQklOIHx8IGJpbkNodW5rRm9ybWF0ID09PSAxOyAvLyBCYWNrIGNvbXBhdFxuICBhc3NlcnQodmFsaWQsIGBCSU4gY2h1bmsgZm9ybWF0ICR7YmluQ2h1bmtGb3JtYXR9YCk7XG5cbiAgcmV0dXJuIHtcbiAgICBhcnJheUJ1ZmZlcjogc2VsZi5nbGJBcnJheUJ1ZmZlcixcbiAgICBiaW5hcnlCeXRlT2Zmc2V0OiBzZWxmLmJpbmFyeUJ5dGVPZmZzZXQsXG4gICAganNvbjogc2VsZi5qc29uXG4gIH07XG59XG5cbmZ1bmN0aW9uIHBhcnNlSW50ZXJuYWwoc2VsZikge1xuICBjb25zdCByZXN1bHQgPSBwYXJzZUJpbmFyeShzZWxmKTtcbiAgc2VsZi5wYWNrZWRKc29uID0gcmVzdWx0Lmpzb247XG4gIHNlbGYudW5wYWNrZWRCdWZmZXJzID0gdW5wYWNrR0xCQnVmZmVycyhzZWxmLmdsYkFycmF5QnVmZmVyLCBzZWxmLmpzb24sIHNlbGYuYmluYXJ5Qnl0ZU9mZnNldCk7XG4gIHNlbGYuanNvbiA9IHVucGFja0JpbmFyeUpzb24oc2VsZi5qc29uLCBzZWxmLnVucGFja2VkQnVmZmVycyk7XG59XG5cbkdMQlBhcnNlci5wcm90b3R5cGUucGFyc2VTeW5jID0gZnVuY3Rpb24gKGFycmF5QnVmZmVyKSB7XG4gIC8vIElucHV0XG4gIHRoaXMuZ2xiQXJyYXlCdWZmZXIgPSBhcnJheUJ1ZmZlcjtcblxuICAvLyBPbmx5IHBhcnNlIG9uY2VcbiAgaWYgKHRoaXMuanNvbiA9PT0gbnVsbCAmJiB0aGlzLmJpbmFyeUJ5dGVPZmZzZXQgPT09IG51bGwpIHtcbiAgICBwYXJzZUludGVybmFsKHRoaXMpO1xuICB9XG4gIHJldHVybiB0aGlzO1xufTtcblxuLy8gUmV0dXJuIHRoZSBnbHRmIEpTT04gYW5kIHRoZSBvcmlnaW5hbCBhcnJheUJ1ZmZlclxuR0xCUGFyc2VyLnByb3RvdHlwZS5wYXJzZSA9IGZ1bmN0aW9uIChhcnJheUJ1ZmZlcikge1xuICByZXR1cm4gdGhpcy5wYXJzZVN5bmMoYXJyYXlCdWZmZXIpO1xufTtcblxuLy8gUmV0dXJucyBhcHBsaWNhdGlvbiBKU09OIGRhdGEgc3RvcmVkIGluIGBrZXlgXG5HTEJQYXJzZXIucHJvdG90eXBlLmdldEFwcGxpY2F0aW9uRGF0YSA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgcmV0dXJuIHRoaXMuanNvbltrZXldO1xufTtcblxuLy8gUmV0dXJucyBKU09OIGVudmVsb3BlXG5HTEJQYXJzZXIucHJvdG90eXBlLmdldEpTT04gPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0aGlzLmpzb247XG59O1xuXG4vLyBSZXR1cm4gYmluYXJ5IGNodW5rXG5HTEJQYXJzZXIucHJvdG90eXBlLmdldEFycmF5QnVmZmVyID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gdGhpcy5nbGJBcnJheUJ1ZmZlcjtcbn07XG5cbi8vIFJldHVybiBpbmRleCBpbnRvIGJpbmFyeSBjaHVua1xuR0xCUGFyc2VyLnByb3RvdHlwZS5nZXRCaW5hcnlCeXRlT2Zmc2V0ID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gdGhpcy5iaW5hcnlCeXRlT2Zmc2V0O1xufTtcblxuLy8gVW5wYWNrcyBhIGJ1ZmZlcnZpZXcgaW50byBhIG5ldyBVaW50OEFycmF5IHRoYXQgaXMgYSB2aWV3IGludG8gdGhlIGJpbmFyeSBjaHVua1xuR0xCUGFyc2VyLnByb3RvdHlwZS5nZXRCdWZmZXJWaWV3ID0gZnVuY3Rpb24gKGdsVEZCdWZmZXJWaWV3KSB7XG4gIGNvbnN0IGJ5dGVPZmZzZXQgPSAoZ2xURkJ1ZmZlclZpZXcuYnl0ZU9mZnNldCB8fCAwKSArIHRoaXMuYmluYXJ5Qnl0ZU9mZnNldDtcbiAgcmV0dXJuIG5ldyBVaW50OEFycmF5KHRoaXMuZ2xiQXJyYXlCdWZmZXIsIGJ5dGVPZmZzZXQsIGdsVEZCdWZmZXJWaWV3LmJ5dGVMZW5ndGgpO1xufTtcblxuLy8gVW5wYWNrcyBhIGdsVEYgYWNjZXNzb3IgaW50byBhIG5ldyB0eXBlZCBhcnJheSB0aGF0IGlzIGEgdmlldyBpbnRvIHRoZSBiaW5hcnkgY2h1bmtcbkdMQlBhcnNlci5wcm90b3R5cGUuZ2V0QnVmZmVyID0gZnVuY3Rpb24gKGdsVEZBY2Nlc3Nvcikge1xuICAvLyBEZWNvZGUgdGhlIGdsVEYgYWNjZXNzb3IgZm9ybWF0XG4gIGNvbnN0IEFycmF5VHlwZSA9IEFUVFJJQlVURV9DT01QT05FTlRfVFlQRV9UT19BUlJBWVtnbFRGQWNjZXNzb3IuY29tcG9uZW50VHlwZV07XG4gIGNvbnN0IGNvbXBvbmVudHMgPSBBVFRSSUJVVEVfVFlQRV9UT19DT01QT05FTlRTW2dsVEZBY2Nlc3Nvci50eXBlXTtcbiAgY29uc3QgYnl0ZXNQZXJDb21wb25lbnQgPSBBVFRSSUJVVEVfQ09NUE9ORU5UX1RZUEVfVE9fQllURV9TSVpFW2dsVEZBY2Nlc3Nvci5jb21wb25lbnRUeXBlXTtcbiAgY29uc3QgbGVuZ3RoID0gZ2xURkFjY2Vzc29yLmNvdW50ICogY29tcG9uZW50cztcbiAgY29uc3QgYnl0ZUxlbmd0aCA9IGdsVEZBY2Nlc3Nvci5jb3VudCAqIGNvbXBvbmVudHMgKiBieXRlc1BlckNvbXBvbmVudDtcblxuICAvLyBHZXQgdGhlIGJvdW5kYXJpZXMgb2YgdGhlIGJpbmFyeSBzdWItY2h1bmsgZm9yIHRoaXMgYnVmZmVyVmlld1xuICBjb25zdCBnbFRGQnVmZmVyVmlldyA9IHRoaXMuanNvbi5idWZmZXJWaWV3c1tnbFRGQWNjZXNzb3IuYnVmZmVyVmlld107XG4gIGFzc2VydChieXRlTGVuZ3RoID49IDAgJiYgZ2xURkFjY2Vzc29yLmJ5dGVPZmZzZXQgKyBieXRlTGVuZ3RoIDw9IGdsVEZCdWZmZXJWaWV3LmJ5dGVMZW5ndGgpO1xuXG4gIGNvbnN0IGJ5dGVPZmZzZXQgPSBnbFRGQnVmZmVyVmlldy5ieXRlT2Zmc2V0ICsgdGhpcy5iaW5hcnlCeXRlT2Zmc2V0ICsgZ2xURkFjY2Vzc29yLmJ5dGVPZmZzZXQ7XG4gIHJldHVybiBuZXcgQXJyYXlUeXBlKHRoaXMuZ2xiQXJyYXlCdWZmZXIsIGJ5dGVPZmZzZXQsIGxlbmd0aCk7XG59O1xuXG4vLyBVbnBhY2tzIGFuIGltYWdlIGludG8gYW4gSFRNTCBpbWFnZVxuR0xCUGFyc2VyLnByb3RvdHlwZS5nZXRJbWFnZURhdGEgPSBmdW5jdGlvbiAoZ2xURkltYWdlKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZWRBcnJheTogdGhpcy5nZXRCdWZmZXJWaWV3KGdsVEZJbWFnZS5idWZmZXJWaWV3KSxcbiAgICBtaW1lVHlwZTogZ2xURkltYWdlLm1pbWVUeXBlIHx8ICdpbWFnZS9qcGVnJ1xuICB9O1xufTtcblxuR0xCUGFyc2VyLnByb3RvdHlwZS5nZXRJbWFnZSA9IGZ1bmN0aW9uIChnbFRGSW1hZ2UpIHtcbiAgY29uc3QgYXJyYXlCdWZmZXJWaWV3ID0gdGhpcy5nZXRCdWZmZXJWaWV3KGdsVEZJbWFnZS5idWZmZXJWaWV3KTtcbiAgY29uc3QgbWltZVR5cGUgPSBnbFRGSW1hZ2UubWltZVR5cGUgfHwgJ2ltYWdlL2pwZWcnO1xuICBjb25zdCBibG9iID0gbmV3IEJsb2IoW2FycmF5QnVmZmVyVmlld10sIHsgdHlwZTogbWltZVR5cGUgfSk7XG4gIGNvbnN0IHVybENyZWF0b3IgPSB3aW5kb3cuVVJMIHx8IHdpbmRvdy53ZWJraXRVUkw7XG4gIGNvbnN0IGltYWdlVXJsID0gdXJsQ3JlYXRvci5jcmVhdGVPYmplY3RVUkwoYmxvYik7XG4gIGNvbnN0IGltZyA9IG5ldyBJbWFnZSgpO1xuICBpbWcuc3JjID0gaW1hZ2VVcmw7XG4gIHJldHVybiBpbWc7XG59O1xuXG4vLyBHTEJQYXJzZXIucHJvdG90eXBlLmdldEltYWdlQXN5bmMgPSBmdW5jdGlvbiAoZ2xURkltYWdlKSB7XG4vLyAgIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbi8vICAgICBjb25zdCBhcnJheUJ1ZmZlclZpZXcgPSB0aGlzLmdldEJ1ZmZlclZpZXcoZ2xURkltYWdlLmJ1ZmZlclZpZXcpO1xuLy8gICAgIGNvbnN0IG1pbWVUeXBlID0gZ2xURkltYWdlLm1pbWVUeXBlIHx8ICdpbWFnZS9qcGVnJztcbi8vICAgICBjb25zdCBibG9iID0gbmV3IEJsb2IoW2FycmF5QnVmZmVyVmlld10sIHt0eXBlOiBtaW1lVHlwZX0pO1xuLy8gICAgIGNvbnN0IHVybENyZWF0b3IgPSB3aW5kb3cuVVJMIHx8IHdpbmRvdy53ZWJraXRVUkw7XG4vLyAgICAgY29uc3QgaW1hZ2VVcmwgPSB1cmxDcmVhdG9yLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcbi8vICAgICBjb25zdCBpbWcgPSBuZXcgSW1hZ2UoKTtcbi8vICAgICBpbWcub25sb2FkID0gKCkgPT4gcmVzb2x2ZShpbWcpO1xuLy8gICAgIGltZy5zcmMgPSBpbWFnZVVybDtcbi8vICAgfSk7XG4vLyB9O1xuXG5tb2R1bGUuZXhwb3J0cyA9IEdMQlBhcnNlcjtcbkdMQlBhcnNlci5wYXJzZSA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gIGxldCBwYXJzZXIgPSBuZXcgR0xCUGFyc2VyKCk7XG4gIHJldHVybiBwYXJzZXIucGFyc2UoZGF0YSk7XG59O1xuIiwiLy8gRGVyaXZlZCBmcm9tIChNSVQgTGljZW5zZWQpIGh0dHBzOi8vZ2l0aHViLmNvbS91YmVyLXdlYi9sb2FkZXJzLmdsL3RyZWUvbWFzdGVyL21vZHVsZXMvZ2x0ZlxuXG5mdW5jdGlvbiBwYXJzZUpTT05Qb2ludGVyKHZhbHVlKSB7XG4gIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgLy8gUmVtb3ZlIGVzY2FwZSBjaGFyYWN0ZXJcbiAgICBpZiAodmFsdWUuaW5kZXhPZignIyMvJykgPT09IDApIHtcbiAgICAgIHJldHVybiB2YWx1ZS5zbGljZSgxKTtcbiAgICB9XG5cbiAgICBsZXQgbWF0Y2hlcyA9IHZhbHVlLm1hdGNoKC8jXFwvKFthLXpdKylcXC8oWzAtOV0rKS8pO1xuICAgIGlmIChtYXRjaGVzKSB7XG4gICAgICBjb25zdCBpbmRleCA9IHBhcnNlSW50KG1hdGNoZXNbMl0sIDEwKTtcbiAgICAgIHJldHVybiBbbWF0Y2hlc1sxXSwgaW5kZXhdO1xuICAgIH1cblxuICAgIC8vIExlZ2FjeTogYCQkJGlgXG4gICAgbWF0Y2hlcyA9IHZhbHVlLm1hdGNoKC9cXCRcXCRcXCQoWzAtOV0rKS8pO1xuICAgIGlmIChtYXRjaGVzKSB7XG4gICAgICBjb25zdCBpbmRleCA9IHBhcnNlSW50KG1hdGNoZXNbMV0sIDEwKTtcbiAgICAgIHJldHVybiBbJ2FjY2Vzc29ycycsIGluZGV4XTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gbnVsbDtcbn1cblxuZnVuY3Rpb24gZGVjb2RlSlNPTlBvaW50ZXIob2JqZWN0LCBidWZmZXJzKSB7XG4gIGNvbnN0IHBvaW50ZXIgPSBwYXJzZUpTT05Qb2ludGVyKG9iamVjdCk7XG4gIGlmIChwb2ludGVyKSB7XG4gICAgY29uc3QgZmllbGQgPSBwb2ludGVyWzBdO1xuICAgIGNvbnN0IGluZGV4ID0gcG9pbnRlclsxXTtcbiAgICBjb25zdCBidWZmZXIgPSBidWZmZXJzW2ZpZWxkXSAmJiBidWZmZXJzW2ZpZWxkXVtpbmRleF07XG4gICAgaWYgKGJ1ZmZlcikge1xuICAgICAgcmV0dXJuIGJ1ZmZlcjtcbiAgICB9XG4gICAgY29uc29sZS5lcnJvcihgSW52YWxpZCBKU09OIHBvaW50ZXIgJHtvYmplY3R9OiAjLyR7ZmllbGR9LyR7aW5kZXh9YCk7XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5cbi8vIFJlY3Vyc2l2ZWx5IHVucGFja3Mgb2JqZWN0cywgcmVwbGFjaW5nIFwiSlNPTiBwb2ludGVyc1wiIHdpdGggdHlwZWQgYXJyYXlzXG5mdW5jdGlvbiB1bnBhY2tKc29uQXJyYXlzUmVjdXJzaXZlKGpzb24sIHRvcEpzb24sIGJ1ZmZlcnMsIG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCBvYmplY3QgPSBqc29uO1xuXG4gIGNvbnN0IGJ1ZmZlciA9IGRlY29kZUpTT05Qb2ludGVyKG9iamVjdCwgYnVmZmVycyk7XG4gIGlmIChidWZmZXIpIHtcbiAgICByZXR1cm4gYnVmZmVyO1xuICB9XG5cbiAgLy8gQ29weSBhcnJheVxuICBpZiAoQXJyYXkuaXNBcnJheShvYmplY3QpKSB7XG4gICAgcmV0dXJuIG9iamVjdC5tYXAoKGVsZW1lbnQpID0+IHVucGFja0pzb25BcnJheXNSZWN1cnNpdmUoZWxlbWVudCwgdG9wSnNvbiwgYnVmZmVycywgb3B0aW9ucykpO1xuICB9XG5cbiAgLy8gQ29weSBvYmplY3RcbiAgaWYgKG9iamVjdCAhPT0gbnVsbCAmJiB0eXBlb2Ygb2JqZWN0ID09PSAnb2JqZWN0Jykge1xuICAgIGNvbnN0IG5ld09iamVjdCA9IHt9O1xuICAgIGZvciAoY29uc3Qga2V5IGluIG9iamVjdCkge1xuICAgICAgbmV3T2JqZWN0W2tleV0gPSB1bnBhY2tKc29uQXJyYXlzUmVjdXJzaXZlKG9iamVjdFtrZXldLCB0b3BKc29uLCBidWZmZXJzLCBvcHRpb25zKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ld09iamVjdDtcbiAgfVxuXG4gIHJldHVybiBvYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1bnBhY2tCaW5hcnlKc29uKGpzb24sIGJ1ZmZlcnMsIG9wdGlvbnMgPSB7fSkge1xuICByZXR1cm4gdW5wYWNrSnNvbkFycmF5c1JlY3Vyc2l2ZShqc29uLCBqc29uLCBidWZmZXJzLCBvcHRpb25zKTtcbn1cbiIsIi8vIERlcml2ZWQgZnJvbSAoTUlUIExpY2Vuc2VkKSBodHRwczovL2dpdGh1Yi5jb20vdWJlci13ZWIvbG9hZGVycy5nbC90cmVlL21hc3Rlci9tb2R1bGVzL2dsdGZcblxuY29uc3QgYXNzZXJ0ID0gcmVxdWlyZSgnYXNzZXJ0Jyk7XG5cbmNvbnN0IHtcbiAgQVRUUklCVVRFX1RZUEVfVE9fQ09NUE9ORU5UUyxcbiAgQVRUUklCVVRFX0NPTVBPTkVOVF9UWVBFX1RPX0JZVEVfU0laRSxcbiAgQVRUUklCVVRFX0NPTVBPTkVOVF9UWVBFX1RPX0FSUkFZXG59ID0gcmVxdWlyZSgnLi9nbHRmLXR5cGUtdXRpbHMuanMnKTtcblxuLy8gQ3JlYXRlcyBhIG5ldyBBcnJheUJ1ZmZlciBzdGFydGluZyBhdCB0aGUgb2Zmc2V0LCBjb250YWluaW5nIGFsbCByZW1haW5pbmcgYnl0ZXNcbi8vIFRPRE8gLSBzaG91bGQgbm90IGJlIG5lZWRlZCwgc2VlIGFib3ZlXG5mdW5jdGlvbiBnZXRBcnJheUJ1ZmZlckF0T2Zmc2V0KGFycmF5QnVmZmVyLCBieXRlT2Zmc2V0KSB7XG4gIGNvbnN0IGxlbmd0aCA9IGFycmF5QnVmZmVyLmJ5dGVMZW5ndGggLSBieXRlT2Zmc2V0O1xuICBjb25zdCBiaW5hcnlCdWZmZXIgPSBuZXcgQXJyYXlCdWZmZXIobGVuZ3RoKTtcbiAgY29uc3Qgc291cmNlQXJyYXkgPSBuZXcgVWludDhBcnJheShhcnJheUJ1ZmZlcik7XG4gIGNvbnN0IGJpbmFyeUFycmF5ID0gbmV3IFVpbnQ4QXJyYXkoYmluYXJ5QnVmZmVyKTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgIGJpbmFyeUFycmF5W2ldID0gc291cmNlQXJyYXlbYnl0ZU9mZnNldCArIGldO1xuICB9XG4gIHJldHVybiBiaW5hcnlCdWZmZXI7XG59XG5cbmZ1bmN0aW9uIGdldEFycmF5VHlwZUFuZExlbmd0aChhY2Nlc3NvciwgYnVmZmVyVmlldykge1xuICBjb25zdCBBcnJheVR5cGUgPSBBVFRSSUJVVEVfQ09NUE9ORU5UX1RZUEVfVE9fQVJSQVlbYWNjZXNzb3IuY29tcG9uZW50VHlwZV07XG4gIGNvbnN0IGNvbXBvbmVudHMgPSBBVFRSSUJVVEVfVFlQRV9UT19DT01QT05FTlRTW2FjY2Vzc29yLnR5cGVdO1xuICBjb25zdCBieXRlc1BlckNvbXBvbmVudCA9IEFUVFJJQlVURV9DT01QT05FTlRfVFlQRV9UT19CWVRFX1NJWkVbYWNjZXNzb3IuY29tcG9uZW50VHlwZV07XG4gIGNvbnN0IGxlbmd0aCA9IGFjY2Vzc29yLmNvdW50ICogY29tcG9uZW50cztcbiAgY29uc3QgYnl0ZUxlbmd0aCA9IGFjY2Vzc29yLmNvdW50ICogY29tcG9uZW50cyAqIGJ5dGVzUGVyQ29tcG9uZW50O1xuICBhc3NlcnQoYnl0ZUxlbmd0aCA+PSAwICYmIGJ5dGVMZW5ndGggPD0gYnVmZmVyVmlldy5ieXRlTGVuZ3RoKTtcbiAgcmV0dXJuIHsgQXJyYXlUeXBlLCBsZW5ndGgsIGJ5dGVMZW5ndGggfTtcbn1cblxuZnVuY3Rpb24gdW5wYWNrQWNjZXNzb3JzKGFycmF5QnVmZmVyLCBidWZmZXJWaWV3cywganNvbikge1xuICAvLyB1bnBhY2sgYWNjZXNzb3JzXG4gIGNvbnN0IGFjY2Vzc29ycyA9IGpzb24uYWNjZXNzb3JzIHx8IFtdO1xuXG4gIGNvbnN0IGFjY2Vzc29yQnVmZmVycyA9IFtdO1xuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgYWNjZXNzb3JzLmxlbmd0aDsgKytpKSB7XG4gICAgY29uc3QgYWNjZXNzb3IgPSBhY2Nlc3NvcnNbaV07XG4gICAgYXNzZXJ0KGFjY2Vzc29yKTtcblxuICAgIGNvbnN0IGJ1ZmZlclZpZXcgPSBidWZmZXJWaWV3c1thY2Nlc3Nvci5idWZmZXJWaWV3XTtcbiAgICAvLyBEcmFjbyBlbmNvZGVkIG1lc2hlcyBkb24ndCBoYXZlIGJ1ZmZlclZpZXcgaW4gYWNjZXNzb3JcbiAgICBpZiAoYnVmZmVyVmlldykge1xuICAgICAgLy8gQ3JlYXRlIGEgbmV3IHR5cGVkIGFycmF5IGFzIGEgdmlldyBpbnRvIHRoZSBjb21iaW5lZCBidWZmZXJcbiAgICAgIGNvbnN0IHsgQXJyYXlUeXBlLCBsZW5ndGggfSA9IGdldEFycmF5VHlwZUFuZExlbmd0aChhY2Nlc3NvciwgYnVmZmVyVmlldyk7XG4gICAgICBjb25zdCBhcnJheSA9IG5ldyBBcnJheVR5cGUoYXJyYXlCdWZmZXIsIGJ1ZmZlclZpZXcuYnl0ZU9mZnNldCwgbGVuZ3RoKTtcbiAgICAgIC8vIFN0b3JlIHRoZSBtZXRhZGF0YSBvbiB0aGUgYXJyYXkgKGUuZy4gbmVlZGVkIHRvIGRldGVybWluZSBudW1iZXIgb2YgY29tcG9uZW50cyBwZXIgZWxlbWVudClcbiAgICAgIGFycmF5LmFjY2Vzc29yID0gYWNjZXNzb3I7XG4gICAgICBhY2Nlc3NvckJ1ZmZlcnMucHVzaChhcnJheSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGFjY2Vzc29yQnVmZmVycztcbn1cblxuZnVuY3Rpb24gdW5wYWNrSW1hZ2VzKGFycmF5QnVmZmVyLCBidWZmZXJWaWV3cywganNvbikge1xuICAvLyB1bnBhY2sgaW1hZ2VzXG4gIGNvbnN0IGltYWdlcyA9IGpzb24uaW1hZ2VzIHx8IFtdO1xuXG4gIGNvbnN0IGltYWdlQnVmZmVycyA9IFtdO1xuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgaW1hZ2VzLmxlbmd0aDsgKytpKSB7XG4gICAgY29uc3QgaW1hZ2UgPSBpbWFnZXNbaV07XG4gICAgYXNzZXJ0KGltYWdlKTtcblxuICAgIGlmIChpbWFnZS5idWZmZXJWaWV3ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGltYWdlQnVmZmVycy5wdXNoKG51bGwpO1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgY29uc3QgYnVmZmVyVmlldyA9IGJ1ZmZlclZpZXdzW2ltYWdlLmJ1ZmZlclZpZXddO1xuICAgIGFzc2VydChidWZmZXJWaWV3KTtcblxuICAgIC8vIENyZWF0ZSBhIG5ldyB0eXBlZCBhcnJheSBhcyBhIHZpZXcgaW50byB0aGUgY29tYmluZWQgYnVmZmVyXG4gICAgY29uc3QgYXJyYXkgPSBuZXcgVWludDhBcnJheShhcnJheUJ1ZmZlciwgYnVmZmVyVmlldy5ieXRlT2Zmc2V0LCBidWZmZXJWaWV3LmJ5dGVMZW5ndGgpO1xuICAgIC8vIFN0b3JlIHRoZSBtZXRhZGF0YSBvbiB0aGUgYXJyYXkgKGUuZy4gbmVlZGVkIHRvIGRldGVybWluZSBudW1iZXIgb2YgY29tcG9uZW50cyBwZXIgZWxlbWVudClcbiAgICBhcnJheS5pbWF0ZSA9IGltYWdlO1xuICAgIGltYWdlQnVmZmVycy5wdXNoKGFycmF5KTtcbiAgfVxuXG4gIHJldHVybiBpbWFnZUJ1ZmZlcnM7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1bnBhY2tHTEJCdWZmZXJzKGFycmF5QnVmZmVyLCBqc29uLCBiaW5hcnlCeXRlT2Zmc2V0KSB7XG4gIC8vIFRPRE8gLSByZWFsbHkgaW5lZmZpY2llbnQsIHNob3VsZCBqdXN0IHVzZSB0aGUgb2Zmc2V0IGludG8gdGhlIG9yaWdpbmFsIGFycmF5IGJ1ZmZlclxuICBpZiAoYmluYXJ5Qnl0ZU9mZnNldCkge1xuICAgIGFycmF5QnVmZmVyID0gZ2V0QXJyYXlCdWZmZXJBdE9mZnNldChhcnJheUJ1ZmZlciwgYmluYXJ5Qnl0ZU9mZnNldCk7XG4gIH1cblxuICBjb25zdCBidWZmZXJWaWV3cyA9IGpzb24uYnVmZmVyVmlld3MgfHwgW107XG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBidWZmZXJWaWV3cy5sZW5ndGg7ICsraSkge1xuICAgIGNvbnN0IGJ1ZmZlclZpZXcgPSBidWZmZXJWaWV3c1tpXTtcbiAgICBhc3NlcnQoYnVmZmVyVmlldy5ieXRlTGVuZ3RoID49IDApO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICAvLyBUT0RPOiBkZWxldGUgdW5wYWNrQWNjZXNzb3JzIGFuZCB1c2UgYnVmZmVyIHZpZXdzIG9ubHk/XG4gICAgYWNjZXNzb3JzOiB1bnBhY2tBY2Nlc3NvcnMoYXJyYXlCdWZmZXIsIGJ1ZmZlclZpZXdzLCBqc29uKSxcbiAgICBpbWFnZXM6IHVucGFja0ltYWdlcyhhcnJheUJ1ZmZlciwgYnVmZmVyVmlld3MsIGpzb24pXG4gIH07XG59XG4iLCIvLyBQb3J0aW9ucyBDb3B5cmlnaHQgMjAxOSBKaW1iIEVzc2VyIChodHRwczovL2dpdGh1Yi5jb20vSmltYmx5Lylcbi8vIFJlbGVhc2VkIHVuZGVyIE1JVCBMaWNlbnNlOiBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVFxuXG4vLyBTeXN0ZW0gZm9yIHJlZ2lzdGVyaW5nIGNhbGxiYWNrcyB0byBydW4gaW4gZXZlbnQgaGFuZGxlcnMgb24gdGhlIG5leHQgZnJhbWVcbi8vIFVzZWQgdG8gZ2V0IGFyb3VuZCByZXN0cmljdGlvbnMgb24gQVBJcyBsaWtlIHBvaW50ZXIgbG9jaywgZnVsbHNjcmVlbiwgb3Jcbi8vIHNjcmVlbiBvcmllbnRhdGlvbi5cblxuY29uc3QgYXNzZXJ0ID0gcmVxdWlyZSgnYXNzZXJ0Jyk7XG5cbmxldCBjYnMgPSB7fTtcbmV4cG9ydCBmdW5jdGlvbiB0b3BPZkZyYW1lKCkge1xuICBjYnMgPSB7fTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG9uKHR5cGUsIGNvZGVfb3JfcG9zLCBjYikge1xuICBsZXQgbGlzdCA9IGNic1t0eXBlXSA9IGNic1t0eXBlXSB8fCBbXTtcbiAgaWYgKHR5cGVvZiBjb2RlX29yX3BvcyA9PT0gJ251bWJlcicpIHtcbiAgICBsaXN0W2NvZGVfb3JfcG9zXSA9IGNiO1xuICB9IGVsc2Uge1xuICAgIGxpc3QucHVzaChbY29kZV9vcl9wb3MsIGNiXSk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGhhbmRsZSh0eXBlLCBldmVudCkge1xuICBsZXQgbGlzdCA9IGNic1t0eXBlXTtcbiAgaWYgKCFsaXN0KSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHN3aXRjaCAodHlwZSkge1xuICAgIGNhc2UgJ2tleWRvd24nOlxuICAgIGNhc2UgJ2tleXVwJzpcbiAgICAgIGlmIChsaXN0W2V2ZW50LmtleUNvZGVdKSB7XG4gICAgICAgIGxpc3RbZXZlbnQua2V5Q29kZV0odHlwZSwgZXZlbnQpO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnbW91c2V1cCc6XG4gICAgY2FzZSAnbW91c2Vkb3duJzoge1xuICAgICAgbGV0IHggPSBldmVudC5wYWdlWDtcbiAgICAgIGxldCB5ID0gZXZlbnQucGFnZVk7XG4gICAgICBsZXQgYnV0dG9uID0gZXZlbnQuYnV0dG9uO1xuICAgICAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IGxpc3QubGVuZ3RoOyArK2lpKSB7XG4gICAgICAgIGxldCBlbGVtID0gbGlzdFtpaV07XG4gICAgICAgIGxldCBwb3MgPSBlbGVtWzBdO1xuICAgICAgICBpZiAoeCA+PSBwb3MueCAmJiB4IDwgcG9zLnggKyBwb3MudyAmJlxuICAgICAgICAgIHkgPj0gcG9zLnkgJiYgeSA8IHBvcy55ICsgcG9zLmggJiZcbiAgICAgICAgICAocG9zLmJ1dHRvbiA8IDAgfHwgcG9zLmJ1dHRvbiA9PT0gYnV0dG9uKVxuICAgICAgICApIHtcbiAgICAgICAgICBlbGVtWzFdKHR5cGUsIGV2ZW50KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gYnJlYWs7XG4gICAgZGVmYXVsdDpcbiAgICAgIGFzc2VydChmYWxzZSk7XG4gIH1cbn1cbiIsIi8vIFBvcnRpb25zIENvcHlyaWdodCAyMDE5IEppbWIgRXNzZXIgKGh0dHBzOi8vZ2l0aHViLmNvbS9KaW1ibHkvKVxuLy8gUmVsZWFzZWQgdW5kZXIgTUlUIExpY2Vuc2U6IGh0dHBzOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvTUlUXG4vLyBTb21lIGNvZGUgZnJvbSBUdXJidWxlbno6IENvcHlyaWdodCAoYykgMjAxMi0yMDEzIFR1cmJ1bGVueiBMaW1pdGVkXG4vLyBSZWxlYXNlZCB1bmRlciBNSVQgTGljZW5zZTogaHR0cHM6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9NSVRcbi8qIGdsb2JhbCBuYXZpZ2F0b3IgKi9cblxuY29uc3QgYXNzZXJ0ID0gcmVxdWlyZSgnYXNzZXJ0Jyk7XG5jb25zdCBjYW1lcmEyZCA9IHJlcXVpcmUoJy4vY2FtZXJhMmQuanMnKTtcbmNvbnN0IHsgY21kX3BhcnNlIH0gPSByZXF1aXJlKCcuL2NtZHMuanMnKTtcbmNvbnN0IGVuZ2luZSA9IHJlcXVpcmUoJy4vZW5naW5lLmpzJyk7XG5jb25zdCBpbl9ldmVudCA9IHJlcXVpcmUoJy4vaW5fZXZlbnQuanMnKTtcbmNvbnN0IGxvY2FsX3N0b3JhZ2UgPSByZXF1aXJlKCcuL2xvY2FsX3N0b3JhZ2UuanMnKTtcbmNvbnN0IHsgYWJzLCBtYXgsIG1pbiwgc3FydCB9ID0gTWF0aDtcbmNvbnN0IHBvaW50ZXJfbG9jayA9IHJlcXVpcmUoJy4vcG9pbnRlcl9sb2NrLmpzJyk7XG5jb25zdCB7IHNvdW5kUmVzdW1lIH0gPSByZXF1aXJlKCcuL3NvdW5kLmpzJyk7XG5jb25zdCB7IHZlYzIsIHYyYWRkLCB2MmNvcHksIHYybGVuZ3RoU3EsIHYyc2V0LCB2MnNjYWxlLCB2MnN1YiB9ID0gcmVxdWlyZSgnLi92bWF0aC5qcycpO1xuXG5jb25zdCBVUF9FREdFID0gMDsgLy8gb25seSBmb3IgcGFkcywgd2hpY2ggdXNlID09PSBudWxsIGFzIFwidXBcIlxuY29uc3QgVVAgPSAwOyAvLyBvbmx5IGZvciBrZXkvbW91c2VcbmNvbnN0IERPV04gPSAxO1xuY29uc3QgRE9XTl9FREdFID0gMjsgLy8gb25seSBmb3IgcGFkc1xuXG4vLyBwZXItYXBwIG92ZXJyaWRlYWJsZSBvcHRpb25zXG5jb25zdCBUT1VDSF9BU19NT1VTRSA9IHRydWU7XG5sZXQgbWFwX2FuYWxvZ190b19kcGFkID0gdHJ1ZTtcblxubGV0IG1vdXNlX2xvZyA9IGZhbHNlO1xuXG5leHBvcnQgY29uc3QgQU5ZID0gLTI7XG5leHBvcnQgY29uc3QgUE9JTlRFUkxPQ0sgPSAtMTtcblxuZXhwb3J0IGxldCBLRVlTID0ge1xuICBCQUNLU1BBQ0U6IDgsXG4gIFRBQjogOSxcbiAgRU5URVI6IDEzLFxuICBSRVRVUk46IDEzLFxuICBTSElGVDogMTYsXG4gIENUUkw6IDE3LFxuICBBTFQ6IDE4LFxuICBFU0M6IDI3LFxuICBTUEFDRTogMzIsXG4gIFBBR0VVUDogMzMsXG4gIFBBR0VET1dOOiAzNCxcbiAgRU5EOiAzNSxcbiAgSE9NRTogMzYsXG4gIExFRlQ6IDM3LFxuICBVUDogMzgsXG4gIFJJR0hUOiAzOSxcbiAgRE9XTjogNDAsXG4gIElOUzogNDUsXG4gIERFTDogNDYsXG4gIE5VTVBBRF9ESVZJREU6IDExMSxcbiAgRVFVQUxTOiAxODcsXG4gIE1JTlVTOiAxODksXG4gIFNMQVNIOiAxOTEsXG4gIFRJTERFOiAxOTIsXG59O1xuKGZ1bmN0aW9uICgpIHtcbiAgZm9yIChsZXQgaWkgPSAxOyBpaSA8PSAxMjsgKytpaSkge1xuICAgIEtFWVNbYEYke2lpfWBdID0gMTExICsgaWk7XG4gIH1cbiAgZm9yIChsZXQgaWkgPSA0ODsgaWkgPD0gOTA7ICsraWkpIHsgLy8gMC05O0EtWlxuICAgIEtFWVNbU3RyaW5nLmZyb21DaGFyQ29kZShpaSldID0gaWk7XG4gIH1cbn0oKSk7XG5pZiAodHlwZW9mIFByb3h5ID09PSAnZnVuY3Rpb24nKSB7XG4gIC8vIENhdGNoIHJlZmVyZW5jaW5nIGtleXMgdGhhdCBhcmUgbm90IGluIG91ciBtYXBcbiAgS0VZUyA9IG5ldyBQcm94eShLRVlTLCB7XG4gICAgZ2V0OiBmdW5jdGlvbiAodGFyZ2V0LCBwcm9wKSB7XG4gICAgICBsZXQgcmV0ID0gdGFyZ2V0W3Byb3BdO1xuICAgICAgYXNzZXJ0KHJldCk7XG4gICAgICByZXR1cm4gcmV0O1xuICAgIH1cbiAgfSk7XG59XG5leHBvcnQgY29uc3QgUEFEID0ge1xuICBBOiAwLFxuICBTRUxFQ1Q6IDAsIC8vIEdMT1YgbmFtZVxuICBCOiAxLFxuICBDQU5DRUw6IDEsIC8vIEdMT1YgbmFtZVxuICBYOiAyLFxuICBZOiAzLFxuICBMQjogNCxcbiAgTEVGVF9CVU1QRVI6IDQsXG4gIFJCOiA1LFxuICBSSUdIVF9CVU1QRVI6IDUsXG4gIExUOiA2LFxuICBMRUZUX1RSSUdHRVI6IDYsXG4gIFJUOiA3LFxuICBSSUdIVF9UUklHR0VSOiA3LFxuICBCQUNLOiA4LFxuICBTVEFSVDogOSxcbiAgTEVGVF9TVElDSzogMTAsXG4gIFJJR0hUX1NUSUNLOiAxMSxcbiAgVVA6IDEyLFxuICBET1dOOiAxMyxcbiAgTEVGVDogMTQsXG4gIFJJR0hUOiAxNSxcbiAgQU5BTE9HX1VQOiAyMCxcbiAgQU5BTE9HX0xFRlQ6IDIxLFxuICBBTkFMT0dfRE9XTjogMjIsXG4gIEFOQUxPR19SSUdIVDogMjMsXG59O1xuXG5sZXQgcGFkX3RvX3RvdWNoO1xuXG5sZXQgY2FudmFzO1xubGV0IGtleV9zdGF0ZV9uZXcgPSB7fTtcbmxldCBwYWRfc3RhdGVzID0gW107IC8vIE9uZSBtYXAgcGVyIGdhbWVwYWQgdG8gcGFkIGJ1dHRvbiBzdGF0ZXNcbmxldCBnYW1lcGFkX2RhdGEgPSBbXTsgLy8gT3RoZXIgdHJhY2tpbmcgZGF0YSBwZXIgZ2FtZXBhZFxubGV0IG1vdXNlX3BvcyA9IHZlYzIoKTsgLy8gaW4gRE9NIGNvb3JkaW5hdGVzLCBub3QgY2FudmFzIG9yIHZpcnR1YWxcbmxldCBsYXN0X21vdXNlX3BvcyA9IHZlYzIoKTtcbmxldCBtb3VzZV9wb3NfaXNfdG91Y2ggPSBmYWxzZTtcbmxldCBtb3VzZV9vdmVyX2NhcHR1cmVkID0gZmFsc2U7XG5sZXQgbW91c2VfZG93biA9IFtdO1xubGV0IHdoZWVsX2V2ZW50cyA9IFtdO1xubGV0IG1vdmVtZW50X3F1ZXN0aW9uYWJsZV9mcmFtZXMgPSAwO1xuY29uc3QgTU9WRU1FTlRfUVVFU1RJT05BQkxFX0ZSQU1FUyA9IDI7IC8vIE5lZWQgYXQgbGVhc3QgMlxuXG5sZXQgaW5wdXRfZWF0ZW5fa2IgPSBmYWxzZTtcbmxldCBpbnB1dF9lYXRlbl9tb3VzZSA9IGZhbHNlO1xuXG5sZXQgdG91Y2hlcyA9IHt9OyAvLyBgbSR7YnV0dG9ufWAgb3IgdG91Y2hfaWQgLT4gVG91Y2hEYXRhXG5cbmV4cG9ydCBsZXQgdG91Y2hfbW9kZSA9IGxvY2FsX3N0b3JhZ2UuZ2V0SlNPTigndG91Y2hfbW9kZScsIGZhbHNlKTtcbmV4cG9ydCBsZXQgcGFkX21vZGUgPSBsb2NhbF9zdG9yYWdlLmdldEpTT04oJ3BhZF9tb2RlJywgZmFsc2UpO1xuXG5jbWRfcGFyc2UucmVnaXN0ZXJWYWx1ZSgnbW91c2VfbG9nJywge1xuICB0eXBlOiBjbWRfcGFyc2UuVFlQRV9JTlQsXG4gIHJhbmdlOiBbMCwgMV0sXG4gIGdldDogKCkgPT4gbW91c2VfbG9nLFxuICBzZXQ6ICh2KSA9PiAobW91c2VfbG9nID0gdiksXG59KTtcblxuZnVuY3Rpb24gZXZlbnRUaW1lc3RhbXAoZXZlbnQpIHtcbiAgaWYgKGV2ZW50ICYmIGV2ZW50LnRpbWVTdGFtcCkge1xuICAgIC8vIGFzc2VydCgoZXZlbnQudGltZVN0YW1wIDwgMWUxMikgPT09IChlbmdpbmUuaHJ0aW1lIDwgMWUxMikpO1xuICAgIC8vIE11c3QgYm90aCBiZSBoaWdoIHJlcyB0aW1lcywgb3IgYm90aCBub3QhXG4gICAgaWYgKChldmVudC50aW1lU3RhbXAgPCAxZTEyKSAhPT0gKGVuZ2luZS5ocnRpbWUgPCAxZTEyKSkge1xuICAgICAgcmV0dXJuIGVuZ2luZS5ocnRpbWU7XG4gICAgfVxuICAgIHJldHVybiBldmVudC50aW1lU3RhbXA7XG4gIH1cbiAgcmV0dXJuIGVuZ2luZS5ocnRpbWU7XG59XG5cbmZ1bmN0aW9uIFRvdWNoRGF0YShwb3MsIHRvdWNoLCBidXR0b24sIGV2ZW50KSB7XG4gIHRoaXMuZGVsdGEgPSB2ZWMyKCk7XG4gIHRoaXMudG90YWwgPSAwO1xuICB0aGlzLmN1cl9wb3MgPSBwb3Muc2xpY2UoMCk7XG4gIHRoaXMuc3RhcnRfcG9zID0gcG9zLnNsaWNlKDApO1xuICB0aGlzLnRvdWNoID0gdG91Y2g7XG4gIHRoaXMuYnV0dG9uID0gYnV0dG9uO1xuICB0aGlzLnN0YXJ0X3RpbWUgPSBEYXRlLm5vdygpO1xuICB0aGlzLmRpc3BhdGNoZWQgPSBmYWxzZTtcbiAgdGhpcy5kaXNwYXRjaGVkX2RyYWcgPSBmYWxzZTtcbiAgdGhpcy5kaXNwYXRjaGVkX2RyYWdfb3ZlciA9IGZhbHNlO1xuICB0aGlzLnVwX2VkZ2UgPSAwO1xuICB0aGlzLmRvd25fZWRnZSA9IDA7XG4gIHRoaXMuc3RhdGUgPSBET1dOO1xuICB0aGlzLmRvd25fdGltZSA9IDA7XG4gIHRoaXMub3JpZ2luX3RpbWUgPSBldmVudFRpbWVzdGFtcChldmVudCk7XG59XG5Ub3VjaERhdGEucHJvdG90eXBlLmRvd24gPSBmdW5jdGlvbiAoZXZlbnQsIGlzX2VkZ2UpIHtcbiAgaWYgKGlzX2VkZ2UpIHtcbiAgICB0aGlzLmRvd25fZWRnZSsrO1xuICB9XG4gIHRoaXMuc3RhdGUgPSBET1dOO1xuICB0aGlzLm9yaWdpbl90aW1lID0gZXZlbnRUaW1lc3RhbXAoZXZlbnQpO1xufTtcblxuY29uc3QgTUlOX0VWRU5UX1RJTUVfREVMVEEgPSAwLjAxOyAvLyBmcmFjdGlvbnMgb2YgYSBtaWxsaXNlY29uZFxuZnVuY3Rpb24gdGltZURlbHRhKGV2ZW50LCBvcmlnaW5fdGltZSkge1xuICBsZXQgZXQgPSBldmVudFRpbWVzdGFtcChldmVudCk7XG4gIC8vIHRpbWVzdGFtcHMgb24gZXZlbnRzIGFyZSBvZnRlbiBiYWNrIGluIHRpbWUgcmVsYXRpdmUgdG8gdGhlIGxhc3QgdGljayB0aW1lXG4gIHJldHVybiBtYXgoZXQgLSBvcmlnaW5fdGltZSwgTUlOX0VWRU5UX1RJTUVfREVMVEEpO1xufVxuXG5mdW5jdGlvbiBLZXlEYXRhKCkge1xuICB0aGlzLmRvd25fZWRnZSA9IDA7XG4gIC8vIHRoaXMuZG93bl9zdGFydCA9IDA7XG4gIHRoaXMub3JpZ2luX3RpbWUgPSAwO1xuICB0aGlzLmRvd25fdGltZSA9IDA7XG4gIHRoaXMudXBfZWRnZSA9IDA7XG4gIHRoaXMuc3RhdGUgPSBVUDtcbn1cbktleURhdGEucHJvdG90eXBlLmtleVVwID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICsrdGhpcy51cF9lZGdlO1xuICB0aGlzLmRvd25fdGltZSArPSB0aW1lRGVsdGEoZXZlbnQsIHRoaXMub3JpZ2luX3RpbWUpO1xuICB0aGlzLnN0YXRlID0gVVA7XG59O1xuXG5mdW5jdGlvbiBzZXRNb3VzZVRvTWlkKCkge1xuICB2MnNldChtb3VzZV9wb3MsIGVuZ2luZS53aWR0aCowLjUvY2FtZXJhMmQuZG9tVG9DYW52YXNSYXRpbygpLCBlbmdpbmUuaGVpZ2h0KjAuNS9jYW1lcmEyZC5kb21Ub0NhbnZhc1JhdGlvKCkpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcG9pbnRlckxvY2tlZCgpIHtcbiAgcmV0dXJuIHBvaW50ZXJfbG9jay5pc0xvY2tlZCgpO1xufVxubGV0IHBvaW50ZXJsb2NrX3RvdWNoX2lkID0gYG0ke1BPSU5URVJMT0NLfWA7XG4vLyBvbmx5IHdvcmtzIHJlbGlhYmx5IHdoZW4gY2FsbGVkIGZyb20gYW4gZXZlbnQgaGFuZGxlclxuZXhwb3J0IGZ1bmN0aW9uIHBvaW50ZXJMb2NrRW50ZXIod2hlbikge1xuICBwb2ludGVyX2xvY2suZW50ZXIod2hlbik7XG59XG5mdW5jdGlvbiBvblBvaW50ZXJMb2NrRW50ZXIoKSB7XG4gIGlmICh0b3VjaF9tb2RlKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGxldCB0b3VjaF9kYXRhID0gdG91Y2hlc1twb2ludGVybG9ja190b3VjaF9pZF07XG4gIHNldE1vdXNlVG9NaWQoKTtcbiAgaWYgKHRvdWNoX2RhdGEpIHtcbiAgICB2MmNvcHkodG91Y2hfZGF0YS5zdGFydF9wb3MsIG1vdXNlX3Bvcyk7XG4gICAgdG91Y2hfZGF0YS5zdGF0ZSA9IERPV047XG4gICAgdG91Y2hfZGF0YS5vcmlnaW5fdGltZSA9IGVuZ2luZS5ocnRpbWU7XG4gIH0gZWxzZSB7XG4gICAgdG91Y2hfZGF0YSA9IHRvdWNoZXNbcG9pbnRlcmxvY2tfdG91Y2hfaWRdID0gbmV3IFRvdWNoRGF0YShtb3VzZV9wb3MsIGZhbHNlLCBQT0lOVEVSTE9DSywgbnVsbCk7XG4gIH1cbiAgbW92ZW1lbnRfcXVlc3Rpb25hYmxlX2ZyYW1lcyA9IE1PVkVNRU5UX1FVRVNUSU9OQUJMRV9GUkFNRVM7XG59XG5leHBvcnQgZnVuY3Rpb24gcG9pbnRlckxvY2tFeGl0KCkge1xuICBsZXQgdG91Y2hfZGF0YSA9IHRvdWNoZXNbcG9pbnRlcmxvY2tfdG91Y2hfaWRdO1xuICBpZiAodG91Y2hfZGF0YSkge1xuICAgIHYyY29weSh0b3VjaF9kYXRhLmN1cl9wb3MsIG1vdXNlX3Bvcyk7XG4gICAgLy8gbm8gVVBfRURHRSBmb3IgdGhpc1xuICAgIHRvdWNoX2RhdGEuc3RhdGUgPSBVUDtcbiAgfVxuICBwb2ludGVyX2xvY2suZXhpdCgpO1xuICBtb3ZlbWVudF9xdWVzdGlvbmFibGVfZnJhbWVzID0gTU9WRU1FTlRfUVVFU1RJT05BQkxFX0ZSQU1FUztcbn1cblxubGV0IGxhc3RfZXZlbnQ7XG5jb25zdCBza2lwID0geyBpc1RydXN0ZWQ6IDEsIHNvdXJjZUNhcGFiaWxpdGllczogMSwgcGF0aDogMSwgY3VycmVudFRhcmdldDogMSwgdmlldzogMSB9O1xuZnVuY3Rpb24gZXZlbnRsb2coZXZlbnQpIHtcbiAgaWYgKGV2ZW50ID09PSBsYXN0X2V2ZW50KSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGxhc3RfZXZlbnQgPSBldmVudDtcbiAgbGV0IHBhaXJzID0gW107XG4gIGZvciAobGV0IGsgaW4gZXZlbnQpIHtcbiAgICBsZXQgdiA9IGV2ZW50W2tdO1xuICAgIGlmICghdiB8fCB0eXBlb2YgdiA9PT0gJ2Z1bmN0aW9uJyB8fCBrLnRvVXBwZXJDYXNlKCkgPT09IGsgfHwgc2tpcFtrXSkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIHBhaXJzLnB1c2goYCR7a306JHt2LmlkIHx8IHZ9YCk7XG4gIH1cbiAgY29uc29sZS5sb2coYCR7ZW5naW5lLmZyYW1lX2luZGV4fSAke2V2ZW50LnR5cGV9ICR7cG9pbnRlckxvY2tlZCgpPydwdHJsY2snOid1bmxja2QnfSAke3BhaXJzLmpvaW4oJywnKX1gKTtcbn1cblxuZnVuY3Rpb24gbGV0RXZlbnRUaHJvdWdoKGV2ZW50KSB7XG4gIHJldHVybiBldmVudC50YXJnZXQudGFnTmFtZSA9PT0gJ0lOUFVUJyB8fCBTdHJpbmcoZXZlbnQudGFyZ2V0LmNsYXNzTmFtZSkuaW5kZXhPZignbm9nbG92JykgIT09IC0xO1xufVxuXG5mdW5jdGlvbiBpZ25vcmVkKGV2ZW50KSB7XG4gIC8vIGV2ZW50bG9nKGV2ZW50KTtcbiAgaWYgKCFsZXRFdmVudFRocm91Z2goZXZlbnQpKSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgfVxufVxuXG5sZXQgdW5sb2FkX3Byb3RlY3RlZCA9IGZhbHNlO1xuZnVuY3Rpb24gYmVmb3JlVW5sb2FkKGUpIHtcbiAgaWYgKHVubG9hZF9wcm90ZWN0ZWQpIHtcbiAgICAvLyBDYW5jZWwgdGhlIGV2ZW50XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIC8vIENocm9tZSByZXF1aXJlcyByZXR1cm5WYWx1ZSB0byBiZSBzZXRcbiAgICBlLnJldHVyblZhbHVlID0gJ0FyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBxdWl0Pyc7XG4gIH0gZWxzZSB7XG4gICAgZW5naW5lLnJlbGVhc2VDYW52YXMoKTtcbiAgfVxufVxuZnVuY3Rpb24gcHJvdGVjdFVubG9hZChlbmFibGUpIHtcbiAgdW5sb2FkX3Byb3RlY3RlZCA9IGVuYWJsZTtcbn1cblxuZnVuY3Rpb24gb25LZXlVcChldmVudCkge1xuICBwcm90ZWN0VW5sb2FkKGV2ZW50LmN0cmxLZXkpO1xuICBsZXQgY29kZSA9IGV2ZW50LmtleUNvZGU7XG4gIGlmICghbGV0RXZlbnRUaHJvdWdoKGV2ZW50KSkge1xuICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gIH1cblxuICBpZiAoY29kZSA9PT0gS0VZUy5FU0MgJiYgcG9pbnRlckxvY2tlZCgpKSB7XG4gICAgcG9pbnRlckxvY2tFeGl0KCk7XG4gIH1cbiAgLy8gTGV0dGluZyB0aHJvdWdoIHRvIG91ciBjb2RlIHJlZ2FyZGxlc3Mgb2Ygbm9fc3RvcCwgYmVjYXVzZSB3ZSBoYW5kbGUgdGhpbmdzIGxpa2UgRVNDIGluIElOUFVUIGVsZW1lbnRzXG5cbiAgbGV0IGtzID0ga2V5X3N0YXRlX25ld1tjb2RlXTtcbiAgaWYgKGtzICYmIGtzLnN0YXRlID09PSBET1dOKSB7XG4gICAga3Mua2V5VXAoZXZlbnQpO1xuICB9XG5cbiAgaW5fZXZlbnQuaGFuZGxlKCdrZXl1cCcsIGV2ZW50KTtcbn1cblxuZnVuY3Rpb24gb25LZXlEb3duKGV2ZW50KSB7XG4gIHByb3RlY3RVbmxvYWQoZXZlbnQuY3RybEtleSk7XG4gIGxldCBjb2RlID0gZXZlbnQua2V5Q29kZTtcbiAgbGV0IG5vX3N0b3AgPSBsZXRFdmVudFRocm91Z2goZXZlbnQpIHx8XG4gICAgY29kZSA+PSBLRVlTLkY1ICYmIGNvZGUgPD0gS0VZUy5GMTIgfHwgLy8gQ2hyb21lIGRlYnVnIGhvdGtleXNcbiAgICBjb2RlID09PSBLRVlTLkkgJiYgKGV2ZW50LmFsdEtleSAmJiBldmVudC5tZXRhS2V5IHx8IGV2ZW50LmN0cmxLZXkgJiYgZXZlbnQuc2hpZnRLZXkpOyAvLyBTYWZhcmksIGFsdGVybmF0ZSBDaHJvbWVcbiAgaWYgKCFub19zdG9wKSB7XG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgfVxuICAvLyBjb25zb2xlLmxvZyhgJHtldmVudC5jb2RlfSAke2V2ZW50LmtleUNvZGV9YCk7XG4gIHNvdW5kUmVzdW1lKCk7XG5cbiAgLy8gTGV0dGluZyB0aHJvdWdoIHRvIG91ciBjb2RlIHJlZ2FyZGxlc3Mgb2Ygbm9fc3RvcCwgYmVjYXVzZSB3ZSBoYW5kbGUgdGhpbmdzIGxpa2UgRVNDIGluIElOUFVUIGVsZW1lbnRzXG4gIGxldCBrcyA9IGtleV9zdGF0ZV9uZXdbY29kZV07XG4gIGlmICgha3MpIHtcbiAgICBrcyA9IGtleV9zdGF0ZV9uZXdbY29kZV0gPSBuZXcgS2V5RGF0YSgpO1xuICB9XG4gIGlmIChrcy5zdGF0ZSAhPT0gRE9XTikgeyAvLyBub3QgYSByZXBlYXQgZXZlbnRcbiAgICArK2tzLmRvd25fZWRnZTtcbiAgICBrcy5zdGF0ZSA9IERPV047XG4gICAga3Mub3JpZ2luX3RpbWUgPSBldmVudFRpbWVzdGFtcChldmVudCk7XG4gICAgLy8ga3MuZG93bl9zdGFydCA9IGtzLm9yaWdpbl90aW1lO1xuXG4gICAgaW5fZXZlbnQuaGFuZGxlKCdrZXlkb3duJywgZXZlbnQpO1xuICB9XG59XG5cbmxldCBtb3VzZV9tb3ZlX3ggPSAwO1xuZXhwb3J0IGZ1bmN0aW9uIGRlYnVnR2V0TW91c2VNb3ZlWCgpIHtcbiAgbGV0IHJldCA9IG1vdXNlX21vdmVfeDtcbiAgbW91c2VfbW92ZV94ID0gMDtcbiAgcmV0dXJuIHJldDtcbn1cblxubGV0IG1vdXNlX21vdmVkID0gZmFsc2U7XG5sZXQgdGVtcF9kZWx0YSA9IHZlYzIoKTtcbmxldCBsYXN0X2Fic19tb3ZlID0gMDtcbmxldCBsYXN0X2Fic19tb3ZlX3RpbWUgPSAwO1xuZnVuY3Rpb24gb25Nb3VzZU1vdmUoZXZlbnQsIG5vX3N0b3ApIHtcbiAgLy8vIGV2ZW50bG9nKGV2ZW50KTtcbiAgLy8gRG9uJ3QgYmxvY2sgbW91c2UgYnV0dG9uIDMsIHRoYXQncyB0aGUgQmFjayBidXR0b25cbiAgaWYgKCFsZXRFdmVudFRocm91Z2goZXZlbnQpICYmICFub19zdG9wICYmIGV2ZW50LmJ1dHRvbiAhPT0gMykge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgaWYgKHRvdWNoX21vZGUpIHtcbiAgICAgIGxvY2FsX3N0b3JhZ2Uuc2V0SlNPTigndG91Y2hfbW9kZScsIGZhbHNlKTtcbiAgICAgIHRvdWNoX21vZGUgPSBmYWxzZTtcbiAgICB9XG4gICAgaWYgKHBhZF9tb2RlKSB7XG4gICAgICBsb2NhbF9zdG9yYWdlLnNldEpTT04oJ3BhZF9tb2RlJywgZmFsc2UpO1xuICAgICAgcGFkX21vZGUgPSBmYWxzZTtcbiAgICB9XG4gIH1cbiAgbW91c2VfbW92ZWQgPSB0cnVlO1xuICAvLyBvZmZzZXRYL2xheWVyWCByZXR1cm4gcG9zaXRpb24gcmVsYXRpdmUgdG8gdGV4dC1lbnRyeSBib3hlcywgbm90IGdvb2QhXG4gIC8vIGNsaWVudFgvY2xpZW50WSBkbyBub3QgaGFuZGxlIHdlaXJkIHNjcm9sbGluZyB0aGF0IGhhcHBlbnMgb24gaU9TLCBidXRcbiAgLy8gICBzaG91bGQgbm90IGFmZmVjdCBtb3VzZSBldmVudHMgKGJ1dCBtYXliZSBvbiBTYWZhcmkgZGVza3RvcD8pXG4gIG1vdXNlX3Bvc1swXSA9IGV2ZW50LnBhZ2VYO1xuICBtb3VzZV9wb3NbMV0gPSBldmVudC5wYWdlWTtcbiAgLy8gaWYgKGV2ZW50Lm9mZnNldFggIT09IHVuZGVmaW5lZCkge1xuICAvLyAgIG1vdXNlX3Bvc1swXSA9IGV2ZW50Lm9mZnNldFg7XG4gIC8vICAgbW91c2VfcG9zWzFdID0gZXZlbnQub2Zmc2V0WTtcbiAgLy8gfSBlbHNlIHtcbiAgLy8gICBtb3VzZV9wb3NbMF0gPSBldmVudC5sYXllclg7XG4gIC8vICAgbW91c2VfcG9zWzFdID0gZXZlbnQubGF5ZXJZO1xuICAvLyB9XG4gIG1vdXNlX3Bvc19pc190b3VjaCA9IGZhbHNlO1xuXG4gIG1vdXNlX21vdmVfeCArPSAoZXZlbnQubW92ZW1lbnRYIHx8IDApO1xuXG4gIGxldCBhbnlfbW92ZW1lbnQgPSBmYWxzZTtcbiAgaWYgKHBvaW50ZXJMb2NrZWQoKSkge1xuICAgIHNldE1vdXNlVG9NaWQoKTtcbiAgICBpZiAoZXZlbnQubW92ZW1lbnRYIHx8IGV2ZW50Lm1vdmVtZW50WSkge1xuICAgICAgLy8gU21vb3RoIG91dCAoaWdub3JlKSBsYXJnZSBqdW1wcyBpbiBtb3ZlbWVudFxuICAgICAgLy8gVGhpcyBpcywgSSBiZWxpZXZlLCBqdXN0IGEgYnVnIHdpdGggQ2hyb21pdW0gb24gV2luZG93cywgYXMgaXQgcmVwb3NpdGlvbnMgdGhlIGhpZGRlbiBtb3VzZSBjdXJzb3JcbiAgICAgIGxldCB0cyA9IGV2ZW50LnRpbWVTdGFtcCB8fCBEYXRlLm5vdygpO1xuICAgICAgbGV0IGFic19tb3ZlID0gYWJzKGV2ZW50Lm1vdmVtZW50WCkgKyBhYnMoZXZlbnQubW92ZW1lbnRZKTtcbiAgICAgIGlmIChhYnNfbW92ZSA+IDIwMCAmJiAoYWJzX21vdmUgPiAzICogbGFzdF9hYnNfbW92ZSB8fCB0cyAtIGxhc3RfYWJzX21vdmVfdGltZSA+IDEwMDApKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGBJZ25vcmluZyBtb3VzZW1vdmUgd2l0aCBzdWRkZW4gbGFyZ2UgZGVsdGE6ICR7ZXZlbnQubW92ZW1lbnRYfSwke2V2ZW50Lm1vdmVtZW50WX1gKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHYyc2V0KHRlbXBfZGVsdGEsIGV2ZW50Lm1vdmVtZW50WCB8fCAwLCBldmVudC5tb3ZlbWVudFkgfHwgMCk7XG4gICAgICAgIGFueV9tb3ZlbWVudCA9IHRydWU7XG4gICAgICB9XG4gICAgICBsYXN0X2Fic19tb3ZlID0gYWJzX21vdmU7XG4gICAgICBsYXN0X2Fic19tb3ZlX3RpbWUgPSB0cztcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdjJzdWIodGVtcF9kZWx0YSwgbW91c2VfcG9zLCBsYXN0X21vdXNlX3Bvcyk7XG4gICAgaWYgKHRlbXBfZGVsdGFbMF0gfHwgdGVtcF9kZWx0YVsxXSkge1xuICAgICAgYW55X21vdmVtZW50ID0gdHJ1ZTtcbiAgICB9XG4gICAgdjJjb3B5KGxhc3RfbW91c2VfcG9zLCBtb3VzZV9wb3MpO1xuICB9XG4gIGlmIChhbnlfbW92ZW1lbnQgJiYgbW92ZW1lbnRfcXVlc3Rpb25hYmxlX2ZyYW1lcyAmJiB2Mmxlbmd0aFNxKHRlbXBfZGVsdGEpID4gMTAwKjEwMCkge1xuICAgIC8vIGdpYW50IG1vdmVtZW50IHJpZ2h0IGFmdGVyIGVudGVyaW5nIG9yIGV4aXRpbmcgcG9pbnRlciBsb2NrLCBpZ25vcmUgKENocm9tZSBidWcpXG4gICAgLy8gV2UgZ2V0IHRoZXNlIHVucmVhc29uYWJsZSBqdW1wcyBpbiBib3RoIG1vdmVtZW50WFkgYW5kIHRoZSBvdGhlciwgcHJlc3VtYWJseVxuICAgIC8vIGJlY2F1c2UgcG9pbnRlckxvY2tlZCgpIGlzIHNsaWdodGx5IG91dCBvZiBzeW5jLCB0aG91Z2ggdGhlIGxhcmdlIC5tb3ZlbWVudFgvWVxuICAgIC8vIGlzIGNsZWFybHkgZXJyb25lb3VzLlxuICAgIGFueV9tb3ZlbWVudCA9IGZhbHNlO1xuICB9XG4gIGlmIChhbnlfbW92ZW1lbnQpIHtcbiAgICBmb3IgKGxldCBidXR0b24gPSBQT0lOVEVSTE9DSzsgYnV0dG9uIDwgbW91c2VfZG93bi5sZW5ndGg7ICsrYnV0dG9uKSB7XG4gICAgICBpZiAobW91c2VfZG93bltidXR0b25dIHx8IGJ1dHRvbiA9PT0gUE9JTlRFUkxPQ0sgJiYgcG9pbnRlckxvY2tlZCgpKSB7XG4gICAgICAgIGxldCB0b3VjaF9kYXRhID0gdG91Y2hlc1tgbSR7YnV0dG9ufWBdO1xuICAgICAgICBpZiAodG91Y2hfZGF0YSkge1xuICAgICAgICAgIHYyYWRkKHRvdWNoX2RhdGEuZGVsdGEsIHRvdWNoX2RhdGEuZGVsdGEsIHRlbXBfZGVsdGEpO1xuICAgICAgICAgIHRvdWNoX2RhdGEudG90YWwgKz0gYWJzKHRlbXBfZGVsdGFbMF0pICsgYWJzKHRlbXBfZGVsdGFbMV0pO1xuICAgICAgICAgIHYyY29weSh0b3VjaF9kYXRhLmN1cl9wb3MsIG1vdXNlX3Bvcyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gb25Nb3VzZURvd24oZXZlbnQpIHtcbiAgaWYgKG1vdXNlX2xvZykge1xuICAgIGV2ZW50bG9nKGV2ZW50KTtcbiAgfVxuICBvbk1vdXNlTW92ZShldmVudCk7IC8vIHVwZGF0ZSBtb3VzZV9wb3NcbiAgc291bmRSZXN1bWUoKTtcbiAgbGV0IG5vX2NsaWNrID0gbGV0RXZlbnRUaHJvdWdoKGV2ZW50KTtcblxuICBsZXQgYnV0dG9uID0gZXZlbnQuYnV0dG9uO1xuICBtb3VzZV9kb3duW2J1dHRvbl0gPSB0cnVlO1xuICBsZXQgdG91Y2hfaWQgPSBgbSR7YnV0dG9ufWA7XG4gIGlmICh0b3VjaGVzW3RvdWNoX2lkXSkge1xuICAgIHYyY29weSh0b3VjaGVzW3RvdWNoX2lkXS5zdGFydF9wb3MsIG1vdXNlX3Bvcyk7XG4gIH0gZWxzZSB7XG4gICAgdG91Y2hlc1t0b3VjaF9pZF0gPSBuZXcgVG91Y2hEYXRhKG1vdXNlX3BvcywgZmFsc2UsIGJ1dHRvbiwgZXZlbnQpO1xuICB9XG4gIHRvdWNoZXNbdG91Y2hfaWRdLmRvd24oZXZlbnQsICFub19jbGljayk7XG4gIGlmICghbm9fY2xpY2spIHtcbiAgICBpbl9ldmVudC5oYW5kbGUoJ21vdXNlZG93bicsIGV2ZW50KTtcbiAgfVxuICAvL1RoaXMgc29sdmVzIGlucHV0IGJ1ZyB3aGVuIGdhbWUgaXMgcnVubmluZyBhcyBpZnJhbWUuIEUuZy4gRmFjZWJvb2sgSW5zdGFudFxuICBpZiAod2luZG93LmZvY3VzKSB7XG4gICAgd2luZG93LmZvY3VzKCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gb25Nb3VzZVVwKGV2ZW50KSB7XG4gIGlmIChtb3VzZV9sb2cpIHtcbiAgICBldmVudGxvZyhldmVudCk7XG4gIH1cbiAgb25Nb3VzZU1vdmUoZXZlbnQpOyAvLyB1cGRhdGUgbW91c2VfcG9zXG4gIGxldCBub19jbGljayA9IGxldEV2ZW50VGhyb3VnaChldmVudCk7XG4gIGxldCBidXR0b24gPSBldmVudC5idXR0b247XG4gIGlmIChtb3VzZV9kb3duW2J1dHRvbl0pIHtcbiAgICBsZXQgdG91Y2hfaWQgPSBgbSR7YnV0dG9ufWA7XG4gICAgbGV0IHRvdWNoX2RhdGEgPSB0b3VjaGVzW3RvdWNoX2lkXTtcbiAgICBpZiAodG91Y2hfZGF0YSkge1xuICAgICAgdjJjb3B5KHRvdWNoX2RhdGEuY3VyX3BvcywgbW91c2VfcG9zKTtcbiAgICAgIGlmICghbm9fY2xpY2spIHtcbiAgICAgICAgdG91Y2hfZGF0YS51cF9lZGdlKys7XG4gICAgICB9XG4gICAgICB0b3VjaF9kYXRhLnN0YXRlID0gVVA7XG4gICAgICB0b3VjaF9kYXRhLmRvd25fdGltZSArPSB0aW1lRGVsdGEoZXZlbnQsIHRvdWNoX2RhdGEub3JpZ2luX3RpbWUpO1xuICAgIH1cbiAgICBkZWxldGUgbW91c2VfZG93bltidXR0b25dO1xuICB9XG4gIGlmICghbm9fY2xpY2spIHtcbiAgICBpbl9ldmVudC5oYW5kbGUoJ21vdXNldXAnLCBldmVudCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gb25XaGVlbChldmVudCkge1xuICBvbk1vdXNlTW92ZShldmVudCwgdHJ1ZSk7XG4gIGxldCBkZWx0YSA9IC1ldmVudC5kZWx0YVkgfHwgZXZlbnQud2hlZWxEZWx0YSB8fCAtZXZlbnQuZGV0YWlsO1xuICB3aGVlbF9ldmVudHMucHVzaCh7XG4gICAgcG9zOiBbZXZlbnQucGFnZVgsIGV2ZW50LnBhZ2VZXSxcbiAgICBkZWx0YTogZGVsdGEgPiAwID8gMSA6IC0xLFxuICAgIGRpc3BhdGNoZWQ6IGZhbHNlLFxuICB9KTtcbn1cblxubGV0IHRvdWNoX3BvcyA9IHZlYzIoKTtcbmxldCByZWxlYXNlZF90b3VjaF9pZCA9IDA7XG5mdW5jdGlvbiBvblRvdWNoQ2hhbmdlKGV2ZW50KSB7XG4gIC8vIGV2ZW50bG9nKGV2ZW50KTtcbiAgLy8gVXNpbmcgLnBhZ2VYL1kgaGVyZSBiZWNhdXNlIG9uIGlPUyB3aGVuIGEgdGV4dCBlbnRyeSBpcyBzZWxlY3RlZCwgaXQgc2Nyb2xsc1xuICAvLyBvdXIgY2FudmFzIG9mZnNjcmVlbi4gIFNob3VsZCBtYXliZSBoYXZlIHRoZSBjYW52YXMgcmVzaXplIGFuZCB1c2UgY2xpZW50WFxuICAvLyBpbnN0ZWFkLCBidXQgdGhpcyB3b3JrcyB3ZWxsIGVub3VnaC5cbiAgc291bmRSZXN1bWUoKTtcbiAgaWYgKCF0b3VjaF9tb2RlKSB7XG4gICAgbG9jYWxfc3RvcmFnZS5zZXQoJ3RvdWNoX21vZGUnLCB0cnVlKTtcbiAgICB0b3VjaF9tb2RlID0gdHJ1ZTtcbiAgfVxuICBpZiAocGFkX21vZGUpIHtcbiAgICBsb2NhbF9zdG9yYWdlLnNldCgncGFkX21vZGUnLCB0cnVlKTtcbiAgICBwYWRfbW9kZSA9IHRydWU7XG4gIH1cbiAgaWYgKGV2ZW50LmNhbmNlbGFibGUgIT09IGZhbHNlKSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgfVxuICBsZXQgY3QgPSBldmVudC50b3VjaGVzO1xuICBsZXQgc2VlbiA9IHt9O1xuXG4gIGxldCBuZXdfY291bnQgPSBjdC5sZW5ndGg7XG4gIGxldCBvbGRfY291bnQgPSBuZXdfY291bnQ7XG4gIC8vIExvb2sgZm9yIHByZXNzIGFuZCBtb3ZlbWVudFxuICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgbmV3X2NvdW50OyArK2lpKSB7XG4gICAgbGV0IHRvdWNoID0gY3RbaWldO1xuICAgIGxldCBsYXN0X3RvdWNoID0gdG91Y2hlc1t0b3VjaC5pZGVudGlmaWVyXTtcbiAgICB2MnNldCh0b3VjaF9wb3MsIHRvdWNoLnBhZ2VYLCB0b3VjaC5wYWdlWSk7XG4gICAgaWYgKCFsYXN0X3RvdWNoKSB7XG4gICAgICBsYXN0X3RvdWNoID0gdG91Y2hlc1t0b3VjaC5pZGVudGlmaWVyXSA9IG5ldyBUb3VjaERhdGEodG91Y2hfcG9zLCB0cnVlLCAwLCBldmVudCk7XG4gICAgICBsYXN0X3RvdWNoLmRvd24oZXZlbnQsIHRydWUpO1xuICAgICAgLS1vbGRfY291bnQ7XG4gICAgICBpbl9ldmVudC5oYW5kbGUoJ21vdXNlZG93bicsIHRvdWNoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdjJzdWIodGVtcF9kZWx0YSwgdG91Y2hfcG9zLCBsYXN0X3RvdWNoLmN1cl9wb3MpO1xuICAgICAgdjJhZGQobGFzdF90b3VjaC5kZWx0YSwgbGFzdF90b3VjaC5kZWx0YSwgdGVtcF9kZWx0YSk7XG4gICAgICBsYXN0X3RvdWNoLnRvdGFsICs9IGFicyh0ZW1wX2RlbHRhWzBdKSArIGFicyh0ZW1wX2RlbHRhWzFdKTtcbiAgICAgIHYyY29weShsYXN0X3RvdWNoLmN1cl9wb3MsIHRvdWNoX3Bvcyk7XG4gICAgfVxuXG4gICAgc2Vlblt0b3VjaC5pZGVudGlmaWVyXSA9IHRydWU7XG4gICAgaWYgKFRPVUNIX0FTX01PVVNFICYmIG5ld19jb3VudCA9PT0gMSkge1xuICAgICAgLy8gU2luZ2xlIHRvdWNoLCB0cmVhdCBhcyBtb3VzZSBtb3ZlbWVudFxuICAgICAgdjJjb3B5KG1vdXNlX3BvcywgdG91Y2hfcG9zKTtcbiAgICAgIG1vdXNlX3Bvc19pc190b3VjaCA9IHRydWU7XG4gICAgfVxuICB9XG4gIC8vIExvb2sgZm9yIHJlbGVhc2UsIGlmIHJlbGVhc2luZyBleGFjdGx5IG9uZSBmaW5hbCB0b3VjaFxuICBsZXQgcmVsZWFzZWRfdG91Y2g7XG4gIGxldCByZWxlYXNlZF9pZHMgPSBbXTtcbiAgZm9yIChsZXQgaWQgaW4gdG91Y2hlcykge1xuICAgIGlmICghc2VlbltpZF0pIHtcbiAgICAgIGxldCB0b3VjaCA9IHRvdWNoZXNbaWRdO1xuICAgICAgaWYgKHRvdWNoLnRvdWNoICYmIHRvdWNoLnN0YXRlID09PSBET1dOKSB7XG4gICAgICAgICsrb2xkX2NvdW50O1xuICAgICAgICByZWxlYXNlZF90b3VjaCA9IHRvdWNoO1xuICAgICAgICByZWxlYXNlZF9pZHMucHVzaChpZCk7XG4gICAgICAgIGluX2V2ZW50LmhhbmRsZSgnbW91c2V1cCcsIHsgcGFnZVg6IHRvdWNoLmN1cl9wb3NbMF0sIHBhZ2VZOiB0b3VjaC5jdXJfcG9zWzFdIH0pO1xuICAgICAgICB0b3VjaC51cF9lZGdlKys7XG4gICAgICAgIHRvdWNoLnN0YXRlID0gVVA7XG4gICAgICAgIHRvdWNoLmRvd25fdGltZSArPSB0aW1lRGVsdGEoZXZlbnQsIHRvdWNoLm9yaWdpbl90aW1lKTtcbiAgICAgICAgdG91Y2gucmVsZWFzZSA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGZvciAobGV0IGlpID0gMDsgaWkgPCByZWxlYXNlZF9pZHMubGVuZ3RoOyArK2lpKSB7XG4gICAgbGV0IGlkID0gcmVsZWFzZWRfaWRzW2lpXTtcbiAgICBsZXQgdG91Y2ggPSB0b3VjaGVzW2lkXTtcbiAgICAvLyBnZXQgbmV3IGlkLCBub3Qgb3ZlcmxhcHBpbmcgd2l0aCB0b3VjaC5pZGVudGlmaWVyIHZhbHVlcyxcbiAgICAvLyBzbyB0aGF0IGlmIHdlIGdldCBhIG5ldyB0b3VjaCBldmVudCBiZWZvcmUgdGhlIG5leHQgdGljaywgd2Ugc3RpbGwgc2VlIHRoZSByZWxlYXNlLCBldGNcbiAgICBsZXQgbmV3X2lkID0gYHIkeysrcmVsZWFzZWRfdG91Y2hfaWR9YDtcbiAgICBkZWxldGUgdG91Y2hlc1tpZF07XG4gICAgdG91Y2hlc1tuZXdfaWRdID0gdG91Y2g7XG4gIH1cbiAgaWYgKFRPVUNIX0FTX01PVVNFKSB7XG4gICAgaWYgKG9sZF9jb3VudCA9PT0gMSAmJiBuZXdfY291bnQgPT09IDApIHtcbiAgICAgIGRlbGV0ZSBtb3VzZV9kb3duWzBdO1xuICAgICAgdjJjb3B5KG1vdXNlX3BvcywgcmVsZWFzZWRfdG91Y2guY3VyX3Bvcyk7XG4gICAgICBtb3VzZV9wb3NfaXNfdG91Y2ggPSB0cnVlO1xuICAgIH0gZWxzZSBpZiAobmV3X2NvdW50ID09PSAxKSB7XG4gICAgICBsZXQgdG91Y2ggPSBjdFswXTtcbiAgICAgIGlmICghb2xkX2NvdW50KSB7XG4gICAgICAgIG1vdXNlX2Rvd25bMF0gPSB0cnVlO1xuICAgICAgfVxuICAgICAgdjJzZXQobW91c2VfcG9zLCB0b3VjaC5wYWdlWCwgdG91Y2gucGFnZVkpO1xuICAgICAgbW91c2VfcG9zX2lzX3RvdWNoID0gdHJ1ZTtcbiAgICB9IGVsc2UgaWYgKG5ld19jb3VudCA+IDEpIHtcbiAgICAgIC8vIG11bHRpcGxlIHRvdWNoZXMsIHJlbGVhc2UgbW91c2VfZG93biB3aXRob3V0IGVtaXR0aW5nIGNsaWNrXG4gICAgICBkZWxldGUgbW91c2VfZG93blswXTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gb25CbHVyT3JGb2N1cyhldnQpIHtcbiAgcHJvdGVjdFVubG9hZChmYWxzZSk7XG4gIGZvciAobGV0IGNvZGUgaW4ga2V5X3N0YXRlX25ldykge1xuICAgIGxldCBrcyA9IGtleV9zdGF0ZV9uZXdbY29kZV07XG4gICAgaWYgKGtzLnN0YXRlID09PSBET1dOKSB7XG4gICAgICBrcy5rZXlVcChldnQpO1xuICAgIH1cbiAgfVxufVxuXG5sZXQgQU5BTE9HX01BUCA9IHt9O1xuZnVuY3Rpb24gZ2VuQW5hbG9nTWFwKCkge1xuICBpZiAobWFwX2FuYWxvZ190b19kcGFkKSB7XG4gICAgQU5BTE9HX01BUFtQQUQuTEVGVF0gPSBQQUQuQU5BTE9HX0xFRlQ7XG4gICAgQU5BTE9HX01BUFtQQUQuUklHSFRdID0gUEFELkFOQUxPR19SSUdIVDtcbiAgICBBTkFMT0dfTUFQW1BBRC5VUF0gPSBQQUQuQU5BTE9HX1VQO1xuICAgIEFOQUxPR19NQVBbUEFELkRPV05dID0gUEFELkFOQUxPR19ET1dOO1xuICB9XG59XG5cbmxldCBwYXNzaXZlX3BhcmFtID0gZmFsc2U7XG5leHBvcnQgZnVuY3Rpb24gaGFuZGxlVG91Y2hlcyhlbGVtKSB7XG4gIGVsZW0uYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIG9uVG91Y2hDaGFuZ2UsIHBhc3NpdmVfcGFyYW0pO1xuICBlbGVtLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIG9uVG91Y2hDaGFuZ2UsIHBhc3NpdmVfcGFyYW0pO1xuICBlbGVtLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgb25Ub3VjaENoYW5nZSwgcGFzc2l2ZV9wYXJhbSk7XG4gIGVsZW0uYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hjYW5jZWwnLCBvblRvdWNoQ2hhbmdlLCBwYXNzaXZlX3BhcmFtKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0dXAoX2NhbnZhcywgcGFyYW1zKSB7XG4gIGNhbnZhcyA9IF9jYW52YXM7XG4gIHBvaW50ZXJfbG9jay5zdGFydHVwKGNhbnZhcywgb25Qb2ludGVyTG9ja0VudGVyKTtcbiAgaWYgKHBhcmFtcy5tYXBfYW5hbG9nX3RvX2RwYWQgIT09IHVuZGVmaW5lZCkge1xuICAgIG1hcF9hbmFsb2dfdG9fZHBhZCA9IHBhcmFtcy5tYXBfYW5hbG9nX3RvX2RwYWQ7XG4gIH1cbiAgcGFkX3RvX3RvdWNoID0gcGFyYW1zLnBhZF90b190b3VjaDtcbiAgZ2VuQW5hbG9nTWFwKCk7XG5cbiAgdHJ5IHtcbiAgICBsZXQgb3B0cyA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwgJ3Bhc3NpdmUnLCB7XG4gICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcGFzc2l2ZV9wYXJhbSA9IHsgcGFzc2l2ZTogZmFsc2UgfTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd0ZXN0JywgbnVsbCwgb3B0cyk7XG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Rlc3QnLCBudWxsLCBvcHRzKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHBhc3NpdmVfcGFyYW0gPSBmYWxzZTtcbiAgfVxuXG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgb25LZXlEb3duLCBmYWxzZSk7XG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIG9uS2V5VXAsIGZhbHNlKTtcblxuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBpZ25vcmVkLCBmYWxzZSk7XG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdjb250ZXh0bWVudScsIGlnbm9yZWQsIGZhbHNlKTtcbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIG9uTW91c2VNb3ZlLCBmYWxzZSk7XG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBvbk1vdXNlRG93biwgZmFsc2UpO1xuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIG9uTW91c2VVcCwgZmFsc2UpO1xuICBpZiAod2luZG93LldoZWVsRXZlbnQpIHtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignd2hlZWwnLCBvbldoZWVsLCBwYXNzaXZlX3BhcmFtKTtcbiAgfSBlbHNlIHtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignRE9NTW91c2VTY3JvbGwnLCBvbldoZWVsLCBmYWxzZSk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNld2hlZWwnLCBvbldoZWVsLCBmYWxzZSk7XG4gIH1cblxuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsIG9uQmx1ck9yRm9jdXMsIGZhbHNlKTtcbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgb25CbHVyT3JGb2N1cywgZmFsc2UpO1xuXG4gIGhhbmRsZVRvdWNoZXMoY2FudmFzKTtcblxuICAvLyBGb3IgaU9TLCB0aGlzIGlzIG5lZWRlZCBpbiB0ZXN0X2Z1bGxzY3JlZW4sIGJ1dCBub3QgaGVyZSwgZm9yIHNvbWUgcmVhc29uXG4gIC8vd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2dlc3R1cmVzdGFydCcsIGlnbm9yZWQsIGZhbHNlKTtcblxuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignYmVmb3JldW5sb2FkJywgYmVmb3JlVW5sb2FkLCBmYWxzZSk7XG59XG5cblxuY29uc3QgREVBRFpPTkUgPSAwLjI2O1xuY29uc3QgREVBRFpPTkVfU1EgPSBERUFEWk9ORSAqIERFQURaT05FO1xuY29uc3QgTlVNX1NUSUNLUyA9IDI7XG5jb25zdCBQQURfVEhSRVNIT0xEID0gMC4yNTsgLy8gZm9yIHR1cm5pbmcgYW5hbG9nIG1vdGlvbiBpbnRvIGRpZ2l0YWwgZXZlbnRzXG5cbmZ1bmN0aW9uIGdldEdhbWVwYWREYXRhKGlkeCkge1xuICBsZXQgZ3BkID0gZ2FtZXBhZF9kYXRhW2lkeF07XG4gIGlmICghZ3BkKSB7XG4gICAgZ3BkID0gZ2FtZXBhZF9kYXRhW2lkeF0gPSB7XG4gICAgICBpZDogaWR4LFxuICAgICAgdGltZXN0YW1wOiAwLFxuICAgICAgc3RpY2tzOiBuZXcgQXJyYXkoTlVNX1NUSUNLUyksXG4gICAgfTtcbiAgICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgTlVNX1NUSUNLUzsgKytpaSkge1xuICAgICAgZ3BkLnN0aWNrc1tpaV0gPSB2ZWMyKCk7XG4gICAgfVxuICAgIHBhZF9zdGF0ZXNbaWR4XSA9IHt9O1xuICB9XG4gIHJldHVybiBncGQ7XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZVBhZFN0YXRlKGdwZCwgcHMsIGIsIHBhZGNvZGUpIHtcbiAgaWYgKGIgJiYgIXBzW3BhZGNvZGVdKSB7XG4gICAgcHNbcGFkY29kZV0gPSBET1dOX0VER0U7XG4gICAgaWYgKCFwYWRfbW9kZSkge1xuICAgICAgbG9jYWxfc3RvcmFnZS5zZXRKU09OKCdwYWRfbW9kZScsIHRydWUpO1xuICAgICAgcGFkX21vZGUgPSB0cnVlO1xuICAgIH1cbiAgICBpZiAocGFkY29kZSA9PT0gcGFkX3RvX3RvdWNoKSB7XG4gICAgICBsZXQgdG91Y2hfaWQgPSBgZyR7Z3BkLmlkfWA7XG4gICAgICBpZiAodG91Y2hlc1t0b3VjaF9pZF0pIHtcbiAgICAgICAgc2V0TW91c2VUb01pZCgpO1xuICAgICAgICB2MmNvcHkodG91Y2hlc1t0b3VjaF9pZF0uc3RhcnRfcG9zLCBtb3VzZV9wb3MpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdG91Y2hlc1t0b3VjaF9pZF0gPSBuZXcgVG91Y2hEYXRhKG1vdXNlX3BvcywgZmFsc2UsIDAsIG51bGwpO1xuICAgICAgfVxuICAgICAgdG91Y2hlc1t0b3VjaF9pZF0uZG93bihudWxsLCB0cnVlKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoIWIgJiYgcHNbcGFkY29kZV0pIHtcbiAgICBwc1twYWRjb2RlXSA9IFVQX0VER0U7XG4gICAgaWYgKHBhZGNvZGUgPT09IHBhZF90b190b3VjaCkge1xuICAgICAgbGV0IHRvdWNoX2lkID0gYGcke2dwZC5pZH1gO1xuICAgICAgbGV0IHRvdWNoX2RhdGEgPSB0b3VjaGVzW3RvdWNoX2lkXTtcbiAgICAgIGlmICh0b3VjaF9kYXRhKSB7XG4gICAgICAgIHNldE1vdXNlVG9NaWQoKTtcbiAgICAgICAgdjJjb3B5KHRvdWNoX2RhdGEuY3VyX3BvcywgbW91c2VfcG9zKTtcbiAgICAgICAgdG91Y2hfZGF0YS51cF9lZGdlKys7XG4gICAgICAgIHRvdWNoX2RhdGEuc3RhdGUgPSBVUDtcbiAgICAgICAgdG91Y2hfZGF0YS5kb3duX3RpbWUgKz0gbWF4KGVuZ2luZS5ocnRpbWUgLSB0b3VjaF9kYXRhLm9yaWdpbl90aW1lLCBNSU5fRVZFTlRfVElNRV9ERUxUQSk7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGdhbWVwYWRVcGRhdGUoKSB7XG4gIGxldCBnYW1lcGFkcyA9IChuYXZpZ2F0b3IuZ2FtZXBhZHMgfHxcbiAgICBuYXZpZ2F0b3Iud2Via2l0R2FtZXBhZHMgfHxcbiAgICAobmF2aWdhdG9yLmdldEdhbWVwYWRzICYmIG5hdmlnYXRvci5nZXRHYW1lcGFkcygpKSB8fFxuICAgIChuYXZpZ2F0b3Iud2Via2l0R2V0R2FtZXBhZHMgJiYgbmF2aWdhdG9yLndlYmtpdEdldEdhbWVwYWRzKCkpKTtcblxuICBpZiAoZ2FtZXBhZHMpIHtcbiAgICBsZXQgbnVtR2FtZVBhZHMgPSBnYW1lcGFkcy5sZW5ndGg7XG4gICAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IG51bUdhbWVQYWRzOyBpaSsrKSB7XG4gICAgICBsZXQgZ2FtZXBhZCA9IGdhbWVwYWRzW2lpXTtcbiAgICAgIGlmICghZ2FtZXBhZCkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGxldCBncGQgPSBnZXRHYW1lcGFkRGF0YShpaSk7XG4gICAgICBsZXQgcHMgPSBwYWRfc3RhdGVzW2lpXTtcbiAgICAgIC8vIFVwZGF0ZSBidXR0b24gc3RhdGVzXG4gICAgICBpZiAoZ3BkLnRpbWVzdGFtcCA8IGdhbWVwYWQudGltZXN0YW1wKSB7XG4gICAgICAgIGxldCBidXR0b25zID0gZ2FtZXBhZC5idXR0b25zO1xuICAgICAgICBncGQudGltZXN0YW1wID0gZ2FtZXBhZC50aW1lc3RhbXA7XG5cbiAgICAgICAgbGV0IG51bUJ1dHRvbnMgPSBidXR0b25zLmxlbmd0aDtcbiAgICAgICAgZm9yIChsZXQgbiA9IDA7IG4gPCBudW1CdXR0b25zOyBuKyspIHtcbiAgICAgICAgICBsZXQgdmFsdWUgPSBidXR0b25zW25dO1xuICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IHZhbHVlLnZhbHVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICB2YWx1ZSA9IHZhbHVlID4gMC41O1xuICAgICAgICAgIHVwZGF0ZVBhZFN0YXRlKGdwZCwgcHMsIHZhbHVlLCBuKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBVcGRhdGUgYXhlcyBzdGF0ZXNcbiAgICAgIGxldCBheGVzID0gZ2FtZXBhZC5heGVzO1xuICAgICAgaWYgKGF4ZXMubGVuZ3RoID49IE5VTV9TVElDS1MgKiAyKSB7XG4gICAgICAgIGZvciAobGV0IG4gPSAwOyBuIDwgTlVNX1NUSUNLUzsgKytuKSB7XG4gICAgICAgICAgbGV0IHBhaXIgPSBncGQuc3RpY2tzW25dO1xuICAgICAgICAgIHYyc2V0KHBhaXIsIGF4ZXNbbioyXSwgLWF4ZXNbbioyICsgMV0pO1xuICAgICAgICAgIGxldCBtYWduaXR1ZGUgPSB2Mmxlbmd0aFNxKHBhaXIpO1xuICAgICAgICAgIGlmIChtYWduaXR1ZGUgPiBERUFEWk9ORV9TUSkge1xuICAgICAgICAgICAgbWFnbml0dWRlID0gc3FydChtYWduaXR1ZGUpO1xuXG4gICAgICAgICAgICAvLyBOb3JtYWxpemUgbFggYW5kIGxZXG4gICAgICAgICAgICB2MnNjYWxlKHBhaXIsIHBhaXIsIDEgLyBtYWduaXR1ZGUpO1xuXG4gICAgICAgICAgICAvLyBDbGlwIHRoZSBtYWduaXR1ZGUgYXQgaXRzIG1heCBwb3NzaWJsZSB2YWx1ZVxuICAgICAgICAgICAgbWFnbml0dWRlID0gbWluKG1hZ25pdHVkZSwgMSk7XG5cbiAgICAgICAgICAgIC8vIEFkanVzdCBtYWduaXR1ZGUgcmVsYXRpdmUgdG8gdGhlIGVuZCBvZiB0aGUgZGVhZCB6b25lXG4gICAgICAgICAgICBtYWduaXR1ZGUgPSAoKG1hZ25pdHVkZSAtIERFQURaT05FKSAvICgxIC0gREVBRFpPTkUpKTtcblxuICAgICAgICAgICAgdjJzY2FsZShwYWlyLCBwYWlyLCBtYWduaXR1ZGUpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2MnNldChwYWlyLCAwLCAwKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBBcHBseSBcIm1vdmVtZW50XCIgdG8gZHJhZyBldmVudHNcbiAgICAgICAgICBpZiAobiA8PSAxICYmIHBhZF90b190b3VjaCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBsZXQgdG91Y2hfZGF0YSA9IHRvdWNoZXNbYGcke2dwZC5pZH1gXTtcbiAgICAgICAgICAgIGlmICh0b3VjaF9kYXRhKSB7XG4gICAgICAgICAgICAgIHYyc2NhbGUodGVtcF9kZWx0YSwgcGFpciwgZW5naW5lLmZyYW1lX2R0KTtcbiAgICAgICAgICAgICAgdjJhZGQodG91Y2hfZGF0YS5kZWx0YSwgdG91Y2hfZGF0YS5kZWx0YSwgdGVtcF9kZWx0YSk7XG4gICAgICAgICAgICAgIHRvdWNoX2RhdGEudG90YWwgKz0gYWJzKHRlbXBfZGVsdGFbMF0pICsgYWJzKHRlbXBfZGVsdGFbMV0pO1xuICAgICAgICAgICAgICBzZXRNb3VzZVRvTWlkKCk7XG4gICAgICAgICAgICAgIHYyY29weSh0b3VjaF9kYXRhLmN1cl9wb3MsIG1vdXNlX3Bvcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ2FsY3VsYXRlIHZpcnR1YWwgZGlyZWN0aW9uYWwgYnV0dG9uc1xuICAgICAgICB1cGRhdGVQYWRTdGF0ZShncGQsIHBzLCBncGQuc3RpY2tzWzBdWzBdIDwgLVBBRF9USFJFU0hPTEQsIFBBRC5BTkFMT0dfTEVGVCk7XG4gICAgICAgIHVwZGF0ZVBhZFN0YXRlKGdwZCwgcHMsIGdwZC5zdGlja3NbMF1bMF0gPiBQQURfVEhSRVNIT0xELCBQQUQuQU5BTE9HX1JJR0hUKTtcbiAgICAgICAgdXBkYXRlUGFkU3RhdGUoZ3BkLCBwcywgZ3BkLnN0aWNrc1swXVsxXSA8IC1QQURfVEhSRVNIT0xELCBQQUQuQU5BTE9HX0RPV04pO1xuICAgICAgICB1cGRhdGVQYWRTdGF0ZShncGQsIHBzLCBncGQuc3RpY2tzWzBdWzFdID4gUEFEX1RIUkVTSE9MRCwgUEFELkFOQUxPR19VUCk7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0aWNrSW5wdXQoKSB7XG4gIC8vIGJyb3dzZXIgZnJhbWUgaGFzIG9jY3VycmVkIHNpbmNlIHRoZSBjYWxsIHRvIGVuZEZyYW1lKCksXG4gIC8vIHdlIHNob3VsZCBub3cgaGF2ZSBgdG91Y2hlc2AgYW5kIGBrZXlfc3RhdGVgIHBvcHVsYXRlZCB3aXRoIGVkZ2UgZXZlbnRzXG4gIGlmIChtb3ZlbWVudF9xdWVzdGlvbmFibGVfZnJhbWVzKSB7XG4gICAgLS1tb3ZlbWVudF9xdWVzdGlvbmFibGVfZnJhbWVzO1xuICB9XG5cbiAgLy8gdXBkYXRlIHRpbWluZyBvZiBrZXkgZG93biBzdGF0ZXNcbiAgbGV0IGhydGltZSA9IGVuZ2luZS5ocnRpbWU7XG4gIGZvciAobGV0IGNvZGUgaW4ga2V5X3N0YXRlX25ldykge1xuICAgIGxldCBrcyA9IGtleV9zdGF0ZV9uZXdbY29kZV07XG4gICAgaWYgKGtzLnN0YXRlID09PSBET1dOKSB7XG4gICAgICBrcy5kb3duX3RpbWUgKz0gbWF4KGhydGltZSAtIGtzLm9yaWdpbl90aW1lLCBNSU5fRVZFTlRfVElNRV9ERUxUQSk7XG4gICAgICAvLyBhc3NlcnQoaHJ0aW1lID49IGtzLm9yaWdpbl90aW1lKTsgLSBzaG91bGQgYmUgdHJ1ZSwgYnV0IG9mdGVuIGlzbid0XG4gICAgICBrcy5vcmlnaW5fdGltZSA9IGhydGltZTtcbiAgICB9XG4gIH1cblxuICBmb3IgKGxldCB0b3VjaF9pZCBpbiB0b3VjaGVzKSB7XG4gICAgbGV0IHRvdWNoX2RhdGEgPSB0b3VjaGVzW3RvdWNoX2lkXTtcbiAgICBpZiAodG91Y2hfZGF0YS5zdGF0ZSA9PT0gRE9XTikge1xuICAgICAgdG91Y2hfZGF0YS5kb3duX3RpbWUgKz0gbWF4KGhydGltZSAtIHRvdWNoX2RhdGEub3JpZ2luX3RpbWUsIE1JTl9FVkVOVF9USU1FX0RFTFRBKTtcbiAgICAgIC8vIGFzc2VydChocnRpbWUgPj0gdG91Y2hfZGF0YS5vcmlnaW5fdGltZSk7IC0gc2hvdWxkIGJlIHRydWUsIGJ1dCBvZnRlbiBpc24ndFxuICAgICAgdG91Y2hfZGF0YS5vcmlnaW5fdGltZSA9IGhydGltZTtcbiAgICB9XG4gIH1cblxuICBtb3VzZV9vdmVyX2NhcHR1cmVkID0gZmFsc2U7XG4gIGdhbWVwYWRVcGRhdGUoKTtcbiAgaW5fZXZlbnQudG9wT2ZGcmFtZSgpO1xuICBpZiAodG91Y2hlc1twb2ludGVybG9ja190b3VjaF9pZF0gJiYgIXBvaW50ZXJMb2NrZWQoKSkge1xuICAgIHBvaW50ZXJMb2NrRXhpdCgpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGVuZEZyYW1lVGlja01hcChtYXApIHtcbiAgT2JqZWN0LmtleXMobWFwKS5mb3JFYWNoKChrZXljb2RlKSA9PiB7XG4gICAgc3dpdGNoIChtYXBba2V5Y29kZV0pIHtcbiAgICAgIGNhc2UgRE9XTl9FREdFOlxuICAgICAgICBtYXBba2V5Y29kZV0gPSBET1dOO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgVVBfRURHRTpcbiAgICAgICAgZGVsZXRlIG1hcFtrZXljb2RlXTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgIH1cbiAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gZW5kRnJhbWUoc2tpcF9tb3VzZSkge1xuICBmb3IgKGxldCBjb2RlIGluIGtleV9zdGF0ZV9uZXcpIHtcbiAgICBsZXQga3MgPSBrZXlfc3RhdGVfbmV3W2NvZGVdO1xuICAgIGlmIChrcy5zdGF0ZSA9PT0gVVApIHtcbiAgICAgIGtleV9zdGF0ZV9uZXdbY29kZV0gPSBudWxsO1xuICAgICAgZGVsZXRlIGtleV9zdGF0ZV9uZXdbY29kZV07XG4gICAgfSBlbHNlIHtcbiAgICAgIGtzLnVwX2VkZ2UgPSAwO1xuICAgICAga3MuZG93bl9lZGdlID0gMDtcbiAgICAgIGtzLmRvd25fdGltZSA9IDA7XG4gICAgfVxuICB9XG5cbiAgcGFkX3N0YXRlcy5mb3JFYWNoKGVuZEZyYW1lVGlja01hcCk7XG4gIGlmICghc2tpcF9tb3VzZSkge1xuICAgIGZvciAobGV0IHRvdWNoX2lkIGluIHRvdWNoZXMpIHtcbiAgICAgIGxldCB0b3VjaF9kYXRhID0gdG91Y2hlc1t0b3VjaF9pZF07XG4gICAgICBpZiAodG91Y2hfZGF0YS5zdGF0ZSA9PT0gVVApIHtcbiAgICAgICAgLy8gTWFudWFsbHkgbnVsbCBvdXQgdG91Y2hlc1t0b3VjaF9pZF0gLSBzb21lIENocm9tZSBvcHRpbWl6ZXIgYnVnIGNhdXNlc1xuICAgICAgICAvLyBjYWxsZXJzIHRvIGxhdGVyIGdldCB0aGlzIG9sZCB2YWx1ZSAoaW5zdGVhZCBvZiB0aGUgbmV3bHkgYWRkZWQgb24gd2l0aFxuICAgICAgICAvLyB0aGUgc2FtZSBJRCkgdW5sZXNzIHdlIG51bGwgaXQgb3V0ICh0aGVuIHRoZXkgc2VlbSB0byBnZXQgdGhlIG5ldyBvbmUpLlxuICAgICAgICB0b3VjaGVzW3RvdWNoX2lkXSA9IG51bGw7XG4gICAgICAgIGRlbGV0ZSB0b3VjaGVzW3RvdWNoX2lkXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRvdWNoX2RhdGEuZGVsdGFbMF0gPSB0b3VjaF9kYXRhLmRlbHRhWzFdID0gMDtcbiAgICAgICAgdG91Y2hfZGF0YS5kaXNwYXRjaGVkID0gZmFsc2U7XG4gICAgICAgIHRvdWNoX2RhdGEuZGlzcGF0Y2hlZF9kcmFnID0gZmFsc2U7XG4gICAgICAgIHRvdWNoX2RhdGEuZGlzcGF0Y2hlZF9kcmFnX292ZXIgPSBmYWxzZTtcbiAgICAgICAgdG91Y2hfZGF0YS51cF9lZGdlID0gMDtcbiAgICAgICAgdG91Y2hfZGF0YS5kb3duX2VkZ2UgPSAwO1xuICAgICAgICB0b3VjaF9kYXRhLmRvd25fdGltZSA9IDA7XG4gICAgICB9XG4gICAgfVxuICAgIHdoZWVsX2V2ZW50cy5sZW5ndGggPSAwO1xuICAgIGlucHV0X2VhdGVuX21vdXNlID0gZmFsc2U7XG4gIH1cbiAgaW5wdXRfZWF0ZW5fa2IgPSBmYWxzZTtcbiAgbW91c2VfbW92ZWQgPSBmYWxzZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGVhdEFsbElucHV0KHNraXBfbW91c2UpIHtcbiAgLy8gZGVzdHJveSB0b3VjaGVzLCByZW1vdmUgYWxsIGRvd24gYW5kIHVwIGVkZ2VzXG4gIGVuZEZyYW1lKHNraXBfbW91c2UpO1xuICBpZiAoIXNraXBfbW91c2UpIHtcbiAgICBtb3VzZV9vdmVyX2NhcHR1cmVkID0gdHJ1ZTtcbiAgICBpbnB1dF9lYXRlbl9tb3VzZSA9IHRydWU7XG4gIH1cbiAgaW5wdXRfZWF0ZW5fa2IgPSB0cnVlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZWF0QWxsS2V5Ym9hcmRJbnB1dCgpIHtcbiAgZWF0QWxsSW5wdXQodHJ1ZSk7XG59XG5cbi8vIHJldHVybnMgcG9zaXRpb24gbWFwcGVkIHRvIGN1cnJlbnQgY2FtZXJhIHZpZXdcbmV4cG9ydCBmdW5jdGlvbiBtb3VzZVBvcyhkc3QpIHtcbiAgZHN0ID0gZHN0IHx8IHZlYzIoKTtcbiAgY2FtZXJhMmQuZG9tVG9WaXJ0dWFsKGRzdCwgbW91c2VfcG9zKTtcbiAgcmV0dXJuIGRzdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1vdXNlTW92ZWQoKSB7XG4gIHJldHVybiBtb3VzZV9tb3ZlZDtcbn1cblxuZnVuY3Rpb24gbW91c2VQb3NQYXJhbShwYXJhbSkge1xuICBwYXJhbSA9IHBhcmFtIHx8IHt9O1xuICByZXR1cm4ge1xuICAgIHg6IHBhcmFtLnggPT09IHVuZGVmaW5lZCA/IGNhbWVyYTJkLngwUmVhbCgpIDogcGFyYW0ueCxcbiAgICB5OiBwYXJhbS55ID09PSB1bmRlZmluZWQgPyBjYW1lcmEyZC55MFJlYWwoKSA6IHBhcmFtLnksXG4gICAgdzogcGFyYW0udyA9PT0gdW5kZWZpbmVkID8gY2FtZXJhMmQud1JlYWwoKSA6IHBhcmFtLncsXG4gICAgaDogcGFyYW0uaCA9PT0gdW5kZWZpbmVkID8gY2FtZXJhMmQuaFJlYWwoKSA6IHBhcmFtLmgsXG4gICAgYnV0dG9uOiBwYXJhbS5idXR0b24gPT09IHVuZGVmaW5lZCA/IEFOWSA6IHBhcmFtLmJ1dHRvbixcbiAgfTtcbn1cblxubGV0IGNoZWNrX3BvcyA9IHZlYzIoKTtcbmZ1bmN0aW9uIGNoZWNrUG9zKHBvcywgcGFyYW0pIHtcbiAgaWYgKCFjYW1lcmEyZC5kb21Ub1ZpcnR1YWwoY2hlY2tfcG9zLCBwb3MpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHJldHVybiBjaGVja19wb3NbMF0gPj0gcGFyYW0ueCAmJiAocGFyYW0udyA9PT0gSW5maW5pdHkgfHwgY2hlY2tfcG9zWzBdIDwgcGFyYW0ueCArIHBhcmFtLncpICYmXG4gICAgY2hlY2tfcG9zWzFdID49IHBhcmFtLnkgJiYgKHBhcmFtLmggPT09IEluZmluaXR5IHx8IGNoZWNrX3Bvc1sxXSA8IHBhcmFtLnkgKyBwYXJhbS5oKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1vdXNlV2hlZWwocGFyYW0pIHtcbiAgaWYgKGlucHV0X2VhdGVuX21vdXNlIHx8ICF3aGVlbF9ldmVudHMubGVuZ3RoKSB7XG4gICAgcmV0dXJuIDA7XG4gIH1cbiAgcGFyYW0gPSBwYXJhbSB8fCB7fTtcbiAgbGV0IHBvc19wYXJhbSA9IG1vdXNlUG9zUGFyYW0ocGFyYW0pO1xuICBsZXQgcmV0ID0gMDtcbiAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IHdoZWVsX2V2ZW50cy5sZW5ndGg7ICsraWkpIHtcbiAgICBsZXQgZGF0YSA9IHdoZWVsX2V2ZW50c1tpaV07XG4gICAgaWYgKGRhdGEuZGlzcGF0Y2hlZCkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGlmIChjaGVja1BvcyhkYXRhLnBvcywgcG9zX3BhcmFtKSkge1xuICAgICAgcmV0ICs9IGRhdGEuZGVsdGE7XG4gICAgICBkYXRhLmRpc3BhdGNoZWQgPSB0cnVlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmV0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbW91c2VPdmVyKHBhcmFtKSB7XG4gIGlmIChtb3VzZV9vdmVyX2NhcHR1cmVkIHx8IHBvaW50ZXJMb2NrZWQoKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBwYXJhbSA9IHBhcmFtIHx8IHt9O1xuICBsZXQgcG9zX3BhcmFtID0gbW91c2VQb3NQYXJhbShwYXJhbSk7XG5cbiAgLy8gZWF0IG1vdXNlIHVwL2Rvd24vZHJhZyBldmVudHNcbiAgaWYgKCFwYXJhbS5wZWVrKSB7XG4gICAgZm9yIChsZXQgaWQgaW4gdG91Y2hlcykge1xuICAgICAgbGV0IHRvdWNoID0gdG91Y2hlc1tpZF07XG4gICAgICBpZiAoY2hlY2tQb3ModG91Y2guY3VyX3BvcywgcG9zX3BhcmFtKSkge1xuICAgICAgICB0b3VjaC5kb3duX2VkZ2UgPSAwO1xuICAgICAgICB0b3VjaC51cF9lZGdlID0gMDtcbiAgICAgICAgaWYgKCFwYXJhbSB8fCAhcGFyYW0uZHJhZ190YXJnZXQpIHtcbiAgICAgICAgICB0b3VjaC5kaXNwYXRjaGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGlmIChjaGVja1Bvcyhtb3VzZV9wb3MsIHBvc19wYXJhbSkpIHtcbiAgICBpZiAoIXBhcmFtLnBlZWspIHtcbiAgICAgIG1vdXNlX292ZXJfY2FwdHVyZWQgPSB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtb3VzZURvd24ocGFyYW0pIHtcbiAgaWYgKGlucHV0X2VhdGVuX21vdXNlKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgcGFyYW0gPSBwYXJhbSB8fCB7fTtcbiAgbGV0IHBvc19wYXJhbSA9IG1vdXNlUG9zUGFyYW0ocGFyYW0pO1xuICBsZXQgYnV0dG9uID0gcG9zX3BhcmFtLmJ1dHRvbjtcbiAgLy8gKm1heWJlKiBzaG91bGQgZGVmYXVsdCB0byBJbmZpbml0ZSwgYnV0IGZvciBub3csIGRlZmF1bHRpbmcgdG8gdGhlIHNhbWUgYXMgbW91c2VVcEVkZ2UoKVxuICBsZXQgbWF4X2NsaWNrX2Rpc3QgPSBwYXJhbS5tYXhfZGlzdCB8fCA1MDsgLy8gVE9ETzogcmVsYXRpdmUgdG8gY2FtZXJhIGRpc3RhbmNlP1xuXG4gIGZvciAobGV0IHRvdWNoX2lkIGluIHRvdWNoZXMpIHtcbiAgICBsZXQgdG91Y2hfZGF0YSA9IHRvdWNoZXNbdG91Y2hfaWRdO1xuICAgIGlmICh0b3VjaF9kYXRhLnN0YXRlICE9PSBET1dOIHx8XG4gICAgICAhKGJ1dHRvbiA9PT0gQU5ZIHx8IGJ1dHRvbiA9PT0gdG91Y2hfZGF0YS5idXR0b24pIHx8XG4gICAgICB0b3VjaF9kYXRhLnRvdGFsID4gbWF4X2NsaWNrX2Rpc3RcbiAgICApIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBpZiAoY2hlY2tQb3ModG91Y2hfZGF0YS5jdXJfcG9zLCBwb3NfcGFyYW0pKSB7XG4gICAgICAvLyBpZiAoIXBhcmFtLnBlZWspIHtcbiAgICAgIC8vICAgdG91Y2hfZGF0YS51cF9lZGdlID0gMDtcbiAgICAgIC8vIH1cbiAgICAgIHJldHVybiB7XG4gICAgICAgIGJ1dHRvbjogdG91Y2hfZGF0YS5idXR0b24sXG4gICAgICAgIHBvczogY2hlY2tfcG9zLnNsaWNlKDApLFxuICAgICAgICBzdGFydF90aW1lOiB0b3VjaF9kYXRhLnN0YXJ0X3RpbWUsXG4gICAgICB9O1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBudWxsO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbW91c2VQb3NJc1RvdWNoKCkge1xuICByZXR1cm4gbW91c2VfcG9zX2lzX3RvdWNoO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbnVtVG91Y2hlcygpIHtcbiAgcmV0dXJuIE9iamVjdC5rZXlzKHRvdWNoZXMpLmxlbmd0aDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGtleURvd24oa2V5Y29kZSkge1xuICBpZiAoaW5wdXRfZWF0ZW5fa2IpIHtcbiAgICByZXR1cm4gMDtcbiAgfVxuICBsZXQga3MgPSBrZXlfc3RhdGVfbmV3W2tleWNvZGVdO1xuICBpZiAoIWtzKSB7XG4gICAgcmV0dXJuIDA7XG4gIH1cbiAgaWYgKGtzLnN0YXRlID09PSBET1dOKSB7XG4gICAgYXNzZXJ0KGtzLmRvd25fdGltZSk7IC8vIFdpbGwgZmlyZSBpZiB3ZSBjYWxsIGtleURvd24oKSBiZWZvcmUgdGlja0lucHV0KClcbiAgfVxuICByZXR1cm4ga3MuZG93bl90aW1lO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGtleURvd25FZGdlKGtleWNvZGUsIG9wdHMpIHtcbiAgaWYgKG9wdHMgJiYgb3B0cy5pbl9ldmVudF9jYiAmJiAhaW5wdXRfZWF0ZW5fa2IpIHtcbiAgICBpbl9ldmVudC5vbigna2V5ZG93bicsIGtleWNvZGUsIG9wdHMuaW5fZXZlbnRfY2IpO1xuICB9XG5cbiAgbGV0IGtzID0ga2V5X3N0YXRlX25ld1trZXljb2RlXTtcbiAgaWYgKCFrcykge1xuICAgIHJldHVybiAwO1xuICB9XG4gIGxldCByID0ga3MuZG93bl9lZGdlO1xuICBrcy5kb3duX2VkZ2UgPSAwO1xuICByZXR1cm4gcjtcbn1cbmV4cG9ydCBmdW5jdGlvbiBrZXlVcEVkZ2Uoa2V5Y29kZSwgb3B0cykge1xuICBpZiAob3B0cyAmJiBvcHRzLmluX2V2ZW50X2NiICYmICFpbnB1dF9lYXRlbl9rYikge1xuICAgIGluX2V2ZW50Lm9uKCdrZXl1cCcsIGtleWNvZGUsIG9wdHMuaW5fZXZlbnRfY2IpO1xuICB9XG5cbiAgbGV0IGtzID0ga2V5X3N0YXRlX25ld1trZXljb2RlXTtcbiAgaWYgKCFrcykge1xuICAgIHJldHVybiAwO1xuICB9XG4gIGxldCByID0ga3MudXBfZWRnZTtcbiAga3MudXBfZWRnZSA9IDA7XG4gIHJldHVybiByO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcGFkR2V0QXhlcyhvdXQsIHN0aWNraW5kZXgsIHBhZGluZGV4KSB7XG4gIGFzc2VydChzdGlja2luZGV4ID49IDAgJiYgc3RpY2tpbmRleCA8IE5VTV9TVElDS1MpO1xuICBpZiAocGFkaW5kZXggPT09IHVuZGVmaW5lZCkge1xuICAgIGxldCBzdWIgPSB2ZWMyKCk7XG4gICAgdjJzZXQob3V0LCAwLCAwKTtcbiAgICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgZ2FtZXBhZF9kYXRhLmxlbmd0aDsgKytpaSkge1xuICAgICAgcGFkR2V0QXhlcyhzdWIsIHN0aWNraW5kZXgsIGlpKTtcbiAgICAgIHYyYWRkKG91dCwgb3V0LCBzdWIpO1xuICAgIH1cbiAgICByZXR1cm47XG4gIH1cbiAgbGV0IHN0aWNrcyA9IGdldEdhbWVwYWREYXRhKHBhZGluZGV4KS5zdGlja3M7XG4gIHYyY29weShvdXQsIHN0aWNrc1tzdGlja2luZGV4XSk7XG59XG5cbmZ1bmN0aW9uIHBhZEJ1dHRvbkRvd25JbnRlcm5hbChncGQsIHBzLCBwYWRjb2RlKSB7XG4gIGlmIChwc1twYWRjb2RlXSkge1xuICAgIHJldHVybiBlbmdpbmUuZnJhbWVfZHQ7XG4gIH1cbiAgcmV0dXJuIDA7XG59XG5mdW5jdGlvbiBwYWRCdXR0b25Eb3duRWRnZUludGVybmFsKGdwZCwgcHMsIHBhZGNvZGUpIHtcbiAgaWYgKHBzW3BhZGNvZGVdID09PSBET1dOX0VER0UpIHtcbiAgICBwc1twYWRjb2RlXSA9IERPV047XG4gICAgcmV0dXJuIGVuZ2luZS5mcmFtZV9kdDtcbiAgfVxuICByZXR1cm4gMDtcbn1cbmZ1bmN0aW9uIHBhZEJ1dHRvblVwRWRnZUludGVybmFsKGdwZCwgcHMsIHBhZGNvZGUpIHtcbiAgaWYgKHBzW3BhZGNvZGVdID09PSBVUF9FREdFKSB7XG4gICAgZGVsZXRlIHBzW3BhZGNvZGVdO1xuICAgIHJldHVybiBlbmdpbmUuZnJhbWVfZHQ7XG4gIH1cbiAgcmV0dXJuIDA7XG59XG5cbmZ1bmN0aW9uIHBhZEJ1dHRvblNoYXJlZChmbiwgcGFkY29kZSwgcGFkaW5kZXgpIHtcbiAgYXNzZXJ0KHBhZGNvZGUgIT09IHVuZGVmaW5lZCk7XG4gIGxldCByID0gMDtcbiAgLy8gSGFuZGxlIGNhbGxpbmcgd2l0aG91dCBhIHNwZWNpZmljIHBhZCBpbmRleFxuICBpZiAocGFkaW5kZXggPT09IHVuZGVmaW5lZCkge1xuICAgIGZvciAobGV0IGlpID0gMDsgaWkgPCBwYWRfc3RhdGVzLmxlbmd0aDsgKytpaSkge1xuICAgICAgciArPSBwYWRCdXR0b25TaGFyZWQoZm4sIHBhZGNvZGUsIGlpKTtcbiAgICB9XG4gICAgcmV0dXJuIHI7XG4gIH1cblxuICBpZiAoaW5wdXRfZWF0ZW5fbW91c2UpIHtcbiAgICByZXR1cm4gMDtcbiAgfVxuICBsZXQgZ3BkID0gZ2FtZXBhZF9kYXRhW3BhZGluZGV4XTtcbiAgaWYgKCFncGQpIHtcbiAgICByZXR1cm4gMDtcbiAgfVxuICBsZXQgcHMgPSBwYWRfc3RhdGVzW3BhZGluZGV4XTtcblxuICByICs9IEFOQUxPR19NQVBbcGFkY29kZV0gJiYgZm4oZ3BkLCBwcywgQU5BTE9HX01BUFtwYWRjb2RlXSkgfHwgMDtcbiAgciArPSBmbihncGQsIHBzLCBwYWRjb2RlKTtcbiAgcmV0dXJuIHI7XG59XG5leHBvcnQgZnVuY3Rpb24gcGFkQnV0dG9uRG93bihwYWRjb2RlLCBwYWRpbmRleCkge1xuICByZXR1cm4gcGFkQnV0dG9uU2hhcmVkKHBhZEJ1dHRvbkRvd25JbnRlcm5hbCwgcGFkY29kZSwgcGFkaW5kZXgpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHBhZEJ1dHRvbkRvd25FZGdlKHBhZGNvZGUsIHBhZGluZGV4KSB7XG4gIHJldHVybiBwYWRCdXR0b25TaGFyZWQocGFkQnV0dG9uRG93bkVkZ2VJbnRlcm5hbCwgcGFkY29kZSwgcGFkaW5kZXgpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHBhZEJ1dHRvblVwRWRnZShwYWRjb2RlLCBwYWRpbmRleCkge1xuICByZXR1cm4gcGFkQnV0dG9uU2hhcmVkKHBhZEJ1dHRvblVwRWRnZUludGVybmFsLCBwYWRjb2RlLCBwYWRpbmRleCk7XG59XG5cbmxldCBzdGFydF9wb3MgPSB2ZWMyKCk7XG5sZXQgY3VyX3BvcyA9IHZlYzIoKTtcbmxldCBkZWx0YSA9IHZlYzIoKTtcblxuZXhwb3J0IGZ1bmN0aW9uIG1vdXNlVXBFZGdlKHBhcmFtKSB7XG4gIHBhcmFtID0gcGFyYW0gfHwge307XG4gIGxldCBwb3NfcGFyYW0gPSBtb3VzZVBvc1BhcmFtKHBhcmFtKTtcbiAgbGV0IGJ1dHRvbiA9IHBvc19wYXJhbS5idXR0b247XG4gIGxldCBtYXhfY2xpY2tfZGlzdCA9IHBhcmFtLm1heF9kaXN0IHx8IDUwOyAvLyBUT0RPOiByZWxhdGl2ZSB0byBjYW1lcmEgZGlzdGFuY2U/XG5cbiAgZm9yIChsZXQgdG91Y2hfaWQgaW4gdG91Y2hlcykge1xuICAgIGxldCB0b3VjaF9kYXRhID0gdG91Y2hlc1t0b3VjaF9pZF07XG4gICAgaWYgKCF0b3VjaF9kYXRhLnVwX2VkZ2UpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBpZiAoIShidXR0b24gPT09IEFOWSB8fCBidXR0b24gPT09IHRvdWNoX2RhdGEuYnV0dG9uKSB8fFxuICAgICAgdG91Y2hfZGF0YS50b3RhbCA+IG1heF9jbGlja19kaXN0XG4gICAgKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgaWYgKGNoZWNrUG9zKHRvdWNoX2RhdGEuY3VyX3BvcywgcG9zX3BhcmFtKSkge1xuICAgICAgaWYgKCFwYXJhbS5wZWVrKSB7XG4gICAgICAgIHRvdWNoX2RhdGEudXBfZWRnZSA9IDA7XG4gICAgICB9XG4gICAgICByZXR1cm4ge1xuICAgICAgICBidXR0b246IHRvdWNoX2RhdGEuYnV0dG9uLFxuICAgICAgICBwb3M6IGNoZWNrX3Bvcy5zbGljZSgwKSxcbiAgICAgICAgc3RhcnRfdGltZTogdG91Y2hfZGF0YS5zdGFydF90aW1lLFxuICAgICAgfTtcbiAgICB9XG4gIH1cblxuICBpZiAocGFyYW0uaW5fZXZlbnRfY2IgJiYgIWlucHV0X2VhdGVuX21vdXNlICYmICFtb3VzZV9vdmVyX2NhcHR1cmVkKSB7XG4gICAgLy8gVE9ETzogTWF5YmUgbmVlZCB0byBhbHNvIHBhc3MgYWxvbmcgZWFybGllciBleGNsdXNpb25zPyAgV29ya2luZyBva2F5IGZvciBub3cgdGhvdWdoLlxuICAgIGlmICghcGFyYW0ucGh5cykge1xuICAgICAgcGFyYW0ucGh5cyA9IHt9O1xuICAgIH1cbiAgICBwYXJhbS5waHlzLmJ1dHRvbiA9IHR5cGVvZiBwYXJhbS5pbl9ldmVudF9idXR0b24gPT09ICdudW1iZXInID8gcGFyYW0uaW5fZXZlbnRfYnV0dG9uIDogYnV0dG9uO1xuICAgIGNhbWVyYTJkLnZpcnR1YWxUb0RvbVBvc1BhcmFtKHBhcmFtLnBoeXMsIHBvc19wYXJhbSk7XG4gICAgaW5fZXZlbnQub24oJ21vdXNldXAnLCBwYXJhbS5waHlzLCBwYXJhbS5pbl9ldmVudF9jYik7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuZXhwb3J0cy5jbGljayA9IG1vdXNlVXBFZGdlO1xuXG5leHBvcnQgZnVuY3Rpb24gbW91c2VEb3duRWRnZShwYXJhbSkge1xuICBwYXJhbSA9IHBhcmFtIHx8IHt9O1xuICBsZXQgcG9zX3BhcmFtID0gbW91c2VQb3NQYXJhbShwYXJhbSk7XG4gIGxldCBidXR0b24gPSBwb3NfcGFyYW0uYnV0dG9uO1xuXG4gIGZvciAobGV0IHRvdWNoX2lkIGluIHRvdWNoZXMpIHtcbiAgICBsZXQgdG91Y2hfZGF0YSA9IHRvdWNoZXNbdG91Y2hfaWRdO1xuICAgIGlmICghdG91Y2hfZGF0YS5kb3duX2VkZ2UgfHxcbiAgICAgICEoYnV0dG9uID09PSBBTlkgfHwgYnV0dG9uID09PSB0b3VjaF9kYXRhLmJ1dHRvbilcbiAgICApIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBpZiAoY2hlY2tQb3ModG91Y2hfZGF0YS5jdXJfcG9zLCBwb3NfcGFyYW0pKSB7XG4gICAgICBpZiAoIXBhcmFtLnBlZWspIHtcbiAgICAgICAgdG91Y2hfZGF0YS5kb3duX2VkZ2UgPSAwO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgYnV0dG9uOiB0b3VjaF9kYXRhLmJ1dHRvbixcbiAgICAgICAgcG9zOiBjaGVja19wb3Muc2xpY2UoMCksXG4gICAgICAgIHN0YXJ0X3RpbWU6IHRvdWNoX2RhdGEuc3RhcnRfdGltZSxcbiAgICAgIH07XG4gICAgfVxuICB9XG5cbiAgaWYgKHBhcmFtLmluX2V2ZW50X2NiICYmICFpbnB1dF9lYXRlbl9tb3VzZSAmJiAhbW91c2Vfb3Zlcl9jYXB0dXJlZCkge1xuICAgIC8vIFRPRE86IE1heWJlIG5lZWQgdG8gYWxzbyBwYXNzIGFsb25nIGVhcmxpZXIgZXhjbHVzaW9ucz8gIFdvcmtpbmcgb2theSBmb3Igbm93IHRob3VnaC5cbiAgICBpZiAoIXBhcmFtLnBoeXMpIHtcbiAgICAgIHBhcmFtLnBoeXMgPSB7fTtcbiAgICB9XG4gICAgcGFyYW0ucGh5cy5idXR0b24gPSBidXR0b247XG4gICAgY2FtZXJhMmQudmlydHVhbFRvRG9tUG9zUGFyYW0ocGFyYW0ucGh5cywgcG9zX3BhcmFtKTtcbiAgICBpbl9ldmVudC5vbignbW91c2Vkb3duJywgcGFyYW0ucGh5cywgcGFyYW0uaW5fZXZlbnRfY2IpO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxuLy8gQ29tcGxldGVseSBjb25zdW1lIGFueSBjbGlja3Mgb3IgZHJhZ3MgY29taW5nIGZyb20gYSBtb3VzZSBkb3duIGV2ZW50IGluIHRoaXNcbi8vIGFyZWEgLSB1c2VkIHRvIGNhdGNoIGZvY3VzIGxlYXZpbmcgYW4gZWRpdCBib3ggd2l0aG91dCB3YW50aW5nIHRvIGRvIHdoYXRcbi8vIGEgY2xpY2sgd291bGQgbm9ybWFsbHkgZG8uXG5leHBvcnQgZnVuY3Rpb24gbW91c2VDb25zdW1lQ2xpY2tzKHBhcmFtKSB7XG4gIHBhcmFtID0gcGFyYW0gfHwge307XG4gIGxldCBwb3NfcGFyYW0gPSBtb3VzZVBvc1BhcmFtKHBhcmFtKTtcbiAgbGV0IGJ1dHRvbiA9IHBvc19wYXJhbS5idXR0b247XG4gIGZvciAobGV0IHRvdWNoX2lkIGluIHRvdWNoZXMpIHtcbiAgICBsZXQgdG91Y2hfZGF0YSA9IHRvdWNoZXNbdG91Y2hfaWRdO1xuICAgIC8vIFNraXBwaW5nIHRob3NlIHRoYXQgYWxyZWFkeSBkaXNwYXRjaGVkIGEgZHJhZyB0aGlzIGZyYW1lLCBtdXN0IGhhdmUgYmVlbiBoYW5kbGVkLCBkbyBub3QgY29uc3VtZSBpdCFcbiAgICBpZiAoIShidXR0b24gPT09IEFOWSB8fCBidXR0b24gPT09IHRvdWNoX2RhdGEuYnV0dG9uKSB8fCB0b3VjaF9kYXRhLmRpc3BhdGNoZWRfZHJhZykge1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGlmIChjaGVja1Bvcyh0b3VjaF9kYXRhLnN0YXJ0X3BvcywgcG9zX3BhcmFtKSkge1xuICAgICAgdG91Y2hfZGF0YS5kb3duX2VkZ2UgPSAwO1xuICAgICAgLy8gU2V0IHN0YXJ0IHBvcyBzbyB0aGF0IGl0IHdpbGwgbm90IHBhc3MgY2hlY2tQb3NcbiAgICAgIHRvdWNoX2RhdGEuc3RhcnRfcG9zWzBdID0gdG91Y2hfZGF0YS5zdGFydF9wb3NbMV0gPSBJbmZpbml0eTtcbiAgICAgIC8vIFNldCAudG90YWwgc28gdGhhdCBtb3VzZVVwRWRnZSB3aWxsIG5vdCBkZXRlY3QgaXQgYXMgYSBjbGlja1xuICAgICAgdG91Y2hfZGF0YS50b3RhbCA9IEluZmluaXR5O1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZHJhZyhwYXJhbSkge1xuICBwYXJhbSA9IHBhcmFtIHx8IHt9O1xuICBsZXQgcG9zX3BhcmFtID0gbW91c2VQb3NQYXJhbShwYXJhbSk7XG4gIGxldCBidXR0b24gPSBwb3NfcGFyYW0uYnV0dG9uO1xuICBsZXQgbWluX2Rpc3QgPSBwYXJhbS5taW5fZGlzdCB8fCAwO1xuXG4gIGZvciAobGV0IHRvdWNoX2lkIGluIHRvdWNoZXMpIHtcbiAgICBsZXQgdG91Y2hfZGF0YSA9IHRvdWNoZXNbdG91Y2hfaWRdO1xuICAgIGlmICghKGJ1dHRvbiA9PT0gQU5ZIHx8IGJ1dHRvbiA9PT0gdG91Y2hfZGF0YS5idXR0b24pIHx8IHRvdWNoX2RhdGEuZGlzcGF0Y2hlZF9kcmFnKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgaWYgKGNoZWNrUG9zKHRvdWNoX2RhdGEuc3RhcnRfcG9zLCBwb3NfcGFyYW0pKSB7XG4gICAgICBjYW1lcmEyZC5kb21EZWx0YVRvVmlydHVhbChkZWx0YSwgW3RvdWNoX2RhdGEudG90YWwvMiwgdG91Y2hfZGF0YS50b3RhbC8yXSk7XG4gICAgICBsZXQgdG90YWwgPSBkZWx0YVswXSArIGRlbHRhWzFdO1xuICAgICAgaWYgKHRvdGFsIDwgbWluX2Rpc3QpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBpZiAoIXBhcmFtLnBlZWspIHtcbiAgICAgICAgdG91Y2hfZGF0YS5kaXNwYXRjaGVkX2RyYWcgPSB0cnVlO1xuICAgICAgfVxuICAgICAgbGV0IGlzX2Rvd25fZWRnZSA9IHRvdWNoX2RhdGEuZG93bl9lZGdlO1xuICAgICAgaWYgKHBhcmFtLmVhdF9jbGlja3MpIHtcbiAgICAgICAgdG91Y2hfZGF0YS5kb3duX2VkZ2UgPSB0b3VjaF9kYXRhLnVwX2VkZ2UgPSAwO1xuICAgICAgfVxuICAgICAgaWYgKHBhcmFtLnBheWxvYWQpIHtcbiAgICAgICAgdG91Y2hfZGF0YS5kcmFnX3BheWxvYWQgPSBwYXJhbS5wYXlsb2FkO1xuICAgICAgfVxuICAgICAgY2FtZXJhMmQuZG9tVG9WaXJ0dWFsKHN0YXJ0X3BvcywgdG91Y2hfZGF0YS5zdGFydF9wb3MpO1xuICAgICAgY2FtZXJhMmQuZG9tVG9WaXJ0dWFsKGN1cl9wb3MsIHRvdWNoX2RhdGEuY3VyX3Bvcyk7XG4gICAgICBjYW1lcmEyZC5kb21EZWx0YVRvVmlydHVhbChkZWx0YSwgdG91Y2hfZGF0YS5kZWx0YSk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBjdXJfcG9zLFxuICAgICAgICBzdGFydF9wb3MsXG4gICAgICAgIGRlbHRhLCAvLyB0aGlzIGZyYW1lJ3MgZGVsdGFcbiAgICAgICAgdG90YWwsIC8vIHRvdGFsIChsaW5lYXIpIGRpc3RhbmNlIGRyYWdnZWRcbiAgICAgICAgYnV0dG9uOiB0b3VjaF9kYXRhLmJ1dHRvbixcbiAgICAgICAgdG91Y2g6IHRvdWNoX2RhdGEudG91Y2gsXG4gICAgICAgIHN0YXJ0X3RpbWU6IHRvdWNoX2RhdGEuc3RhcnRfdGltZSxcbiAgICAgICAgaXNfZG93bl9lZGdlLFxuICAgICAgICBkb3duX3RpbWU6IHRvdWNoX2RhdGEuZG93bl90aW1lLFxuICAgICAgfTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5cbi8vIGEgbG90IGxpa2UgZHJhZygpLCByZWZhY3RvciB0byBzaGFyZSBtb3JlP1xuZXhwb3J0IGZ1bmN0aW9uIGxvbmdQcmVzcyhwYXJhbSkge1xuICBwYXJhbSA9IHBhcmFtIHx8IHt9O1xuICBsZXQgcG9zX3BhcmFtID0gbW91c2VQb3NQYXJhbShwYXJhbSk7XG4gIGxldCBidXR0b24gPSBwb3NfcGFyYW0uYnV0dG9uO1xuICBsZXQgbWF4X2Rpc3QgPSBwYXJhbS5tYXhfZGlzdCB8fCAwO1xuICBsZXQgbWluX3RpbWUgPSBwYXJhbS5taW5fdGltZSB8fCA1MDA7XG5cbiAgZm9yIChsZXQgdG91Y2hfaWQgaW4gdG91Y2hlcykge1xuICAgIGxldCB0b3VjaF9kYXRhID0gdG91Y2hlc1t0b3VjaF9pZF07XG4gICAgaWYgKCEoYnV0dG9uID09PSBBTlkgfHwgYnV0dG9uID09PSB0b3VjaF9kYXRhLmJ1dHRvbikgfHwgdG91Y2hfZGF0YS5sb25nX3ByZXNzX2Rpc3BhdGNoZWQpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBpZiAoY2hlY2tQb3ModG91Y2hfZGF0YS5zdGFydF9wb3MsIHBvc19wYXJhbSkpIHtcbiAgICAgIGNhbWVyYTJkLmRvbURlbHRhVG9WaXJ0dWFsKGRlbHRhLCBbdG91Y2hfZGF0YS50b3RhbC8yLCB0b3VjaF9kYXRhLnRvdGFsLzJdKTtcbiAgICAgIGxldCB0b3RhbCA9IGRlbHRhWzBdICsgZGVsdGFbMV07XG4gICAgICBpZiAodG90YWwgPiBtYXhfZGlzdCkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGxldCB0aW1lID0gRGF0ZS5ub3coKSAtIHRvdWNoX2RhdGEuc3RhcnRfdGltZTtcbiAgICAgIGlmICh0aW1lIDwgbWluX3RpbWUpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBpZiAoIXBhcmFtLnBlZWspIHtcbiAgICAgICAgLy8gPyB0b3VjaF9kYXRhLmRpc3BhdGNoZWQgPSB0cnVlO1xuICAgICAgICB0b3VjaF9kYXRhLmxvbmdfcHJlc3NfZGlzcGF0Y2hlZCA9IHRydWU7XG4gICAgICB9XG4gICAgICBsZXQgaXNfZG93bl9lZGdlID0gdG91Y2hfZGF0YS5kb3duX2VkZ2U7XG4gICAgICBpZiAocGFyYW0uZWF0X2NsaWNrcykge1xuICAgICAgICB0b3VjaF9kYXRhLmRvd25fZWRnZSA9IHRvdWNoX2RhdGEudXBfZWRnZSA9IDA7XG4gICAgICB9XG4gICAgICBjYW1lcmEyZC5kb21Ub1ZpcnR1YWwoc3RhcnRfcG9zLCB0b3VjaF9kYXRhLnN0YXJ0X3Bvcyk7XG4gICAgICBjYW1lcmEyZC5kb21Ub1ZpcnR1YWwoY3VyX3BvcywgdG91Y2hfZGF0YS5jdXJfcG9zKTtcbiAgICAgIGNhbWVyYTJkLmRvbURlbHRhVG9WaXJ0dWFsKGRlbHRhLCB0b3VjaF9kYXRhLmRlbHRhKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGxvbmdfcHJlc3M6IHRydWUsXG4gICAgICAgIGN1cl9wb3MsXG4gICAgICAgIHN0YXJ0X3BvcyxcbiAgICAgICAgZGVsdGEsIC8vIHRoaXMgZnJhbWUncyBkZWx0YVxuICAgICAgICB0b3RhbCwgLy8gdG90YWwgKGxpbmVhcikgZGlzdGFuY2UgZHJhZ2dlZFxuICAgICAgICBidXR0b246IHRvdWNoX2RhdGEuYnV0dG9uLFxuICAgICAgICB0b3VjaDogdG91Y2hfZGF0YS50b3VjaCxcbiAgICAgICAgc3RhcnRfdGltZTogdG91Y2hfZGF0YS5zdGFydF90aW1lLFxuICAgICAgICBpc19kb3duX2VkZ2UsXG4gICAgICAgIGRvd25fdGltZTogdG91Y2hfZGF0YS5kb3duX3RpbWUsXG4gICAgICB9O1xuICAgIH1cbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRyYWdEcm9wKHBhcmFtKSB7XG4gIHBhcmFtID0gcGFyYW0gfHwge307XG4gIGxldCBwb3NfcGFyYW0gPSBtb3VzZVBvc1BhcmFtKHBhcmFtKTtcbiAgbGV0IGJ1dHRvbiA9IHBvc19wYXJhbS5idXR0b247XG5cbiAgZm9yIChsZXQgdG91Y2hfaWQgaW4gdG91Y2hlcykge1xuICAgIGxldCB0b3VjaF9kYXRhID0gdG91Y2hlc1t0b3VjaF9pZF07XG4gICAgLy8gTWF5YmUgdG91Y2hfZGF0YS5kaXNwYXRjaGVkX2RyYWdfb3ZlciBpbnN0ZWFkL2FzIHdlbGw/XG4gICAgaWYgKCEoYnV0dG9uID09PSBBTlkgfHwgYnV0dG9uID09PSB0b3VjaF9kYXRhLmJ1dHRvbikgfHwgdG91Y2hfZGF0YS5kaXNwYXRjaGVkIHx8ICF0b3VjaF9kYXRhLmRyYWdfcGF5bG9hZCkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGlmICghdG91Y2hfZGF0YS51cF9lZGdlKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgaWYgKGNoZWNrUG9zKHRvdWNoX2RhdGEuY3VyX3BvcywgcG9zX3BhcmFtKSkge1xuICAgICAgaWYgKCFwYXJhbS5wZWVrKSB7XG4gICAgICAgIC8vIGRvbid0IHdhbnQgdGhlIHNvdXJjZSAocG9zc2libHkgY2FsbGVkIGxhdGVyIHRoaXMgZnJhbWUpIHRvIHN0aWxsIHRoaW5rIGl0J3MgZHJhZ2dpbmdcbiAgICAgICAgdG91Y2hfZGF0YS5kaXNwYXRjaGVkX2RyYWdfb3ZlciA9IHRydWU7XG4gICAgICAgIHRvdWNoX2RhdGEuZGlzcGF0Y2hlZF9kcmFnID0gdHJ1ZTtcbiAgICAgICAgdG91Y2hfZGF0YS5kaXNwYXRjaGVkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB7IGRyYWdfcGF5bG9hZDogdG91Y2hfZGF0YS5kcmFnX3BheWxvYWQgfTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkcmFnT3ZlcihwYXJhbSkge1xuICBwYXJhbSA9IHBhcmFtIHx8IHt9O1xuICBsZXQgcG9zX3BhcmFtID0gbW91c2VQb3NQYXJhbShwYXJhbSk7XG4gIGxldCBidXR0b24gPSBwb3NfcGFyYW0uYnV0dG9uO1xuXG4gIGZvciAobGV0IHRvdWNoX2lkIGluIHRvdWNoZXMpIHtcbiAgICBsZXQgdG91Y2hfZGF0YSA9IHRvdWNoZXNbdG91Y2hfaWRdO1xuICAgIGlmICghKGJ1dHRvbiA9PT0gQU5ZIHx8IGJ1dHRvbiA9PT0gdG91Y2hfZGF0YS5idXR0b24pIHx8XG4gICAgICB0b3VjaF9kYXRhLmRpc3BhdGNoZWRfZHJhZ19vdmVyIHx8XG4gICAgICAhdG91Y2hfZGF0YS5kcmFnX3BheWxvYWRcbiAgICApIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBpZiAodG91Y2hfZGF0YS5zdGF0ZSAhPT0gRE9XTikge1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGlmIChjaGVja1Bvcyh0b3VjaF9kYXRhLmN1cl9wb3MsIHBvc19wYXJhbSkpIHtcbiAgICAgIC8vIFNlcGFyYXRlICdkaXNwYXRjaGVkJyBmb3IgZHJhZ092ZXIgKHRhcmdldCkgYW5kIGRyYWcgKHNvdXJjZSkgLSB0aGV5IGJvdGggbmVlZCBvbmUgZGlzcGF0Y2ggcGVyIGZyYW1lXG4gICAgICBpZiAoIXBhcmFtLnBlZWspIHtcbiAgICAgICAgdG91Y2hfZGF0YS5kaXNwYXRjaGVkX2RyYWdfb3ZlciA9IHRydWU7XG4gICAgICB9XG4gICAgICBjYW1lcmEyZC5kb21Ub1ZpcnR1YWwoY3VyX3BvcywgdG91Y2hfZGF0YS5jdXJfcG9zKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGN1cl9wb3MsXG4gICAgICAgIGRyYWdfcGF5bG9hZDogdG91Y2hfZGF0YS5kcmFnX3BheWxvYWRcbiAgICAgIH07XG4gICAgfVxuICB9XG4gIHJldHVybiBudWxsO1xufVxuIiwiLy8gUG9ydGlvbnMgQ29weXJpZ2h0IDIwMjAgSmltYiBFc3NlciAoaHR0cHM6Ly9naXRodWIuY29tL0ppbWJseS8pXG4vLyBSZWxlYXNlZCB1bmRlciBNSVQgTGljZW5zZTogaHR0cHM6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9NSVRcblxuY29uc3QgZW5naW5lID0gcmVxdWlyZSgnLi9lbmdpbmUuanMnKTtcbmNvbnN0IGNhbWVyYTJkID0gcmVxdWlyZSgnLi9jYW1lcmEyZC5qcycpO1xuY29uc3QgaW5fZXZlbnQgPSByZXF1aXJlKCcuL2luX2V2ZW50LmpzJyk7XG5jb25zdCBpbnB1dCA9IHJlcXVpcmUoJy4vaW5wdXQuanMnKTtcbmNvbnN0IHsgYWJzIH0gPSBNYXRoO1xuY29uc3QgdWkgPSByZXF1aXJlKCcuL3VpLmpzJyk7XG5cbmxldCBzdGF0ZV9jYWNoZSA9IHt9O1xubGV0IGdvb2RfdXJsID0gL2h0dHBzPzpcXC9cXC8vO1xuXG4vLyBDcmVhdGUgYW4gaW52aXNpYmxlIEEgZWxlbSBpbiB0aGUgRE9NIHNvIHdlIGdldCBhbGwgb2YgdGhlIGdvb2QgYnJvd3Nlcnlcbi8vIGJlaGF2aW9yIGZvciBhIGxpbmsgYXJlYS5cbmV4cG9ydCBmdW5jdGlvbiBsaW5rKHBhcmFtKSB7XG4gIGxldCB7IHgsIHksIHcsIGgsIHVybCwgaW50ZXJuYWwsIGFsbG93X21vZGFsIH0gPSBwYXJhbTtcbiAgaWYgKCF1cmwubWF0Y2goZ29vZF91cmwpKSB7XG4gICAgdXJsID0gYCR7ZG9jdW1lbnQubG9jYXRpb24ucHJvdG9jb2x9Ly8ke3VybH1gO1xuICB9XG4gIGxldCBrZXkgPSBgJHt4fV8ke3l9YDtcbiAgbGV0IHN0YXRlID0gc3RhdGVfY2FjaGVba2V5XTtcbiAgaWYgKCFzdGF0ZSkge1xuICAgIHN0YXRlID0gc3RhdGVfY2FjaGVba2V5XSA9IHsgY2xpY2tlZDogZmFsc2UgfTtcbiAgfVxuICBsZXQgZWxlbSA9IHVpLmdldEVsZW0oYWxsb3dfbW9kYWwsIHN0YXRlLmVsZW0pO1xuICBzdGF0ZS5mcmFtZSA9IGVuZ2luZS5mcmFtZV9pbmRleDtcbiAgaWYgKGVsZW0gIT09IHN0YXRlLmVsZW0pIHtcbiAgICBzdGF0ZS5lbGVtID0gZWxlbTtcbiAgICBpZiAoZWxlbSkge1xuICAgICAgLy8gbmV3IERPTSBlbGVtZW50LCBpbml0aWFsaXplXG4gICAgICBlbGVtLnRleHRDb250ZW50ID0gJyc7XG4gICAgICBsZXQgYV9lbGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgICAgYV9lbGVtLnNldEF0dHJpYnV0ZSgnZHJhZ2dhYmxlJywgZmFsc2UpO1xuICAgICAgYV9lbGVtLnRleHRDb250ZW50ID0gJyAnO1xuICAgICAgYV9lbGVtLmNsYXNzTmFtZSA9ICdnbG92dWlfbGluayBub2dsb3YnO1xuICAgICAgYV9lbGVtLnNldEF0dHJpYnV0ZSgndGFyZ2V0JywgJ19ibGFuaycpO1xuICAgICAgYV9lbGVtLnNldEF0dHJpYnV0ZSgnaHJlZicsIHVybCk7XG4gICAgICBzdGF0ZS51cmwgPSB1cmw7XG4gICAgICBpZiAoaW50ZXJuYWwpIHtcbiAgICAgICAgbGV0IGRvd25feDtcbiAgICAgICAgbGV0IGRvd25feTtcbiAgICAgICAgaW5wdXQuaGFuZGxlVG91Y2hlcyhhX2VsZW0pO1xuICAgICAgICBhX2VsZW0ub25tb3VzZWRvd24gPSBmdW5jdGlvbiAoZXYpIHtcbiAgICAgICAgICBkb3duX3ggPSBldi5wYWdlWDtcbiAgICAgICAgICBkb3duX3kgPSBldi5wYWdlWTtcbiAgICAgICAgfTtcbiAgICAgICAgYV9lbGVtLm9uY2xpY2sgPSBmdW5jdGlvbiAoZXYpIHtcbiAgICAgICAgICBldi5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIGlmIChkb3duX3gpIHtcbiAgICAgICAgICAgIGxldCBkaXN0ID0gYWJzKGV2LnBhZ2VYIC0gZG93bl94KSArIGFicyhldi5wYWdlWSAtIGRvd25feSk7XG4gICAgICAgICAgICBpZiAoZGlzdCA+IDUwKSB7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgc3RhdGUuY2xpY2tlZCA9IHRydWU7XG4gICAgICAgICAgaW5fZXZlbnQuaGFuZGxlKCdtb3VzZXVwJywgZXYpO1xuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgZWxlbS5hcHBlbmRDaGlsZChhX2VsZW0pO1xuICAgICAgc3RhdGUuYV9lbGVtID0gYV9lbGVtO1xuICAgIH1cbiAgfVxuICBpZiAoZWxlbSkge1xuICAgIGlmICh1cmwgIT09IHN0YXRlLnVybCkge1xuICAgICAgc3RhdGUuYV9lbGVtLnNldEF0dHJpYnV0ZSgnaHJlZicsIHVybCk7XG4gICAgICBzdGF0ZS51cmwgPSB1cmw7XG4gICAgfVxuXG4gICAgbGV0IHBvcyA9IGNhbWVyYTJkLmh0bWxQb3MoeCwgeSk7XG4gICAgZWxlbS5zdHlsZS5sZWZ0ID0gYCR7cG9zWzBdfSVgO1xuICAgIGVsZW0uc3R5bGUudG9wID0gYCR7cG9zWzFdfSVgO1xuICAgIGxldCBzaXplID0gY2FtZXJhMmQuaHRtbFNpemUodywgaCk7XG4gICAgZWxlbS5zdHlsZS53aWR0aCA9IGAke3NpemVbMF19JWA7XG4gICAgZWxlbS5zdHlsZS5oZWlnaHQgPSBgJHtzaXplWzFdfSVgO1xuICB9XG4gIGxldCBjbGlja2VkID0gc3RhdGUuY2xpY2tlZDtcbiAgc3RhdGUuY2xpY2tlZCA9IGZhbHNlO1xuICByZXR1cm4gY2xpY2tlZDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGxpbmtUZXh0KHBhcmFtKSB7XG4gIGxldCB7IHN0eWxlX2xpbmssIHN0eWxlX2xpbmtfaG92ZXIsIHgsIHksIHosIGZvbnRfc2l6ZSwgdGV4dCwgdXJsIH0gPSBwYXJhbTtcbiAgdGV4dCA9IHRleHQgfHwgdXJsO1xuICB6ID0geiB8fCBaLlVJO1xuICBmb250X3NpemUgPSBmb250X3NpemUgfHwgdWkuZm9udF9oZWlnaHQ7XG4gIC8vIEFsc286IGFueSBwYXJhbWV0ZXIgdG8gbGluaygpLCBlLmcuIHVybFxuICBsZXQgdyA9IHVpLmZvbnQuZ2V0U3RyaW5nV2lkdGgoc3R5bGVfbGluaywgZm9udF9zaXplLCB0ZXh0KTtcbiAgbGV0IGggPSBmb250X3NpemU7XG4gIGxldCBtb3VzZW92ZXIgPSBpbnB1dC5tb3VzZU92ZXIoeyB4LCB5LCB3LCBoLCBwZWVrOiB0cnVlIH0pICYmICFpbnB1dC5tb3VzZVBvc0lzVG91Y2goKTtcbiAgbGV0IHN0eWxlID0gbW91c2VvdmVyID8gc3R5bGVfbGlua19ob3ZlciA6IHN0eWxlX2xpbms7XG4gIHVpLmZvbnQuZHJhd1NpemVkKHN0eWxlLCB4LCB5LCB6LCBmb250X3NpemUsIHRleHQpO1xuICBsZXQgdW5kZXJsaW5lX3cgPSAxO1xuICB1aS5kcmF3TGluZSh4LCB5ICsgaCAtIHVuZGVybGluZV93LCB4ICsgdywgeSArIGggLSB1bmRlcmxpbmVfdywgeiAtIDAuNSwgdW5kZXJsaW5lX3csIDAuOTksIHN0eWxlLmNvbG9yX3ZlYzQpO1xuICBwYXJhbS53ID0gdztcbiAgcGFyYW0uaCA9IGg7XG4gIHJldHVybiBsaW5rKHBhcmFtKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGxpbmtUaWNrKCkge1xuICBmb3IgKGxldCBrZXkgaW4gc3RhdGVfY2FjaGUpIHtcbiAgICBsZXQgc3RhdGUgPSBzdGF0ZV9jYWNoZVtrZXldO1xuICAgIGlmIChzdGF0ZS5mcmFtZSAhPT0gZW5naW5lLmZyYW1lX2luZGV4IC0gMSkge1xuICAgICAgZGVsZXRlIHN0YXRlX2NhY2hlW2tleV07XG4gICAgfVxuICB9XG59XG4iLCIvLyBQb3J0aW9ucyBDb3B5cmlnaHQgMjAxOSBKaW1iIEVzc2VyIChodHRwczovL2dpdGh1Yi5jb20vSmltYmx5Lylcbi8vIFJlbGVhc2VkIHVuZGVyIE1JVCBMaWNlbnNlOiBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVFxuLyogZXNsaW50LWVudiBicm93c2VyICovXG5cbmV4cG9ydHMuc3RvcmFnZV9wcmVmaXggPSAnZGVtbyc7XG5cbmxldCBsc2QgPSAoZnVuY3Rpb24gKCkge1xuICB0cnkge1xuICAgIGxvY2FsU3RvcmFnZS50ZXN0ID0gJ3Rlc3QnO1xuICAgIHJldHVybiBsb2NhbFN0b3JhZ2U7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4ge307XG4gIH1cbn0oKSk7XG5leHBvcnQgZnVuY3Rpb24gZ2V0KGtleSkge1xuICBrZXkgPSBgJHtleHBvcnRzLnN0b3JhZ2VfcHJlZml4fV8ke2tleX1gO1xuICBsZXQgcmV0ID0gbHNkW2tleV07XG4gIGlmIChyZXQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0ID0gdW5kZWZpbmVkO1xuICB9XG4gIHJldHVybiByZXQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXQoa2V5LCB2YWx1ZSkge1xuICBrZXkgPSBgJHtleHBvcnRzLnN0b3JhZ2VfcHJlZml4fV8ke2tleX1gO1xuICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCB8fCB2YWx1ZSA9PT0gbnVsbCkge1xuICAgIGRlbGV0ZSBsc2Rba2V5XTtcbiAgfSBlbHNlIHtcbiAgICBsc2Rba2V5XSA9IHZhbHVlO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRKU09OKGtleSwgdmFsdWUpIHtcbiAgc2V0KGtleSwgSlNPTi5zdHJpbmdpZnkodmFsdWUpKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEpTT04oa2V5LCBkZWYpIHtcbiAgbGV0IHZhbHVlID0gZ2V0KGtleSk7XG4gIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIGRlZjtcbiAgfVxuICB0cnkge1xuICAgIHJldHVybiBKU09OLnBhcnNlKHZhbHVlKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIC8vIGlnbm9yZVxuICB9XG4gIHJldHVybiBkZWY7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjbGVhckFsbChrZXlfcHJlZml4KSB7XG4gIGxldCBwcmVmaXggPSBuZXcgUmVnRXhwKGBeJHtleHBvcnRzLnN0b3JhZ2VfcHJlZml4fV8ke2tleV9wcmVmaXggfHwgJyd9YCwgJ3UnKTtcbiAgZm9yIChsZXQga2V5IGluIGxzZCkge1xuICAgIGlmIChrZXkubWF0Y2gocHJlZml4KSkge1xuICAgICAgZGVsZXRlIGxzZFtrZXldO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZXhwb3J0QWxsKCkge1xuICBsZXQgb2JqID0ge307XG4gIGxldCBwcmVmaXggPSBuZXcgUmVnRXhwKGBeJHtleHBvcnRzLnN0b3JhZ2VfcHJlZml4fV8oLiopYCwgJ3UnKTtcbiAgZm9yIChsZXQga2V5IGluIGxzZCkge1xuICAgIGxldCBtID0ga2V5Lm1hdGNoKHByZWZpeCk7XG4gICAgaWYgKG0pIHtcbiAgICAgIGxldCB2ID0gbHNkW2tleV07XG4gICAgICBpZiAodiAmJiB2ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBvYmpbbVsxXV0gPSB2O1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gSlNPTi5zdHJpbmdpZnkob2JqKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGltcG9ydEFsbChzZXJpYWxpemVkKSB7XG4gIGxldCBvYmogPSBKU09OLnBhcnNlKHNlcmlhbGl6ZWQpO1xuICBjbGVhckFsbCgpO1xuICBmb3IgKGxldCBrZXkgaW4gb2JqKSB7XG4gICAgc2V0KGtleSwgb2JqW2tleV0pO1xuICB9XG59XG4iLCIvLyBQb3J0aW9ucyBDb3B5cmlnaHQgMjAxOSBKaW1iIEVzc2VyIChodHRwczovL2dpdGh1Yi5jb20vSmltYmx5Lylcbi8vIFJlbGVhc2VkIHVuZGVyIE1JVCBMaWNlbnNlOiBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVFxuLy8gU29tZSBjb2RlIGZyb20gVHVyYnVsZW56OiBDb3B5cmlnaHQgKGMpIDIwMTItMjAxMyBUdXJidWxlbnogTGltaXRlZFxuLy8gUmVsZWFzZWQgdW5kZXIgTUlUIExpY2Vuc2U6IGh0dHBzOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvTUlUXG5cbmV4cG9ydCBmdW5jdGlvbiBtYXQ0MygpIHtcbiAgbGV0IHIgPSBuZXcgRmxvYXQzMkFycmF5KDEyKTtcbiAgclswXSA9IHJbNF0gPSByWzhdID0gMTtcbiAgcmV0dXJuIHI7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtNDNpZGVudGl0eShvdXQpIHtcbiAgb3V0WzBdID0gMTtcbiAgb3V0WzFdID0gMDtcbiAgb3V0WzJdID0gMDtcbiAgb3V0WzNdID0gMDtcbiAgb3V0WzRdID0gMTtcbiAgb3V0WzVdID0gMDtcbiAgb3V0WzZdID0gMDtcbiAgb3V0WzddID0gMDtcbiAgb3V0WzhdID0gMTtcbiAgb3V0WzldID0gMDtcbiAgb3V0WzEwXSA9IDA7XG4gIG91dFsxMV0gPSAwO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbTQzbXVsKG91dCwgYSwgYikge1xuICBsZXQgYTAgPSBhWzBdO1xuICBsZXQgYTEgPSBhWzFdO1xuICBsZXQgYTIgPSBhWzJdO1xuICBsZXQgYTMgPSBhWzNdO1xuICBsZXQgYTQgPSBhWzRdO1xuICBsZXQgYTUgPSBhWzVdO1xuICBsZXQgYTYgPSBhWzZdO1xuICBsZXQgYTcgPSBhWzddO1xuICBsZXQgYTggPSBhWzhdO1xuICBsZXQgYTkgPSBhWzldO1xuICBsZXQgYTEwID0gYVsxMF07XG4gIGxldCBhMTEgPSBhWzExXTtcblxuICBsZXQgYjAgPSBiWzBdO1xuICBsZXQgYjEgPSBiWzFdO1xuICBsZXQgYjIgPSBiWzJdO1xuICBsZXQgYjMgPSBiWzNdO1xuICBsZXQgYjQgPSBiWzRdO1xuICBsZXQgYjUgPSBiWzVdO1xuICBsZXQgYjYgPSBiWzZdO1xuICBsZXQgYjcgPSBiWzddO1xuICBsZXQgYjggPSBiWzhdO1xuXG4gIG91dFswXSA9IChiMCAqIGEwICsgYjMgKiBhMSArIGI2ICogYTIpO1xuICBvdXRbMV0gPSAoYjEgKiBhMCArIGI0ICogYTEgKyBiNyAqIGEyKTtcbiAgb3V0WzJdID0gKGIyICogYTAgKyBiNSAqIGExICsgYjggKiBhMik7XG4gIG91dFszXSA9IChiMCAqIGEzICsgYjMgKiBhNCArIGI2ICogYTUpO1xuICBvdXRbNF0gPSAoYjEgKiBhMyArIGI0ICogYTQgKyBiNyAqIGE1KTtcbiAgb3V0WzVdID0gKGIyICogYTMgKyBiNSAqIGE0ICsgYjggKiBhNSk7XG4gIG91dFs2XSA9IChiMCAqIGE2ICsgYjMgKiBhNyArIGI2ICogYTgpO1xuICBvdXRbN10gPSAoYjEgKiBhNiArIGI0ICogYTcgKyBiNyAqIGE4KTtcbiAgb3V0WzhdID0gKGIyICogYTYgKyBiNSAqIGE3ICsgYjggKiBhOCk7XG4gIG91dFs5XSA9IChiMCAqIGE5ICsgYjMgKiBhMTAgKyBiNiAqIGExMSArIGJbOV0pO1xuICBvdXRbMTBdID0gKGIxICogYTkgKyBiNCAqIGExMCArIGI3ICogYTExICsgYlsxMF0pO1xuICBvdXRbMTFdID0gKGIyICogYTkgKyBiNSAqIGExMCArIGI4ICogYTExICsgYlsxMV0pO1xuXG4gIHJldHVybiBvdXQ7XG59XG4iLCIvLyBQb3J0aW9ucyBDb3B5cmlnaHQgMjAxOSBKaW1iIEVzc2VyIChodHRwczovL2dpdGh1Yi5jb20vSmltYmx5Lylcbi8vIFJlbGVhc2VkIHVuZGVyIE1JVCBMaWNlbnNlOiBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVFxuLyogZXNsaW50LWVudiBicm93c2VyICovXG5cbi8qXG4gIENvbnZlcnQgbW9kZWxzIHRvIEdMQiB3aXRoOlxuICBub2RlX21vZHVsZXNcXC5iaW5cXGdsdGYtcGlwZWxpbmUuY21kIC10IC1pIHNyYy9jbGllbnQvbW9kZWxzL2JveC5nbHRmIC1vIHNyYy9jbGllbnQvbW9kZWxzL2JveC5nbGJcbiAgLy8gVGhlIC10IHRlbGxzIGl0IG5vdCB0byBlbWJlZCB0aGUgdGV4dHVyZXMsIGJ1dCBqdXN0IGxlYXZlIHRoZSBVUklzXG4gKi9cblxuY29uc3QgYXNzZXJ0ID0gcmVxdWlyZSgnYXNzZXJ0Jyk7XG5jb25zdCBnZW9tID0gcmVxdWlyZSgnLi9nZW9tLmpzJyk7XG5jb25zdCBnbGJfcGFyc2VyID0gcmVxdWlyZSgnLi9nbGIvcGFyc2VyLmpzJyk7XG5jb25zdCB7IEFUVFJJQlVURV9UWVBFX1RPX0NPTVBPTkVOVFMgfSA9IHJlcXVpcmUoJy4vZ2xiL2dsdGYtdHlwZS11dGlscy5qcycpO1xuY29uc3QgcmVuZGVyZXIgPSByZXF1aXJlKCcuL2VuZ2luZS5qcycpO1xuY29uc3Qgc2hhZGVycyA9IHJlcXVpcmUoJy4vc2hhZGVycy5qcycpO1xuY29uc3QgdGV4dHVyZXMgPSByZXF1aXJlKCcuL3RleHR1cmVzLmpzJyk7XG5jb25zdCB7IHZlYzQgfSA9IHJlcXVpcmUoJy4vdm1hdGguanMnKTtcbmNvbnN0IHsgd2ViRlNHZXRGaWxlIH0gPSByZXF1aXJlKCcuL3dlYmZzLmpzJyk7XG5cbmV4cG9ydCBsZXQgbG9hZF9jb3VudCA9IDA7XG5cbmV4cG9ydCBsZXQgbW9kZWxzID0ge307XG5cbmV4cG9ydCBsZXQgZGVmYXVsdF92c2hhZGVyO1xuZXhwb3J0IGxldCBkZWZhdWx0X2ZzaGFkZXI7XG5cbmZ1bmN0aW9uIGluaXRTaGFkZXJzKCkge1xuICBkZWZhdWx0X3ZzaGFkZXIgPSBzaGFkZXJzLmNyZWF0ZSgnZ2xvdi9zaGFkZXJzL2RlZmF1bHQudnAnKTtcbiAgZGVmYXVsdF9mc2hhZGVyID0gc2hhZGVycy5jcmVhdGUoJ2dsb3Yvc2hhZGVycy9kZWZhdWx0LmZwJyk7XG59XG5cbmZ1bmN0aW9uIE1vZGVsKHVybCkge1xuICB0aGlzLnVybCA9IHVybDtcbiAgbGV0IGlkeCA9IHVybC5sYXN0SW5kZXhPZignLycpO1xuICBpZiAoaWR4ICE9PSAtMSkge1xuICAgIHRoaXMuYmFzZV91cmwgPSB1cmwuc2xpY2UoMCwgaWR4ICsgMSk7XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5iYXNlX3VybCA9ICcnO1xuICB9XG59XG5cbk1vZGVsLnByb3RvdHlwZS5sb2FkID0gZnVuY3Rpb24gKCkge1xuICArK2xvYWRfY291bnQ7XG4gIGxldCB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAgeGhyLm9wZW4oJ0dFVCcsIHRoaXMudXJsLCB0cnVlKTtcbiAgeGhyLnJlc3BvbnNlVHlwZSA9ICdhcnJheWJ1ZmZlcic7XG4gIHhoci5vbmxvYWQgPSAoKSA9PiB7XG4gICAgLS1sb2FkX2NvdW50O1xuICAgIHRyeSB7XG4gICAgICBsZXQgYXJyYXlfYnVmZmVyID0geGhyLnJlc3BvbnNlOyAvLyBOb3RlOiBub3QgeGhyLnJlc3BvbnNlVGV4dFxuICAgICAgaWYgKCh4aHIuc3RhdHVzID09PSAyMDAgfHwgeGhyLnN0YXR1cyA9PT0gMCkgJiYgYXJyYXlfYnVmZmVyKSB7XG4gICAgICAgIHRoaXMucGFyc2UoYXJyYXlfYnVmZmVyKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICB3aW5kb3cub25lcnJvcignTW9kZWwgbG9hZGluZyBlcnJvcicsICdtb2RlbHMuanMnLCAwLCAwLCBlKTtcbiAgICB9XG4gIH07XG4gIHhoci5zZW5kKG51bGwpO1xufTtcblxuY29uc3Qgc2tpcF9hdHRyID0ge1xuICAnVEFOR0VOVCc6IHRydWUsXG59O1xuXG5Nb2RlbC5wcm90b3R5cGUucGFyc2UgPSBmdW5jdGlvbiAoZ2xiX2RhdGEpIHtcbiAgbGV0IGdsYiA9IGdsYl9wYXJzZXIucGFyc2UoZ2xiX2RhdGEpO1xuICBpZiAoIWdsYikge1xuICAgIHJldHVybjtcbiAgfVxuICAvLyBNYWtlIEdlb21zIGZvciBlYWNoIHByaW1pdGl2ZXMgd2l0aGluIGVhY2ggbWVzaFxuICBsZXQgZ2xiX2pzb24gPSBnbGIuZ2V0SlNPTigpO1xuICBsZXQgb2JqcyA9IFtdO1xuICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgZ2xiX2pzb24ubWVzaGVzLmxlbmd0aDsgKytpaSkge1xuICAgIGxldCBtZXNoID0gZ2xiX2pzb24ubWVzaGVzW2lpXTtcbiAgICBmb3IgKGxldCBqaiA9IDA7IGpqIDwgbWVzaC5wcmltaXRpdmVzLmxlbmd0aDsgKytqaikge1xuICAgICAgbGV0IHByaW1pdGl2ZXMgPSBtZXNoLnByaW1pdGl2ZXNbampdO1xuICAgICAgbGV0IG1hdGVyaWFsID0gZ2xiX2pzb24ubWF0ZXJpYWxzW3ByaW1pdGl2ZXMubWF0ZXJpYWxdO1xuICAgICAgbGV0IHRleHR1cmUgPSBudWxsO1xuICAgICAgaWYgKG1hdGVyaWFsKSB7XG4gICAgICAgIC8vIEp1c3QgZ3JhYmJpbmcgdGhlIGJhc2UgY29sb3IgdGV4dHVyZSwgbm90aGluZyBlbHNlXG4gICAgICAgIGxldCBiY3QgPSAobWF0ZXJpYWwucGJyTWV0YWxsaWNSb3VnaG5lc3MgfHwge30pLmJhc2VDb2xvclRleHR1cmUgfHwge307XG4gICAgICAgIGxldCB0ZXh0dXJlX2RlZiA9IGdsYl9qc29uLnRleHR1cmVzICYmIGdsYl9qc29uLnRleHR1cmVzW2JjdC5pbmRleF0gfHwge307XG4gICAgICAgIGxldCBzYW1wbGVyX2RlZiA9IGdsYl9qc29uLnNhbXBsZXJzICYmIGdsYl9qc29uLnNhbXBsZXJzW3RleHR1cmVfZGVmLnNhbXBsZXJdIHx8IHt9O1xuICAgICAgICBsZXQgaW1hZ2UgPSBnbGJfanNvbi5pbWFnZXMgJiYgZ2xiX2pzb24uaW1hZ2VzW3RleHR1cmVfZGVmLnNvdXJjZV0gfHwge307XG4gICAgICAgIGlmIChpbWFnZS51cmkpIHtcbiAgICAgICAgICBsZXQgcGFyYW1zID0ge1xuICAgICAgICAgICAgdXJsOiBgJHt0aGlzLmJhc2VfdXJsfSR7aW1hZ2UudXJpfWAsXG4gICAgICAgICAgICBmaWx0ZXJfbWFnOiBzYW1wbGVyX2RlZi5tYWdGaWx0ZXIsXG4gICAgICAgICAgICBmaWx0ZXJfbWluOiBzYW1wbGVyX2RlZi5taW5GaWx0ZXIsXG4gICAgICAgICAgICB3cmFwX3M6IHNhbXBsZXJfZGVmLndyYXBTLFxuICAgICAgICAgICAgd3JhcF90OiBzYW1wbGVyX2RlZi53cmFwVCxcbiAgICAgICAgICB9O1xuICAgICAgICAgIHRleHR1cmUgPSB0ZXh0dXJlcy5sb2FkKHBhcmFtcyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGxldCBmb3JtYXQgPSBbXTtcbiAgICAgIGxldCBidWZmZXJzID0gW107XG4gICAgICBsZXQgYmlkeCA9IFtdO1xuICAgICAgbGV0IHRvdGFsX3NpemUgPSAwO1xuICAgICAgbGV0IHZlcnRfY291bnQgPSAwO1xuICAgICAgZm9yIChsZXQgYXR0ciBpbiBwcmltaXRpdmVzLmF0dHJpYnV0ZXMpIHtcbiAgICAgICAgaWYgKHNraXBfYXR0clthdHRyXSkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGFzc2VydChzaGFkZXJzLnNlbWFudGljW2F0dHJdICE9PSB1bmRlZmluZWQpO1xuICAgICAgICBsZXQgYWNjZXNzb3IgPSBnbGJfanNvbi5hY2Nlc3NvcnNbcHJpbWl0aXZlcy5hdHRyaWJ1dGVzW2F0dHJdXTtcbiAgICAgICAgYXNzZXJ0LmVxdWFsKGFjY2Vzc29yLmNvbXBvbmVudFR5cGUsIDUxMjYpOyAvLyBGMzJcbiAgICAgICAgbGV0IGdlb21fZm9ybWF0ID0gZ2wuRkxPQVQ7XG4gICAgICAgIGxldCBnZW9tX2NvdW50ID0gQVRUUklCVVRFX1RZUEVfVE9fQ09NUE9ORU5UU1thY2Nlc3Nvci50eXBlXTtcbiAgICAgICAgYXNzZXJ0KGdlb21fY291bnQpO1xuICAgICAgICBsZXQgbXlfdmVydF9jb3VudCA9IGFjY2Vzc29yLmNvdW50LyogLyBnZW9tX2NvdW50Ki87XG4gICAgICAgIGlmICghdmVydF9jb3VudCkge1xuICAgICAgICAgIHZlcnRfY291bnQgPSBteV92ZXJ0X2NvdW50O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGFzc2VydC5lcXVhbCh2ZXJ0X2NvdW50LCBteV92ZXJ0X2NvdW50KTtcbiAgICAgICAgfVxuICAgICAgICBmb3JtYXQucHVzaChbc2hhZGVycy5zZW1hbnRpY1thdHRyXSwgZ2VvbV9mb3JtYXQsIGdlb21fY291bnRdKTtcbiAgICAgICAgbGV0IGJ1ZmZlciA9IGdsYi5nZXRCdWZmZXIoYWNjZXNzb3IpO1xuICAgICAgICBidWZmZXJzLnB1c2goYnVmZmVyKTtcbiAgICAgICAgYmlkeC5wdXNoKDApO1xuICAgICAgICB0b3RhbF9zaXplICs9IGJ1ZmZlci5sZW5ndGg7XG4gICAgICB9XG4gICAgICAvLyBJbnRlcmxlYXZlXG4gICAgICBsZXQgdmVydHMgPSBuZXcgRmxvYXQzMkFycmF5KHRvdGFsX3NpemUpO1xuICAgICAgbGV0IGlkeCA9IDA7XG4gICAgICBmb3IgKGxldCB2ZXJ0ID0gMDsgdmVydCA8IHZlcnRfY291bnQ7ICsrdmVydCkge1xuICAgICAgICBmb3IgKGxldCBhdHRyID0gMDsgYXR0ciA8IGZvcm1hdC5sZW5ndGg7ICsrYXR0cikge1xuICAgICAgICAgIGZvciAobGV0IGtrID0gMDsga2sgPCBmb3JtYXRbYXR0cl1bMl07ICsra2spIHtcbiAgICAgICAgICAgIHZlcnRzW2lkeCsrXSA9IGJ1ZmZlcnNbYXR0cl1bYmlkeFthdHRyXSsrXTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8vIEdldCBpbmRpY2VzXG4gICAgICBsZXQgYWNjZXNzb3IgPSBnbGJfanNvbi5hY2Nlc3NvcnNbcHJpbWl0aXZlcy5pbmRpY2VzXTtcbiAgICAgIGFzc2VydChhY2Nlc3Nvcik7IC8vIG11c3QgYmUgYW4gaW5kZXhlZCBwcmltaXRpdmUgc2V0XG4gICAgICBhc3NlcnQuZXF1YWwoYWNjZXNzb3IudHlwZSwgJ1NDQUxBUicpO1xuICAgICAgbGV0IGlkeHMgPSBnbGIuZ2V0QnVmZmVyKGFjY2Vzc29yKTtcbiAgICAgIGlmIChhY2Nlc3Nvci5jb21wb25lbnRUeXBlID09PSA1MTI1KSB7IC8vIFVpbnQzMlxuICAgICAgICBhc3NlcnQodmVydF9jb3VudCA8IDY1NTM2KTsgLy8gRml0cyBpbiAxNi1iaXRzXG4gICAgICAgIC8vIEp1c3QgY29udmVydCB0byAxNi1iaXRcbiAgICAgICAgaWR4cyA9IG5ldyBVaW50MTZBcnJheShpZHhzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFzc2VydC5lcXVhbChhY2Nlc3Nvci5jb21wb25lbnRUeXBlLCA1MTIzKTsgLy8gVWludDE2XG4gICAgICB9XG4gICAgICBvYmpzLnB1c2goe1xuICAgICAgICBnZW9tOiBnZW9tLmNyZWF0ZShmb3JtYXQsIHZlcnRzLCBpZHhzLCBwcmltaXRpdmVzLm1vZGUpLFxuICAgICAgICB0ZXh0dXJlLFxuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIC8vIFRPRE86IFNvbWV0aGluZyB3aXRoIG5vZGVzIHRvIHRpZSB0b2dldGhlciBhbmQgcG9zaXRpb24gdGhlIG1lc2hlc1xuICB0aGlzLmRhdGEgPSB7XG4gICAgb2JqcyxcbiAgICAvLyBnbGIsIC0gRG9uJ3Qga2VlcCB0aGlzLCByZWxlYXNlIGl0IGFuZCBhbnkgdW5yZWZlcmVuY2VkIGRhdGEvYnVmZmVyc1xuICB9O1xufTtcblxuTW9kZWwucHJvdG90eXBlLmRyYXcgPSBmdW5jdGlvbiAobWF0KSB7XG4gIHJlbmRlcmVyLnVwZGF0ZU1hdHJpY2VzKG1hdCk7IC8vIGJlZm9yZSBzZXR0aW5nIHNoYWRlclxuICBzaGFkZXJzLmJpbmQoZGVmYXVsdF92c2hhZGVyLCBkZWZhdWx0X2ZzaGFkZXIsIHtcbiAgICBjb2xvcjogdmVjNCgxLCAxLCAxLCAxKSxcbiAgfSk7XG4gIGxldCBvYmpzID0gdGhpcy5kYXRhLm9ianM7XG4gIGZvciAobGV0IGlpID0gMDsgaWkgPCBvYmpzLmxlbmd0aDsgKytpaSkge1xuICAgIGxldCBvYmogPSBvYmpzW2lpXTtcbiAgICBpZiAob2JqLnRleHR1cmUpIHtcbiAgICAgIHRleHR1cmVzLmJpbmQoMCwgb2JqLnRleHR1cmUpO1xuICAgIH1cbiAgICBvYmouZ2VvbS5kcmF3KCk7XG4gIH1cbn07XG5cbi8vIEp1c3QgZHJhdyB0aGUgZ2VvbWV0cnksIHdpdGhvdXQgYW55IG90aGVyIGJpbmRpbmdcbk1vZGVsLnByb3RvdHlwZS5kcmF3R2VvbSA9IGZ1bmN0aW9uICgpIHtcbiAgbGV0IG9ianMgPSB0aGlzLmRhdGEub2JqcztcbiAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IG9ianMubGVuZ3RoOyArK2lpKSB7XG4gICAgbGV0IG9iaiA9IG9ianNbaWldO1xuICAgIG9iai5nZW9tLmRyYXcoKTtcbiAgfVxufTtcblxuZXhwb3J0IGZ1bmN0aW9uIGxvYWQodXJsKSB7XG4gIGlmIChtb2RlbHNbdXJsXSkge1xuICAgIHJldHVybiBtb2RlbHNbdXJsXTtcbiAgfVxuICBsZXQgbW9kZWwgPSBtb2RlbHNbdXJsXSA9IG5ldyBNb2RlbCh1cmwpO1xuICBtb2RlbC5kYXRhID0gbW9kZWxzLmJveC5kYXRhOyAvLyBzdHViIHVudGlsIGxvYWRlZFxuICBtb2RlbC5sb2FkKCk7XG4gIHJldHVybiBtb2RlbDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0dXAoKSB7XG4gIGluaXRTaGFkZXJzKCk7XG4gIGxldCBtb2RlbF9ib3ggPSBtb2RlbHMuYm94ID0gbmV3IE1vZGVsKCdib3gnKTtcbiAgbW9kZWxfYm94LnBhcnNlKHdlYkZTR2V0RmlsZSgnZ2xvdi9tb2RlbHMvYm94X3RleHR1cmVkX2VtYmVkLmdsYicpLmJ1ZmZlcik7XG59XG4iLCIvLyBQb3J0aW9ucyBDb3B5cmlnaHQgMjAxOSBKaW1iIEVzc2VyIChodHRwczovL2dpdGh1Yi5jb20vSmltYmx5Lylcbi8vIFJlbGVhc2VkIHVuZGVyIE1JVCBMaWNlbnNlOiBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVFxuXG5jb25zdCB7IGZpbGV3YXRjaFN0YXJ0dXAgfSA9IHJlcXVpcmUoJy4vZmlsZXdhdGNoLmpzJyk7XG5jb25zdCBwYWNrZXQgPSByZXF1aXJlKCcuLi8uLi9jb21tb24vcGFja2V0LmpzJyk7XG5jb25zdCBzdWJzY3JpcHRpb25fbWFuYWdlciA9IHJlcXVpcmUoJy4vc3Vic2NyaXB0aW9uX21hbmFnZXIuanMnKTtcbmNvbnN0IFdTQ2xpZW50ID0gcmVxdWlyZSgnLi93c2NsaWVudC5qcycpLldTQ2xpZW50O1xuY29uc3Qgd3Njb21tb24gPSByZXF1aXJlKCcuLi8uLi9jb21tb24vd3Njb21tb24uanMnKTtcblxubGV0IGNsaWVudDtcbmxldCBzdWJzO1xuXG5leHBvcnQgZnVuY3Rpb24gaW5pdChwYXJhbXMpIHtcbiAgcGFyYW1zID0gcGFyYW1zIHx8IHt9O1xuICBpZiAocGFyYW1zLnB2ZXIpIHtcbiAgICB3c2NvbW1vbi5QUk9UT0NPTF9WRVJTSU9OID0gcGFyYW1zLnB2ZXI7XG4gIH1cbiAgaWYgKFN0cmluZyhkb2N1bWVudC5sb2NhdGlvbikubWF0Y2goL15odHRwcz86XFwvXFwvbG9jYWxob3N0LykpIHtcbiAgICBjb25zb2xlLmxvZygnUGFja2V0RGVidWc6IE9OJyk7XG4gICAgcGFja2V0LmRlZmF1bHRfZmxhZ3MgfD0gcGFja2V0LlBBQ0tFVF9ERUJVRztcbiAgfVxuICBjbGllbnQgPSBuZXcgV1NDbGllbnQocGFyYW1zLnBhdGgpO1xuICBzdWJzID0gc3Vic2NyaXB0aW9uX21hbmFnZXIuY3JlYXRlKGNsaWVudCwgcGFyYW1zLmNtZF9wYXJzZSk7XG4gIHN1YnMuYXV0b19jcmVhdGVfdXNlciA9IEJvb2xlYW4ocGFyYW1zLmF1dG9fY3JlYXRlX3VzZXIpO1xuICB3aW5kb3cuc3VicyA9IHN1YnM7IC8vIGZvciBkZWJ1Z2dpbmdcbiAgZXhwb3J0cy5zdWJzID0gc3VicztcbiAgZXhwb3J0cy5jbGllbnQgPSBjbGllbnQ7XG4gIGZpbGV3YXRjaFN0YXJ0dXAoY2xpZW50KTtcblxuICBpZiAocGFyYW1zLmVuZ2luZSkge1xuICAgIHBhcmFtcy5lbmdpbmUuYWRkVGlja0Z1bmMoKGR0KSA9PiB7XG4gICAgICBzdWJzLnRpY2soZHQpO1xuICAgIH0pO1xuICB9XG59XG5cbmNvbnN0IGJ1aWxkX3RpbWVzdGFtcF9zdHJpbmcgPSBuZXcgRGF0ZShOdW1iZXIoQlVJTERfVElNRVNUQU1QKSlcbiAgLnRvSVNPU3RyaW5nKClcbiAgLnJlcGxhY2UoJ1QnLCAnICcpXG4gIC5zbGljZSgwLCAtOCk7XG5leHBvcnQgZnVuY3Rpb24gYnVpbGRTdHJpbmcoKSB7XG4gIHJldHVybiBidWlsZF90aW1lc3RhbXBfc3RyaW5nO1xufVxuIiwiLy8gUG9ydGlvbnMgQ29weXJpZ2h0IDIwMTkgSmltYiBFc3NlciAoaHR0cHM6Ly9naXRodWIuY29tL0ppbWJseS8pXG4vLyBSZWxlYXNlZCB1bmRlciBNSVQgTGljZW5zZTogaHR0cHM6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9NSVRcblxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFBhcnRpY2xlIFN5c3RlbSBTcGVjXG5cbi8qXG4vLyBEZWZpbml0aW9uc1xuLy8gdmFsdWUgPSBudW1iZXIgb3Jcbi8vIHZhbHVlID0gW2Jhc2UsIGFkZF9tYXhdIC0+IGdlbmVyYXRlcyBhIG51bWJlciBpbiB0aGUgcmFuZ2UgW2Jhc2UsIGJhc2UgKyBhZGRfbWF4KVxubGV0IGRlZl9maXJlID0ge1xuICBwYXJ0aWNsZXM6IHtcbiAgICBmaXJlOiB7XG4gICAgICBibGVuZDogJ2FkZGl0aXZlJyxcbiAgICAgIHRleHR1cmU6ICdmaXJlLnBuZycsXG4gICAgICBjb2xvcjogWzEsMSwxLDFdLCAvLyBtdWx0aXBsaWVkIGJ5IGFuaW1hdGlvbiB0cmFjaywgZGVmYXVsdCAxLDEsMSwxLCBjYW4gYmUgb21pdHRlZFxuICAgICAgY29sb3JfdHJhY2s6IFsgLy8ganVzdCB2YWx1ZXMsIE5PVCByYW5kb20gcmFuZ2VcbiAgICAgICAgeyB0OiAwLjAsIHY6IFsxLDAuNCwwLjQsMV0gfSxcbiAgICAgICAgeyB0OiAwLjcsIHY6IFsxLDAsMCwxXSB9LFxuICAgICAgICB7IHQ6IDAuOSwgdjogWzAuMiwwLDAsMV0gfSxcbiAgICAgICAgeyB0OiAxLjAsIHY6IFswLDAsMCwxXSB9LFxuICAgICAgXSxcbiAgICAgIHNpemU6IFtbMzIsMTZdLCBbMzIsMTZdXSwgLy8gbXVsdGlwbGllZCBieSBhbmltYXRpb24gdHJhY2tcbiAgICAgIHNpemVfdHJhY2s6IFsgLy8ganVzdCB2YWx1ZXMsIE5PVCByYW5kb20gcmFuZ2VcbiAgICAgICAgeyB0OiAwLjAsIHY6IFsxLDFdIH0sXG4gICAgICAgIHsgdDogMC40LCB2OiBbMC41LDAuNV0gfSxcbiAgICAgICAgeyB0OiAwLjcsIHY6IFsxLDFdIH0sXG4gICAgICAgIHsgdDogMS4wLCB2OiBbMS41LDEuNV0gfSxcbiAgICAgIF0sXG4gICAgICBhY2NlbDogWzAsMF0sXG4gICAgICByb3Q6IFswLDM2MF0sIC8vIGRlZ3JlZXNcbiAgICAgIHJvdF92ZWw6IFsxMCwyXSwgLy8gZGVncmVlcyBwZXIgc2Vjb25kXG4gICAgICBsaWZlc3BhbjogWzQ1MCwwXSwgLy8gbWlsbGlzZWNvbmRzXG4gICAgICBraWxsX3RpbWVfYWNjZWw6IDUsXG4gICAgfSxcbiAgfSxcbiAgZW1pdHRlcnM6IHtcbiAgICBmaXJlOiB7XG4gICAgICBwYXJ0aWNsZTogJ2ZpcmUnLFxuICAgICAgLy8gUmFuZG9tIHJhbmdlcyBhZmZlY3QgZWFjaCBlbWl0dGVkIHBhcnRpY2xlOlxuICAgICAgcG9zOiBbWzAsMjhdLCBbMCwyOF1dLFxuICAgICAgdmVsOiBbMCwwXSxcbiAgICAgIGVtaXRfcmF0ZTogWzYwLDIwXSwgLy8gZW1pc3Npb25zIHBlciBzZWNvbmRcbiAgICAgIC8vIFJhbmRvbSByYW5nZXMgb25seSBjYWxjdWxhdGVkIHVwb24gaW5zdGFudGlhdGlvbjpcbiAgICAgIGVtaXRfdGltZTogWzAsSW5maW5pdHldLFxuICAgICAgZW1pdF9pbml0aWFsOiAxMCxcbiAgICB9LFxuICB9LFxuICBzeXN0ZW1fbGlmZXNwYW46IEluZmluaXR5LCAvLyBtdXN0IGJlIG1hbnVhbGx5IGtpbGxlZFxufTtcblxuLy8gVXNhZ2VcbmxldCBzeXN0ZW0gPSBnbG92X2VuZ2luZS5nbG92X3BhcnRpY2xlcy5jcmVhdGVTeXN0ZW0oZGVmX2ZpcmUsIFs1MCwgNTAsIFouUEFSVElDTEVTXSk7XG5zeXN0ZW0udXBkYXRlUG9zKDc1LCA3NSk7XG5zeXN0ZW0ua2lsbFNvZnQoKTsgLy8gc3RvcHMgZW1pdHRpbmcgYW5kIHNwZWVkcyB1cCBwYXJ0aWNsZXMgYnkga2lsbF90aW1lX2FjY2VsXG5zeXN0ZW0ua2lsbEhhcmQoKTsgLy8gaW1tZWRpYXRlbHkgc3RvcHMgZHJhd2luZ1xuXG4qL1xuXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gSW1wbGVtZW50YXRpb25cblxuY29uc3QgYXNzZXJ0ID0gcmVxdWlyZSgnYXNzZXJ0Jyk7XG5jb25zdCBzcHJpdGVzID0gcmVxdWlyZSgnLi9zcHJpdGVzLmpzJyk7XG5jb25zdCB0ZXh0dXJlcyA9IHJlcXVpcmUoJy4vdGV4dHVyZXMuanMnKTtcbmNvbnN0IHsgdmVjMiwgdjJjb3B5LCB2MmxlcnAsIHYybXVsIH0gPSByZXF1aXJlKCcuL3ZtYXRoLmpzJyk7XG5jb25zdCB7IHZlYzMsIHZlYzQsIHYzYWRkLCB2NGNvcHksIHY0bGVycCwgdjRtdWwgfSA9IHJlcXVpcmUoJy4vdm1hdGguanMnKTtcblxuY29uc3QgYmxlbmRfbWFwID0ge1xuICBhbHBoYTogc3ByaXRlcy5CTEVORF9BTFBIQSxcbiAgYWRkaXRpdmU6IHNwcml0ZXMuQkxFTkRfQURESVRJVkUsXG59O1xuXG5leHBvcnQgZnVuY3Rpb24gcHJlbG9hZFBhcnRpY2xlRGF0YShwYXJ0aWNsZV9kYXRhKSB7XG4gIC8vIFByZWxvYWQgYWxsIHJlZmVyZW5jZWQgcGFydGljbGUgdGV4dHVyZXNcbiAgZm9yIChsZXQga2V5IGluIHBhcnRpY2xlX2RhdGEuZGVmcykge1xuICAgIGxldCBkZWYgPSBwYXJ0aWNsZV9kYXRhLmRlZnNba2V5XTtcbiAgICBmb3IgKGxldCBwYXJ0X25hbWUgaW4gZGVmLnBhcnRpY2xlcykge1xuICAgICAgbGV0IHBhcnRfZGVmID0gZGVmLnBhcnRpY2xlc1twYXJ0X25hbWVdO1xuICAgICAgdGV4dHVyZXMubG9hZCh7IHVybDogYGltZy8ke3BhcnRfZGVmLnRleHR1cmV9LnBuZ2AgfSk7XG4gICAgfVxuICB9XG59XG5cbi8vIEV4cGVjdCBhbGwgdmFsdWVzIHRvIGJlIGEgcGFpciBvZiBbYmFzZSwgYWRkX21heF1cbmZ1bmN0aW9uIG5vcm1hbGl6ZVZhbHVlKHYpIHtcbiAgaWYgKHYgaW5zdGFuY2VvZiBGbG9hdDMyQXJyYXkgJiYgdi5sZW5ndGggPj0gMikge1xuICAgIHJldHVybiB2O1xuICB9IGVsc2UgaWYgKHR5cGVvZiB2ID09PSAnbnVtYmVyJykge1xuICAgIHJldHVybiB2ZWMyKHYsIDApO1xuICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkodikgfHwgdiBpbnN0YW5jZW9mIEZsb2F0MzJBcnJheSkge1xuICAgIC8vIGFscmVhZHkgYW4gYXJyYXksIGNvbnZlcnQgdG8gVmVjMlxuICAgIHJldHVybiB2ZWMyKHZbMF0gfHwgMCwgdlsxXSB8fCAwKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gYXNzZXJ0KGZhbHNlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBub3JtYWxpemVWYWx1ZVZlYyh2ZWMsIGxlbmd0aCkge1xuICBhc3NlcnQobGVuZ3RoKTtcbiAgYXNzZXJ0KEFycmF5LmlzQXJyYXkodmVjKSk7XG4gIGxldCByZXQgPSBuZXcgQXJyYXkobGVuZ3RoKTtcbiAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IGxlbmd0aDsgKytpaSkge1xuICAgIHJldFtpaV0gPSBub3JtYWxpemVWYWx1ZSh2ZWNbaWldKTtcbiAgfVxuICByZXR1cm4gcmV0O1xufVxuXG5mdW5jdGlvbiBub3JtYWxpemVQYXJ0aWNsZShkZWYsIHBhcnRpY2xlX21hbmFnZXIpIHtcbiAgaWYgKCFkZWYubm9ybWFsaXplZCkge1xuICAgIGxldCBub3JtID0gZGVmLm5vcm1hbGl6ZWQgPSB7XG4gICAgICBibGVuZDogYmxlbmRfbWFwW2RlZi5ibGVuZF0gfHwgc3ByaXRlcy5CTEVORF9BTFBIQSxcbiAgICAgIHRleHR1cmU6IHRleHR1cmVzLmxvYWQoeyB1cmw6IGRlZi50ZXh0dXJlID8gYGltZy8ke2RlZi50ZXh0dXJlfS5wbmdgIDogJ2ltZy9nbG92L3V0aWxfY2lyY2xlLnBuZycgfSksXG4gICAgICBjb2xvcjogbm9ybWFsaXplVmFsdWVWZWMoZGVmLmNvbG9yIHx8IFsxLDEsMSwxXSwgNCksXG4gICAgICBjb2xvcl90cmFjazogbnVsbCxcbiAgICAgIHNpemU6IG5vcm1hbGl6ZVZhbHVlVmVjKGRlZi5zaXplIHx8IFsxLDFdLCAyKSxcbiAgICAgIHNpemVfdHJhY2s6IG51bGwsXG4gICAgICBhY2NlbDogbm9ybWFsaXplVmFsdWVWZWMoZGVmLmFjY2VsIHx8IFswLDAsMF0sIDMpLFxuICAgICAgcm90OiBub3JtYWxpemVWYWx1ZShkZWYucm90IHx8IDApLFxuICAgICAgcm90X3ZlbDogbm9ybWFsaXplVmFsdWUoZGVmLnJvdCB8fCAwKSxcbiAgICAgIGxpZmVzcGFuOiBub3JtYWxpemVWYWx1ZShkZWYubGlmZXNwYW4gfHwgMTAwMCksXG4gICAgICBraWxsX3RpbWVfYWNjZWw6IG5vcm1hbGl6ZVZhbHVlKGRlZi5raWxsX3RpbWVfYWNjZWwgfHwgMSksXG4gICAgfTtcbiAgICBhc3NlcnQobm9ybS5raWxsX3RpbWVfYWNjZWxbMF0gPj0gMSk7IC8vIGNhbm5vdCBzbG93IGRvd24gb24ga2lsbCFcbiAgICBpZiAoZGVmLmNvbG9yX3RyYWNrICYmIGRlZi5jb2xvcl90cmFjay5sZW5ndGgpIHtcbiAgICAgIGFzc2VydChkZWYuY29sb3JfdHJhY2subGVuZ3RoID4gMSk7XG4gICAgICBub3JtLmNvbG9yX3RyYWNrID0gW107XG4gICAgICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgZGVmLmNvbG9yX3RyYWNrLmxlbmd0aDsgKytpaSkge1xuICAgICAgICBsZXQgZSA9IGRlZi5jb2xvcl90cmFja1tpaV07XG4gICAgICAgIGFzc2VydCh0eXBlb2YgZS50ID09PSAnbnVtYmVyJyk7XG4gICAgICAgIGxldCBhcnIgPSBuZXcgRmxvYXQzMkFycmF5KDUpO1xuICAgICAgICBhcnJbMF0gPSBlLnZbMF07XG4gICAgICAgIGFyclsxXSA9IGUudlsxXTtcbiAgICAgICAgYXJyWzJdID0gZS52WzJdO1xuICAgICAgICBhcnJbM10gPSBlLnZbM107XG4gICAgICAgIGFycls0XSA9IGUudDtcbiAgICAgICAgbm9ybS5jb2xvcl90cmFjay5wdXNoKGFycik7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChkZWYuc2l6ZV90cmFjayAmJiBkZWYuc2l6ZV90cmFjay5sZW5ndGgpIHtcbiAgICAgIGFzc2VydChkZWYuc2l6ZV90cmFjay5sZW5ndGggPiAxKTtcbiAgICAgIG5vcm0uc2l6ZV90cmFjayA9IFtdO1xuICAgICAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IGRlZi5zaXplX3RyYWNrLmxlbmd0aDsgKytpaSkge1xuICAgICAgICBsZXQgZSA9IGRlZi5zaXplX3RyYWNrW2lpXTtcbiAgICAgICAgYXNzZXJ0KHR5cGVvZiBlLnQgPT09ICdudW1iZXInKTtcbiAgICAgICAgbGV0IGFyciA9IG5ldyBGbG9hdDMyQXJyYXkoMyk7XG4gICAgICAgIGFyclswXSA9IGUudlswXTtcbiAgICAgICAgYXJyWzFdID0gZS52WzFdO1xuICAgICAgICBhcnJbMl0gPSBlLnQ7XG4gICAgICAgIG5vcm0uc2l6ZV90cmFjay5wdXNoKGFycik7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBkZWYubm9ybWFsaXplZDtcbn1cblxuZnVuY3Rpb24gZmluZFBhcnRpY2xlKHBhcnRpY2xlcywgbmFtZSkge1xuICBhc3NlcnQocGFydGljbGVzW25hbWVdICE9PSB1bmRlZmluZWQpO1xuICByZXR1cm4gcGFydGljbGVzW25hbWVdO1xufVxuXG5mdW5jdGlvbiBub3JtYWxpemVFbWl0dGVyKGRlZiwgcGFydF9tYXApIHtcbiAgaWYgKCFkZWYubm9ybWFsaXplZCkge1xuICAgIGRlZi5ub3JtYWxpemVkID0ge1xuICAgICAgcGFydF9pZHg6IGZpbmRQYXJ0aWNsZShwYXJ0X21hcCwgZGVmLnBhcnRpY2xlKSxcbiAgICAgIHBvczogbm9ybWFsaXplVmFsdWVWZWMoZGVmLnBvcyB8fCBbMCwwLDBdLCAzKSxcbiAgICAgIHZlbDogbm9ybWFsaXplVmFsdWVWZWMoZGVmLnZlbCB8fCBbMCwwLDBdLCAzKSxcbiAgICAgIGVtaXRfcmF0ZTogbm9ybWFsaXplVmFsdWUoZGVmLmVtaXRfcmF0ZSB8fCAxMCksXG4gICAgICBlbWl0X3RpbWU6IG5vcm1hbGl6ZVZhbHVlVmVjKGRlZi5lbWl0X3RpbWUgfHwgWzAsSW5maW5pdHldLCAyKSxcbiAgICAgIGVtaXRfaW5pdGlhbDogbm9ybWFsaXplVmFsdWUoZGVmLmVtaXRfaW5pdGlhbCB8fCAxKSxcbiAgICB9O1xuICAgIC8vIGNvbnZlcnQgcGFydGljbGVzIHBlciBzZWNvbmQgdG8gbXMgcGVyIGVtaXNzaW9uXG4gICAgbGV0IG1pbiA9IGRlZi5ub3JtYWxpemVkLmVtaXRfcmF0ZVswXTtcbiAgICBsZXQgbWF4ID0gZGVmLm5vcm1hbGl6ZWQuZW1pdF9yYXRlWzBdICsgZGVmLm5vcm1hbGl6ZWQuZW1pdF9yYXRlWzFdO1xuICAgIGRlZi5ub3JtYWxpemVkLmVtaXRfcmF0ZVswXSA9IDEwMDAgLyBtYXg7XG4gICAgZGVmLm5vcm1hbGl6ZWQuZW1pdF9yYXRlWzFdID0gMTAwMCAvIG1pbjtcbiAgICBhc3NlcnQoZGVmLm5vcm1hbGl6ZWQuZW1pdF9yYXRlWzBdID4gMSk7IC8vIE5vdCBtb3JlIHRoYW4gMTAwMCBwZXIgc2Vjb25kLCB0aGF0J3MgcmlkaWMnLlxuICB9XG4gIHJldHVybiBkZWYubm9ybWFsaXplZDtcbn1cblxuZnVuY3Rpb24gbm9ybWFsaXplRGVmKGRlZiwgcGFydGljbGVfbWFuYWdlcikge1xuICBpZiAoIWRlZi5ub3JtYWxpemVkKSB7XG4gICAgbGV0IG5vcm0gPSBkZWYubm9ybWFsaXplZCA9IHtcbiAgICAgIHN5c3RlbV9saWZlc3Bhbjogbm9ybWFsaXplVmFsdWUoZGVmLnN5c3RlbV9saWZlc3BhbiB8fCBJbmZpbml0eSksXG4gICAgICBwYXJ0aWNsZXM6IFtdLFxuICAgICAgZW1pdHRlcnM6IFtdLFxuICAgIH07XG4gICAgbGV0IHBhcnRfbWFwID0ge307XG4gICAgZm9yIChsZXQga2V5IGluIGRlZi5wYXJ0aWNsZXMpIHtcbiAgICAgIHBhcnRfbWFwW2tleV0gPSBub3JtLnBhcnRpY2xlcy5sZW5ndGg7XG4gICAgICBub3JtLnBhcnRpY2xlcy5wdXNoKG5vcm1hbGl6ZVBhcnRpY2xlKGRlZi5wYXJ0aWNsZXNba2V5XSwgcGFydGljbGVfbWFuYWdlcikpO1xuICAgIH1cbiAgICBmb3IgKGxldCBrZXkgaW4gZGVmLmVtaXR0ZXJzKSB7XG4gICAgICBub3JtLmVtaXR0ZXJzLnB1c2gobm9ybWFsaXplRW1pdHRlcihkZWYuZW1pdHRlcnNba2V5XSwgcGFydF9tYXApKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGRlZi5ub3JtYWxpemVkO1xufVxuXG5mdW5jdGlvbiBpbnN0VmFsdWUodikge1xuICByZXR1cm4gdlswXSArIE1hdGgucmFuZG9tKCkgKiB2WzFdO1xufVxuZnVuY3Rpb24gaW5zdFZhbHVlVmVjKHYpIHtcbiAgbGV0IHJldCA9IG5ldyBGbG9hdDMyQXJyYXkodi5sZW5ndGgpO1xuICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgdi5sZW5ndGg7ICsraWkpIHtcbiAgICByZXRbaWldID0gaW5zdFZhbHVlKHZbaWldKTtcbiAgfVxuICByZXR1cm4gcmV0O1xufVxuXG5sZXQgdGVtcF9jb2xvciA9IHZlYzQoKTtcbmxldCB0ZW1wX2NvbG9yMiA9IHZlYzQoKTtcbmxldCB0ZW1wX3NpemUgPSB2ZWMyKCk7XG5sZXQgdGVtcF9zaXplMiA9IHZlYzIoKTtcbi8vIGxldCB0ZW1wX3BvcyA9IHYzYWxsb2NaZXJvKCk7XG5cbmNsYXNzIFBhcnRpY2xlU3lzdGVtIHtcbiAgY29uc3RydWN0b3IocGFyZW50LCBkZWZfaW4sIHBvcykge1xuICAgIGFzc2VydChwb3MubGVuZ3RoID09PSAzKTtcbiAgICB0aGlzLnBhcmVudCA9IHBhcmVudDtcbiAgICB0aGlzLmRlZiA9IG5vcm1hbGl6ZURlZihkZWZfaW4sIHBhcmVudCk7XG4gICAgdGhpcy5zeXN0ZW1fbGlmZXNwYW4gPSBpbnN0VmFsdWUodGhpcy5kZWYuc3lzdGVtX2xpZmVzcGFuKTtcbiAgICBhc3NlcnQodGhpcy5zeXN0ZW1fbGlmZXNwYW4gPiAwKTtcbiAgICB0aGlzLmFnZSA9IDA7XG4gICAgdGhpcy5raWxsX2hhcmQgPSBmYWxzZTtcbiAgICB0aGlzLmtpbGxfc29mdCA9IGZhbHNlO1xuICAgIHRoaXMucG9zID0gdmVjMyhwb3NbMF0sIHBvc1sxXSwgcG9zWzJdKTtcbiAgICB0aGlzLnBhcnRfc2V0cyA9IFtdO1xuICAgIGZvciAobGV0IGlpID0gMDsgaWkgPCB0aGlzLmRlZi5wYXJ0aWNsZXMubGVuZ3RoOyArK2lpKSB7XG4gICAgICBsZXQgZGVmID0gdGhpcy5kZWYucGFydGljbGVzW2lpXTtcbiAgICAgIGxldCBwYXJ0X3NldCA9IHtcbiAgICAgICAgZGVmLFxuICAgICAgICBwYXJ0czogW10sXG4gICAgICB9O1xuICAgICAgdGhpcy5wYXJ0X3NldHMucHVzaChwYXJ0X3NldCk7XG4gICAgfVxuICAgIHRoaXMuZW1pdHRlcnMgPSBbXTtcbiAgICAvLyBJbnN0YW50aWF0ZSBlbWl0dGVyc1xuICAgIGZvciAobGV0IGlpID0gMDsgaWkgPCB0aGlzLmRlZi5lbWl0dGVycy5sZW5ndGg7ICsraWkpIHtcbiAgICAgIGxldCBkZWYgPSB0aGlzLmRlZi5lbWl0dGVyc1tpaV07XG4gICAgICBsZXQgZW1pdHRlciA9IHtcbiAgICAgICAgZGVmLFxuICAgICAgICBlbWl0X3RpbWU6IGluc3RWYWx1ZVZlYyhkZWYuZW1pdF90aW1lKSxcbiAgICAgICAgY291bnRkb3duOiAwLFxuICAgICAgICBzdGFydGVkOiBmYWxzZSxcbiAgICAgICAgc3RvcHBlZDogZmFsc2UsXG4gICAgICB9O1xuICAgICAgdGhpcy5lbWl0dGVycy5wdXNoKGVtaXR0ZXIpO1xuICAgIH1cbiAgICAvLyBkbyBpbml0aWFsIHRpY2sgZm9yIHRoaW5ncyB0aGF0IGhhdmUgYW4gZW1pdF90aW1lWzBdIG9mIDAgYW5kIGhhdmUgYW4gZW1pdF9pbml0aWFsXG4gICAgdGhpcy50aWNrKDApO1xuICB9XG5cbiAgdGlja1BhcnRpY2xlKHBhcnQsIGR0KSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgY2xhc3MtbWV0aG9kcy11c2UtdGhpc1xuICAgIGxldCBkZWYgPSBwYXJ0LmRlZjtcbiAgICBwYXJ0LmFnZSArPSBkdDtcbiAgICBsZXQgYWdlX25vcm0gPSBwYXJ0LmFnZSAvIHBhcnQubGlmZXNwYW47XG4gICAgaWYgKGFnZV9ub3JtID49IDEpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8vIFBvcywgdmVsIC0gaW5jcmVtZW50YWxseSBjb21wdXRlZFxuICAgIGxldCBkdHMgPSBkdCAvIDEwMDA7XG4gICAgcGFydC5wb3NbMF0gKz0gcGFydC52ZWxbMF0gKiBkdHM7XG4gICAgcGFydC5wb3NbMV0gKz0gcGFydC52ZWxbMV0gKiBkdHM7XG4gICAgcGFydC5wb3NbMl0gKz0gcGFydC52ZWxbMl0gKiBkdHM7XG4gICAgcGFydC52ZWxbMF0gKz0gcGFydC5hY2NlbFswXSAqIGR0cztcbiAgICBwYXJ0LnZlbFsxXSArPSBwYXJ0LmFjY2VsWzFdICogZHRzO1xuICAgIHBhcnQudmVsWzJdICs9IHBhcnQuYWNjZWxbMl0gKiBkdHM7XG5cbiAgICAvLyBDb2xvciwgc2l6ZSwgcm90IC0gZXhwbGljaXRseSBjb21wdXRlZFxuICAgIHY0Y29weSh0ZW1wX2NvbG9yLCBwYXJ0LmNvbG9yLCB0ZW1wX2NvbG9yKTtcbiAgICBpZiAoZGVmLmNvbG9yX3RyYWNrKSB7XG4gICAgICBpZiAoYWdlX25vcm0gPCBkZWYuY29sb3JfdHJhY2tbMF1bNF0pIHtcbiAgICAgICAgdjRtdWwodGVtcF9jb2xvciwgdGVtcF9jb2xvciwgZGVmLmNvbG9yX3RyYWNrWzBdKTtcbiAgICAgIH0gZWxzZSBpZiAoYWdlX25vcm0gPj0gZGVmLmNvbG9yX3RyYWNrW2RlZi5jb2xvcl90cmFjay5sZW5ndGggLSAxXVs0XSkge1xuICAgICAgICB2NG11bCh0ZW1wX2NvbG9yLCB0ZW1wX2NvbG9yLCBkZWYuY29sb3JfdHJhY2tbZGVmLmNvbG9yX3RyYWNrLmxlbmd0aCAtIDFdKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZvciAobGV0IGlpID0gMDsgaWkgPCBkZWYuY29sb3JfdHJhY2subGVuZ3RoIC0gMTsgKytpaSkge1xuICAgICAgICAgIGlmIChhZ2Vfbm9ybSA+PSBkZWYuY29sb3JfdHJhY2tbaWldWzRdICYmIGFnZV9ub3JtIDwgZGVmLmNvbG9yX3RyYWNrW2lpICsgMV1bNF0pIHtcbiAgICAgICAgICAgIGxldCB3ZWlnaHQgPSAoYWdlX25vcm0gLSBkZWYuY29sb3JfdHJhY2tbaWldWzRdKSAvIChkZWYuY29sb3JfdHJhY2tbaWkgKyAxXVs0XSAtIGRlZi5jb2xvcl90cmFja1tpaV1bNF0pO1xuICAgICAgICAgICAgdjRsZXJwKHRlbXBfY29sb3IyLCB3ZWlnaHQsIGRlZi5jb2xvcl90cmFja1tpaV0sIGRlZi5jb2xvcl90cmFja1tpaSArIDFdKTtcbiAgICAgICAgICAgIHY0bXVsKHRlbXBfY29sb3IsIHRlbXBfY29sb3IsIHRlbXBfY29sb3IyKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHYyY29weSh0ZW1wX3NpemUsIHBhcnQuc2l6ZSk7XG4gICAgaWYgKGRlZi5zaXplX3RyYWNrKSB7XG4gICAgICBpZiAoYWdlX25vcm0gPCBkZWYuc2l6ZV90cmFja1swXVs0XSkge1xuICAgICAgICB2Mm11bCh0ZW1wX3NpemUsIHRlbXBfc2l6ZSwgZGVmLnNpemVfdHJhY2tbMF0pO1xuICAgICAgfSBlbHNlIGlmIChhZ2Vfbm9ybSA+PSBkZWYuc2l6ZV90cmFja1tkZWYuc2l6ZV90cmFjay5sZW5ndGggLSAxXVs0XSkge1xuICAgICAgICB2Mm11bCh0ZW1wX3NpemUsIHRlbXBfc2l6ZSwgZGVmLnNpemVfdHJhY2tbZGVmLnNpemVfdHJhY2subGVuZ3RoIC0gMV0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IGRlZi5zaXplX3RyYWNrLmxlbmd0aCAtIDE7ICsraWkpIHtcbiAgICAgICAgICBpZiAoYWdlX25vcm0gPj0gZGVmLnNpemVfdHJhY2tbaWldWzRdICYmIGFnZV9ub3JtIDwgZGVmLnNpemVfdHJhY2tbaWkgKyAxXVs0XSkge1xuICAgICAgICAgICAgbGV0IHdlaWdodCA9IChhZ2Vfbm9ybSAtIGRlZi5zaXplX3RyYWNrW2lpXVs0XSkgLyAoZGVmLnNpemVfdHJhY2tbaWkgKyAxXVs0XSAtIGRlZi5zaXplX3RyYWNrW2lpXVs0XSk7XG4gICAgICAgICAgICB2MmxlcnAodGVtcF9zaXplMiwgd2VpZ2h0LCBkZWYuc2l6ZV90cmFja1tpaV0sIGRlZi5zaXplX3RyYWNrW2lpICsgMV0pO1xuICAgICAgICAgICAgdjJtdWwodGVtcF9zaXplLCB0ZW1wX3NpemUsIHRlbXBfc2l6ZTIpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gVE9ETzogbGV0IHJvdCA9IHBhcnQucm90ICsgcGFydC5hZ2UgKiBwYXJ0LnJvdF92ZWw7XG5cbiAgICAvLyBUT0RPOiBkcmF3IHVzaW5nOlxuICAgIC8vICAgcm90XG4gICAgbGV0IHcgPSBwYXJ0LnNpemVbMF07XG4gICAgbGV0IGggPSBwYXJ0LnNpemVbMV07XG4gICAgbGV0IHggPSBwYXJ0LnBvc1swXSAtIHcvMjtcbiAgICBsZXQgeSA9IHBhcnQucG9zWzFdIC0gaC8yO1xuICAgIGxldCB6ID0gcGFydC5wb3NbMl07XG4gICAgc3ByaXRlcy5xdWV1ZXJhdzQoW2RlZi50ZXh0dXJlXSxcbiAgICAgIHgsIHksIHgsIHkgKyBoLCB4ICsgdywgeSArIGgsIHggKyB3LCB5LCB6LCAwLCAwLCAxLCAxLFxuICAgICAgdGVtcF9jb2xvciwgbnVsbCwgbnVsbCwgZGVmLmJsZW5kKTtcblxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHRpY2tQYXJ0U2V0KGR0X29yaWcsIHBhcnRfc2V0KSB7XG4gICAgLy9sZXQgZGVmID0gcGFydF9zZXQuZGVmO1xuICAgIGxldCBwYXJ0cyA9IHBhcnRfc2V0LnBhcnRzO1xuICAgIGZvciAobGV0IGlpID0gcGFydHMubGVuZ3RoIC0gMTsgaWkgPj0gMDsgLS1paSkge1xuICAgICAgbGV0IHBhcnQgPSBwYXJ0c1tpaV07XG4gICAgICBsZXQgZHQgPSB0aGlzLmtpbGxfc29mdCA/IGR0X29yaWcgKiBwYXJ0LmtpbGxfdGltZV9hY2NlbCA6IGR0X29yaWc7XG4gICAgICBpZiAodGhpcy50aWNrUGFydGljbGUocGFydCwgZHQpKSB7XG4gICAgICAgIHBhcnRzW2lpXSA9IHBhcnRzW3BhcnRzLmxlbmd0aCAtIDFdO1xuICAgICAgICBwYXJ0cy5wb3AoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBlbWl0UGFydGljbGUoaW5pdF9kdCwgZW1pdHRlcikge1xuICAgIGxldCBlbWl0dGVyX2RlZiA9IGVtaXR0ZXIuZGVmO1xuICAgIGxldCBwYXJ0X3NldCA9IHRoaXMucGFydF9zZXRzW2VtaXR0ZXJfZGVmLnBhcnRfaWR4XTtcbiAgICBsZXQgZGVmID0gcGFydF9zZXQuZGVmO1xuICAgIGxldCBwb3MgPSBpbnN0VmFsdWVWZWMoZW1pdHRlcl9kZWYucG9zLCAzKTtcbiAgICB2M2FkZChwb3MsIHBvcywgdGhpcy5wb3MpO1xuICAgIC8vIFBFUkZUT0RPOiBNYWtlIHRoZSB3aG9sZSBQYXJ0aWNsZSBqdXN0IGEgZGF0YVtdIEZsb2F0MzJBcnJheVxuICAgIGxldCBwYXJ0ID0ge1xuICAgICAgZGVmLFxuICAgICAgcG9zLFxuICAgICAgY29sb3I6IGluc3RWYWx1ZVZlYyhkZWYuY29sb3IsIDQpLFxuICAgICAgc2l6ZTogaW5zdFZhbHVlVmVjKGRlZi5zaXplLCA0KSxcbiAgICAgIHZlbDogaW5zdFZhbHVlVmVjKGVtaXR0ZXJfZGVmLnZlbCwgMyksXG4gICAgICBhY2NlbDogaW5zdFZhbHVlVmVjKGRlZi5hY2NlbCwgMyksXG4gICAgICByb3Q6IGluc3RWYWx1ZShkZWYucm90KSxcbiAgICAgIHJvdF92ZWw6IGluc3RWYWx1ZShkZWYucm90X3ZlbCksXG4gICAgICBsaWZlc3BhbjogaW5zdFZhbHVlKGRlZi5saWZlc3BhbiksXG4gICAgICBraWxsX3RpbWVfYWNjZWw6IGluc3RWYWx1ZShkZWYua2lsbF90aW1lX2FjY2VsKSxcbiAgICAgIGFnZTogMCxcbiAgICB9O1xuICAgIGlmICghdGhpcy50aWNrUGFydGljbGUocGFydCwgaW5pdF9kdCkpIHtcbiAgICAgIHBhcnRfc2V0LnBhcnRzLnB1c2gocGFydCk7XG4gICAgfVxuICB9XG5cbiAgdGlja0VtaXR0ZXIoZHQsIGVtaXR0ZXIpIHtcbiAgICBsZXQgZGVmID0gZW1pdHRlci5kZWY7XG4gICAgLy8gY2hlY2sgZm9yIGluaXRpYWwgZW1pc3Npb25cbiAgICBpZiAoIWVtaXR0ZXIuc3RhcnRlZCAmJiB0aGlzLmFnZSA+PSBlbWl0dGVyLmVtaXRfdGltZVswXSkge1xuICAgICAgZW1pdHRlci5zdGFydGVkID0gdHJ1ZTtcbiAgICAgIC8vIGlnbm9yZSB0aW1lIGJlZm9yZSB3ZSBzdGFydGVkIGVtaXR0aW5nXG4gICAgICBkdCA9IHRoaXMuYWdlIC0gZW1pdHRlci5lbWl0X3RpbWVbMF07XG4gICAgICBsZXQgbnVtID0gaW5zdFZhbHVlKGRlZi5lbWl0X2luaXRpYWwpO1xuICAgICAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IG51bTsgKytpaSkge1xuICAgICAgICB0aGlzLmVtaXRQYXJ0aWNsZShkdCwgZW1pdHRlcik7XG4gICAgICB9XG4gICAgICBlbWl0dGVyLmNvdW50ZG93biA9IGluc3RWYWx1ZShkZWYuZW1pdF9yYXRlKTtcbiAgICB9XG4gICAgaWYgKGVtaXR0ZXIuc3RhcnRlZCAmJiAhZW1pdHRlci5zdG9wcGVkKSB7XG4gICAgICAvLyBzaG91bGQgd2Ugc3RvcD9cbiAgICAgIGxldCByZW1haW5pbmdfZHQgPSBkdDtcbiAgICAgIGxldCBlbWl0X2R0ID0gZHQ7XG4gICAgICBpZiAodGhpcy5hZ2UgPj0gZW1pdHRlci5lbWl0X3RpbWVbMV0pIHtcbiAgICAgICAgZW1pdHRlci5zdG9wcGVkID0gdHJ1ZTtcbiAgICAgICAgLy8gRG8gbm90IGVtaXQgZHVyaW5nIHRpbWUgYWZ0ZXIgd2Ugc3RvcHBlZFxuICAgICAgICBlbWl0X2R0IC09IHRoaXMuYWdlIC0gZW1pdHRlci5lbWl0X3RpbWVbMV07XG4gICAgICB9XG4gICAgICAvLyBFbWl0IGR0J3Mgd29ydGggb2YgcGFydGljbGVzXG4gICAgICB3aGlsZSAoZW1pdF9kdCA+PSBlbWl0dGVyLmNvdW50ZG93bikge1xuICAgICAgICBlbWl0X2R0IC09IGVtaXR0ZXIuY291bnRkb3duO1xuICAgICAgICByZW1haW5pbmdfZHQgLT0gZW1pdHRlci5jb3VudGRvd247XG4gICAgICAgIGVtaXR0ZXIuY291bnRkb3duID0gaW5zdFZhbHVlKGRlZi5lbWl0X3JhdGUpO1xuICAgICAgICB0aGlzLmVtaXRQYXJ0aWNsZShyZW1haW5pbmdfZHQsIGVtaXR0ZXIpO1xuICAgICAgfVxuICAgICAgZW1pdHRlci5jb3VudGRvd24gLT0gZW1pdF9kdDtcbiAgICB9XG4gIH1cblxuICB0aWNrKGR0KSB7XG4gICAgaWYgKHRoaXMua2lsbF9oYXJkKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgLy8gdGljayBleGlzdGluZyBwYXJ0aWNsZXNcbiAgICBmb3IgKGxldCBpaSA9IHRoaXMucGFydF9zZXRzLmxlbmd0aCAtIDE7IGlpID49IDA7IC0taWkpIHtcbiAgICAgIHRoaXMudGlja1BhcnRTZXQoZHQsIHRoaXMucGFydF9zZXRzW2lpXSk7XG4gICAgfVxuICAgIC8vIGFkdmFuY2UgdGltZSBhbmQgc3Bhd24gbmV3IG9uZXMgKHdpdGggcGFydGlhbCB0aWNrcylcbiAgICB0aGlzLmFnZSArPSBkdDtcbiAgICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgdGhpcy5lbWl0dGVycy5sZW5ndGg7ICsraWkpIHtcbiAgICAgIHRoaXMudGlja0VtaXR0ZXIoZHQsIHRoaXMuZW1pdHRlcnNbaWldKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5hZ2UgPj0gdGhpcy5zeXN0ZW1fbGlmZXNwYW47IC8vIGtpbGwgaWYgcGFzdCBsaWZlc3BhblxuICB9XG59XG5cbmNsYXNzIFBhcnRpY2xlTWFuYWdlciB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuc3lzdGVtcyA9IFtdO1xuICB9XG5cbiAgY3JlYXRlU3lzdGVtKGRlZiwgcG9zKSB7XG4gICAgbGV0IHN5c3RlbSA9IG5ldyBQYXJ0aWNsZVN5c3RlbSh0aGlzLCBkZWYsIHBvcyk7XG4gICAgdGhpcy5zeXN0ZW1zLnB1c2goc3lzdGVtKTtcbiAgICByZXR1cm4gc3lzdGVtO1xuICB9XG5cbiAgdGljayhkdCkge1xuICAgIGZvciAobGV0IGlpID0gdGhpcy5zeXN0ZW1zLmxlbmd0aCAtIDE7IGlpID49IDA7IC0taWkpIHtcbiAgICAgIGlmICh0aGlzLnN5c3RlbXNbaWldLnRpY2soZHQpKSB7XG4gICAgICAgIHRoaXMuc3lzdGVtc1tpaV0gPSB0aGlzLnN5c3RlbXNbdGhpcy5zeXN0ZW1zLmxlbmd0aCAtIDFdO1xuICAgICAgICB0aGlzLnN5c3RlbXMucG9wKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGUoKSB7XG4gIHJldHVybiBuZXcgUGFydGljbGVNYW5hZ2VyKCk7XG59XG4iLCIvLyBQb3J0aW9ucyBDb3B5cmlnaHQgMjAxOSBKaW1iIEVzc2VyIChodHRwczovL2dpdGh1Yi5jb20vSmltYmx5Lylcbi8vIFJlbGVhc2VkIHVuZGVyIE1JVCBMaWNlbnNlOiBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVFxuXG5jb25zdCBjYW1lcmEyZCA9IHJlcXVpcmUoJy4vY2FtZXJhMmQuanMnKTtcbmNvbnN0IHsgY21kX3BhcnNlIH0gPSByZXF1aXJlKCcuL2NtZHMuanMnKTtcbmNvbnN0IGVuZ2luZSA9IHJlcXVpcmUoJy4vZW5naW5lLmpzJyk7XG5jb25zdCBnbG92X2ZvbnQgPSByZXF1aXJlKCcuL2ZvbnQuanMnKTtcbmNvbnN0IGlucHV0ID0gcmVxdWlyZSgnLi9pbnB1dC5qcycpO1xuY29uc3QgeyBtYXggfSA9IE1hdGg7XG5jb25zdCBzZXR0aW5ncyA9IHJlcXVpcmUoJy4vc2V0dGluZ3MuanMnKTtcbmNvbnN0IHVpID0gcmVxdWlyZSgnLi91aS5qcycpO1xuY29uc3QgeyB2ZWM0LCB2M2NvcHkgfSA9IHJlcXVpcmUoJy4vdm1hdGguanMnKTtcblxubGV0IG1ldHJpY3MgPSBbXTtcblxuY29uc3QgTUVUUklDX1BBRCA9IDI7XG5cbmxldCBiZ19kZWZhdWx0ID0gdmVjNCgwLDAsMCwwLjUpO1xubGV0IGJnX21vdXNlX292ZXIgPSB2ZWM0KDAsMCwwLDAuNzUpO1xubGV0IGJnX2ZhZGUgPSB2ZWM0KCk7XG5cbi8vIHJlZmVyZW5jZWQgaW4gZW5naW5lLmpzXG5zZXR0aW5ncy5yZWdpc3Rlcih7XG4gIHNob3dfbWV0cmljczoge1xuICAgIGRlZmF1bHRfdmFsdWU6IDEsXG4gICAgdHlwZTogY21kX3BhcnNlLlRZUEVfSU5ULFxuICAgIHJhbmdlOiBbMCwxXSxcbiAgfSxcbiAgc2hvd19mcHM6IHtcbiAgICBsYWJlbDogJ1Nob3cgRlBTJyxcbiAgICBkZWZhdWx0X3ZhbHVlOiAxLFxuICAgIHR5cGU6IGNtZF9wYXJzZS5UWVBFX0lOVCxcbiAgICByYW5nZTogWzAsM10sXG4gIH0sXG4gIGZwc19ncmFwaDoge1xuICAgIGxhYmVsOiAnRlBTIEdyYXBoJyxcbiAgICBkZWZhdWx0X3ZhbHVlOiAwLFxuICAgIHR5cGU6IGNtZF9wYXJzZS5UWVBFX0lOVCxcbiAgICByYW5nZTogWzAsMV0sXG4gIH0sXG59KTtcblxuY21kX3BhcnNlLnJlZ2lzdGVyKHtcbiAgY21kOiAnZnBzJyxcbiAgaGVscDogJ1RvZ2dsZXMgRlBTIGRpc3BsYXknLFxuICBmdW5jOiBmdW5jdGlvbiAoc3RyLCByZXNwX2Z1bmMpIHtcbiAgICBpZiAoc2V0dGluZ3Muc2hvd19mcHMgJiYgc2V0dGluZ3Muc2hvd19tZXRyaWNzIHx8IHN0ciA9PT0gJzAnKSB7XG4gICAgICBzZXR0aW5ncy5zZXQoJ3Nob3dfZnBzJywgMCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNldHRpbmdzLnNldCgnc2hvd19mcHMnLCAxKTtcbiAgICAgIHNldHRpbmdzLnNldCgnc2hvd19tZXRyaWNzJywgMSk7XG4gICAgfVxuICAgIHJlc3BfZnVuYygpO1xuICB9LFxufSk7XG5cbmxldCBmcHNfc3R5bGUgPSBnbG92X2ZvbnQuc3R5bGUoe1xuICBvdXRsaW5lX3dpZHRoOiAyLCBvdXRsaW5lX2NvbG9yOiAweDAwMDAwMDgwLFxuICBjb2xvcjogMHhGRkZGRkZmZixcbn0pO1xuXG5leHBvcnQgZnVuY3Rpb24gYWRkTWV0cmljKG1ldHJpYykge1xuICBpZiAobWV0cmljLnNob3dfZ3JhcGgpIHtcbiAgICBtZXRyaWMubnVtX2xpbmVzID0gbWV0cmljLmNvbG9ycy5sZW5ndGg7XG4gICAgbWV0cmljLmhpc3Rvcnlfc2l6ZSA9IG1ldHJpYy5kYXRhLmhpc3RvcnkubGVuZ3RoIC8gbWV0cmljLm51bV9saW5lcztcbiAgfVxuICBtZXRyaWMubnVtX2xhYmVscyA9IE9iamVjdC5rZXlzKG1ldHJpYy5sYWJlbHMpLmxlbmd0aDtcbiAgaWYgKG1ldHJpYy5pbnRlcmFjdGFibGUgPT09IHVuZGVmaW5lZCkge1xuICAgIG1ldHJpYy5pbnRlcmFjdGFibGUgPSBtZXRyaWMubnVtX2xhYmVscyA+IDEgfHwgbWV0cmljLnNob3dfZ3JhcGg7XG4gIH1cbiAgbWV0cmljcy5wdXNoKG1ldHJpYyk7XG59XG5cbmZ1bmN0aW9uIHNob3dNZXRyaWMoeSwgbWV0cmljKSB7XG4gIGxldCBmb250ID0gZW5naW5lLmZvbnQ7XG4gIGxldCBwYWQgPSBNRVRSSUNfUEFEO1xuICBsZXQgTUVUUklDX1ZBTFVFX1dJRFRIID0gdWkuZm9udF9oZWlnaHQgKiAyLjU7XG4gIGxldCB4ID0gY2FtZXJhMmQueDFSZWFsKCkgLSBNRVRSSUNfVkFMVUVfV0lEVEggLSBwYWQ7XG4gIGxldCB5MCA9IHk7XG4gIHkgKz0gcGFkO1xuICBsZXQgbGluZV9oZWlnaHQgPSB1aS5mb250X2hlaWdodDtcbiAgbGV0IG1heF9sYWJlbF93ID0gMDtcbiAgbGV0IG1heF9sYWJlbHMgPSBzZXR0aW5nc1ttZXRyaWMuc2hvd19zdGF0XTtcbiAgbGV0IGRyZXdfYW55ID0gZmFsc2U7XG4gIGxldCBhbHBoYSA9IDE7XG4gIGZvciAobGV0IGxhYmVsIGluIG1ldHJpYy5sYWJlbHMpIHtcbiAgICBsZXQgdmFsdWUgPSBtZXRyaWMubGFiZWxzW2xhYmVsXSgpO1xuICAgIGlmICh2YWx1ZSkge1xuICAgICAgbGV0IHN0eWxlID0gZnBzX3N0eWxlO1xuICAgICAgaWYgKHZhbHVlLmFscGhhKSB7XG4gICAgICAgIGFscGhhID0gdmFsdWUuYWxwaGE7XG4gICAgICAgIHZhbHVlID0gdmFsdWUudmFsdWU7XG4gICAgICAgIHN0eWxlID0gZ2xvdl9mb250LnN0eWxlQWxwaGEoZnBzX3N0eWxlLCBhbHBoYSk7XG4gICAgICB9XG4gICAgICBsZXQgbGFiZWxfdyA9IGZvbnQuZHJhd1NpemVkQWxpZ25lZChzdHlsZSwgeCwgeSwgWi5GUFNNRVRFUiArIDEsIGxpbmVfaGVpZ2h0LFxuICAgICAgICBnbG92X2ZvbnQuQUxJR04uSFJJR0hULCAwLCAwLCBsYWJlbCk7XG4gICAgICBtYXhfbGFiZWxfdyA9IG1heChtYXhfbGFiZWxfdywgbGFiZWxfdyk7XG4gICAgICBmb250LmRyYXdTaXplZEFsaWduZWQoc3R5bGUsIHgsIHksIFouRlBTTUVURVIgKyAxLCBsaW5lX2hlaWdodCxcbiAgICAgICAgZ2xvdl9mb250LkFMSUdOLkhGSVQsIE1FVFJJQ19WQUxVRV9XSURUSCwgMCwgdmFsdWUpO1xuICAgICAgeSArPSBsaW5lX2hlaWdodDtcbiAgICAgIGRyZXdfYW55ID0gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKCEtLW1heF9sYWJlbHMpIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICBsZXQgdyA9IE1FVFJJQ19WQUxVRV9XSURUSCArIG1heF9sYWJlbF93ICsgTUVUUklDX1BBRDtcbiAgeCAtPSBtYXhfbGFiZWxfdyArIE1FVFJJQ19QQUQ7XG5cbiAgaWYgKCFkcmV3X2FueSkge1xuICAgIHJldHVybiB5IC0gcGFkO1xuICB9XG5cbiAgeSArPSBwYWQ7XG4gIGxldCBiZyA9IGJnX2RlZmF1bHQ7XG4gIGxldCBwb3NfcGFyYW0gPSB7XG4gICAgeDogeCAtIHBhZCxcbiAgICB5OiB5MCxcbiAgICB3OiB3ICsgcGFkICogMixcbiAgICBoOiB5IC0geTAsXG4gIH07XG4gIGlmIChtZXRyaWMuaW50ZXJhY3RhYmxlKSB7XG4gICAgaWYgKGlucHV0Lm1vdXNlVXBFZGdlKHBvc19wYXJhbSkpIHtcbiAgICAgIGlmIChtZXRyaWMubnVtX2xhYmVscyA+IDEgJiYgc2V0dGluZ3NbbWV0cmljLnNob3dfc3RhdF0gPD0gMSkge1xuICAgICAgICBzZXR0aW5ncy5zZXQobWV0cmljLnNob3dfc3RhdCwgbWV0cmljLm51bV9sYWJlbHMpO1xuICAgICAgfSBlbHNlIGlmIChtZXRyaWMuc2hvd19ncmFwaCAmJiAhc2V0dGluZ3NbbWV0cmljLnNob3dfZ3JhcGhdKSB7XG4gICAgICAgIHNldHRpbmdzLnNldChtZXRyaWMuc2hvd19ncmFwaCwgMSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAobWV0cmljLnNob3dfZ3JhcGgpIHtcbiAgICAgICAgICBzZXR0aW5ncy5zZXQobWV0cmljLnNob3dfZ3JhcGgsIDApO1xuICAgICAgICB9XG4gICAgICAgIHNldHRpbmdzLnNldChtZXRyaWMuc2hvd19zdGF0LCAxKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGlucHV0Lm1vdXNlT3Zlcihwb3NfcGFyYW0pKSB7XG4gICAgICBiZyA9IGJnX21vdXNlX292ZXI7XG4gICAgfVxuICB9XG4gIGlmIChhbHBoYSAhPT0gMSkge1xuICAgIGJnX2ZhZGVbM10gPSBiZ1szXSAqIGFscGhhO1xuICAgIGJnID0gdjNjb3B5KGJnX2ZhZGUsIGJnKTtcbiAgfVxuICB1aS5kcmF3UmVjdChwb3NfcGFyYW0ueCwgcG9zX3BhcmFtLnksIHBvc19wYXJhbS54ICsgcG9zX3BhcmFtLncsIHksIFouRlBTTUVURVIsIGJnKTtcbiAgcmV0dXJuIHk7XG59XG5cbmZ1bmN0aW9uIHNob3dNZXRyaWNHcmFwaCh5LCBtZXRyaWMpIHtcbiAgY29uc3Qgc21hbGwgPSBlbmdpbmUuZ2FtZV9oZWlnaHQgPCAzMDA7XG4gIGNvbnN0IExJTkVfV0lEVEggPSBzbWFsbCA/IDEgOiAzO1xuICBjb25zdCBMSU5FX1BBRCA9IHNtYWxsID8gMCA6IDE7XG4gIGNvbnN0IExJTkVfSEVJR0hUID0gc21hbGwgPyA2NCA6IDEyODtcbiAgY29uc3QgTlVNX0xJTkVTID0gbWV0cmljLmhpc3Rvcnlfc2l6ZSAtIDE7XG4gIGxldCB3ID0gKExJTkVfV0lEVEggKyBMSU5FX1BBRCkgKiBOVU1fTElORVM7XG4gIGxldCB4ID0gY2FtZXJhMmQueDFSZWFsKCkgLSB3O1xuICBsZXQgaCA9IExJTkVfSEVJR0hUICsgTElORV9QQUQgKiAyO1xuICBsZXQgeiA9IFouRlBTTUVURVI7XG4gIHVpLmRyYXdSZWN0KHgsIHkgLSBoLCB4ICsgdywgeSwgeisrLCBiZ19kZWZhdWx0KTtcbiAgeCArPSBMSU5FX1BBRDtcbiAgeSAtPSBMSU5FX1BBRDtcbiAgbGV0IGhpc3RvcnlfaW5kZXggPSBtZXRyaWMuZGF0YS5pbmRleDtcbiAgbGV0IGxpbmVfc2NhbGUgPSBMSU5FX0hFSUdIVCAvIG1ldHJpYy5saW5lX3NjYWxlX3RvcDtcbiAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IE5VTV9MSU5FUzsgaWkrKykge1xuICAgIGxldCBsaW5lX2luZGV4ID0gKChpaSArIGhpc3RvcnlfaW5kZXggKyAxKSAlIG1ldHJpYy5oaXN0b3J5X3NpemUpICogbWV0cmljLm51bV9saW5lcztcbiAgICBsZXQgZGF0YSA9IG1ldHJpYy5kYXRhLmhpc3Rvcnk7XG4gICAgbGV0IGJhcl9tYXggPSAwO1xuICAgIGZvciAobGV0IGpqID0gMDsgamogPCBtZXRyaWMubnVtX2xpbmVzOyBqaisrKSB7XG4gICAgICBsZXQgbGluZV9qaiA9IGRhdGFbbGluZV9pbmRleCArIGpqXTtcbiAgICAgIGxldCBiYXJfbWluO1xuICAgICAgaWYgKG1ldHJpYy5iYXJzX3N0YWNrKSB7XG4gICAgICAgIGJhcl9taW4gPSBiYXJfbWF4O1xuICAgICAgICBiYXJfbWF4ICs9IGxpbmVfamo7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBiYXJzIG92ZXJsYXAsIGZpZ3VyZSBvdXQgaG93IGJpZyB0aGlzIGJhciBzaG91bGQgYmUgcmVsYXRpdmUgdG8gbmV4dCBzbWFsbGVzdFxuICAgICAgICBsZXQgbGVzc2VyID0gMDtcbiAgICAgICAgZm9yIChsZXQga2sgPSAwOyBrayA8IG1ldHJpYy5udW1fbGluZXM7IGtrKyspIHtcbiAgICAgICAgICBpZiAoa2sgPT09IGpqKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgbGV0IGxpbmVfa2sgPSBkYXRhW2xpbmVfaW5kZXggKyBra107XG4gICAgICAgICAgaWYgKChsaW5lX2trIDwgbGluZV9qaiB8fCBsaW5lX2trID09PSBsaW5lX2pqICYmIGtrIDwgamopICYmIGxpbmVfa2sgPiBsZXNzZXIpIHtcbiAgICAgICAgICAgIGxlc3NlciA9IGxpbmVfa2s7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJhcl9taW4gPSBsZXNzZXI7XG4gICAgICAgIGJhcl9tYXggPSBsaW5lX2pqO1xuICAgICAgfVxuICAgICAgbGV0IGNvbG9yID0gbWV0cmljLmNvbG9yc1tqal07XG4gICAgICB1aS5kcmF3UmVjdCh4LCB5IC0gYmFyX21heCAqIGxpbmVfc2NhbGUsIHggKyBMSU5FX1dJRFRILCB5IC0gYmFyX21pbiAqIGxpbmVfc2NhbGUsIHosIGNvbG9yKTtcbiAgICB9XG4gICAgeCArPSBMSU5FX1dJRFRIICsgTElORV9QQUQ7XG4gIH1cbiAgeiArPSBOVU1fTElORVM7XG4gIHkgLT0gTElORV9IRUlHSFQgKyBMSU5FX1BBRDtcbiAgcmV0dXJuIHk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkcmF3KCkge1xuICBjYW1lcmEyZC5zZXRBc3BlY3RGaXhlZChlbmdpbmUuZ2FtZV93aWR0aCwgZW5naW5lLmdhbWVfaGVpZ2h0KTtcbiAgbGV0IHkgPSBjYW1lcmEyZC55MFJlYWwoKTtcbiAgbGV0IHlfZ3JhcGggPSBjYW1lcmEyZC55MVJlYWwoKTtcbiAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IG1ldHJpY3MubGVuZ3RoOyArK2lpKSB7XG4gICAgbGV0IG1ldHJpYyA9IG1ldHJpY3NbaWldO1xuICAgIGlmIChzZXR0aW5nc1ttZXRyaWMuc2hvd19zdGF0XSkge1xuICAgICAgeSA9IHNob3dNZXRyaWMoeSwgbWV0cmljKTtcbiAgICAgIHkgKz0gTUVUUklDX1BBRDtcbiAgICB9XG4gICAgaWYgKHNldHRpbmdzW21ldHJpYy5zaG93X2dyYXBoXSkge1xuICAgICAgeV9ncmFwaCA9IHNob3dNZXRyaWNHcmFwaCh5X2dyYXBoLCBtZXRyaWMpO1xuICAgICAgeV9ncmFwaCAtPSBNRVRSSUNfUEFEO1xuICAgIH1cbiAgfVxufVxuIiwiLy8gUG9ydGlvbnMgQ29weXJpZ2h0IDIwMTkgSmltYiBFc3NlciAoaHR0cHM6Ly9naXRodWIuY29tL0ppbWJseS8pXG4vLyBSZWxlYXNlZCB1bmRlciBNSVQgTGljZW5zZTogaHR0cHM6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9NSVRcblxubGV0IHVzZXJfd2FudF9sb2NrZWQgPSBmYWxzZTtcbmxldCBlbGVtO1xubGV0IG9uX3B0cl9sb2NrO1xuXG5leHBvcnQgZnVuY3Rpb24gaXNMb2NrZWQoKSB7XG4gIHJldHVybiB1c2VyX3dhbnRfbG9ja2VkOyAvLyBFaXRoZXIgaXQncyBsb2NrZWQsIG9yIHRoZXJlJ3MgYW4gYXN5bmMgYXR0ZW1wdCB0byBsb2NrIGl0IG91dHN0YW5kaW5nXG59XG5cbmZ1bmN0aW9uIHBvaW50ZXJMb2cobXNnKSB7XG4gIGNvbnNvbGUubG9nKGBQb2ludGVyTG9jazogJHttc2d9YCk7IC8vIFRPRE86IERpc2FibGUgdGhpcyBhZnRlciB0aGluZ3Mgc2V0dGxlXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBleGl0KCkge1xuICBwb2ludGVyTG9nKCdMb2NrIGV4aXQgcmVxdWVzdGVkJyk7XG4gIHVzZXJfd2FudF9sb2NrZWQgPSBmYWxzZTtcbiAgZG9jdW1lbnQuZXhpdFBvaW50ZXJMb2NrKCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBlbnRlcih3aGVuKSB7XG4gIHVzZXJfd2FudF9sb2NrZWQgPSB0cnVlO1xuICBvbl9wdHJfbG9jaygpO1xuICBwb2ludGVyTG9nKGBUcnlpbmcgcG9pbnRlciBsb2NrIGluIHJlc3BvbnNlIHRvICR7d2hlbn1gKTtcbiAgZWxlbS5yZXF1ZXN0UG9pbnRlckxvY2soKTtcbn1cblxuZnVuY3Rpb24gb25Qb2ludGVyTG9ja0NoYW5nZSgpIHtcbiAgaWYgKGRvY3VtZW50LnBvaW50ZXJMb2NrRWxlbWVudCB8fCBkb2N1bWVudC5tb3pQb2ludGVyTG9ja0VsZW1lbnQgfHwgZG9jdW1lbnQud2Via2l0UG9pbnRlckxvY2tFbGVtZW50KSB7XG4gICAgcG9pbnRlckxvZygnTG9jayBzdWNjZXNzZnVsJyk7XG4gICAgaWYgKCF1c2VyX3dhbnRfbG9ja2VkKSB7XG4gICAgICBwb2ludGVyTG9nKCdVc2VyIGNhbmNlbGVkIGxvY2snKTtcbiAgICAgIGRvY3VtZW50LmV4aXRQb2ludGVyTG9jaygpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBpZiAodXNlcl93YW50X2xvY2tlZCkge1xuICAgICAgcG9pbnRlckxvZygnTG9jayBsb3N0Jyk7XG4gICAgICB1c2VyX3dhbnRfbG9ja2VkID0gZmFsc2U7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIG9uUG9pbnRlckxvY2tFcnJvcihlKSB7XG4gIHBvaW50ZXJMb2coJ0Vycm9yJyk7XG4gIHVzZXJfd2FudF9sb2NrZWQgPSBmYWxzZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0dXAoX2VsZW0sIF9vbl9wdHJfbG9jaykge1xuICBlbGVtID0gX2VsZW07XG4gIG9uX3B0cl9sb2NrID0gX29uX3B0cl9sb2NrO1xuXG4gIGVsZW0ucmVxdWVzdFBvaW50ZXJMb2NrID0gZWxlbS5yZXF1ZXN0UG9pbnRlckxvY2sgfHwgZWxlbS5tb3pSZXF1ZXN0UG9pbnRlckxvY2sgfHxcbiAgICBlbGVtLndlYmtpdFJlcXVlc3RQb2ludGVyTG9jayB8fCBmdW5jdGlvbiAoKSB7IC8qIG5vcCAqLyB9O1xuICBkb2N1bWVudC5leGl0UG9pbnRlckxvY2sgPSBkb2N1bWVudC5leGl0UG9pbnRlckxvY2sgfHwgZG9jdW1lbnQubW96RXhpdFBvaW50ZXJMb2NrIHx8XG4gICAgZG9jdW1lbnQud2Via2l0RXhpdFBvaW50ZXJMb2NrIHx8IGZ1bmN0aW9uICgpIHsgLyogbm9wICovIH07XG5cbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcmxvY2tjaGFuZ2UnLCBvblBvaW50ZXJMb2NrQ2hhbmdlLCBmYWxzZSk7XG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21venBvaW50ZXJsb2NrY2hhbmdlJywgb25Qb2ludGVyTG9ja0NoYW5nZSwgZmFsc2UpO1xuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd3ZWJraXRwb2ludGVybG9ja2NoYW5nZScsIG9uUG9pbnRlckxvY2tDaGFuZ2UsIGZhbHNlKTtcblxuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVybG9ja2Vycm9yJywgb25Qb2ludGVyTG9ja0Vycm9yLCBmYWxzZSk7XG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21venBvaW50ZXJsb2NrZXJyb3InLCBvblBvaW50ZXJMb2NrRXJyb3IsIGZhbHNlKTtcbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignd2Via2l0cG9pbnRlcmxvY2tlcnJvcicsIG9uUG9pbnRlckxvY2tFcnJvciwgZmFsc2UpO1xufVxuIiwiLyogZXNsaW50IG5vLWV4dGVuZC1uYXRpdmU6b2ZmLG5vLWludmFsaWQtdGhpczpvZmYgKi9cblxuLy8gVHlwZWRBcnJheS5zbGljZSwgZmlsbCwgam9pbiwgc29ydCwgZXRjIC0gbm90IHN1cHBvcnRlZCBvbiBJRSwgc29tZSBvbGRlciBTYWZhcmksIG9sZGVyIEFuZHJvaWRcbmxldCB0eXBlZGFycmF5cyA9IFtJbnQ4QXJyYXksIFVpbnQ4QXJyYXksIEludDE2QXJyYXksIFVpbnQxNkFycmF5LCBJbnQzMkFycmF5LCBVaW50MzJBcnJheSwgRmxvYXQzMkFycmF5XTtcblxuaWYgKCFVaW50OEFycmF5LnByb3RvdHlwZS5zbGljZSkge1xuICB0eXBlZGFycmF5cy5mb3JFYWNoKGZ1bmN0aW9uIChBcnJheVR5cGUpIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQXJyYXlUeXBlLnByb3RvdHlwZSwgJ3NsaWNlJywge1xuICAgICAgdmFsdWU6IGZ1bmN0aW9uIChiZWdpbiwgZW5kKSB7XG4gICAgICAgIGlmIChlbmQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGVuZCA9IHRoaXMubGVuZ3RoO1xuICAgICAgICB9XG4gICAgICAgIGlmIChlbmQgPCAwKSB7XG4gICAgICAgICAgZW5kID0gdGhpcy5sZW5ndGggLSBlbmQ7XG4gICAgICAgIH1cbiAgICAgICAgYmVnaW4gPSBiZWdpbiB8fCAwO1xuICAgICAgICBpZiAoYmVnaW4gPj0gdGhpcy5sZW5ndGgpIHtcbiAgICAgICAgICBiZWdpbiA9IHRoaXMubGVuZ3RoIC0gMTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZW5kID4gdGhpcy5sZW5ndGgpIHtcbiAgICAgICAgICBlbmQgPSB0aGlzLmxlbmd0aDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZW5kIDwgYmVnaW4pIHtcbiAgICAgICAgICBlbmQgPSBiZWdpbjtcbiAgICAgICAgfVxuICAgICAgICBsZXQgbGVuID0gZW5kIC0gYmVnaW47XG4gICAgICAgIGxldCByZXQgPSBuZXcgQXJyYXlUeXBlKGxlbik7XG4gICAgICAgIGZvciAobGV0IGlpID0gYmVnaW47IGlpIDwgZW5kOyArK2lpKSB7XG4gICAgICAgICAgcmV0W2lpXSA9IHRoaXNbaWldO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBjbXBEZWZhdWx0KGEsIGIpIHtcbiAgcmV0dXJuIGEgLSBiO1xufVxubGV0IHJlcGxhY2VtZW50cyA9IHtcbiAgam9pbjogZnVuY3Rpb24gKGRlbGltKSB7XG4gICAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5qb2luLmNhbGwodGhpcywgZGVsaW0pO1xuICB9LFxuICBmaWxsOiBmdW5jdGlvbiAodmFsdWUsIGJlZ2luLCBlbmQpIHtcbiAgICBpZiAoZW5kID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGVuZCA9IHRoaXMubGVuZ3RoO1xuICAgIH1cbiAgICBmb3IgKGxldCBpaSA9IGJlZ2luIHx8IDA7IGlpIDwgZW5kOyArK2lpKSB7XG4gICAgICB0aGlzW2lpXSA9IHZhbHVlO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfSxcbiAgc29ydDogZnVuY3Rpb24gKGNtcCkge1xuICAgIEFycmF5LnByb3RvdHlwZS5zb3J0LmNhbGwodGhpcywgY21wIHx8IGNtcERlZmF1bHQpO1xuICB9LFxufTtcblxuZm9yIChsZXQga2V5IGluIHJlcGxhY2VtZW50cykge1xuICBpZiAoIVVpbnQ4QXJyYXkucHJvdG90eXBlW2tleV0pIHtcbiAgICB0eXBlZGFycmF5cy5mb3JFYWNoKGZ1bmN0aW9uIChBcnJheVR5cGUpIHtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBcnJheVR5cGUucHJvdG90eXBlLCBrZXksIHtcbiAgICAgICAgdmFsdWU6IHJlcGxhY2VtZW50c1trZXldLFxuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbn1cblxuaWYgKCFTdHJpbmcucHJvdG90eXBlLmVuZHNXaXRoKSB7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTdHJpbmcucHJvdG90eXBlLCAnZW5kc1dpdGgnLCB7XG4gICAgdmFsdWU6IGZ1bmN0aW9uICh0ZXN0KSB7XG4gICAgICByZXR1cm4gdGhpcy5zbGljZSgtdGVzdC5sZW5ndGgpID09PSB0ZXN0O1xuICAgIH0sXG4gIH0pO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU3RyaW5nLnByb3RvdHlwZSwgJ3N0YXJ0c1dpdGgnLCB7XG4gICAgdmFsdWU6IGZ1bmN0aW9uICh0ZXN0KSB7XG4gICAgICByZXR1cm4gdGhpcy5zbGljZSgwLCB0ZXN0Lmxlbmd0aCkgPT09IHRlc3Q7XG4gICAgfSxcbiAgfSk7XG59XG4iLCIvLyBQb3J0aW9ucyBDb3B5cmlnaHQgMjAxOSBKaW1iIEVzc2VyIChodHRwczovL2dpdGh1Yi5jb20vSmltYmx5Lylcbi8vIFJlbGVhc2VkIHVuZGVyIE1JVCBMaWNlbnNlOiBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVFxuXG4vLyBBbGVhIFBSTkdcbi8vIEJhc2VkIG9uIGNvZGUgZnJvbSBKb2hhbm5lcyBCYWFnw7hlIDxiYWFnb2VAYmFhZ29lLmNvbT4sIDIwMTBcbi8vIEZyb20gaHR0cHM6Ly9naXRodWIuY29tL2NvdmVyc2xpZGUvbm9kZS1hbGVhL2Jsb2IvbWFzdGVyL2FsZWEuanMsIE1JVCBMaWNlbnNlZFxuLy8gRnJvbSBodHRwOi8vYmFhZ29lLmNvbS9lbi9SYW5kb21NdXNpbmdzL2phdmFzY3JpcHQvXG5cbmV4cG9ydCBmdW5jdGlvbiBtYXNoU3RyaW5nKGRhdGEpIHtcbiAgbGV0IG4gPSAweGVmYzgyNDlkO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHtcbiAgICBuICs9IGRhdGEuY2hhckNvZGVBdChpKTtcbiAgICBsZXQgaCA9IDAuMDI1MTk2MDMyODI0MTY5MzggKiBuO1xuICAgIG4gPSBoID4+PiAwO1xuICAgIGggLT0gbjtcbiAgICBoICo9IG47XG4gICAgbiA9IGggPj4+IDA7XG4gICAgaCAtPSBuO1xuICAgIG4gKz0gaCAqIDB4MTAwMDAwMDAwOyAvLyAyXjMyXG4gIH1cbiAgcmV0dXJuIG4gPj4+IDA7XG4gIC8vIHJldHVybiAobiA+Pj4gMCkgKiAyLjMyODMwNjQzNjUzODY5NjNlLTEwOyAvLyAyXi0zMlxufVxuXG5mdW5jdGlvbiBNYXNoKCkge1xuICB0aGlzLm4gPSAweGMwNmM1ZmM4OyAvLyAweGVmYzgyNDlkO1xufVxuTWFzaC5wcm90b3R5cGUubWFzaCA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gIGxldCBuID0gdGhpcy5uICsgZGF0YTtcbiAgbGV0IGggPSAwLjAyNTE5NjAzMjgyNDE2OTM4ICogbjtcbiAgbiA9IGggPj4+IDA7XG4gIGggLT0gbjtcbiAgaCAqPSBuO1xuICBuID0gaCA+Pj4gMDtcbiAgaCAtPSBuO1xuICBuICs9IGggKiAweDEwMDAwMDAwMDsgLy8gMl4zMlxuICB0aGlzLm4gPSBuO1xuICByZXR1cm4gKG4gPj4+IDApICogMi4zMjgzMDY0MzY1Mzg2OTYzZS0xMDsgLy8gMl4tMzJcbn07XG5cbmZ1bmN0aW9uIEFsZWEoc2VlZCkge1xuICB0aGlzLnJlc2VlZChzZWVkKTtcbn1cbkFsZWEucHJvdG90eXBlLnJlc2VlZCA9IGZ1bmN0aW9uIChzZWVkKSB7XG4gIC8vIHRoaXMuczAvczEvczIgYXJlIGZsb2F0aW5nIHBvaW50IGJldHdlZW4gMCBhbmQgMVxuICAvLyB0aGlzLmMgaXMgYSAzMi1iaXQgaW50XG4gIHRoaXMuYyA9IDE7XG4gIGxldCBtYXNoID0gbmV3IE1hc2goKTtcbiAgLy8gSGFyZC1jb2RlZCByZXN1bHRzIG9mIGluaXRpYWwgbWFzaCgnICcpIGZvdW5kIGluIG9yaWdpbmFsIGltcGxlbWVudGF0aW9uXG4gIHRoaXMuczAgPSAwLjMwMTQ1ODEzMjQ1MzI2Mjg7XG4gIHRoaXMuczEgPSAwLjI2NDMyMjA0MDYwMjU2NDg7XG4gIHRoaXMuczIgPSAwLjc1MTY1MzY1ODIyNjEzMjQ7XG5cbiAgdGhpcy5zMCAtPSBtYXNoLm1hc2goc2VlZCk7XG4gIGlmICh0aGlzLnMwIDwgMCkge1xuICAgIHRoaXMuczAgKz0gMTtcbiAgfVxuICB0aGlzLnMxIC09IG1hc2gubWFzaChzZWVkKTtcbiAgaWYgKHRoaXMuczEgPCAwKSB7XG4gICAgdGhpcy5zMSArPSAxO1xuICB9XG4gIHRoaXMuczIgLT0gbWFzaC5tYXNoKHNlZWQpO1xuICBpZiAodGhpcy5zMiA8IDApIHtcbiAgICB0aGlzLnMyICs9IDE7XG4gIH1cbn07XG5BbGVhLnByb3RvdHlwZS5zdGVwID0gZnVuY3Rpb24gKCkge1xuICBsZXQgdCA9IDIwOTE2MzkgKiB0aGlzLnMwICsgdGhpcy5jICogMi4zMjgzMDY0MzY1Mzg2OTYzZS0xMDsgLy8gMl4tMzJcbiAgdGhpcy5zMCA9IHRoaXMuczE7XG4gIHRoaXMuczEgPSB0aGlzLnMyO1xuICByZXR1cm4gKHRoaXMuczIgPSB0IC0gKHRoaXMuYyA9IHQgfCAwKSk7XG59O1xuQWxlYS5wcm90b3R5cGUudWludDMyID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gdGhpcy5zdGVwKCkgKiAweDEwMDAwMDAwMDsgLy8gMl4zMlxufTtcbkFsZWEucHJvdG90eXBlLmZyYWN0NTMgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0aGlzLnN0ZXAoKSArXG4gICAgKHRoaXMuc3RlcCgpICogMHgyMDAwMDAgfCAwKSAqIDEuMTEwMjIzMDI0NjI1MTU2NWUtMTY7IC8vIDJeLTUzXG59O1xuQWxlYS5wcm90b3R5cGUucmFuZG9tID0gQWxlYS5wcm90b3R5cGUuc3RlcDtcbkFsZWEucHJvdG90eXBlLnJhbmdlID0gZnVuY3Rpb24gKHJhbmdlKSB7XG4gIHJldHVybiAodGhpcy5zdGVwKCkgKiByYW5nZSkgfCAwO1xufTtcbkFsZWEucHJvdG90eXBlLmZsb2F0QmV0d2VlbiA9IGZ1bmN0aW9uIChhLCBiKSB7XG4gIHJldHVybiBhICsgKGIgLSBhKSAqIHRoaXMucmFuZG9tKCk7XG59O1xuXG4vLyBOb3RlOiBpbXBvcnQvZXhwb3J0IHByb2JhYmx5IG5lZWRzIG1vcmUgcHJlY2lzaW9uIHRoYW4gRjMyIG9yIEpTT04gcHJvdmlkZVxuLy8gQWxlYS5wcm90b3R5cGUuZXhwb3J0U3RhdGUgPSBmdW5jdGlvbiAoKSB7XG4vLyAgIHJldHVybiBbdGhpcy5zMCwgdGhpcy5zMSwgdGhpcy5zMiwgdGhpcy5jXTtcbi8vIH07XG4vLyBBbGVhLnByb3RvdHlwZS5pbXBvcnRTdGF0ZSA9IGZ1bmN0aW9uIChpKSB7XG4vLyAgIHRoaXMuczAgPSBpWzBdO1xuLy8gICB0aGlzLnMxID0gaVsxXTtcbi8vICAgdGhpcy5zMiA9IGlbMl07XG4vLyAgIHRoaXMuYyA9IGlbM107XG4vLyB9O1xuXG5leHBvcnQgZnVuY3Rpb24gcmFuZENyZWF0ZShzZWVkKSB7XG4gIHJldHVybiBuZXcgQWxlYShzZWVkKTtcbn1cbiIsIi8vIFBvcnRpb25zIENvcHlyaWdodCAyMDE5IEppbWIgRXNzZXIgKGh0dHBzOi8vZ2l0aHViLmNvbS9KaW1ibHkvKVxuLy8gUmVsZWFzZWQgdW5kZXIgTUlUIExpY2Vuc2U6IGh0dHBzOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvTUlUXG5cbmNvbnN0IHsgdGl0bGVDYXNlIH0gPSByZXF1aXJlKCcuLi8uLi9jb21tb24vdXRpbC5qcycpO1xuY29uc3QgeyBjbWRfcGFyc2UgfSA9IHJlcXVpcmUoJy4vY21kcy5qcycpO1xuXG5leHBvcnRzLnRydWUgPSB0cnVlOyAvLyBmb3IgcGVyZi5qc1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0KGtleSkge1xuICByZXR1cm4gZXhwb3J0c1trZXldO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2V0KGtleSwgdmFsdWUpIHtcbiAgaWYgKGV4cG9ydHNba2V5XSAhPT0gdmFsdWUpIHtcbiAgICBjbWRfcGFyc2UuaGFuZGxlKG51bGwsIGAke2tleX0gJHt2YWx1ZX1gLCBudWxsKTsgLy8gdXNlcyBkZWZhdWx0IGNtZF9wYXJzZSBoYW5kbGVyXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlZ2lzdGVyKGRlZnMpIHtcbiAgT2JqZWN0LmtleXMoZGVmcykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgbGV0IGRlZiA9IGRlZnNba2V5XTtcbiAgICBleHBvcnRzW2tleV0gPSBkZWYuZGVmYXVsdF92YWx1ZTtcbiAgICBjbWRfcGFyc2UucmVnaXN0ZXJWYWx1ZShrZXksIHtcbiAgICAgIHR5cGU6IGRlZi50eXBlLFxuICAgICAgbGFiZWw6IGRlZi5sYWJlbCB8fCB0aXRsZUNhc2Uoa2V5LnJlcGxhY2UoL18vZywgJyAnKSksXG4gICAgICByYW5nZTogZGVmLnJhbmdlLFxuICAgICAgZ2V0OiAoKSA9PiBleHBvcnRzW2tleV0sXG4gICAgICBzZXQ6ICh2KSA9PiAoZXhwb3J0c1trZXldID0gdiksXG4gICAgICBzdG9yZTogdHJ1ZSxcbiAgICAgIHZlcjogZGVmLnZlcixcbiAgICAgIGhlbHA6IGRlZi5oZWxwLFxuICAgICAgdXNhZ2U6IGRlZi51c2FnZSxcbiAgICB9KTtcbiAgfSk7XG59XG5cbnJlZ2lzdGVyKHtcbiAgc2hvd19tZXRyaWNzOiB7XG4gICAgZGVmYXVsdF92YWx1ZTogMSxcbiAgICB0eXBlOiBjbWRfcGFyc2UuVFlQRV9JTlQsXG4gICAgcmFuZ2U6IFswLDFdLFxuICB9LFxuICBtYXhfZnBzOiB7XG4gICAgbGFiZWw6ICdNYXggRlBTJyxcbiAgICBkZWZhdWx0X3ZhbHVlOiAwLFxuICAgIHR5cGU6IGNtZF9wYXJzZS5UWVBFX0ZMT0FULFxuICB9LFxufSk7XG4iLCIvLyBQb3J0aW9ucyBDb3B5cmlnaHQgMjAxOSBKaW1iIEVzc2VyIChodHRwczovL2dpdGh1Yi5jb20vSmltYmx5Lylcbi8vIFJlbGVhc2VkIHVuZGVyIE1JVCBMaWNlbnNlOiBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVFxuXG5jb25zdCBhc3NlcnQgPSByZXF1aXJlKCdhc3NlcnQnKTtcbmNvbnN0IGVuZ2luZSA9IHJlcXVpcmUoJy4vZW5naW5lLmpzJyk7XG5jb25zdCB7IGZpbGV3YXRjaE9uIH0gPSByZXF1aXJlKCcuL2ZpbGV3YXRjaC5qcycpO1xuY29uc3QgeyBtYXRjaEFsbCB9ID0gcmVxdWlyZSgnLi4vLi4vY29tbW9uL3V0aWwuanMnKTtcbmNvbnN0IHsgdGV4dHVyZXNVbmxvYWREeW5hbWljIH0gPSByZXF1aXJlKCcuL3RleHR1cmVzLmpzJyk7XG5jb25zdCB7IHdlYkZTR2V0RmlsZSB9ID0gcmVxdWlyZSgnLi93ZWJmcy5qcycpO1xuXG5sZXQgbGFzdF9pZCA9IDA7XG5cbmxldCBib3VuZF9wcm9nID0gbnVsbDtcblxuZXhwb3J0IGNvbnN0IHNlbWFudGljID0ge1xuICAnQVRUUjAnOiAwLFxuICAnUE9TSVRJT04nOiAwLFxuICAnQVRUUjEnOiAxLFxuICAnQ09MT1InOiAxLFxuICAnQ09MT1JfMCc6IDEsXG4gICdBVFRSMic6IDIsXG4gICdURVhDT09SRCc6IDIsXG4gICdURVhDT09SRF8wJzogMixcbiAgJ0FUVFIzJzogMyxcbiAgJ05PUk1BTCc6IDMsXG4gICdBVFRSNCc6IDQsXG4gICdURVhDT09SRF8xJzogNCxcbn07XG5cbmV4cG9ydCBsZXQgZ2xvYmFscztcbmxldCBkZWZpbmVzO1xuXG5sZXQgZXJyb3JfZnA7XG5sZXQgZXJyb3JfdnA7XG5cbmxldCBzaGFkZXJzID0gW107XG5cbmNvbnN0IHZwX2F0dHJfcmVnZXggPSAvYXR0cmlidXRlIFteIF0rIChbXiA7XSspOy9nO1xuY29uc3QgdW5pZm9ybV9yZWdleCA9IC91bmlmb3JtICg/Oig/Omxvd3xtZWRpdW18aGlnaClwICk/KCg/Oig/OnZlY3xtYXQpXFxkKD86eFxcZCk/fGZsb2F0KSBbXiA7XSspOy9nO1xuY29uc3Qgc2FtcGxlcl9yZWdleCA9IC91bmlmb3JtIHNhbXBsZXIoPzoyRHxDdWJlKSAoW14gO10rKTsvZztcbmNvbnN0IGluY2x1ZGVfcmVnZXggPSAvXFxuI2luY2x1ZGUgXCIoW15cIl0rKVwiL2c7XG5cbmNvbnN0IHR5cGVfc2l6ZSA9IHtcbiAgZmxvYXQ6IDEsXG4gIHZlYzI6IDIqMSxcbiAgdmVjMzogMyoxLFxuICB2ZWM0OiA0KjEsXG4gIG1hdDM6IDMqMyxcbiAgbWF0NDogNCo0LFxufTtcblxubGV0IGluY2x1ZGVzID0ge307XG5cbmZ1bmN0aW9uIGxvYWRJbmNsdWRlKGtleSkge1xuICBsZXQgdGV4dCA9IHdlYkZTR2V0RmlsZShpbmNsdWRlc1trZXldLmZpbGVuYW1lLCAndGV4dCcpO1xuICBpbmNsdWRlc1trZXldLnRleHQgPSBgXFxuLy8gZnJvbSBpbmNsdWRlIFwiJHtrZXl9XCI6XFxuJHt0ZXh0fVxcbmA7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhZGRJbmNsdWRlKGtleSwgZmlsZW5hbWUpIHtcbiAgYXNzZXJ0KCFpbmNsdWRlc1trZXldKTtcbiAgaW5jbHVkZXNba2V5XSA9IHsgZmlsZW5hbWUgfTtcbiAgbG9hZEluY2x1ZGUoa2V5KTtcbn1cblxubGV0IHJlcG9ydF9xdWV1ZWQgPSBmYWxzZTtcbmxldCBzaGFkZXJfZXJyb3JzO1xuZnVuY3Rpb24gcmVwb3J0U2hhZGVyRXJyb3IoZXJyKSB7XG4gIGZ1bmN0aW9uIGRvUmVwb3J0KCkge1xuICAgIGFzc2VydChmYWxzZSwgYFNoYWRlciBlcnJvcihzKTpcXG4gICAgJHtzaGFkZXJfZXJyb3JzLmpvaW4oJ1xcbiAgICAnKX1gKTtcbiAgICBzaGFkZXJfZXJyb3JzID0gbnVsbDtcbiAgfVxuICBpZiAoIXJlcG9ydF9xdWV1ZWQpIHtcbiAgICBzZXRUaW1lb3V0KGRvUmVwb3J0LCAxMDAwKTtcbiAgICByZXBvcnRfcXVldWVkID0gdHJ1ZTtcbiAgICBzaGFkZXJfZXJyb3JzID0gW107XG4gIH1cbiAgc2hhZGVyX2Vycm9ycy5wdXNoKGVycik7XG59XG5cbmZ1bmN0aW9uIHBhcnNlSW5jbHVkZXModGV4dCkge1xuICBsZXQgc3VwcGxpZWRfdW5pZm9ybXMgPSB7fTtcbiAgdGV4dC5yZXBsYWNlKHVuaWZvcm1fcmVnZXgsIGZ1bmN0aW9uIChzdHIsIGtleSkge1xuICAgIHN1cHBsaWVkX3VuaWZvcm1zW2tleV0gPSB0cnVlO1xuICB9KTtcbiAgdGV4dCA9IHRleHQucmVwbGFjZShpbmNsdWRlX3JlZ2V4LCBmdW5jdGlvbiAoc3RyLCBmaWxlbmFtZSkge1xuICAgIGxldCByZXBsYWNlbWVudCA9IGluY2x1ZGVzW2ZpbGVuYW1lXTtcbiAgICBpZiAoIXJlcGxhY2VtZW50KSB7XG4gICAgICBjb25zb2xlLmVycm9yKGBDb3VsZCBub3QgZXZhbHVhdGUgJHtzdHJ9YCk7XG4gICAgICByZXR1cm4gc3RyO1xuICAgIH1cbiAgICByZXBsYWNlbWVudCA9IHJlcGxhY2VtZW50LnRleHQ7XG4gICAgLy8gUmVtb3ZlIGR1cGxpY2F0ZSB1bmlmb3Jtc1xuICAgIHJlcGxhY2VtZW50ID0gcmVwbGFjZW1lbnQucmVwbGFjZSh1bmlmb3JtX3JlZ2V4LCBmdW5jdGlvbiAoc3RyMiwga2V5KSB7XG4gICAgICBpZiAoc3VwcGxpZWRfdW5pZm9ybXNba2V5XSkge1xuICAgICAgICByZXR1cm4gYC8vIFtyZW1vdmVkICR7a2V5fV1gO1xuICAgICAgfVxuICAgICAgc3VwcGxpZWRfdW5pZm9ybXNba2V5XSA9IHRydWU7XG4gICAgICByZXR1cm4gc3RyMjtcbiAgICB9KTtcbiAgICByZXR1cm4gcmVwbGFjZW1lbnQ7XG4gIH0pO1xuICByZXR1cm4gdGV4dDtcbn1cblxuY29uc3Qgd2ViZ2wyX2hlYWRlciA9IFtcbiAgJyN2ZXJzaW9uIDMwMCBlcycsXG4gICcjZGVmaW5lIFdFQkdMMicsXG5dLmpvaW4oJ1xcbicpO1xuY29uc3Qgd2ViZ2wyX2hlYWRlcl9mcCA9IFtcbiAgd2ViZ2wyX2hlYWRlcixcbiAgJyNkZWZpbmUgdmFyeWluZyBpbicsXG4gICdvdXQgbG93cCB2ZWM0IGZyYWdDb2xvcjsnLFxuICAnI2RlZmluZSBnbF9GcmFnQ29sb3IgZnJhZ0NvbG9yJyxcbiAgJyNkZWZpbmUgdGV4dHVyZTJEIHRleHR1cmUnLFxuICAnI2RlZmluZSB0ZXh0dXJlQ3ViZSB0ZXh0dXJlJyxcbiAgJydcbl0uam9pbignXFxuJyk7XG5jb25zdCB3ZWJnbDJfaGVhZGVyX3ZwID0gW1xuICB3ZWJnbDJfaGVhZGVyLFxuICAnI2RlZmluZSB2YXJ5aW5nIG91dCcsXG4gICcjZGVmaW5lIGF0dHJpYnV0ZSBpbicsXG4gICcnXG5dLmpvaW4oJ1xcbicpO1xuXG5mdW5jdGlvbiBTaGFkZXIocGFyYW1zKSB7XG4gIGxldCB7IGZpbGVuYW1lIH0gPSBwYXJhbXM7XG4gIGFzc2VydC5lcXVhbCh0eXBlb2YgZmlsZW5hbWUsICdzdHJpbmcnKTtcbiAgbGV0IHR5cGUgPSBmaWxlbmFtZS5lbmRzV2l0aCgnLmZwJykgPyBnbC5GUkFHTUVOVF9TSEFERVIgOiBmaWxlbmFtZS5lbmRzV2l0aCgnLnZwJykgPyBnbC5WRVJURVhfU0hBREVSIDogMDtcbiAgYXNzZXJ0KHR5cGUpO1xuICB0aGlzLnR5cGUgPSB0eXBlO1xuICB0aGlzLmZpbGVuYW1lID0gZmlsZW5hbWU7XG4gIHRoaXMuc2hhZGVyID0gZ2wuY3JlYXRlU2hhZGVyKHR5cGUpO1xuICB0aGlzLmlkID0gKytsYXN0X2lkO1xuICBpZiAodHlwZSA9PT0gZ2wuVkVSVEVYX1NIQURFUikge1xuICAgIHRoaXMucHJvZ3JhbXMgPSB7fTtcbiAgfVxuICBzaGFkZXJzLnB1c2godGhpcyk7XG4gIHRoaXMuY29tcGlsZSgpO1xufVxuXG5TaGFkZXIucHJvdG90eXBlLmNvbXBpbGUgPSBmdW5jdGlvbiAoKSB7XG4gIGxldCB7IHR5cGUsIGZpbGVuYW1lIH0gPSB0aGlzO1xuICBsZXQgaGVhZGVyID0gJyc7XG4gIGxldCB0ZXh0ID0gd2ViRlNHZXRGaWxlKGZpbGVuYW1lLCAndGV4dCcpO1xuICBpZiAoZW5naW5lLndlYmdsMiAmJiB0ZXh0LmluZGV4T2YoJyNwcmFnbWEgV2ViR0wyJykgIT09IC0xKSB7XG4gICAgaGVhZGVyID0gdHlwZSA9PT0gZ2wuVkVSVEVYX1NIQURFUiA/IHdlYmdsMl9oZWFkZXJfdnAgOiB3ZWJnbDJfaGVhZGVyX2ZwO1xuICB9XG4gIHRleHQgPSBgJHtoZWFkZXJ9JHtkZWZpbmVzfSR7dGV4dH1gO1xuICB0ZXh0ID0gcGFyc2VJbmNsdWRlcyh0ZXh0KTtcbiAgdGV4dCA9IHRleHQucmVwbGFjZSgvI3ByYWdtYSBXZWJHTDI/L2csICcnKTtcbiAgaWYgKHR5cGUgPT09IGdsLlZFUlRFWF9TSEFERVIpIHtcbiAgICB0aGlzLmF0dHJpYnV0ZXMgPSBtYXRjaEFsbCh0ZXh0LCB2cF9hdHRyX3JlZ2V4KTtcbiAgICAvLyBFbnN1cmUgdGhleSBhcmUga25vd24gbmFtZXMgc28gd2UgY2FuIGdpdmUgdGhlbSBpbmRpY2VzXG4gICAgLy8gQWRkIHRvIHNlbWFudGljW10gYWJvdmUgYXMgbmVlZGVkXG4gICAgdGhpcy5hdHRyaWJ1dGVzLmZvckVhY2goKHYpID0+IGFzc2VydChzZW1hbnRpY1t2XSAhPT0gdW5kZWZpbmVkKSk7XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5zYW1wbGVycyA9IG1hdGNoQWxsKHRleHQsIHNhbXBsZXJfcmVnZXgpO1xuICAgIC8vIEVuc3VyZSBhbGwgc2FtcGxlcnMgZW5kIGluIGEgdW5pcXVlIG51bWJlclxuICAgIGxldCBmb3VuZCA9IFtdO1xuICAgIHRoaXMuc2FtcGxlcnMuZm9yRWFjaCgodikgPT4ge1xuICAgICAgbGV0IG51bSA9IE51bWJlcih2LnNsaWNlKC0xKSk7XG4gICAgICBhc3NlcnQoIWlzTmFOKG51bSkpO1xuICAgICAgYXNzZXJ0KCFmb3VuZFtudW1dKTtcbiAgICAgIGZvdW5kW251bV0gPSB0cnVlO1xuICAgIH0pO1xuICB9XG4gIHRoaXMudW5pZm9ybXMgPSBtYXRjaEFsbCh0ZXh0LCB1bmlmb3JtX3JlZ2V4KTtcbiAgLy8gRW5zdXJlIGEga25vd24gdHlwZVxuICB0aGlzLnVuaWZvcm1zLmZvckVhY2goKHYpID0+IHtcbiAgICBsZXQgdHlwZV9uYW1lID0gdi5zcGxpdCgnICcpWzBdO1xuICAgIGFzc2VydCh0eXBlX3NpemVbdHlwZV9uYW1lXSk7XG4gIH0pO1xuICBnbC5zaGFkZXJTb3VyY2UodGhpcy5zaGFkZXIsIHRleHQpO1xuICBnbC5jb21waWxlU2hhZGVyKHRoaXMuc2hhZGVyKTtcblxuICBpZiAoIWdsLmdldFNoYWRlclBhcmFtZXRlcih0aGlzLnNoYWRlciwgZ2wuQ09NUElMRV9TVEFUVVMpKSB7XG4gICAgbGV0IGVycm9yX3RleHQgPSBnbC5nZXRTaGFkZXJJbmZvTG9nKHRoaXMuc2hhZGVyKTtcbiAgICBpZiAoZXJyb3JfdGV4dCkgeyAvLyBzb21ldGltZXMgbnVsbCBvbiBpT1NcbiAgICAgIGVycm9yX3RleHQgPSBlcnJvcl90ZXh0LnJlcGxhY2UoL1xcMC9nLCAnJykudHJpbSgpO1xuICAgIH1cbiAgICBjb25zb2xlLmVycm9yKGBFcnJvciBjb21waWxpbmcgJHtmaWxlbmFtZX06ICR7ZXJyb3JfdGV4dH1gKTtcbiAgICByZXBvcnRTaGFkZXJFcnJvcihgJHtmaWxlbmFtZX06ICR7ZXJyb3JfdGV4dH1gKTtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbmV3bGluZS1wZXItY2hhaW5lZC1jYWxsXG4gICAgY29uc29sZS5sb2codGV4dC5zcGxpdCgnXFxuJykubWFwKChsaW5lLCBpZHgpID0+IGAke2lkeCsxfTogJHtsaW5lfWApLmpvaW4oJ1xcbicpKTtcbiAgfVxufTtcblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZShmaWxlbmFtZSkge1xuICBpZiAodHlwZW9mIGZpbGVuYW1lID09PSAnb2JqZWN0Jykge1xuICAgIHJldHVybiBuZXcgU2hhZGVyKGZpbGVuYW1lKTtcbiAgfVxuICByZXR1cm4gbmV3IFNoYWRlcih7IGZpbGVuYW1lIH0pO1xufVxuXG5mdW5jdGlvbiB1bmlmb3JtU2V0VmFsdWUodW5pZikge1xuICBzd2l0Y2ggKHVuaWYud2lkdGgpIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBkZWZhdWx0LWNhc2VcbiAgICBjYXNlIDE6XG4gICAgICBnbC51bmlmb3JtMWZ2KHVuaWYubG9jYXRpb24sIHVuaWYudmFsdWUpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAyOlxuICAgICAgZ2wudW5pZm9ybTJmdih1bmlmLmxvY2F0aW9uLCB1bmlmLnZhbHVlKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgMzpcbiAgICAgIGdsLnVuaWZvcm0zZnYodW5pZi5sb2NhdGlvbiwgdW5pZi52YWx1ZSk7XG4gICAgICBicmVhaztcbiAgICBjYXNlIDQ6XG4gICAgICBnbC51bmlmb3JtNGZ2KHVuaWYubG9jYXRpb24sIHVuaWYudmFsdWUpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSA5OlxuICAgICAgZ2wudW5pZm9ybU1hdHJpeDNmdih1bmlmLmxvY2F0aW9uLCBmYWxzZSwgdW5pZi52YWx1ZSk7XG4gICAgICBicmVhaztcbiAgICBjYXNlIDE2OlxuICAgICAgZ2wudW5pZm9ybU1hdHJpeDRmdih1bmlmLmxvY2F0aW9uLCBmYWxzZSwgdW5pZi52YWx1ZSk7XG4gICAgICBicmVhaztcbiAgfVxufVxuXG5mdW5jdGlvbiBsaW5rKHZwLCBmcCkge1xuICBsZXQgcHJvZyA9IHZwLnByb2dyYW1zW2ZwLmlkXSA9IHtcbiAgICBoYW5kbGU6IGdsLmNyZWF0ZVByb2dyYW0oKSxcbiAgICB1bmlmb3JtczogbnVsbCxcbiAgfTtcbiAgaWYgKCFwcm9nLmhhbmRsZSkge1xuICAgIGFzc2VydChmYWxzZSwgYGdsLmNyZWF0ZVByb2dyYW0oKSByZXR1cm5lZCAke3Byb2cuaGFuZGxlfSR7Z2wuY3JlYXRlUHJvZ3JhbSgpID8gJywgcmV0cnkgd291bGQgc3VjY2VlZCcgOiAnJ31gKTtcbiAgfVxuICBnbC5hdHRhY2hTaGFkZXIocHJvZy5oYW5kbGUsIHZwLnNoYWRlcik7XG4gIGdsLmF0dGFjaFNoYWRlcihwcm9nLmhhbmRsZSwgZnAuc2hhZGVyKTtcbiAgLy8gY2FsbCB0aGlzIGZvciBhbGwgcmVsZXZhbnQgc2VtYW50aWNcbiAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IHZwLmF0dHJpYnV0ZXMubGVuZ3RoOyArK2lpKSB7XG4gICAgZ2wuYmluZEF0dHJpYkxvY2F0aW9uKHByb2cuaGFuZGxlLCBzZW1hbnRpY1t2cC5hdHRyaWJ1dGVzW2lpXV0sIHZwLmF0dHJpYnV0ZXNbaWldKTtcbiAgfVxuICBnbC5saW5rUHJvZ3JhbShwcm9nLmhhbmRsZSk7XG5cbiAgcHJvZy52YWxpZCA9IGdsLmdldFByb2dyYW1QYXJhbWV0ZXIocHJvZy5oYW5kbGUsIGdsLkxJTktfU1RBVFVTKTtcbiAgaWYgKCFwcm9nLnZhbGlkKSB7XG4gICAgcmVwb3J0U2hhZGVyRXJyb3IoYFNoYWRlciBsaW5rIGVycm9yICgke3ZwLmZpbGVuYW1lfSAmICR7ZnAuZmlsZW5hbWV9KTogJHtnbC5nZXRQcm9ncmFtSW5mb0xvZyhwcm9nLmhhbmRsZSl9YCk7XG4gICAgY29uc29sZS5lcnJvcihgU2hhZGVyIGxpbmsgZXJyb3I6ICR7Z2wuZ2V0UHJvZ3JhbUluZm9Mb2cocHJvZy5oYW5kbGUpfWApO1xuICB9XG5cbiAgZ2wudXNlUHJvZ3JhbShwcm9nLmhhbmRsZSk7XG4gIGJvdW5kX3Byb2cgPSBwcm9nO1xuXG4gIGxldCB1bmlmb3JtcyA9IHZwLnVuaWZvcm1zLnNsaWNlKDApO1xuICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgZnAudW5pZm9ybXMubGVuZ3RoOyArK2lpKSB7XG4gICAgbGV0IG5hbWUgPSBmcC51bmlmb3Jtc1tpaV07XG4gICAgaWYgKHVuaWZvcm1zLmluZGV4T2YobmFtZSkgPT09IC0xKSB7XG4gICAgICB1bmlmb3Jtcy5wdXNoKG5hbWUpO1xuICAgIH1cbiAgfVxuICBwcm9nLnVuaWZvcm1zID0gdW5pZm9ybXMubWFwKCh2KSA9PiB7XG4gICAgdiA9IHYuc3BsaXQoJyAnKTtcbiAgICBsZXQgdHlwZSA9IHZbMF07XG4gICAgbGV0IG5hbWUgPSB2WzFdO1xuICAgIGxldCBjb3VudCA9IDE7XG4gICAgbGV0IG0gPSBuYW1lLm1hdGNoKC8oW15bXSspXFxbKFxcZCspXFxdLyk7XG4gICAgaWYgKG0pIHtcbiAgICAgIG5hbWUgPSBtWzFdO1xuICAgICAgY291bnQgPSBOdW1iZXIobVsyXSk7XG4gICAgfVxuICAgIGxldCBsb2NhdGlvbiA9IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihwcm9nLmhhbmRsZSwgbmFtZSk7XG4gICAgaWYgKGxvY2F0aW9uID09PSBudWxsKSB7XG4gICAgICAvLyBOb3QgaW4gZWl0aGVyIHNoYWRlciwgKGNvbW1lbnRlZCBvdXQ/KSwgcmVtb3ZlICh2aWEgZmlsdGVyIGJlbG93KVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGxldCB3aWR0aCA9IHR5cGVfc2l6ZVt0eXBlXTtcbiAgICBsZXQgc2l6ZSA9IHdpZHRoICogY291bnQ7XG4gICAgbGV0IGdsb2IgPSBnbG9iYWxzW25hbWVdO1xuICAgIGxldCB2YWx1ZSA9IG5ldyBGbG9hdDMyQXJyYXkoc2l6ZSk7XG4gICAgLy8gc2V0IGluaXRpYWwgdmFsdWVcbiAgICBsZXQgdW5pZiA9IHtcbiAgICAgIG5hbWUsXG4gICAgICBzaXplLFxuICAgICAgd2lkdGgsXG4gICAgICBjb3VudCxcbiAgICAgIHZhbHVlLFxuICAgICAgbG9jYXRpb24sXG4gICAgICBnbG9iLFxuICAgIH07XG4gICAgdW5pZm9ybVNldFZhbHVlKHVuaWYpO1xuICAgIHJldHVybiB1bmlmO1xuICB9KS5maWx0ZXIoKHYpID0+IHYpO1xuXG4gIGZvciAobGV0IGlpID0gMDsgaWkgPCBmcC5zYW1wbGVycy5sZW5ndGg7ICsraWkpIHtcbiAgICBsZXQgbmFtZSA9IGZwLnNhbXBsZXJzW2lpXTtcbiAgICBsZXQgbnVtID0gTnVtYmVyKG5hbWUuc2xpY2UoLTEpKTtcbiAgICBsZXQgbG9jYXRpb24gPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24ocHJvZy5oYW5kbGUsIG5hbWUpO1xuICAgIGlmIChsb2NhdGlvbiAhPT0gbnVsbCkge1xuICAgICAgZ2wudW5pZm9ybTFpKGxvY2F0aW9uLCBudW0pO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcHJvZztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGJpbmQodnAsIGZwLCBwYXJhbXMpIHtcbiAgbGV0IHByb2cgPSB2cC5wcm9ncmFtc1tmcC5pZF07XG4gIGlmICghcHJvZykge1xuICAgIHByb2cgPSBsaW5rKHZwLCBmcCk7XG4gIH1cbiAgaWYgKCFwcm9nLnZhbGlkKSB7XG4gICAgcHJvZyA9IGxpbmsodnAsIGVycm9yX2ZwKTtcbiAgICBpZiAoIXByb2cudmFsaWQpIHtcbiAgICAgIHByb2cgPSBsaW5rKGVycm9yX3ZwLCBlcnJvcl9mcCk7XG4gICAgfVxuICAgIHZwLnByb2dyYW1zW2ZwLmlkXSA9IHByb2c7XG4gIH1cbiAgaWYgKHByb2cgIT09IGJvdW5kX3Byb2cpIHtcbiAgICBib3VuZF9wcm9nID0gcHJvZztcbiAgICBnbC51c2VQcm9ncmFtKHByb2cuaGFuZGxlKTtcbiAgfVxuICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgcHJvZy51bmlmb3Jtcy5sZW5ndGg7ICsraWkpIHtcbiAgICBsZXQgdW5pZiA9IHByb2cudW5pZm9ybXNbaWldO1xuICAgIGxldCB2YWx1ZSA9IHBhcmFtc1t1bmlmLm5hbWVdIHx8IHVuaWYuZ2xvYjtcbiAgICBpZiAoIXZhbHVlKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgbGV0IGRpZmYgPSBmYWxzZTtcbiAgICBmb3IgKGxldCBqaiA9IDA7IGpqIDwgdW5pZi5zaXplOyArK2pqKSB7XG4gICAgICBpZiAodmFsdWVbampdICE9PSB1bmlmLnZhbHVlW2pqXSkge1xuICAgICAgICBkaWZmID0gdHJ1ZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChkaWZmKSB7XG4gICAgICBmb3IgKGxldCBqaiA9IDA7IGpqIDwgdW5pZi5zaXplOyArK2pqKSB7XG4gICAgICAgIHVuaWYudmFsdWVbampdID0gdmFsdWVbampdO1xuICAgICAgfVxuICAgICAgdW5pZm9ybVNldFZhbHVlKHVuaWYpO1xuICAgIH1cbiAgfVxufVxuXG5jb25zdCByZXNlcnZlZCA9IHsgV0VCR0wyOiAxIH07XG5leHBvcnQgZnVuY3Rpb24gYWRkUmVzZXJ2ZWREZWZpbmUoa2V5KSB7XG4gIHJlc2VydmVkW2tleV0gPSAxO1xufVxubGV0IGludGVybmFsX2RlZmluZXMgPSB7fTtcbmZ1bmN0aW9uIGFwcGx5RGVmaW5lcygpIHtcbiAgZGVmaW5lcyA9IE9iamVjdC5rZXlzKGVuZ2luZS5kZWZpbmVzKS5maWx0ZXIoKHYpID0+ICFyZXNlcnZlZFt2XSlcbiAgICAuY29uY2F0KE9iamVjdC5rZXlzKGludGVybmFsX2RlZmluZXMpKVxuICAgIC5tYXAoKHYpID0+IGAjZGVmaW5lICR7dn1cXG5gKVxuICAgIC5qb2luKCcnKTtcbn1cblxuZnVuY3Rpb24gc2hhZGVyUmVsb2FkKCkge1xuICBpZiAoc2hhZGVycy5sZW5ndGgpIHtcbiAgICB3aW5kb3cuZGVidWdtc2coJycsIHRydWUpO1xuICAgIGdsLnVzZVByb2dyYW0obnVsbCk7XG4gICAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IHNoYWRlcnMubGVuZ3RoOyArK2lpKSB7XG4gICAgICBsZXQgcHJvZ3JhbXMgPSBzaGFkZXJzW2lpXS5wcm9ncmFtcztcbiAgICAgIGlmIChwcm9ncmFtcykge1xuICAgICAgICBmb3IgKGxldCBpZCBpbiBwcm9ncmFtcykge1xuICAgICAgICAgIGdsLmRlbGV0ZVByb2dyYW0ocHJvZ3JhbXNbaWRdLmhhbmRsZSk7XG4gICAgICAgIH1cbiAgICAgICAgc2hhZGVyc1tpaV0ucHJvZ3JhbXMgPSB7fTtcbiAgICAgIH1cbiAgICB9XG4gICAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IHNoYWRlcnMubGVuZ3RoOyArK2lpKSB7XG4gICAgICBzaGFkZXJzW2lpXS5jb21waWxlKCk7XG4gICAgfVxuICAgIHRleHR1cmVzVW5sb2FkRHluYW1pYygpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBoYW5kbGVEZWZpbmVzQ2hhbmdlZCgpIHtcbiAgYXBwbHlEZWZpbmVzKCk7XG4gIHNoYWRlclJlbG9hZCgpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2V0SW50ZXJuYWxEZWZpbmVzKG5ld192YWx1ZXMpIHtcbiAgZm9yIChsZXQga2V5IGluIG5ld192YWx1ZXMpIHtcbiAgICBpZiAobmV3X3ZhbHVlc1trZXldKSB7XG4gICAgICBpbnRlcm5hbF9kZWZpbmVzW2tleV0gPSBuZXdfdmFsdWVzW2tleV07XG4gICAgfSBlbHNlIHtcbiAgICAgIGRlbGV0ZSBpbnRlcm5hbF9kZWZpbmVzW2tleV07XG4gICAgfVxuICB9XG4gIGhhbmRsZURlZmluZXNDaGFuZ2VkKCk7XG59XG5cbmZ1bmN0aW9uIG9uU2hhZGVyQ2hhbmdlKGZpbGVuYW1lKSB7XG4gIGZvciAobGV0IGtleSBpbiBpbmNsdWRlcykge1xuICAgIGxvYWRJbmNsdWRlKGtleSk7XG4gIH1cbiAgc2hhZGVyUmVsb2FkKCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzdGFydHVwKF9nbG9iYWxzKSB7XG4gIGFwcGx5RGVmaW5lcygpO1xuICBnbG9iYWxzID0gX2dsb2JhbHM7XG5cbiAgZXJyb3JfZnAgPSBjcmVhdGUoJ2dsb3Yvc2hhZGVycy9lcnJvci5mcCcpO1xuICBlcnJvcl92cCA9IGNyZWF0ZSgnZ2xvdi9zaGFkZXJzL2Vycm9yLnZwJyk7XG5cbiAgZmlsZXdhdGNoT24oJy5mcCcsIG9uU2hhZGVyQ2hhbmdlKTtcbiAgZmlsZXdhdGNoT24oJy52cCcsIG9uU2hhZGVyQ2hhbmdlKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFkZEdsb2JhbChrZXksIHZlYykge1xuICBhc3NlcnQoIWdsb2JhbHNba2V5XSk7XG4gIGdsb2JhbHNba2V5XSA9IHZlYztcbn1cbiIsIi8vIFBvcnRpb25zIENvcHlyaWdodCAyMDE5IEppbWIgRXNzZXIgKGh0dHBzOi8vZ2l0aHViLmNvbS9KaW1ibHkvKVxuLy8gUmVsZWFzZWQgdW5kZXIgTUlUIExpY2Vuc2U6IGh0dHBzOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvTUlUXG5cbmV4cG9ydCBjb25zdCBGQURFX0RFRkFVTFQgPSAwO1xuZXhwb3J0IGNvbnN0IEZBREVfT1VUID0gMTtcbmV4cG9ydCBjb25zdCBGQURFX0lOID0gMjtcbmV4cG9ydCBjb25zdCBGQURFID0gRkFERV9PVVQgKyBGQURFX0lOO1xuXG5jb25zdCBhc3NlcnQgPSByZXF1aXJlKCdhc3NlcnQnKTtcbmNvbnN0IHsgY21kX3BhcnNlIH0gPSByZXF1aXJlKCcuL2NtZHMuanMnKTtcbmNvbnN0IHsgZmlsZXdhdGNoT24gfSA9IHJlcXVpcmUoJy4vZmlsZXdhdGNoLmpzJyk7XG5jb25zdCB7IEhvd2wsIEhvd2xlciB9ID0gcmVxdWlyZSgnQGppbWJseS9ob3dsZXIvc3JjL2hvd2xlci5jb3JlLmpzJyk7XG5jb25zdCB7IGFicywgZmxvb3IsIG1heCwgbWluLCByYW5kb20gfSA9IE1hdGg7XG5jb25zdCBzZXR0aW5ncyA9IHJlcXVpcmUoJy4vc2V0dGluZ3MuanMnKTtcbmNvbnN0IHVybGhhc2ggPSByZXF1aXJlKCcuL3VybGhhc2guanMnKTtcbmNvbnN0IHsgZGVmYXVsdHMsIHJpZHggfSA9IHJlcXVpcmUoJy4uLy4uL2NvbW1vbi91dGlsLmpzJyk7XG5cbmNvbnN0IERFRkFVTFRfRkFERV9SQVRFID0gMC4wMDE7XG5cbmxldCBzb3VuZHMgPSB7fTtcbmxldCBudW1fbG9hZGluZyA9IDA7XG5cbi8vIEhvd2xlci51c2luZ1dlYkF1ZGlvID0gZmFsc2U7IC8vIERpc2FibGUgV2ViQXVkaW8gZm9yIHRlc3RpbmcgSFRNTDUgZmFsbGJhY2tzXG5cbmNvbnN0IGRlZmF1bHRfcGFyYW1zID0ge1xuICBleHRfbGlzdDogWydtcDMnLCAnd2F2J10sIC8vIChyZWNvbW1lbmRlZCkgdHJ5IGxvYWRpbmcgLm1wMyB2ZXJzaW9ucyBmaXJzdCwgdGhlbiBmYWxsYmFjayB0byAud2F2XG4gIC8vICBhbHNvIGNvdmVycyBhbGwgYnJvd3NlcnM6IFsnd2VibScsICdtcDMnXVxuICBmYWRlX3JhdGU6IERFRkFVTFRfRkFERV9SQVRFLFxufTtcbmxldCBzb3VuZF9wYXJhbXM7XG5cbmxldCBsYXN0X3BsYXllZCA9IHt9O1xubGV0IGZyYW1lX3RpbWVzdGFtcCA9IDA7XG5sZXQgZmFkZXMgPSBbXTtcbmxldCBtdXNpYztcblxuc2V0dGluZ3MucmVnaXN0ZXIoe1xuICB2b2x1bWU6IHtcbiAgICBkZWZhdWx0X3ZhbHVlOiAxLFxuICAgIHR5cGU6IGNtZF9wYXJzZS5UWVBFX0ZMT0FULFxuICAgIHJhbmdlOiBbMCwxXSxcbiAgfSxcbn0pO1xuXG5zZXR0aW5ncy5yZWdpc3Rlcih7XG4gIHNvdW5kOiB7XG4gICAgZGVmYXVsdF92YWx1ZTogMSxcbiAgICB0eXBlOiBjbWRfcGFyc2UuVFlQRV9JTlQsXG4gICAgcmFuZ2U6IFswLDFdLFxuICB9LFxufSk7XG5cbnNldHRpbmdzLnJlZ2lzdGVyKHtcbiAgbXVzaWM6IHtcbiAgICBkZWZhdWx0X3ZhbHVlOiAxLFxuICAgIHR5cGU6IGNtZF9wYXJzZS5UWVBFX0lOVCxcbiAgICByYW5nZTogWzAsMV0sXG4gIH0sXG59KTtcblxuZXhwb3J0IGZ1bmN0aW9uIHNvdW5kTG9hZChiYXNlLCBvcHRzLCBjYikge1xuICBvcHRzID0gb3B0cyB8fCB7fTtcbiAgaWYgKEFycmF5LmlzQXJyYXkoYmFzZSkpIHtcbiAgICBhc3NlcnQoIWNiKTtcbiAgICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgYmFzZS5sZW5ndGg7ICsraWkpIHtcbiAgICAgIHNvdW5kTG9hZChiYXNlW2lpXSwgb3B0cyk7XG4gICAgfVxuICAgIHJldHVybjtcbiAgfVxuICBsZXQga2V5ID0gYmFzZTtcbiAgaWYgKHNvdW5kc1trZXldKSB7XG4gICAgaWYgKGNiKSB7XG4gICAgICBjYigpO1xuICAgIH1cbiAgICByZXR1cm47XG4gIH1cbiAgbGV0IG0gPSBiYXNlLm1hdGNoKC9eKC4qKVxcLihtcDN8b2dnfHdhdnx3ZWJtKSQvdSk7XG4gIGxldCBwcmVmZXJyZWRfZXh0O1xuICBpZiAobSkge1xuICAgIGJhc2UgPSBtWzFdO1xuICAgIHByZWZlcnJlZF9leHQgPSBtWzJdO1xuICB9XG4gIGxldCBzcmMgPSBgc291bmRzLyR7YmFzZX1gO1xuICBsZXQgc3JjcyA9IFtdO1xuICBsZXQgc3VmZml4ID0gJyc7XG4gIGlmIChvcHRzLmZvcl9yZWxvYWQpIHtcbiAgICBzdWZmaXggPSBgP3JsPSR7RGF0ZS5ub3coKX1gO1xuICB9XG4gIGlmIChwcmVmZXJyZWRfZXh0KSB7XG4gICAgc3Jjcy5wdXNoKGAke3VybGhhc2guZ2V0VVJMQmFzZSgpfSR7c3JjfS4ke3ByZWZlcnJlZF9leHR9JHtzdWZmaXh9YCk7XG4gIH1cbiAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IHNvdW5kX3BhcmFtcy5leHRfbGlzdC5sZW5ndGg7ICsraWkpIHtcbiAgICBsZXQgZXh0ID0gc291bmRfcGFyYW1zLmV4dF9saXN0W2lpXTtcbiAgICBpZiAoZXh0ICE9PSBwcmVmZXJyZWRfZXh0KSB7XG4gICAgICBzcmNzLnB1c2goYCR7dXJsaGFzaC5nZXRVUkxCYXNlKCl9JHtzcmN9LiR7ZXh0fSR7c3VmZml4fWApO1xuICAgIH1cbiAgfVxuICAvLyBUcnkgbG9hZGluZyBkZXNpcmVkIHNvdW5kIHR5cGVzIG9uZSBhdCBhIHRpbWUuXG4gIC8vIENhbm5vdCByZWx5IG9uIEhvd2xlcidzIGJ1aWx0LWluIHN1cHBvcnQgZm9yIHRoaXMgYmVjYXVzZSBpdCBvbmx5IGNvbnRpbnVlc1xuICAvLyAgIHRocm91Z2ggdGhlIGxpc3Qgb24gKnNvbWUqIGxvYWQgZXJyb3JzLCBub3QgYWxsIDooLlxuICBmdW5jdGlvbiB0cnlMb2FkKGlkeCkge1xuICAgIGlmIChpZHggPT09IHNyY3MubGVuZ3RoKSB7XG4gICAgICBjb25zb2xlLmVycm9yKGBFcnJvciBsb2FkaW5nIHNvdW5kICR7YmFzZX06IEFsbCBmYWxsYmFja3MgZXhoYXVzdGVkLCBnaXZpbmcgdXBgKTtcbiAgICAgIGlmIChjYikge1xuICAgICAgICBjYignRXJyb3IgbG9hZGluZyBzb3VuZCcpO1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICArK251bV9sb2FkaW5nO1xuICAgIGxldCBvbmNlID0gZmFsc2U7XG4gICAgbGV0IHNvdW5kID0gbmV3IEhvd2woe1xuICAgICAgc3JjOiBzcmNzLnNsaWNlKGlkeCksXG4gICAgICBodG1sNTogQm9vbGVhbihvcHRzLnN0cmVhbWluZyksXG4gICAgICBsb29wOiBCb29sZWFuKG9wdHMubG9vcCksXG4gICAgICB2b2x1bWU6IDAsXG4gICAgICBvbmxvYWQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCFvbmNlKSB7XG4gICAgICAgICAgLS1udW1fbG9hZGluZztcbiAgICAgICAgICBvbmNlID0gdHJ1ZTtcbiAgICAgICAgICBzb3VuZC5nbG92X2xvYWRfb3B0cyA9IG9wdHM7XG4gICAgICAgICAgc291bmRzW2tleV0gPSBzb3VuZDtcbiAgICAgICAgICBpZiAoY2IpIHtcbiAgICAgICAgICAgIGNiKG51bGwpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIG9ubG9hZGVycm9yOiBmdW5jdGlvbiAoaWQsIGVyciwgZXh0cmEpIHtcbiAgICAgICAgaWYgKGlkeCA9PT0gc3Jjcy5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihgRXJyb3IgbG9hZGluZyBzb3VuZCAke3NyY3NbaWR4XX06ICR7ZXJyfWApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnNvbGUubG9nKGBFcnJvciBsb2FkaW5nIHNvdW5kICR7c3Jjc1tpZHhdfTogJHtlcnJ9LCB0cnlpbmcgZmFsbGJhY2suLi5gKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIW9uY2UpIHtcbiAgICAgICAgICAtLW51bV9sb2FkaW5nO1xuICAgICAgICAgIG9uY2UgPSB0cnVlO1xuICAgICAgICAgIHRyeUxvYWQoaWR4ICsgMSk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgfSk7XG4gIH1cbiAgdHJ5TG9hZCgwKTtcbn1cblxuZnVuY3Rpb24gc291bmRSZWxvYWQoZmlsZW5hbWUpIHtcbiAgbGV0IHNvdW5kX25hbWUgPSBmaWxlbmFtZS5tYXRjaCgvXnNvdW5kc1xcLyhbXi5dKylcXC5cXHcrJC8pO1xuICBzb3VuZF9uYW1lID0gc291bmRfbmFtZSAmJiBzb3VuZF9uYW1lWzFdO1xuICBpZiAoIXNvdW5kX25hbWUpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKCFzb3VuZHNbc291bmRfbmFtZV0pIHtcbiAgICBjb25zb2xlLmxvZyhgUmVsb2FkIHRyaWdnZWQgZm9yIG5vbi1leGlzdGVudCBzb3VuZDogJHtmaWxlbmFtZX1gKTtcbiAgICByZXR1cm47XG4gIH1cbiAgbGV0IG9wdHMgPSBzb3VuZHNbc291bmRfbmFtZV0uZ2xvdl9sb2FkX29wdHM7XG4gIG9wdHMuZm9yX3JlbG9hZCA9IHRydWU7XG4gIGRlbGV0ZSBzb3VuZHNbc291bmRfbmFtZV07XG4gIHNvdW5kTG9hZChzb3VuZF9uYW1lLCBvcHRzKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNvdW5kU3RhcnR1cChwYXJhbXMpIHtcbiAgc291bmRfcGFyYW1zID0gZGVmYXVsdHMocGFyYW1zIHx8IHt9LCBkZWZhdWx0X3BhcmFtcyk7XG5cbiAgLy8gTXVzaWNcbiAgbXVzaWMgPSBbXTsgLy8gMCBpcyBjdXJyZW50LCAxIGlzIHByZXZpb3VzIChmYWRpbmcgb3V0KVxuICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgMjsgKytpaSkge1xuICAgIG11c2ljLnB1c2goe1xuICAgICAgc291bmQ6IG51bGwsXG4gICAgICBpZDogMCxcbiAgICAgIGN1cnJlbnRfdm9sdW1lOiAwLFxuICAgICAgdGFyZ2V0X3ZvbHVtZTogMCxcbiAgICAgIHN5c192b2x1bWU6IDAsXG4gICAgICBuZWVkX3BsYXk6IGZhbHNlLFxuICAgIH0pO1xuICB9XG4gIGZpbGV3YXRjaE9uKCcubXAzJywgc291bmRSZWxvYWQpO1xuICBmaWxld2F0Y2hPbignLm9nZycsIHNvdW5kUmVsb2FkKTtcbiAgZmlsZXdhdGNoT24oJy53YXYnLCBzb3VuZFJlbG9hZCk7XG4gIGZpbGV3YXRjaE9uKCcud2VibScsIHNvdW5kUmVsb2FkKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNvdW5kUmVzdW1lKCkge1xuICAvLyBIYW5kbGVkIGludGVybmFsbHkgYnkgSG93bGVyLCBsZWF2aW5nIGhvb2tzIGluIGZvciBub3csIHRob3VnaFxuICAvLyBNYXliZSBtb3JlIHJlbGlhYmxlIHRoYW4gYEhvd2xlci5zYWZlVG9QbGF5YC4uLlxufVxuXG5leHBvcnQgZnVuY3Rpb24gc291bmRSZXN1bWVkKCkge1xuICByZXR1cm4gIUhvd2xlci5ub0F1ZGlvICYmIEhvd2xlci5zYWZlVG9QbGF5O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc291bmRUaWNrKGR0KSB7XG4gIGZyYW1lX3RpbWVzdGFtcCArPSBkdDtcbiAgaWYgKCFzb3VuZFJlc3VtZWQoKSkge1xuICAgIHJldHVybjtcbiAgfVxuICAvLyBEbyBtdXNpYyBmYWRpbmdcbiAgLy8gQ2Fubm90IHJlbHkgb24gSG93bGVyJ3MgZmFkaW5nIGJlY2F1c2Ugc3RhcnRpbmcgYSBmYWRlIHdoZW4gb25lIGlzIGluIHByb2dyZXNzXG4gIC8vICAgbWVzc2VzIHRoaW5ncyB1cCwgYXMgd2VsbCBjYXVzZXMgc25hcHMgaW4gdm9sdW1lIDooXG4gIGxldCBtYXhfZmFkZSA9IGR0ICogc291bmRfcGFyYW1zLmZhZGVfcmF0ZTtcbiAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IG11c2ljLmxlbmd0aDsgKytpaSkge1xuICAgIGxldCBtdXMgPSBtdXNpY1tpaV07XG4gICAgaWYgKCFtdXMuc291bmQpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBsZXQgdGFyZ2V0ID0gc2V0dGluZ3MubXVzaWMgPyBtdXMudGFyZ2V0X3ZvbHVtZSA6IDA7XG4gICAgaWYgKG11cy5jdXJyZW50X3ZvbHVtZSAhPT0gdGFyZ2V0KSB7XG4gICAgICBsZXQgZGVsdGEgPSB0YXJnZXQgLSBtdXMuY3VycmVudF92b2x1bWU7XG4gICAgICBsZXQgZmFkZV9hbXQgPSBtaW4oYWJzKGRlbHRhKSwgbWF4X2ZhZGUpO1xuICAgICAgaWYgKGRlbHRhIDwgMCkge1xuICAgICAgICBtdXMuY3VycmVudF92b2x1bWUgPSBtYXgodGFyZ2V0LCBtdXMuY3VycmVudF92b2x1bWUgLSBmYWRlX2FtdCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBtdXMuY3VycmVudF92b2x1bWUgPSBtaW4odGFyZ2V0LCBtdXMuY3VycmVudF92b2x1bWUgKyBmYWRlX2FtdCk7XG4gICAgICB9XG4gICAgICBpZiAoIW11cy50YXJnZXRfdm9sdW1lICYmICFtdXMuY3VycmVudF92b2x1bWUpIHtcbiAgICAgICAgaWYgKCFtdXMubmVlZF9wbGF5KSB7XG4gICAgICAgICAgbXVzLnNvdW5kLnN0b3AobXVzLmlkKTtcbiAgICAgICAgfVxuICAgICAgICBtdXMuc291bmQgPSBudWxsO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAobXVzLnNvdW5kKSB7XG4gICAgICBsZXQgc3lzX3ZvbHVtZSA9IG11cy5jdXJyZW50X3ZvbHVtZSAqIHNldHRpbmdzLnZvbHVtZTtcbiAgICAgIGlmIChtdXMubmVlZF9wbGF5KSB7XG4gICAgICAgIG11cy5uZWVkX3BsYXk9IGZhbHNlO1xuICAgICAgICBtdXMuaWQgPSBtdXMuc291bmQucGxheSgpO1xuICAgICAgICBtdXMuc3lzX3ZvbHVtZSA9IC0xO1xuICAgICAgfVxuICAgICAgaWYgKG11cy5zeXNfdm9sdW1lICE9PSBzeXNfdm9sdW1lKSB7XG4gICAgICAgIG11cy5zb3VuZC52b2x1bWUoc3lzX3ZvbHVtZSwgbXVzLmlkKTtcbiAgICAgICAgbXVzLnN5c192b2x1bWUgPSBzeXNfdm9sdW1lO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZvciAobGV0IGlpID0gZmFkZXMubGVuZ3RoIC0gMTsgaWkgPj0gMDsgLS1paSkge1xuICAgIGxldCBmYWRlID0gZmFkZXNbaWldO1xuICAgIGZhZGUudm9sdW1lID0gbWF4KDAsIGZhZGUudm9sdW1lIC0gbWF4X2ZhZGUpO1xuICAgIGZhZGUuc291bmQudm9sdW1lKGZhZGUudm9sdW1lICogc2V0dGluZ3Mudm9sdW1lLCBmYWRlLmlkKTtcbiAgICBpZiAoIWZhZGUudm9sdW1lKSB7XG4gICAgICBmYWRlLnNvdW5kLnN0b3AoZmFkZS5pZCk7XG4gICAgICByaWR4KGZhZGVzLCBpaSk7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzb3VuZFBsYXkoc291bmRuYW1lLCB2b2x1bWUsIGFzX211c2ljKSB7XG4gIHZvbHVtZSA9IHZvbHVtZSB8fCAxO1xuICBpZiAoIWFzX211c2ljICYmICFzZXR0aW5ncy5zb3VuZCB8fCBhc19tdXNpYyAmJiAhc2V0dGluZ3MubXVzaWMpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBpZiAoIXNvdW5kUmVzdW1lZCgpKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgaWYgKEFycmF5LmlzQXJyYXkoc291bmRuYW1lKSkge1xuICAgIHNvdW5kbmFtZSA9IHNvdW5kbmFtZVtmbG9vcihyYW5kb20oKSAqIHNvdW5kbmFtZS5sZW5ndGgpXTtcbiAgfVxuICBsZXQgc291bmQgPSBzb3VuZHNbc291bmRuYW1lXTtcbiAgaWYgKCFzb3VuZCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGxldCBsYXN0X3BsYXllZF90aW1lID0gbGFzdF9wbGF5ZWRbc291bmRuYW1lXSB8fCAtOWU5O1xuICBpZiAoZnJhbWVfdGltZXN0YW1wIC0gbGFzdF9wbGF5ZWRfdGltZSA8IDQ1KSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBsZXQgaWQgPSBzb3VuZC5wbGF5KHVuZGVmaW5lZCwgdm9sdW1lICogc2V0dGluZ3Mudm9sdW1lKTtcbiAgLy8gc291bmQudm9sdW1lKHZvbHVtZSAqIHNldHRpbmdzLnZvbHVtZSwgaWQpO1xuICBsYXN0X3BsYXllZFtzb3VuZG5hbWVdID0gZnJhbWVfdGltZXN0YW1wO1xuICByZXR1cm4ge1xuICAgIHN0b3A6IHNvdW5kLnN0b3AuYmluZChzb3VuZCwgaWQpLFxuICAgIHBsYXlpbmc6IHNvdW5kLnBsYXlpbmcuYmluZChzb3VuZCwgaWQpLCAvLyBub3QgcmVsaWFibGUgaWYgaXQgaGFzbid0IHN0YXJ0ZWQgeWV0PyA6KFxuICAgIGZhZGVPdXQ6ICh0aW1lKSA9PiB7XG4gICAgICBmYWRlcy5wdXNoKHtcbiAgICAgICAgdm9sdW1lLFxuICAgICAgICBzb3VuZCxcbiAgICAgICAgaWQsXG4gICAgICAgIHRpbWUsXG4gICAgICB9KTtcbiAgICB9LFxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc291bmRQbGF5TXVzaWMoc291bmRuYW1lLCB2b2x1bWUsIHRyYW5zaXRpb24pIHtcbiAgaWYgKCFzZXR0aW5ncy5tdXNpYykge1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAodm9sdW1lID09PSB1bmRlZmluZWQpIHtcbiAgICB2b2x1bWUgPSAxO1xuICB9XG4gIHRyYW5zaXRpb24gPSB0cmFuc2l0aW9uIHx8IEZBREVfREVGQVVMVDtcbiAgc291bmRMb2FkKHNvdW5kbmFtZSwgeyBzdHJlYW1pbmc6IHRydWUsIGxvb3A6IHRydWUgfSwgKGVycikgPT4ge1xuICAgIGFzc2VydCghZXJyKTtcbiAgICBsZXQgc291bmQgPSBzb3VuZHNbc291bmRuYW1lXTtcbiAgICBhc3NlcnQoc291bmQpO1xuICAgIGlmIChtdXNpY1swXS5zb3VuZCA9PT0gc291bmQpIHtcbiAgICAgIC8vIFNhbWUgc291bmQsIGp1c3QgYWRqdXN0IHZvbHVtZSwgaWYgcmVxdWlyZWRcbiAgICAgIG11c2ljWzBdLnRhcmdldF92b2x1bWUgPSB2b2x1bWU7XG4gICAgICBpZiAoIXRyYW5zaXRpb24pIHtcbiAgICAgICAgaWYgKCF2b2x1bWUpIHtcbiAgICAgICAgICBzb3VuZC5zdG9wKG11c2ljWzBdLmlkKTtcbiAgICAgICAgICBtdXNpY1swXS5zb3VuZCA9IG51bGw7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbGV0IHN5c192b2x1bWUgPSBtdXNpY1swXS5zeXNfdm9sdW1lID0gdm9sdW1lICogc2V0dGluZ3Mudm9sdW1lO1xuICAgICAgICAgIHNvdW5kLnZvbHVtZShzeXNfdm9sdW1lLCBtdXNpY1swXS5pZCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gZmFkZSBvdXQgcHJldmlvdXMgbXVzaWMsIGlmIGFueVxuICAgIGlmIChtdXNpY1swXS5jdXJyZW50X3ZvbHVtZSkge1xuICAgICAgaWYgKHRyYW5zaXRpb24gJiBGQURFX09VVCkge1xuICAgICAgICAvLyBzd2FwIHRvIHBvc2l0aW9uIDEsIHN0YXJ0IGZhZGVvdXRcbiAgICAgICAgbGV0IHRlbXAgPSBtdXNpY1sxXTtcbiAgICAgICAgbXVzaWNbMV0gPSBtdXNpY1swXTtcbiAgICAgICAgbXVzaWNbMF0gPSB0ZW1wO1xuICAgICAgICBtdXNpY1sxXS50YXJnZXRfdm9sdW1lID0gMDtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKG11c2ljWzBdLnNvdW5kKSB7XG4gICAgICBtdXNpY1swXS5zb3VuZC5zdG9wKG11c2ljWzBdLmlkKTtcbiAgICB9XG4gICAgbXVzaWNbMF0uc291bmQgPSBzb3VuZDtcbiAgICBtdXNpY1swXS50YXJnZXRfdm9sdW1lID0gdm9sdW1lO1xuICAgIGxldCBzdGFydF92b2wgPSAodHJhbnNpdGlvbiAmIEZBREVfSU4pID8gMCA6IHZvbHVtZTtcbiAgICBtdXNpY1swXS5jdXJyZW50X3ZvbHVtZSA9IHN0YXJ0X3ZvbDtcbiAgICBpZiAoc291bmRSZXN1bWVkKCkpIHtcbiAgICAgIGxldCBzeXNfdm9sdW1lID0gc3RhcnRfdm9sICogc2V0dGluZ3Mudm9sdW1lO1xuICAgICAgbXVzaWNbMF0uaWQgPSBzb3VuZC5wbGF5KHVuZGVmaW5lZCwgc3lzX3ZvbHVtZSk7XG4gICAgICAvLyBzb3VuZC52b2x1bWUoc3lzX3ZvbHVtZSwgbXVzaWNbMF0uaWQpO1xuICAgICAgbXVzaWNbMF0uc3lzX3ZvbHVtZSA9IHN5c192b2x1bWU7XG4gICAgICBtdXNpY1swXS5uZWVkX3BsYXkgPSBmYWxzZTtcbiAgICB9IGVsc2Uge1xuICAgICAgbXVzaWNbMF0ubmVlZF9wbGF5ID0gdHJ1ZTtcbiAgICB9XG4gIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc291bmRMb2FkaW5nKCkge1xuICByZXR1cm4gbnVtX2xvYWRpbmc7XG59XG4iLCIvLyBQb3J0aW9ucyBDb3B5cmlnaHQgMjAxOSBKaW1iIEVzc2VyIChodHRwczovL2dpdGh1Yi5jb20vSmltYmx5Lylcbi8vIFJlbGVhc2VkIHVuZGVyIE1JVCBMaWNlbnNlOiBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVFxuLy8gU29tZSBjb2RlIGZyb20gVHVyYnVsZW56OiBDb3B5cmlnaHQgKGMpIDIwMTItMjAxMyBUdXJidWxlbnogTGltaXRlZFxuLy8gUmVsZWFzZWQgdW5kZXIgTUlUIExpY2Vuc2U6IGh0dHBzOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvTUlUXG5cbmNvbnN0IGFzc2VydCA9IHJlcXVpcmUoJ2Fzc2VydCcpO1xuY29uc3QgY2FtZXJhMmQgPSByZXF1aXJlKCcuL2NhbWVyYTJkLmpzJyk7XG5jb25zdCBlbmdpbmUgPSByZXF1aXJlKCcuL2VuZ2luZS5qcycpO1xuY29uc3QgZ2VvbSA9IHJlcXVpcmUoJy4vZ2VvbS5qcycpO1xuY29uc3QgeyBjb3MsIG1heCwgbWluLCByb3VuZCwgc2luIH0gPSBNYXRoO1xuY29uc3QgdGV4dHVyZXMgPSByZXF1aXJlKCcuL3RleHR1cmVzLmpzJyk7XG5jb25zdCBzaGFkZXJzID0gcmVxdWlyZSgnLi9zaGFkZXJzLmpzJyk7XG5jb25zdCB7IG5leHRIaWdoZXN0UG93ZXJPZlR3byB9ID0gcmVxdWlyZSgnLi4vLi4vY29tbW9uL3V0aWwuanMnKTtcbmNvbnN0IHsgdmVjMiwgdmVjNCB9ID0gcmVxdWlyZSgnLi92bWF0aC5qcycpO1xuXG5leHBvcnQgY29uc3QgQkxFTkRfQUxQSEEgPSAwO1xuZXhwb3J0IGNvbnN0IEJMRU5EX0FERElUSVZFID0gMTtcblxubGV0IHNwcml0ZV92c2hhZGVyO1xubGV0IHNwcml0ZV9mc2hhZGVyO1xubGV0IHNwcml0ZV9kdWFsX2ZzaGFkZXI7XG5sZXQgY2xpcF9zcGFjZSA9IHZlYzQoKTtcbmxldCBzcHJpdGVfc2hhZGVyX3BhcmFtcyA9IHtcbiAgY2xpcF9zcGFjZVxufTtcbmxldCBsYXN0X3VpZCA9IDA7XG5cbmxldCBzcHJpdGVfcXVldWUgPSBbXTtcblxubGV0IHNwcml0ZV9mcmVlbGlzdCA9IFtdO1xuXG5sZXQgc3ByaXRlX3F1ZXVlX3N0YWNrID0gbnVsbDtcbmV4cG9ydCBmdW5jdGlvbiBzcHJpdGVRdWV1ZVB1c2goKSB7XG4gIGFzc2VydCghc3ByaXRlX3F1ZXVlX3N0YWNrKTtcbiAgc3ByaXRlX3F1ZXVlX3N0YWNrID0gc3ByaXRlX3F1ZXVlO1xuICBzcHJpdGVfcXVldWUgPSBbXTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBzcHJpdGVRdWV1ZVBvcCgpIHtcbiAgYXNzZXJ0KHNwcml0ZV9xdWV1ZV9zdGFjayk7XG4gIGFzc2VydCghc3ByaXRlX3F1ZXVlLmxlbmd0aCk7XG4gIHNwcml0ZV9xdWV1ZSA9IHNwcml0ZV9xdWV1ZV9zdGFjaztcbiAgc3ByaXRlX3F1ZXVlX3N0YWNrID0gbnVsbDtcbn1cblxuZnVuY3Rpb24gU3ByaXRlRGF0YSgpIHtcbiAgLy8geDEgeTEgeDIgeTIgeDMgeTMgeDQgeTQgLSB2ZXJ0aWNlcyBbMCw4KVxuICAvLyBjciBjZyBjYiBjYSB1MSB2MSB1MiB2MiAtIG5vcm1hbGl6ZWQgY29sb3IgKyB0ZXh0dXJlIFs4LDE2KVxuICAvLyBkYXRhIGZvciBHTCBxdWV1aW5nXG4gIHRoaXMuZGF0YSA9IG5ldyBGbG9hdDMyQXJyYXkoMTYpO1xuICAvLyBkYXRhIGZvciBzb3J0aW5nL2JpbmRpbmcvZXRjXG4gIHRoaXMudGV4cyA9IG51bGw7XG4gIHRoaXMuc2hhZGVyID0gbnVsbDtcbiAgdGhpcy5zaGFkZXJfcGFyYW1zID0gbnVsbDtcbiAgdGhpcy54ID0gMDtcbiAgdGhpcy55ID0gMDtcbiAgdGhpcy56ID0gMDtcbiAgdGhpcy5ibGVuZCA9IDA7IC8vIEJMRU5EX0FMUEhBXG4gIHRoaXMudWlkID0gMDtcbn1cblxuZnVuY3Rpb24gc3ByaXRlRGF0YUFsbG9jKCkge1xuICBpZiAoc3ByaXRlX2ZyZWVsaXN0Lmxlbmd0aCkge1xuICAgIHJldHVybiBzcHJpdGVfZnJlZWxpc3QucG9wKCk7XG4gIH1cbiAgcmV0dXJuIG5ldyBTcHJpdGVEYXRhKCk7XG59XG5cbmZ1bmN0aW9uIGNtcFNwcml0ZShhLCBiKSB7XG4gIGlmIChhLnogIT09IGIueikge1xuICAgIHJldHVybiBhLnogLSBiLno7XG4gIH1cbiAgaWYgKGEueSAhPT0gYi55KSB7XG4gICAgcmV0dXJuIGEueSAtIGIueTtcbiAgfVxuICBpZiAoYS54ICE9PSBiLngpIHtcbiAgICByZXR1cm4gYS54IC0gYi54O1xuICB9XG4gIHJldHVybiBhLnVpZCAtIGIudWlkO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcXVldWVmbih6LCBmbikge1xuICBhc3NlcnQoaXNGaW5pdGUoeikpO1xuICBzcHJpdGVfcXVldWUucHVzaCh7XG4gICAgZm4sXG4gICAgeDogMCxcbiAgICB5OiAwLFxuICAgIHosXG4gICAgdWlkOiArK2xhc3RfdWlkLFxuICB9KTtcbn1cblxuLy8gY29vcmRpbmF0ZXMgbXVzdCBiZSBpbiBjb3VudGVyLWNsb2Nrd2lzZSB3aW5kaW5nIG9yZGVyXG5leHBvcnQgZnVuY3Rpb24gcXVldWVyYXc0KFxuICB0ZXhzLCB4MCwgeTAsIHgxLCB5MSwgeDIsIHkyLCB4MywgeTMsIHosXG4gIHUwLCB2MCwgdTEsIHYxLFxuICBjb2xvciwgc2hhZGVyLCBzaGFkZXJfcGFyYW1zLCBibGVuZFxuKSB7XG4gIGFzc2VydChpc0Zpbml0ZSh6KSk7XG4gIGxldCBlbGVtID0gc3ByaXRlRGF0YUFsbG9jKCk7XG4gIGxldCBkYXRhID0gZWxlbS5kYXRhO1xuICAvLyB4MSB5MSB4MiB5MiB4MyB5MyB4NCB5NCAtIHZlcnRpY2VzIFswLDgpXG4gIC8vIGNyIGNnIGNiIGNhIHUxIHYxIHUyIHYyIC0gbm9ybWFsaXplZCBjb2xvciArIHRleHR1cmUgWzgsMTYpXG4gIC8vIE1pbm9yIHBlcmYgaW1wcm92ZW1lbnQ6IGNvbnZlcnQgYnkgY2xpcF9zcGFjZSBoZXJlIChzdGlsbCBqdXN0IGEgc2luZ2xlIE1BRFxuICAvLyAgIGlmIHByZS1jYWxjdWxhdGVkIGluIHRoZSBjYW1lcmEpIGFuZCByZW1vdmUgaXQgZnJvbSB0aGUgc2hhZGVyLlxuICBkYXRhWzBdID0gKHgwIC0gY2FtZXJhMmQuZGF0YVswXSkgKiBjYW1lcmEyZC5kYXRhWzRdO1xuICBkYXRhWzFdID0gKHkwIC0gY2FtZXJhMmQuZGF0YVsxXSkgKiBjYW1lcmEyZC5kYXRhWzVdO1xuICBkYXRhWzJdID0gKHgxIC0gY2FtZXJhMmQuZGF0YVswXSkgKiBjYW1lcmEyZC5kYXRhWzRdO1xuICBkYXRhWzNdID0gKHkxIC0gY2FtZXJhMmQuZGF0YVsxXSkgKiBjYW1lcmEyZC5kYXRhWzVdO1xuICBkYXRhWzRdID0gKHgyIC0gY2FtZXJhMmQuZGF0YVswXSkgKiBjYW1lcmEyZC5kYXRhWzRdO1xuICBkYXRhWzVdID0gKHkyIC0gY2FtZXJhMmQuZGF0YVsxXSkgKiBjYW1lcmEyZC5kYXRhWzVdO1xuICBkYXRhWzZdID0gKHgzIC0gY2FtZXJhMmQuZGF0YVswXSkgKiBjYW1lcmEyZC5kYXRhWzRdO1xuICBkYXRhWzddID0gKHkzIC0gY2FtZXJhMmQuZGF0YVsxXSkgKiBjYW1lcmEyZC5kYXRhWzVdO1xuICBkYXRhWzhdID0gY29sb3JbMF07XG4gIGRhdGFbOV0gPSBjb2xvclsxXTtcbiAgZGF0YVsxMF0gPSBjb2xvclsyXTtcbiAgZGF0YVsxMV0gPSBjb2xvclszXTtcbiAgZGF0YVsxMl0gPSB1MDtcbiAgZGF0YVsxM10gPSB2MDtcbiAgZGF0YVsxNF0gPSB1MTtcbiAgZGF0YVsxNV0gPSB2MTtcblxuICBlbGVtLnRleHMgPSB0ZXhzO1xuICBlbGVtLnggPSBkYXRhWzBdO1xuICBlbGVtLnkgPSBkYXRhWzFdO1xuICBlbGVtLnogPSB6O1xuICBlbGVtLnNoYWRlciA9IHNoYWRlciB8fCBudWxsO1xuICBpZiAoc2hhZGVyX3BhcmFtcykge1xuICAgIHNoYWRlcl9wYXJhbXMuY2xpcF9zcGFjZSA9IHNwcml0ZV9zaGFkZXJfcGFyYW1zLmNsaXBfc3BhY2U7XG4gICAgZWxlbS5zaGFkZXJfcGFyYW1zID0gc2hhZGVyX3BhcmFtcztcbiAgfSBlbHNlIHtcbiAgICBlbGVtLnNoYWRlcl9wYXJhbXMgPSBudWxsO1xuICB9XG4gIGVsZW0uYmxlbmQgPSBibGVuZCB8fCAwOyAvLyBCTEVORF9BTFBIQVxuICAvL2VsZW0uYnVja2V0ID0gYnVja2V0IHx8IHRoaXMuZGVmYXVsdF9idWNrZXQ7XG4gIC8vZWxlbS50ZWNoX3BhcmFtcyA9IHRlY2hfcGFyYW1zIHx8IG51bGw7XG4gIGVsZW0udWlkID0gKytsYXN0X3VpZDtcbiAgc3ByaXRlX3F1ZXVlLnB1c2goZWxlbSk7XG4gIHJldHVybiBlbGVtO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcXVldWVyYXcoXG4gIHRleHMsIHgsIHksIHosIHcsIGgsXG4gIHUwLCB2MCwgdTEsIHYxLFxuICBjb2xvciwgc2hhZGVyLCBzaGFkZXJfcGFyYW1zLCBibGVuZFxuKSB7XG4gIHJldHVybiBxdWV1ZXJhdzQodGV4cyxcbiAgICB4LCB5LFxuICAgIHgsIHkgKyBoLFxuICAgIHggKyB3LCB5ICsgaCxcbiAgICB4ICsgdywgeSxcbiAgICB6LFxuICAgIHUwLCB2MCwgdTEsIHYxLFxuICAgIGNvbG9yLCBzaGFkZXIsIHNoYWRlcl9wYXJhbXMsIGJsZW5kKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHF1ZXVlc3ByaXRlKHNwcml0ZSwgeCwgeSwgeiwgdywgaCwgcm90LCB1dnMsIGNvbG9yLCBzaGFkZXIsIHNoYWRlcl9wYXJhbXMsIG5vem9vbSwgcGl4ZWxfcGVyZmVjdCkge1xuICBhc3NlcnQoaXNGaW5pdGUoeikpO1xuICBsZXQgZWxlbSA9IHNwcml0ZURhdGFBbGxvYygpO1xuICBlbGVtLnRleHMgPSBzcHJpdGUudGV4cztcbiAgeCA9ICh4IC0gY2FtZXJhMmQuZGF0YVswXSkgKiBjYW1lcmEyZC5kYXRhWzRdO1xuICB5ID0gKHkgLSBjYW1lcmEyZC5kYXRhWzFdKSAqIGNhbWVyYTJkLmRhdGFbNV07XG4gIGVsZW0ueiA9IHo7XG4gIHcgKj0gY2FtZXJhMmQuZGF0YVs0XTtcbiAgaCAqPSBjYW1lcmEyZC5kYXRhWzVdO1xuICBpZiAocGl4ZWxfcGVyZmVjdCkge1xuICAgIHggfD0gMDtcbiAgICB5IHw9IDA7XG4gICAgdyB8PSAwO1xuICAgIGggfD0gMDtcbiAgfVxuICBlbGVtLnggPSB4O1xuICBlbGVtLnkgPSB5O1xuICBjb2xvciA9IGNvbG9yIHx8IHNwcml0ZS5jb2xvcjtcbiAgbGV0IGRhdGEgPSBlbGVtLmRhdGE7XG4gIGlmICghcm90KSB7XG4gICAgbGV0IHgxID0geCAtIHNwcml0ZS5vcmlnaW5bMF0gKiB3O1xuICAgIGxldCB5MSA9IHkgLSBzcHJpdGUub3JpZ2luWzFdICogaDtcbiAgICBsZXQgeDIgPSB4MSArIHc7XG4gICAgbGV0IHkyID0geTEgKyBoO1xuICAgIGRhdGFbMF0gPSB4MTtcbiAgICBkYXRhWzFdID0geTE7XG4gICAgZGF0YVsyXSA9IHgxO1xuICAgIGRhdGFbM10gPSB5MjtcbiAgICBkYXRhWzRdID0geDI7XG4gICAgZGF0YVs1XSA9IHkyO1xuICAgIGRhdGFbNl0gPSB4MjtcbiAgICBkYXRhWzddID0geTE7XG4gIH0gZWxzZSB7XG4gICAgbGV0IGR4ID0gc3ByaXRlLm9yaWdpblswXSAqIHc7XG4gICAgbGV0IGR5ID0gc3ByaXRlLm9yaWdpblsxXSAqIGg7XG5cbiAgICBsZXQgY29zciA9IGNvcyhyb3QpO1xuICAgIGxldCBzaW5yID0gc2luKHJvdCk7XG5cbiAgICBsZXQgeDEgPSB4IC0gY29zciAqIGR4ICsgc2luciAqIGR5O1xuICAgIGxldCB5MSA9IHkgLSBzaW5yICogZHggLSBjb3NyICogZHk7XG4gICAgbGV0IGNoID0gY29zciAqIGg7XG4gICAgbGV0IGN3ID0gY29zciAqIHc7XG4gICAgbGV0IHNoID0gc2luciAqIGg7XG4gICAgbGV0IHN3ID0gc2luciAqIHc7XG5cbiAgICBkYXRhWzBdID0geDE7XG4gICAgZGF0YVsxXSA9IHkxO1xuICAgIGRhdGFbMl0gPSB4MSAtIHNoO1xuICAgIGRhdGFbM10gPSB5MSArIGNoO1xuICAgIGRhdGFbNF0gPSB4MSArIGN3IC0gc2g7XG4gICAgZGF0YVs1XSA9IHkxICsgc3cgKyBjaDtcbiAgICBkYXRhWzZdID0geDEgKyBjdztcbiAgICBkYXRhWzddID0geTEgKyBzdztcbiAgfVxuXG4gIGRhdGFbOF0gPSBjb2xvclswXTtcbiAgZGF0YVs5XSA9IGNvbG9yWzFdO1xuICBkYXRhWzEwXSA9IGNvbG9yWzJdO1xuICBkYXRhWzExXSA9IGNvbG9yWzNdO1xuXG4gIGxldCB1YmlhcyA9IDA7XG4gIGxldCB2YmlhcyA9IDA7XG4gIGxldCB0ZXggPSBlbGVtLnRleHNbMF07XG4gIGlmICghbm96b29tICYmICF0ZXgubm96b29tKSB7XG4gICAgLy8gQmlhcyB0aGUgdGV4dHVyZSBjb29yZGluYXRlcyBkZXBlbmRpbmcgb24gdGhlIG1pbmlmaWNhdGlvbi9tYWduaWZpY2F0aW9uXG4gICAgLy8gICBsZXZlbCBzbyB3ZSBkbyBub3QgZ2V0IHBpeGVscyBmcm9tIG5laWdoYm9yaW5nIGZyYW1lcyBibGVlZGluZyBpblxuICAgIC8vIFVzZSBtaW4gaGVyZSAod2FzIG1heCBpbiBsaWJHbG92KSwgdG8gc29sdmUgdG9vbHRpcCBlZGdlcyBiZWluZyB3cm9uZyBpbiBzdHJpY3QgcGl4ZWx5XG4gICAgLy8gVXNlIG1heCBoZXJlIHRvIHNvbHZlIGJveCBidXR0b25zIG5vdCBsaW5pbmcgdXAsIGJ1dCBpbnN0ZWFkIHVzaW5nIG5vem9vbSBpbiBkcmF3Qm94L2RyYXdIQm94LFxuICAgIC8vICAgYnV0LCB0aGF0IG9ubHkgd29ya3MgZm9yIG1hZ25pZmljYXRpb24gLSBuZWVkIHRoZSBtYXggaGVyZSBmb3IgbWluaWZpY2F0aW9uIVxuICAgIGxldCB6b29tX2xldmVsID0gbWF4KFxuICAgICAgKHV2c1syXSAtIHV2c1swXSkgKiB0ZXgud2lkdGggLyB3LFxuICAgICAgKHV2c1szXSAtIHV2c1sxXSkgKiB0ZXguaGVpZ2h0IC8gaCxcbiAgICApOyAvLyBpbiB0ZXhlbHMgcGVyIHBpeGVsXG4gICAgaWYgKHpvb21fbGV2ZWwgPCAxKSB7IC8vIG1hZ25pZmljYXRpb25cbiAgICAgIGlmICh0ZXguZmlsdGVyX21hZyA9PT0gZ2wuTElORUFSKSB7XG4gICAgICAgIC8vIE5lZWQgdG8gYmlhcyBieSBoYWxmIGEgdGV4ZWwsIHNvIHdlJ3JlIGRvaW5nIGFic29sdXRlbHkgbm8gYmxlbmRpbmcgd2l0aCB0aGUgbmVpZ2hib3JpbmcgdGV4ZWxcbiAgICAgICAgdWJpYXMgPSB2YmlhcyA9IDAuNTtcbiAgICAgIH0gZWxzZSBpZiAodGV4LmZpbHRlcl9tYWcgPT09IGdsLk5FQVJFU1QgJiYgZW5naW5lLmFudGlhbGlhcykge1xuICAgICAgICAvLyBXaGVuIGFudGlhbGlhc2luZyBpcyBvbiwgZXZlbiBuZWFyZXN0IHNhbXBsaW5nIHNhbXBsZXMgZnJvbSBhZGphY2VudCB0ZXhlbHMsIGRvIHNsaWdodCBiaWFzXG4gICAgICAgIC8vIFdhbnQgdG8gYmlhcyBieSBvbmUgKnBpeGVsJ3MqIHdvcnRoXG4gICAgICAgIHViaWFzID0gdmJpYXMgPSB6b29tX2xldmVsIC8gMjtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHpvb21fbGV2ZWwgPiAxKSB7IC8vIG1pbmlmaWNhdGlvblxuICAgICAgLy8gbmVlZCB0byBhcHBseSB0aGlzIGJpYXMgZXZlbiB3aXRoIG5lYXJlc3QgZmlsdGVyaW5nLCBub3QgZXhhY3RseSBzdXJlIHdoeVxuICAgICAgbGV0IG1pcHBlZF90ZXhlbHMgPSB6b29tX2xldmVsIC8gMjtcbiAgICAgIHViaWFzID0gdmJpYXMgPSAwLjUgKyBtaXBwZWRfdGV4ZWxzO1xuXG4gICAgfVxuICAgIGlmICh1dnNbMF0gPiB1dnNbMl0pIHtcbiAgICAgIHViaWFzICo9IC0xO1xuICAgIH1cbiAgICBpZiAodXZzWzFdID4gdXZzWzNdKSB7XG4gICAgICB2YmlhcyAqPSAtMTtcbiAgICB9XG4gIH1cblxuICBkYXRhWzEyXSA9IHV2c1swXSArIHViaWFzIC8gdGV4LndpZHRoO1xuICBkYXRhWzEzXSA9IHV2c1sxXSArIHZiaWFzIC8gdGV4LmhlaWdodDtcbiAgZGF0YVsxNF0gPSB1dnNbMl0gLSB1YmlhcyAvIHRleC53aWR0aDtcbiAgZGF0YVsxNV0gPSB1dnNbM10gLSB2YmlhcyAvIHRleC5oZWlnaHQ7XG5cbiAgZWxlbS51aWQgPSArK2xhc3RfdWlkO1xuICBlbGVtLnNoYWRlciA9IHNoYWRlciB8fCBudWxsO1xuICBlbGVtLmJsZW5kID0gMDsgLy8gQkxFTkRfQUxQSEFcblxuICBpZiAoc2hhZGVyX3BhcmFtcykge1xuICAgIHNoYWRlcl9wYXJhbXMuY2xpcF9zcGFjZSA9IHNwcml0ZV9zaGFkZXJfcGFyYW1zLmNsaXBfc3BhY2U7XG4gICAgZWxlbS5zaGFkZXJfcGFyYW1zID0gc2hhZGVyX3BhcmFtcztcbiAgfSBlbHNlIHtcbiAgICBlbGVtLnNoYWRlcl9wYXJhbXMgPSBudWxsO1xuICB9XG4gIHNwcml0ZV9xdWV1ZS5wdXNoKGVsZW0pO1xufVxuXG5cbmxldCBjbGlwX3RlbXBfeHkgPSB2ZWMyKCk7XG5sZXQgY2xpcF90ZW1wX3doID0gdmVjMigpO1xuZnVuY3Rpb24gY2xpcENvb3Jkc1NjaXNzb3IoeCwgeSwgdywgaCkge1xuICBjYW1lcmEyZC52aXJ0dWFsVG9DYW52YXMoY2xpcF90ZW1wX3h5LCBbeCwgeV0pO1xuICBjbGlwX3RlbXBfeHlbMF0gPSByb3VuZChjbGlwX3RlbXBfeHlbMF0pO1xuICBjbGlwX3RlbXBfeHlbMV0gPSByb3VuZChjbGlwX3RlbXBfeHlbMV0pO1xuICBjYW1lcmEyZC52aXJ0dWFsVG9DYW52YXMoY2xpcF90ZW1wX3doLCBbeCArIHcsIHkgKyBoXSk7XG4gIGNsaXBfdGVtcF93aFswXSA9IHJvdW5kKGNsaXBfdGVtcF93aFswXSkgLSBjbGlwX3RlbXBfeHlbMF07XG4gIGNsaXBfdGVtcF93aFsxXSA9IHJvdW5kKGNsaXBfdGVtcF93aFsxXSkgLSBjbGlwX3RlbXBfeHlbMV07XG5cbiAgLy8gbGV0IGdkX3cgPSBlbmdpbmUucmVuZGVyX3dpZHRoIHx8IGVuZ2luZS53aWR0aDtcbiAgbGV0IGdkX2ggPSBlbmdpbmUucmVuZGVyX2hlaWdodCB8fCBlbmdpbmUuaGVpZ2h0O1xuICByZXR1cm4gW2NsaXBfdGVtcF94eVswXSwgZ2RfaCAtIChjbGlwX3RlbXBfeHlbMV0gKyBjbGlwX3RlbXBfd2hbMV0pLCBjbGlwX3RlbXBfd2hbMF0sIGNsaXBfdGVtcF93aFsxXV07XG59XG5cbmZ1bmN0aW9uIGNsaXBDb29yZHNEb20oeCwgeSwgdywgaCkge1xuICBsZXQgeHl3aCA9IHZlYzQoKTtcbiAgY2FtZXJhMmQudmlydHVhbFRvRG9tKHh5d2gsIFt4ICsgdywgeSArIGhdKTtcbiAgeHl3aFsyXSA9IHh5d2hbMF07XG4gIHh5d2hbM10gPSB4eXdoWzFdO1xuICBjYW1lcmEyZC52aXJ0dWFsVG9Eb20oeHl3aCwgW3gsIHldKTtcbiAgeHl3aFswXSA9IHJvdW5kKHh5d2hbMF0pO1xuICB4eXdoWzFdID0gcm91bmQoeHl3aFsxXSk7XG4gIHh5d2hbMl0gPSByb3VuZCh4eXdoWzJdKSAtIHh5d2hbMF07XG4gIHh5d2hbM10gPSByb3VuZCh4eXdoWzNdKSAtIHh5d2hbMV07XG5cbiAgcmV0dXJuIHh5d2g7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjbGlwKHpfc3RhcnQsIHpfZW5kLCB4LCB5LCB3LCBoKSB7XG4gIGxldCBzY2lzc29yID0gY2xpcENvb3Jkc1NjaXNzb3IoeCwgeSwgdywgaCk7XG4gIHF1ZXVlZm4oel9zdGFydCAtIDAuMDEsICgpID0+IHtcbiAgICBnbC5lbmFibGUoZ2wuU0NJU1NPUl9URVNUKTtcbiAgICBnbC5zY2lzc29yKHNjaXNzb3JbMF0sIHNjaXNzb3JbMV0sIHNjaXNzb3JbMl0sIHNjaXNzb3JbM10pO1xuICB9KTtcbiAgcXVldWVmbih6X2VuZCAtIDAuMDEsICgpID0+IHtcbiAgICBnbC5kaXNhYmxlKGdsLlNDSVNTT1JfVEVTVCk7XG4gIH0pO1xufVxuXG5sZXQgY2xpcF9zdGFjayA9IFtdO1xuZXhwb3J0IGZ1bmN0aW9uIGNsaXBQdXNoKHosIHgsIHksIHcsIGgpIHtcbiAgYXNzZXJ0KGNsaXBfc3RhY2subGVuZ3RoIDwgMSk7IC8vIGRvIG5vdCBjdXJyZW50bHkgc3VwcG9ydCBuZXN0aW5nOyBtYXliZSBsZWFraW5nP1xuICBsZXQgc2Npc3NvciA9IGNsaXBDb29yZHNTY2lzc29yKHgsIHksIHcsIGgpO1xuICBsZXQgZG9tX2NsaXAgPSBjbGlwQ29vcmRzRG9tKHgsIHksIHcsIGgpO1xuICBjYW1lcmEyZC5zZXRJbnB1dENsaXBwaW5nKGRvbV9jbGlwKTtcbiAgc3ByaXRlUXVldWVQdXNoKCk7XG4gIGNsaXBfc3RhY2sucHVzaCh7XG4gICAgeiwgc2Npc3NvclxuICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNsaXBQb3AoKSB7XG4gIGFzc2VydChjbGlwX3N0YWNrLmxlbmd0aCk7XG4gIHF1ZXVlZm4oWi5UT09MVElQIC0gMC4xLCAoKSA9PiB7XG4gICAgZ2wuZGlzYWJsZShnbC5TQ0lTU09SX1RFU1QpO1xuICB9KTtcbiAgbGV0IHsgeiwgc2Npc3NvciB9ID0gY2xpcF9zdGFjay5wb3AoKTtcbiAgbGV0IHNwcml0ZXMgPSBzcHJpdGVfcXVldWU7XG4gIHNwcml0ZV9xdWV1ZSA9IFtdO1xuICBzcHJpdGVRdWV1ZVBvcCgpO1xuICBjYW1lcmEyZC5zZXRJbnB1dENsaXBwaW5nKG51bGwpO1xuICBxdWV1ZWZuKHosICgpID0+IHtcbiAgICBnbC5lbmFibGUoZ2wuU0NJU1NPUl9URVNUKTtcbiAgICBnbC5zY2lzc29yKHNjaXNzb3JbMF0sIHNjaXNzb3JbMV0sIHNjaXNzb3JbMl0sIHNjaXNzb3JbM10pO1xuICAgIHNwcml0ZVF1ZXVlUHVzaCgpO1xuICAgIHNwcml0ZV9xdWV1ZSA9IHNwcml0ZXM7XG4gICAgZXhwb3J0cy5kcmF3KCk7XG4gICAgc3ByaXRlUXVldWVQb3AoKTtcbiAgICAvLyBkb25lIGF0IFouVE9PTFRJUDogZ2wuZGlzYWJsZShnbC5TQ0lTU09SX1RFU1QpO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gZGlmZlRleHR1cmVzKHRleHNhLCB0ZXhzYikge1xuICBpZiAodGV4c2EubGVuZ3RoICE9PSB0ZXhzYi5sZW5ndGgpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgdGV4c2EubGVuZ3RoOyArK2lpKSB7XG4gICAgaWYgKHRleHNhW2lpXSAhPT0gdGV4c2JbaWldKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5sZXQgYmF0Y2hfc3RhdGU7XG5sZXQgc3ByaXRlX2dlb207XG5sZXQgc3ByaXRlX2J1ZmZlcjsgLy8gRmxvYXQzMkFycmF5IHdpdGggOCBlbnRyaWVzIHBlciB2ZXJ0XG5sZXQgc3ByaXRlX2J1ZmZlcl9sZW4gPSAwOyAvLyBpbiB2ZXJ0c1xubGV0IHNwcml0ZV9idWZmZXJfYmF0Y2hfc3RhcnQgPSAwO1xubGV0IHNwcml0ZV9idWZmZXJfaWR4ID0gMDsgLy8gaW4gdmVydHNcbmxldCBsYXN0X2JsZW5kX21vZGU7XG5sZXQgbGFzdF9ib3VuZF9zaGFkZXI7XG5jb25zdCBNQVhfVkVSVF9DT1VOVCA9IDY1NTM2O1xubGV0IGJhdGNoZXMgPSBbXTtcblxuZnVuY3Rpb24gY29tbWl0KCkge1xuICBpZiAoc3ByaXRlX2J1ZmZlcl9pZHggPT09IHNwcml0ZV9idWZmZXJfYmF0Y2hfc3RhcnQpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgYmF0Y2hlcy5wdXNoKHtcbiAgICBzdGF0ZTogYmF0Y2hfc3RhdGUsXG4gICAgc3RhcnQ6IHNwcml0ZV9idWZmZXJfYmF0Y2hfc3RhcnQsXG4gICAgZW5kOiBzcHJpdGVfYnVmZmVyX2lkeCxcbiAgfSk7XG4gIHNwcml0ZV9idWZmZXJfYmF0Y2hfc3RhcnQgPSBzcHJpdGVfYnVmZmVyX2lkeDtcbn1cblxuZnVuY3Rpb24gY29tbWl0QW5kRmx1c2goKSB7XG4gIGNvbW1pdCgpO1xuICBpZiAoIWJhdGNoZXMubGVuZ3RoKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGFzc2VydChzcHJpdGVfYnVmZmVyX2lkeCk7XG4gIHNwcml0ZV9nZW9tLnVwZGF0ZShzcHJpdGVfYnVmZmVyLCBzcHJpdGVfYnVmZmVyX2lkeCk7XG4gIHNwcml0ZV9nZW9tLmJpbmQoKTtcblxuICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgYmF0Y2hlcy5sZW5ndGg7ICsraWkpIHtcbiAgICBsZXQgYmF0Y2ggPSBiYXRjaGVzW2lpXTtcbiAgICBsZXQgeyBzdGF0ZSwgc3RhcnQsIGVuZCB9ID0gYmF0Y2g7XG4gICAgaWYgKGxhc3RfYm91bmRfc2hhZGVyICE9PSBzdGF0ZS5zaGFkZXIgfHwgc3RhdGUuc2hhZGVyX3BhcmFtcykge1xuICAgICAgc2hhZGVycy5iaW5kKHNwcml0ZV92c2hhZGVyLFxuICAgICAgICBzdGF0ZS5zaGFkZXIgfHwgc3ByaXRlX2ZzaGFkZXIsXG4gICAgICAgIHN0YXRlLnNoYWRlcl9wYXJhbXMgfHwgc3ByaXRlX3NoYWRlcl9wYXJhbXMpO1xuICAgICAgbGFzdF9ib3VuZF9zaGFkZXIgPSBzdGF0ZS5zaGFkZXI7XG4gICAgfVxuICAgIGlmIChsYXN0X2JsZW5kX21vZGUgIT09IHN0YXRlLmJsZW5kKSB7XG4gICAgICBsYXN0X2JsZW5kX21vZGUgPSBzdGF0ZS5ibGVuZDtcbiAgICAgIGlmIChsYXN0X2JsZW5kX21vZGUgPT09IEJMRU5EX0FERElUSVZFKSB7XG4gICAgICAgIGdsLmJsZW5kRnVuYyhnbC5TUkNfQUxQSEEsIGdsLk9ORSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBnbC5ibGVuZEZ1bmMoZ2wuU1JDX0FMUEhBLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdGV4dHVyZXMuYmluZEFycmF5KHN0YXRlLnRleHMpO1xuICAgIGdsLmRyYXdFbGVtZW50cyhzcHJpdGVfZ2VvbS5tb2RlLCAoZW5kIC0gc3RhcnQpICogMyAvIDIsIGdsLlVOU0lHTkVEX1NIT1JULCBzdGFydCAqIDMpO1xuICB9XG5cbiAgYmF0Y2hlcy5sZW5ndGggPSAwO1xuICBzcHJpdGVfYnVmZmVyX2lkeCA9IDA7XG4gIHNwcml0ZV9idWZmZXJfYmF0Y2hfc3RhcnQgPSAwO1xufVxuXG5mdW5jdGlvbiBidWZmZXJTcHJpdGVEYXRhKGRhdGEpIHtcbiAgbGV0IGluZGV4ID0gc3ByaXRlX2J1ZmZlcl9pZHggKiA4O1xuICBzcHJpdGVfYnVmZmVyX2lkeCArPSA0O1xuXG4gIGxldCBjMSA9IGRhdGFbOF07XG4gIGxldCBjMiA9IGRhdGFbOV07XG4gIGxldCBjMyA9IGRhdGFbMTBdO1xuICBsZXQgYzQgPSBkYXRhWzExXTtcbiAgbGV0IHUxID0gZGF0YVsxMl07XG4gIGxldCB2MSA9IGRhdGFbMTNdO1xuICBsZXQgdTIgPSBkYXRhWzE0XTtcbiAgbGV0IHYyID0gZGF0YVsxNV07XG5cbiAgc3ByaXRlX2J1ZmZlcltpbmRleF0gPSBkYXRhWzBdO1xuICBzcHJpdGVfYnVmZmVyW2luZGV4ICsgMV0gPSBkYXRhWzFdO1xuICBzcHJpdGVfYnVmZmVyW2luZGV4ICsgMl0gPSBjMTtcbiAgc3ByaXRlX2J1ZmZlcltpbmRleCArIDNdID0gYzI7XG4gIHNwcml0ZV9idWZmZXJbaW5kZXggKyA0XSA9IGMzO1xuICBzcHJpdGVfYnVmZmVyW2luZGV4ICsgNV0gPSBjNDtcbiAgc3ByaXRlX2J1ZmZlcltpbmRleCArIDZdID0gdTE7XG4gIHNwcml0ZV9idWZmZXJbaW5kZXggKyA3XSA9IHYxO1xuXG4gIHNwcml0ZV9idWZmZXJbaW5kZXggKyA4XSA9IGRhdGFbMl07XG4gIHNwcml0ZV9idWZmZXJbaW5kZXggKyA5XSA9IGRhdGFbM107XG4gIHNwcml0ZV9idWZmZXJbaW5kZXggKyAxMF0gPSBjMTtcbiAgc3ByaXRlX2J1ZmZlcltpbmRleCArIDExXSA9IGMyO1xuICBzcHJpdGVfYnVmZmVyW2luZGV4ICsgMTJdID0gYzM7XG4gIHNwcml0ZV9idWZmZXJbaW5kZXggKyAxM10gPSBjNDtcbiAgc3ByaXRlX2J1ZmZlcltpbmRleCArIDE0XSA9IHUxO1xuICBzcHJpdGVfYnVmZmVyW2luZGV4ICsgMTVdID0gdjI7XG5cbiAgc3ByaXRlX2J1ZmZlcltpbmRleCArIDE2XSA9IGRhdGFbNF07XG4gIHNwcml0ZV9idWZmZXJbaW5kZXggKyAxN10gPSBkYXRhWzVdO1xuICBzcHJpdGVfYnVmZmVyW2luZGV4ICsgMThdID0gYzE7XG4gIHNwcml0ZV9idWZmZXJbaW5kZXggKyAxOV0gPSBjMjtcbiAgc3ByaXRlX2J1ZmZlcltpbmRleCArIDIwXSA9IGMzO1xuICBzcHJpdGVfYnVmZmVyW2luZGV4ICsgMjFdID0gYzQ7XG4gIHNwcml0ZV9idWZmZXJbaW5kZXggKyAyMl0gPSB1MjtcbiAgc3ByaXRlX2J1ZmZlcltpbmRleCArIDIzXSA9IHYyO1xuXG4gIHNwcml0ZV9idWZmZXJbaW5kZXggKyAyNF0gPSBkYXRhWzZdO1xuICBzcHJpdGVfYnVmZmVyW2luZGV4ICsgMjVdID0gZGF0YVs3XTtcbiAgc3ByaXRlX2J1ZmZlcltpbmRleCArIDI2XSA9IGMxO1xuICBzcHJpdGVfYnVmZmVyW2luZGV4ICsgMjddID0gYzI7XG4gIHNwcml0ZV9idWZmZXJbaW5kZXggKyAyOF0gPSBjMztcbiAgc3ByaXRlX2J1ZmZlcltpbmRleCArIDI5XSA9IGM0O1xuICBzcHJpdGVfYnVmZmVyW2luZGV4ICsgMzBdID0gdTI7XG4gIHNwcml0ZV9idWZmZXJbaW5kZXggKyAzMV0gPSB2MTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRyYXcoKSB7XG4gIGlmICghc3ByaXRlX3F1ZXVlLmxlbmd0aCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGNsaXBfc3BhY2VbMF0gPSAyIC8gZW5naW5lLnZpZXdwb3J0WzJdO1xuICBjbGlwX3NwYWNlWzFdID0gLTIgLyBlbmdpbmUudmlld3BvcnRbM107XG5cbiAgbGFzdF9ibGVuZF9tb2RlID0gLTE7XG4gIGxhc3RfYm91bmRfc2hhZGVyID0gLTE7XG5cbiAgaWYgKCFzcHJpdGVfZ2VvbSkge1xuICAgIHNwcml0ZV9nZW9tID0gZ2VvbS5jcmVhdGUoW1xuICAgICAgW3NoYWRlcnMuc2VtYW50aWMuUE9TSVRJT04sIGdsLkZMT0FULCAyLCBmYWxzZV0sXG4gICAgICBbc2hhZGVycy5zZW1hbnRpYy5DT0xPUiwgZ2wuRkxPQVQsIDQsIGZhbHNlXSxcbiAgICAgIFtzaGFkZXJzLnNlbWFudGljLlRFWENPT1JELCBnbC5GTE9BVCwgMiwgZmFsc2VdLFxuICAgIF0sIFtdLCBudWxsLCBnZW9tLlFVQURTKTtcbiAgICBzcHJpdGVfYnVmZmVyID0gbmV3IEZsb2F0MzJBcnJheSgxMDI0KTtcbiAgICBzcHJpdGVfYnVmZmVyX2xlbiA9IHNwcml0ZV9idWZmZXIubGVuZ3RoIC8gODtcbiAgfVxuXG4gIHNwcml0ZV9xdWV1ZS5zb3J0KGNtcFNwcml0ZSk7XG5cbiAgYmF0Y2hfc3RhdGUgPSBudWxsO1xuICBhc3NlcnQuZXF1YWwoc3ByaXRlX2J1ZmZlcl9pZHgsIDApO1xuICBhc3NlcnQuZXF1YWwoc3ByaXRlX2J1ZmZlcl9iYXRjaF9zdGFydCwgMCk7XG4gIGFzc2VydC5lcXVhbChiYXRjaGVzLmxlbmd0aCwgMCk7XG4gIGZvciAobGV0IGlpID0gMDsgaWkgPCBzcHJpdGVfcXVldWUubGVuZ3RoOyArK2lpKSB7XG4gICAgbGV0IGVsZW0gPSBzcHJpdGVfcXVldWVbaWldO1xuICAgIGlmIChlbGVtLmZuKSB7XG4gICAgICBjb21taXRBbmRGbHVzaCgpO1xuICAgICAgYmF0Y2hfc3RhdGUgPSBudWxsO1xuICAgICAgZWxlbS5mbigpO1xuICAgICAgbGFzdF9ib3VuZF9zaGFkZXIgPSAtMTtcbiAgICAgIGxhc3RfYmxlbmRfbW9kZSA9IC0xO1xuICAgICAgYXNzZXJ0LmVxdWFsKHNwcml0ZV9idWZmZXJfaWR4LCAwKTtcbiAgICAgIGFzc2VydC5lcXVhbChzcHJpdGVfYnVmZmVyX2JhdGNoX3N0YXJ0LCAwKTtcbiAgICAgIGFzc2VydC5lcXVhbChiYXRjaGVzLmxlbmd0aCwgMCk7XG5cbiAgICAgIGNsaXBfc3BhY2VbMF0gPSAyIC8gZW5naW5lLnZpZXdwb3J0WzJdO1xuICAgICAgY2xpcF9zcGFjZVsxXSA9IC0yIC8gZW5naW5lLnZpZXdwb3J0WzNdO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoIWJhdGNoX3N0YXRlIHx8XG4gICAgICAgIGRpZmZUZXh0dXJlcyhlbGVtLnRleHMsIGJhdGNoX3N0YXRlLnRleHMpIHx8XG4gICAgICAgIGVsZW0uc2hhZGVyICE9PSBiYXRjaF9zdGF0ZS5zaGFkZXIgfHxcbiAgICAgICAgZWxlbS5zaGFkZXJfcGFyYW1zICE9PSBiYXRjaF9zdGF0ZS5zaGFkZXJfcGFyYW1zIHx8XG4gICAgICAgIGVsZW0uYmxlbmQgIT09IGJhdGNoX3N0YXRlLmJsZW5kXG4gICAgICApIHtcbiAgICAgICAgY29tbWl0KCk7XG4gICAgICAgIGJhdGNoX3N0YXRlID0gZWxlbTtcbiAgICAgIH1cbiAgICAgIGlmIChzcHJpdGVfYnVmZmVyX2lkeCArIDQgPiBzcHJpdGVfYnVmZmVyX2xlbikge1xuICAgICAgICBjb21taXRBbmRGbHVzaCgpO1xuICAgICAgICAvLyBiYXRjaF9zdGF0ZSBsZWZ0IGFsb25lXG4gICAgICAgIGlmIChzcHJpdGVfYnVmZmVyX2xlbiAhPT0gTUFYX1ZFUlRfQ09VTlQpIHtcbiAgICAgICAgICBsZXQgbmV3X2xlbmd0aCA9IG1pbigoc3ByaXRlX2J1ZmZlcl9sZW4gKiAxLjI1ICsgMykgJiB+MywgTUFYX1ZFUlRfQ09VTlQpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWJpdHdpc2VcbiAgICAgICAgICBzcHJpdGVfYnVmZmVyX2xlbiA9IG5ld19sZW5ndGg7XG4gICAgICAgICAgc3ByaXRlX2J1ZmZlciA9IG5ldyBGbG9hdDMyQXJyYXkobmV3X2xlbmd0aCAqIDgpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGJ1ZmZlclNwcml0ZURhdGEoZWxlbS5kYXRhKTtcbiAgICAgIHNwcml0ZV9mcmVlbGlzdC5wdXNoKGVsZW0pO1xuICAgIH1cbiAgfVxuICBjb21taXRBbmRGbHVzaCgpO1xuXG4gIHNwcml0ZV9xdWV1ZS5sZW5ndGggPSAwO1xuICBpZiAobGFzdF9ibGVuZF9tb2RlICE9PSBCTEVORF9BTFBIQSkge1xuICAgIC8vIGFsd2F5cyByZXNldCB0byB0aGlzXG4gICAgZ2wuYmxlbmRGdW5jKGdsLlNSQ19BTFBIQSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQSk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGJ1aWxkUmVjdHMod3MsIGhzKSB7XG4gIGxldCByZWN0cyA9IFtdO1xuICBsZXQgdG90YWxfdyA9IDA7XG4gIGZvciAobGV0IGlpID0gMDsgaWkgPCB3cy5sZW5ndGg7ICsraWkpIHtcbiAgICB0b3RhbF93ICs9IHdzW2lpXTtcbiAgfVxuICBsZXQgdG90YWxfaCA9IDA7XG4gIGZvciAobGV0IGlpID0gMDsgaWkgPCBocy5sZW5ndGg7ICsraWkpIHtcbiAgICB0b3RhbF9oICs9IGhzW2lpXTtcbiAgfVxuICBsZXQgdGV4X3cgPSBuZXh0SGlnaGVzdFBvd2VyT2ZUd28odG90YWxfdyk7XG4gIGxldCB0ZXhfaCA9IG5leHRIaWdoZXN0UG93ZXJPZlR3byh0b3RhbF9oKTtcbiAgbGV0IHdoID0gW107XG4gIGZvciAobGV0IGlpID0gMDsgaWkgPCB3cy5sZW5ndGg7ICsraWkpIHtcbiAgICB3aC5wdXNoKHdzW2lpXSAvIHRvdGFsX2gpO1xuICB9XG4gIGxldCBodyA9IFtdO1xuICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgaHMubGVuZ3RoOyArK2lpKSB7XG4gICAgaHcucHVzaChoc1tpaV0gLyB0b3RhbF93KTtcbiAgfVxuICBsZXQgYXNwZWN0ID0gW107XG4gIGxldCBub25fc3F1YXJlID0gZmFsc2U7XG4gIGxldCB5ID0gMDtcbiAgZm9yIChsZXQgamogPSAwOyBqaiA8IGhzLmxlbmd0aDsgKytqaikge1xuICAgIGxldCB4ID0gMDtcbiAgICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgd3MubGVuZ3RoOyArK2lpKSB7XG4gICAgICBsZXQgciA9IHZlYzQoeCAvIHRleF93LCB5IC8gdGV4X2gsXG4gICAgICAgICh4ICsgd3NbaWldKSAvIHRleF93LCAoeSArIGhzW2pqXSkgLyB0ZXhfaCk7XG4gICAgICByZWN0cy5wdXNoKHIpO1xuICAgICAgbGV0IGFzcCA9IHdzW2lpXSAvIGhzW2pqXTtcbiAgICAgIGlmIChhc3AgIT09IDEpIHtcbiAgICAgICAgbm9uX3NxdWFyZSA9IHRydWU7XG4gICAgICB9XG4gICAgICBhc3BlY3QucHVzaChhc3ApO1xuICAgICAgeCArPSB3c1tpaV07XG4gICAgfVxuICAgIHkgKz0gaHNbampdO1xuICB9XG4gIHJldHVybiB7XG4gICAgd2lkdGhzOiB3cyxcbiAgICBoZWlnaHRzOiBocyxcbiAgICB3aCxcbiAgICBodyxcbiAgICByZWN0cyxcbiAgICBhc3BlY3Q6IG5vbl9zcXVhcmUgPyBhc3BlY3QgOiBudWxsLFxuICAgIHRvdGFsX3csXG4gICAgdG90YWxfaCxcbiAgfTtcbn1cblxuZnVuY3Rpb24gU3ByaXRlKHBhcmFtcykge1xuICBpZiAocGFyYW1zLnRleHMpIHtcbiAgICB0aGlzLnRleHMgPSBwYXJhbXMudGV4cztcbiAgfSBlbHNlIHtcbiAgICB0aGlzLnRleHMgPSBbXTtcbiAgICBpZiAocGFyYW1zLnRleCkge1xuICAgICAgdGhpcy50ZXhzLnB1c2gocGFyYW1zLnRleCk7XG4gICAgfSBlbHNlIGlmIChwYXJhbXMubGF5ZXJzKSB7XG4gICAgICBhc3NlcnQocGFyYW1zLm5hbWUpO1xuICAgICAgdGhpcy50ZXhzID0gW107XG4gICAgICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgcGFyYW1zLmxheWVyczsgKytpaSkge1xuICAgICAgICB0aGlzLnRleHMucHVzaCh0ZXh0dXJlcy5sb2FkKHtcbiAgICAgICAgICB1cmw6IGBpbWcvJHtwYXJhbXMubmFtZX1fJHtpaX0ucG5nYCxcbiAgICAgICAgICBmaWx0ZXJfbWluOiBwYXJhbXMuZmlsdGVyX21pbixcbiAgICAgICAgICBmaWx0ZXJfbWFnOiBwYXJhbXMuZmlsdGVyX21hZyxcbiAgICAgICAgICB3cmFwX3M6IHBhcmFtcy53cmFwX3MsXG4gICAgICAgICAgd3JhcF90OiBwYXJhbXMud3JhcF90LFxuICAgICAgICB9KSk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChwYXJhbXMubmFtZSkge1xuICAgICAgdGhpcy50ZXhzLnB1c2godGV4dHVyZXMubG9hZCh7XG4gICAgICAgIHVybDogYGltZy8ke3BhcmFtcy5uYW1lfS5wbmdgLFxuICAgICAgICBmaWx0ZXJfbWluOiBwYXJhbXMuZmlsdGVyX21pbixcbiAgICAgICAgZmlsdGVyX21hZzogcGFyYW1zLmZpbHRlcl9tYWcsXG4gICAgICAgIHdyYXBfczogcGFyYW1zLndyYXBfcyxcbiAgICAgICAgd3JhcF90OiBwYXJhbXMud3JhcF90LFxuICAgICAgfSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBhc3NlcnQocGFyYW1zLnVybCk7XG4gICAgICB0aGlzLnRleHMucHVzaCh0ZXh0dXJlcy5sb2FkKHBhcmFtcykpO1xuICAgIH1cbiAgfVxuXG4gIHRoaXMub3JpZ2luID0gcGFyYW1zLm9yaWdpbiB8fCB2ZWMyKDAsIDApOyAvLyBbMCwxXSByYW5nZVxuICB0aGlzLnNpemUgPSBwYXJhbXMuc2l6ZSB8fCB2ZWMyKDEsIDEpO1xuICB0aGlzLmNvbG9yID0gcGFyYW1zLmNvbG9yIHx8IHZlYzQoMSwxLDEsMSk7XG4gIHRoaXMudXZzID0gcGFyYW1zLnV2cyB8fCB2ZWM0KDAsIDAsIDEsIDEpO1xuICBpZiAoIXBhcmFtcy51dnMpIHtcbiAgICAvLyBGaXggdXAgbm9uLXBvd2VyLW9mLXR3byB0ZXh0dXJlc1xuICAgIHRoaXMudGV4c1swXS5vbkxvYWQoKHRleCkgPT4ge1xuICAgICAgdGhpcy51dnNbMl0gPSB0ZXguc3JjX3dpZHRoIC8gdGV4LndpZHRoO1xuICAgICAgdGhpcy51dnNbM10gPSB0ZXguc3JjX2hlaWdodCAvIHRleC5oZWlnaHQ7XG4gICAgfSk7XG4gIH1cblxuICBpZiAocGFyYW1zLndzKSB7XG4gICAgdGhpcy51aWRhdGEgPSBidWlsZFJlY3RzKHBhcmFtcy53cywgcGFyYW1zLmhzKTtcbiAgfVxuICB0aGlzLnNoYWRlciA9IHBhcmFtcy5zaGFkZXIgfHwgbnVsbDtcbn1cblxuLy8gcGFyYW1zOlxuLy8gICByZXF1aXJlZDogeCwgeVxuLy8gICBvcHRpb25hbDogeiwgdywgaCwgdXZzLCBjb2xvciwgbm96b29tLCBwaXhlbF9wZXJmZWN0XG5TcHJpdGUucHJvdG90eXBlLmRyYXcgPSBmdW5jdGlvbiAocGFyYW1zKSB7XG4gIGlmIChwYXJhbXMudyA9PT0gMCB8fCBwYXJhbXMuaCA9PT0gMCkge1xuICAgIHJldHVybjtcbiAgfVxuICBsZXQgdyA9IChwYXJhbXMudyB8fCAxKSAqIHRoaXMuc2l6ZVswXTtcbiAgbGV0IGggPSAocGFyYW1zLmggfHwgMSkgKiB0aGlzLnNpemVbMV07XG4gIGxldCB1dnMgPSAodHlwZW9mIHBhcmFtcy5mcmFtZSA9PT0gJ251bWJlcicpID8gdGhpcy51aWRhdGEucmVjdHNbcGFyYW1zLmZyYW1lXSA6IChwYXJhbXMudXZzIHx8IHRoaXMudXZzKTtcbiAgcXVldWVzcHJpdGUodGhpcywgcGFyYW1zLngsIHBhcmFtcy55LCBwYXJhbXMueiB8fCBaLlVJLCB3LCBoLCBwYXJhbXMucm90LCB1dnMsIHBhcmFtcy5jb2xvciB8fCB0aGlzLmNvbG9yLFxuICAgIHBhcmFtcy5zaGFkZXIgfHwgdGhpcy5zaGFkZXIsIHBhcmFtcy5zaGFkZXJfcGFyYW1zLCBwYXJhbXMubm96b29tLCBwYXJhbXMucGl4ZWxfcGVyZmVjdCk7XG59O1xuXG5TcHJpdGUucHJvdG90eXBlLmRyYXdEdWFsVGludCA9IGZ1bmN0aW9uIChwYXJhbXMpIHtcbiAgcGFyYW1zLnNoYWRlciA9IHNwcml0ZV9kdWFsX2ZzaGFkZXI7XG4gIHBhcmFtcy5zaGFkZXJfcGFyYW1zID0ge1xuICAgIGNvbG9yMTogcGFyYW1zLmNvbG9yMSxcbiAgfTtcbiAgdGhpcy5kcmF3KHBhcmFtcyk7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlKHBhcmFtcykge1xuICByZXR1cm4gbmV3IFNwcml0ZShwYXJhbXMpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc3RhcnR1cCgpIHtcbiAgY2xpcF9zcGFjZVsyXSA9IC0xO1xuICBjbGlwX3NwYWNlWzNdID0gMTtcbiAgc3ByaXRlX3ZzaGFkZXIgPSBzaGFkZXJzLmNyZWF0ZSgnZ2xvdi9zaGFkZXJzL3Nwcml0ZS52cCcpO1xuICBzcHJpdGVfZnNoYWRlciA9IHNoYWRlcnMuY3JlYXRlKCdnbG92L3NoYWRlcnMvc3ByaXRlLmZwJyk7XG4gIHNwcml0ZV9kdWFsX2ZzaGFkZXIgPSBzaGFkZXJzLmNyZWF0ZSgnZ2xvdi9zaGFkZXJzL3Nwcml0ZV9kdWFsLmZwJyk7XG59XG4iLCIvLyBQb3J0aW9ucyBDb3B5cmlnaHQgMjAxOSBKaW1iIEVzc2VyIChodHRwczovL2dpdGh1Yi5jb20vSmltYmx5Lylcbi8vIFJlbGVhc2VkIHVuZGVyIE1JVCBMaWNlbnNlOiBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVFxuXG5jb25zdCBhc3NlcnQgPSByZXF1aXJlKCdhc3NlcnQnKTtcbmNvbnN0IGRvdF9wcm9wID0gcmVxdWlyZSgnZG90LXByb3AnKTtcbmNvbnN0IEV2ZW50RW1pdHRlciA9IHJlcXVpcmUoJy4uLy4uL2NvbW1vbi90aW55LWV2ZW50cy5qcycpO1xuY29uc3QgZmJpbnN0YW50ID0gcmVxdWlyZSgnLi9mYmluc3RhbnQuanMnKTtcbmNvbnN0IGxvY2FsX3N0b3JhZ2UgPSByZXF1aXJlKCcuL2xvY2FsX3N0b3JhZ2UuanMnKTtcbmNvbnN0IG1kNSA9IHJlcXVpcmUoJy4uLy4uL2NvbW1vbi9tZDUuanMnKTtcbmNvbnN0IHsgaXNQYWNrZXQgfSA9IHJlcXVpcmUoJy4uLy4uL2NvbW1vbi9wYWNrZXQuanMnKTtcbmNvbnN0IHV0aWwgPSByZXF1aXJlKCcuLi8uLi9jb21tb24vdXRpbC5qcycpO1xuXG4vLyByZWxldmFudCBldmVudHM6XG4vLyAgIC5vbignY2hhbm5lbF9kYXRhJywgY2IoZGF0YSBbLCBtb2Rfa2V5LCBtb2RfdmFsdWVdKSk7XG5cbmZ1bmN0aW9uIENsaWVudENoYW5uZWxXb3JrZXIoc3VicywgY2hhbm5lbF9pZCkge1xuICBFdmVudEVtaXR0ZXIuY2FsbCh0aGlzKTtcbiAgdGhpcy5zdWJzID0gc3VicztcbiAgdGhpcy5jaGFubmVsX2lkID0gY2hhbm5lbF9pZDtcbiAgdGhpcy5zdWJzY3JpcHRpb25zID0gMDtcbiAgdGhpcy5zdWJzY3JpYmVfZmFpbGVkID0gZmFsc2U7XG4gIHRoaXMuZ290X3N1YnNjcmliZSA9IGZhbHNlO1xuICB0aGlzLmhhbmRsZXJzID0ge307XG4gIHRoaXMuZGF0YSA9IHt9O1xuICB0aGlzLm9uTXNnKCdjaGFubmVsX2RhdGEnLCB0aGlzLmhhbmRsZUNoYW5uZWxEYXRhLmJpbmQodGhpcykpO1xuICB0aGlzLm9uTXNnKCdhcHBseV9jaGFubmVsX2RhdGEnLCB0aGlzLmhhbmRsZUFwcGx5Q2hhbm5lbERhdGEuYmluZCh0aGlzKSk7XG59XG51dGlsLmluaGVyaXRzKENsaWVudENoYW5uZWxXb3JrZXIsIEV2ZW50RW1pdHRlcik7XG5cbi8vIGNiKGRhdGEpXG5DbGllbnRDaGFubmVsV29ya2VyLnByb3RvdHlwZS5vblN1YnNjcmliZSA9IGZ1bmN0aW9uIChjYikge1xuICBhc3NlcnQodGhpcy5zdWJzY3JpcHRpb25zIHx8IHRoaXMuYXV0b3N1YnNjcmliZWQpO1xuICB0aGlzLm9uKCdzdWJzY3JpYmUnLCBjYik7XG4gIGlmICh0aGlzLmdvdF9zdWJzY3JpYmUpIHtcbiAgICBjYih0aGlzLmRhdGEpO1xuICB9XG59O1xuXG4vLyBjYihkYXRhKVxuQ2xpZW50Q2hhbm5lbFdvcmtlci5wcm90b3R5cGUub25jZVN1YnNjcmliZSA9IGZ1bmN0aW9uIChjYikge1xuICBhc3NlcnQodGhpcy5zdWJzY3JpcHRpb25zIHx8IHRoaXMuYXV0b3N1YnNjcmliZWQpO1xuICBpZiAodGhpcy5nb3Rfc3Vic2NyaWJlKSB7XG4gICAgY2IodGhpcy5kYXRhKTtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLm9uY2UoJ3N1YnNjcmliZScsIGNiKTtcbiAgfVxufTtcblxuXG5DbGllbnRDaGFubmVsV29ya2VyLnByb3RvdHlwZS5oYW5kbGVDaGFubmVsRGF0YSA9IGZ1bmN0aW9uIChkYXRhLCByZXNwX2Z1bmMpIHtcbiAgY29uc29sZS5sb2coYGdvdCBjaGFubmVsX2RhdGEoJHt0aGlzLmNoYW5uZWxfaWR9KTogICR7SlNPTi5zdHJpbmdpZnkoZGF0YSl9YCk7XG4gIHRoaXMuZGF0YSA9IGRhdGE7XG4gIHRoaXMuZW1pdCgnY2hhbm5lbF9kYXRhJywgdGhpcy5kYXRhKTtcbiAgdGhpcy5nb3Rfc3Vic2NyaWJlID0gdHJ1ZTtcbiAgdGhpcy5lbWl0KCdzdWJzY3JpYmUnLCB0aGlzLmRhdGEpO1xuXG4gIC8vIEdldCBjb21tYW5kIGxpc3QgdXBvbiBmaXJzdCBjb25uZWN0XG4gIGxldCBjaGFubmVsX3R5cGUgPSB0aGlzLmNoYW5uZWxfaWQuc3BsaXQoJy4nKVswXTtcbiAgbGV0IGNtZF9saXN0ID0gdGhpcy5zdWJzLmNtZHNfbGlzdF9ieV93b3JrZXI7XG4gIGlmIChjbWRfbGlzdCAmJiAhY21kX2xpc3RbY2hhbm5lbF90eXBlXSkge1xuICAgIGNtZF9saXN0W2NoYW5uZWxfdHlwZV0gPSB7fTtcbiAgICB0aGlzLnNlbmQoJ2NtZHBhcnNlJywgJ2NtZF9saXN0JywgKGVyciwgcmVzcCkgPT4ge1xuICAgICAgaWYgKGVycikgeyAvLyBhbHJlYWR5IHVuc3Vic2NyaWJlZD9cbiAgICAgICAgY29uc29sZS5lcnJvcihgRXJyb3IgZ2V0dGluZyBjbWRfbGlzdCBmb3IgJHtjaGFubmVsX3R5cGV9YCk7XG4gICAgICAgIGRlbGV0ZSBjbWRfbGlzdFtjaGFubmVsX3R5cGVdO1xuICAgICAgfSBlbHNlIGlmIChyZXNwLmZvdW5kKSB7XG4gICAgICAgIGNtZF9saXN0W2NoYW5uZWxfdHlwZV0gPSByZXNwO1xuICAgICAgICB0aGlzLnN1YnMuY21kX3BhcnNlLmFkZFNlcnZlckNvbW1hbmRzKHJlc3AucmVzcCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICByZXNwX2Z1bmMoKTtcbn07XG5cbkNsaWVudENoYW5uZWxXb3JrZXIucHJvdG90eXBlLmhhbmRsZUFwcGx5Q2hhbm5lbERhdGEgPSBmdW5jdGlvbiAoZGF0YSwgcmVzcF9mdW5jKSB7XG4gIC8vIGFscmVhZHkgbG9nZ2VkIGluIGhhbmRsZUNoYW5uZWxNZXNzYWdlXG4gIC8vIGlmICghZGF0YS5xKSB7XG4gIC8vICAgY29uc29sZS5sb2coYGdvdCBjaGFubmVsIGRhdGEgbW9kOiAke0pTT04uc3RyaW5naWZ5KGRhdGEpfWApO1xuICAvLyB9XG4gIGlmIChkYXRhLnZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICBkb3RfcHJvcC5kZWxldGUodGhpcy5kYXRhLCBkYXRhLmtleSk7XG4gIH0gZWxzZSB7XG4gICAgZG90X3Byb3Auc2V0KHRoaXMuZGF0YSwgZGF0YS5rZXksIGRhdGEudmFsdWUpO1xuICB9XG4gIHRoaXMuZW1pdCgnY2hhbm5lbF9kYXRhJywgdGhpcy5kYXRhLCBkYXRhLmtleSwgZGF0YS52YWx1ZSk7XG4gIHJlc3BfZnVuYygpO1xufTtcblxuQ2xpZW50Q2hhbm5lbFdvcmtlci5wcm90b3R5cGUuZ2V0Q2hhbm5lbERhdGEgPSBmdW5jdGlvbiAoa2V5LCBkZWZhdWx0X3ZhbHVlKSB7XG4gIHJldHVybiBkb3RfcHJvcC5nZXQodGhpcy5kYXRhLCBrZXksIGRlZmF1bHRfdmFsdWUpO1xufTtcblxuQ2xpZW50Q2hhbm5lbFdvcmtlci5wcm90b3R5cGUuc2V0Q2hhbm5lbERhdGEgPSBmdW5jdGlvbiAoa2V5LCB2YWx1ZSwgc2tpcF9wcmVkaWN0LCByZXNwX2Z1bmMpIHtcbiAgaWYgKCFza2lwX3ByZWRpY3QpIHtcbiAgICBkb3RfcHJvcC5zZXQodGhpcy5kYXRhLCBrZXksIHZhbHVlKTtcbiAgfVxuICBsZXQgcSA9IHZhbHVlICYmIHZhbHVlLnEgfHwgdW5kZWZpbmVkO1xuICBsZXQgcGFrID0gdGhpcy5zdWJzLmNsaWVudC53c1Bhaygnc2V0X2NoYW5uZWxfZGF0YScpO1xuICBwYWsud3JpdGVBbnNpU3RyaW5nKHRoaXMuY2hhbm5lbF9pZCk7XG4gIHBhay53cml0ZUJvb2wocSk7XG4gIHBhay53cml0ZUFuc2lTdHJpbmcoa2V5KTtcbiAgcGFrLndyaXRlSlNPTih2YWx1ZSk7XG4gIHBhay5zZW5kKHJlc3BfZnVuYyk7XG59O1xuXG5DbGllbnRDaGFubmVsV29ya2VyLnByb3RvdHlwZS5yZW1vdmVNc2dIYW5kbGVyID0gZnVuY3Rpb24gKG1zZywgY2IpIHtcbiAgYXNzZXJ0KHRoaXMuaGFuZGxlcnNbbXNnXSA9PT0gY2IpO1xuICBkZWxldGUgdGhpcy5oYW5kbGVyc1ttc2ddO1xufTtcblxuQ2xpZW50Q2hhbm5lbFdvcmtlci5wcm90b3R5cGUub25Nc2cgPSBmdW5jdGlvbiAobXNnLCBjYikge1xuICBhc3NlcnQoIXRoaXMuaGFuZGxlcnNbbXNnXSB8fCB0aGlzLmhhbmRsZXJzW21zZ10gPT09IGNiKTtcbiAgdGhpcy5oYW5kbGVyc1ttc2ddID0gY2I7XG59O1xuXG5DbGllbnRDaGFubmVsV29ya2VyLnByb3RvdHlwZS5wYWsgPSBmdW5jdGlvbiAobXNnKSB7XG4gIGxldCBwYWsgPSB0aGlzLnN1YnMuY2xpZW50LndzUGFrKCdjaGFubmVsX21zZycpO1xuICBwYWsud3JpdGVBbnNpU3RyaW5nKHRoaXMuY2hhbm5lbF9pZCk7XG4gIHBhay53cml0ZUFuc2lTdHJpbmcobXNnKTtcbiAgLy8gcGFrLndyaXRlSW50KGZsYWdzKTtcbiAgcmV0dXJuIHBhaztcbn07XG5cbkNsaWVudENoYW5uZWxXb3JrZXIucHJvdG90eXBlLnNlbmQgPSBmdW5jdGlvbiAobXNnLCBkYXRhLCByZXNwX2Z1bmMsIG9sZF9mb3VydGgpIHtcbiAgYXNzZXJ0KCFyZXNwX2Z1bmMgfHwgdHlwZW9mIHJlc3BfZnVuYyA9PT0gJ2Z1bmN0aW9uJyk7XG4gIGFzc2VydCghb2xkX2ZvdXJ0aCk7XG4gIHRoaXMuc3Vicy5jbGllbnQuc2VuZCgnY2hhbm5lbF9tc2cnLCB7XG4gICAgY2hhbm5lbF9pZDogdGhpcy5jaGFubmVsX2lkLFxuICAgIG1zZywgZGF0YSxcbiAgfSwgcmVzcF9mdW5jKTtcbn07XG5cbmZ1bmN0aW9uIFN1YnNjcmlwdGlvbk1hbmFnZXIoY2xpZW50LCBjbWRfcGFyc2UpIHtcbiAgRXZlbnRFbWl0dGVyLmNhbGwodGhpcyk7XG4gIHRoaXMuY2xpZW50ID0gY2xpZW50O1xuICB0aGlzLmNoYW5uZWxzID0ge307XG4gIHRoaXMubG9nZ2VkX2luID0gZmFsc2U7XG4gIHRoaXMubG9naW5fY3JlZGVudGlhbHMgPSBudWxsO1xuICB0aGlzLmxvZ2dlZF9pbl91c2VybmFtZSA9IG51bGw7XG4gIHRoaXMud2FzX2xvZ2dlZF9pbiA9IGZhbHNlO1xuICB0aGlzLmxvZ2dpbmdfaW4gPSBmYWxzZTtcbiAgdGhpcy5sb2dnaW5nX291dCA9IGZhbHNlO1xuICB0aGlzLmF1dG9fY3JlYXRlX3VzZXIgPSBmYWxzZTtcbiAgdGhpcy5jbWRfcGFyc2UgPSBjbWRfcGFyc2U7XG4gIGlmIChjbWRfcGFyc2UpIHtcbiAgICB0aGlzLmNtZHNfbGlzdF9ieV93b3JrZXIgPSB7fTtcbiAgfVxuXG4gIHRoaXMuZmlyc3RfY29ubmVjdCA9IHRydWU7XG4gIHRoaXMuc2VydmVyX3RpbWUgPSAwO1xuICB0aGlzLnNlcnZlcl90aW1lX2ludGVycCA9IDA7XG4gIGNsaWVudC5vbk1zZygnY29ubmVjdCcsIHRoaXMuaGFuZGxlQ29ubmVjdC5iaW5kKHRoaXMpKTtcbiAgY2xpZW50Lm9uTXNnKCdjaGFubmVsX21zZycsIHRoaXMuaGFuZGxlQ2hhbm5lbE1lc3NhZ2UuYmluZCh0aGlzKSk7XG4gIGNsaWVudC5vbk1zZygnc2VydmVyX3RpbWUnLCB0aGlzLmhhbmRsZVNlcnZlclRpbWUuYmluZCh0aGlzKSk7XG4gIGNsaWVudC5vbk1zZygnYWRtaW5fbXNnJywgdGhpcy5oYW5kbGVBZG1pbk1zZy5iaW5kKHRoaXMpKTtcbn1cbnV0aWwuaW5oZXJpdHMoU3Vic2NyaXB0aW9uTWFuYWdlciwgRXZlbnRFbWl0dGVyKTtcblxuU3Vic2NyaXB0aW9uTWFuYWdlci5wcm90b3R5cGUub25jZUNvbm5lY3RlZCA9IGZ1bmN0aW9uIChjYikge1xuICBpZiAodGhpcy5jbGllbnQuY29ubmVjdGVkKSB7XG4gICAgcmV0dXJuIHZvaWQgY2IoKTtcbiAgfVxuICB0aGlzLm9uY2UoJ2Nvbm5lY3QnLCBjYik7XG59O1xuXG5TdWJzY3JpcHRpb25NYW5hZ2VyLnByb3RvdHlwZS5oYW5kbGVBZG1pbk1zZyA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gIGNvbnNvbGUuZXJyb3IoZGF0YSk7XG4gIHRoaXMuZW1pdCgnYWRtaW5fbXNnJywgZGF0YSk7XG59O1xuXG5TdWJzY3JpcHRpb25NYW5hZ2VyLnByb3RvdHlwZS5oYW5kbGVDb25uZWN0ID0gZnVuY3Rpb24gKCkge1xuICBsZXQgcmVjb25uZWN0ID0gZmFsc2U7XG4gIGlmICh0aGlzLmZpcnN0X2Nvbm5lY3QpIHtcbiAgICB0aGlzLmZpcnN0X2Nvbm5lY3QgPSBmYWxzZTtcbiAgfSBlbHNlIHtcbiAgICByZWNvbm5lY3QgPSB0cnVlO1xuICB9XG5cbiAgaWYgKCF0aGlzLmNsaWVudC5jb25uZWN0ZWQgfHwgdGhpcy5jbGllbnQuc29ja2V0LnJlYWR5U3RhdGUgIT09IDEpIHsgLy8gV2ViU29ja2V0Lk9QRU5cbiAgICAvLyB3ZSBnb3QgZGlzY29ubmVjdGVkIHdoaWxlIHRyeWluZyB0byBsb2cgaW4sIHdlJ2xsIHJldHJ5IGFmdGVyIHJlY29ubmVjdGlvblxuICAgIHJldHVybjtcbiAgfVxuXG4gIGxldCBzdWJzID0gdGhpcztcbiAgZnVuY3Rpb24gcmVzdWIoKSB7XG4gICAgLy8gKHJlLSlzdWJzY3JpYmUgdG8gYWxsIGNoYW5uZWxzXG4gICAgZm9yIChsZXQgY2hhbm5lbF9pZCBpbiBzdWJzLmNoYW5uZWxzKSB7XG4gICAgICBsZXQgY2hhbm5lbCA9IHN1YnMuY2hhbm5lbHNbY2hhbm5lbF9pZF07XG4gICAgICBpZiAoY2hhbm5lbC5zdWJzY3JpcHRpb25zKSB7XG4gICAgICAgIHN1YnMuY2xpZW50LnNlbmQoJ3N1YnNjcmliZScsIGNoYW5uZWxfaWQsIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICBjaGFubmVsLnN1YnNjcmliZV9mYWlsZWQgPSB0cnVlO1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihgRXJyb3Igc3Vic2NyaWJpbmcgdG8gJHtjaGFubmVsX2lkfTogJHtlcnJ9YCk7XG4gICAgICAgICAgICBjaGFubmVsLmVtaXQoJ3N1YnNjcmliZV9mYWlsJywgZXJyKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgICBzdWJzLmVtaXQoJ2Nvbm5lY3QnLCByZWNvbm5lY3QpO1xuICB9XG5cbiAgaWYgKHRoaXMud2FzX2xvZ2dlZF9pbikge1xuICAgIC8vIFRyeSB0byByZS1jb25uZWN0IHRvIGV4aXN0aW5nIGxvZ2luXG4gICAgdGhpcy5sb2dpbkludGVybmFsKHRoaXMubG9naW5fY3JlZGVudGlhbHMsIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgIGlmIChlcnIgJiYgZXJyID09PSAnRVJSX0RJU0NPTk5FQ1RFRCcpIHtcbiAgICAgICAgLy8gd2UgZ290IGRpc2Nvbm5lY3RlZCB3aGlsZSB0cnlpbmcgdG8gbG9nIGluLCB3ZSdsbCByZXRyeSBhZnRlciByZWNvbm5lY3Rpb25cbiAgICAgIH0gZWxzZSBpZiAoZXJyKSB7XG4gICAgICAgIC8vIEVycm9yIGxvZ2dpbmcgaW4gdXBvbiByZS1jb25uZWN0aW9uLCBubyBnb29kIHdheSB0byBoYW5kbGUgdGhpcz9cbiAgICAgICAgLy8gVE9ETzogU2hvdyBzb21lIG1lc3NhZ2UgdG8gdGhlIHVzZXIgYW5kIHByb21wdCB0aGVtIHRvIHJlZnJlc2g/ICBTdGF5IGluIFwiZGlzY29ubmVjdGVkXCIgc3RhdGU/XG4gICAgICAgIGFzc2VydChmYWxzZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXN1YigpO1xuICAgICAgfVxuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIC8vIFRyeSBhdXRvLWxvZ2luXG4gICAgaWYgKHdpbmRvdy5GQkluc3RhbnQpIHtcbiAgICAgIHRoaXMubG9naW5GYWNlYm9vayhmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIGlnbm9yZSBlcnJvciBvbiBhdXRvLWxvZ2luXG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKGxvY2FsX3N0b3JhZ2UuZ2V0KCduYW1lJykgJiYgbG9jYWxfc3RvcmFnZS5nZXQoJ3Bhc3N3b3JkJykpIHtcbiAgICAgIHRoaXMubG9naW4obG9jYWxfc3RvcmFnZS5nZXQoJ25hbWUnKSwgbG9jYWxfc3RvcmFnZS5nZXQoJ3Bhc3N3b3JkJyksIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gaWdub3JlIGVycm9yIG9uIGF1dG8tbG9naW5cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJlc3ViKCk7XG4gIH1cblxufTtcblxuU3Vic2NyaXB0aW9uTWFuYWdlci5wcm90b3R5cGUuaGFuZGxlQ2hhbm5lbE1lc3NhZ2UgPSBmdW5jdGlvbiAocGFrLCByZXNwX2Z1bmMpIHtcbiAgYXNzZXJ0KGlzUGFja2V0KHBhaykpO1xuICBsZXQgY2hhbm5lbF9pZCA9IHBhay5yZWFkQW5zaVN0cmluZygpO1xuICBsZXQgbXNnID0gcGFrLnJlYWRBbnNpU3RyaW5nKCk7XG4gIGxldCBpc19wYWNrZXQgPSBwYWsucmVhZEJvb2woKTtcbiAgbGV0IGRhdGEgPSBpc19wYWNrZXQgPyBwYWsgOiBwYWsucmVhZEpTT04oKTtcbiAgaWYgKCFkYXRhIHx8ICFkYXRhLnEpIHtcbiAgICBsZXQgZGVidWdfbXNnO1xuICAgIGlmICghaXNfcGFja2V0KSB7XG4gICAgICBkZWJ1Z19tc2cgPSBKU09OLnN0cmluZ2lmeShkYXRhKTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBkYXRhLmNvbnRlbnRzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBkZWJ1Z19tc2cgPSBkYXRhLmNvbnRlbnRzKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRlYnVnX21zZyA9ICcocGFrKSc7XG4gICAgfVxuICAgIGNvbnNvbGUubG9nKGBnb3QgY2hhbm5lbF9tc2coJHtjaGFubmVsX2lkfSkgJHttc2d9OiAke2RlYnVnX21zZ31gKTtcbiAgfVxuICBsZXQgY2hhbm5lbCA9IHRoaXMuZ2V0Q2hhbm5lbChjaGFubmVsX2lkKTtcbiAgaWYgKCFjaGFubmVsLmhhbmRsZXJzW21zZ10pIHtcbiAgICBjb25zb2xlLmVycm9yKGBubyBoYW5kbGVyIGZvciBjaGFubmVsX21zZygke2NoYW5uZWxfaWR9KSAke21zZ306ICR7SlNPTi5zdHJpbmdpZnkoZGF0YSl9YCk7XG4gICAgcmV0dXJuO1xuICB9XG4gIGNoYW5uZWwuaGFuZGxlcnNbbXNnXShkYXRhLCByZXNwX2Z1bmMpO1xufTtcblxuU3Vic2NyaXB0aW9uTWFuYWdlci5wcm90b3R5cGUuaGFuZGxlU2VydmVyVGltZSA9IGZ1bmN0aW9uIChwYWspIHtcbiAgdGhpcy5zZXJ2ZXJfdGltZSA9IHBhay5yZWFkSW50KCk7XG4gIGlmICh0aGlzLnNlcnZlcl90aW1lIDwgdGhpcy5zZXJ2ZXJfdGltZV9pbnRlcnAgJiYgdGhpcy5zZXJ2ZXJfdGltZSA+IHRoaXMuc2VydmVyX3RpbWVfaW50ZXJwIC0gMjUwKSB7XG4gICAgLy8gc2xpZ2h0IHRpbWUgdHJhdmVsIGJhY2t3YXJkcywgdGhpcyBvbmUgcGFja2V0IG11c3QgaGF2ZSBiZWVuIGRlbGF5ZWQsXG4gICAgLy8gc2luY2Ugd2Ugb25jZSBnb3QgYSBwYWNrZXQgcXVpY2tlci4gSnVzdCBpZ25vcmUgdGhpcywgaW50ZXJwb2xhdGUgZnJvbVxuICAgIC8vIHdoZXJlIHdlIHdlcmUgYmVmb3JlXG4gICAgLy8gVE9ETzogSWYgdGhlIHNlcnZlciBoYWQgYSBzaG9ydCBzdGFsbCAobGVzcyB0aGFuIDI1MG1zKSB3ZSBtaWdodCBiZVxuICAgIC8vIGFoZWFkIGZyb20gbm93IG9uISAgU2xvd2x5IGludGVycCBiYWNrIHRvIHRoZSBzcGVjaWZpZWQgdGltZVxuICAgIC8vIChydW4gc3BlZWQgYXQgOTAlIHVudGlsIGl0IG1hdGNoZXM/LCBzYW1lIHRoaW5nIGZvciBjYXRjaGluZyB1cCB0b1xuICAgIC8vIHNtYWxsIGp1bXBzIGFoZWFkKVxuICB9IGVsc2Uge1xuICAgIHRoaXMuc2VydmVyX3RpbWVfaW50ZXJwID0gdGhpcy5zZXJ2ZXJfdGltZTtcbiAgfVxufTtcblxuU3Vic2NyaXB0aW9uTWFuYWdlci5wcm90b3R5cGUuZ2V0U2VydmVyVGltZSA9IGZ1bmN0aW9uICgpIHtcbiAgLy8gSW50ZXJwb2xhdGVkIHNlcnZlciB0aW1lIGFzIG9mIHN0YXJ0IG9mIGxhc3QgdGlja1xuICByZXR1cm4gdGhpcy5zZXJ2ZXJfdGltZV9pbnRlcnA7XG59O1xuXG5TdWJzY3JpcHRpb25NYW5hZ2VyLnByb3RvdHlwZS50aWNrID0gZnVuY3Rpb24gKGR0KSB7XG4gIHRoaXMuc2VydmVyX3RpbWVfaW50ZXJwICs9IGR0O1xufTtcblxuU3Vic2NyaXB0aW9uTWFuYWdlci5wcm90b3R5cGUuc3Vic2NyaWJlID0gZnVuY3Rpb24gKGNoYW5uZWxfaWQpIHtcbiAgdGhpcy5nZXRDaGFubmVsKGNoYW5uZWxfaWQsIHRydWUpO1xufTtcblxuU3Vic2NyaXB0aW9uTWFuYWdlci5wcm90b3R5cGUuZ2V0Q2hhbm5lbCA9IGZ1bmN0aW9uIChjaGFubmVsX2lkLCBkb19zdWJzY3JpYmUpIHtcbiAgbGV0IGNoYW5uZWwgPSB0aGlzLmNoYW5uZWxzW2NoYW5uZWxfaWRdO1xuICBpZiAoIWNoYW5uZWwpIHtcbiAgICBjaGFubmVsID0gdGhpcy5jaGFubmVsc1tjaGFubmVsX2lkXSA9IG5ldyBDbGllbnRDaGFubmVsV29ya2VyKHRoaXMsIGNoYW5uZWxfaWQpO1xuICB9XG4gIGlmIChkb19zdWJzY3JpYmUpIHtcbiAgICBjaGFubmVsLnN1YnNjcmlwdGlvbnMrKztcbiAgICBpZiAodGhpcy5jbGllbnQuY29ubmVjdGVkICYmIGNoYW5uZWwuc3Vic2NyaXB0aW9ucyA9PT0gMSkge1xuICAgICAgY2hhbm5lbC5zdWJzY3JpYmVfZmFpbGVkID0gZmFsc2U7XG4gICAgICB0aGlzLmNsaWVudC5zZW5kKCdzdWJzY3JpYmUnLCBjaGFubmVsX2lkLCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICBjaGFubmVsLnN1YnNjcmliZV9mYWlsZWQgPSB0cnVlO1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIHN1YnNjcmliaW5nIHRvICR7Y2hhbm5lbF9pZH06ICR7ZXJyfWApO1xuICAgICAgICAgIGNoYW5uZWwuZW1pdCgnc3Vic2NyaWJlX2ZhaWwnLCBlcnIpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGNoYW5uZWw7XG59O1xuXG5TdWJzY3JpcHRpb25NYW5hZ2VyLnByb3RvdHlwZS5nZXRVc2VySWQgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0aGlzLmxvZ2dlZEluKCk7XG59O1xuXG5TdWJzY3JpcHRpb25NYW5hZ2VyLnByb3RvdHlwZS5nZXRNeVVzZXJDaGFubmVsID0gZnVuY3Rpb24gKCkge1xuICBsZXQgdXNlcl9pZCA9IHRoaXMubG9nZ2VkSW4oKTtcbiAgaWYgKCF1c2VyX2lkKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgbGV0IGNoYW5uZWwgPSB0aGlzLmdldENoYW5uZWwoYHVzZXIuJHt1c2VyX2lkfWApO1xuICBpZiAoIXRoaXMubG9nZ2luZ19vdXQpIHtcbiAgICBjaGFubmVsLmF1dG9zdWJzY3JpYmVkID0gdHJ1ZTtcbiAgfVxuICByZXR1cm4gY2hhbm5lbDtcbn07XG5cblN1YnNjcmlwdGlvbk1hbmFnZXIucHJvdG90eXBlLnVuc3Vic2NyaWJlID0gZnVuY3Rpb24gKGNoYW5uZWxfaWQpIHtcbiAgbGV0IGNoYW5uZWwgPSB0aGlzLmNoYW5uZWxzW2NoYW5uZWxfaWRdO1xuICBhc3NlcnQoY2hhbm5lbCk7XG4gIGFzc2VydChjaGFubmVsLnN1YnNjcmlwdGlvbnMpO1xuICBjaGFubmVsLnN1YnNjcmlwdGlvbnMtLTtcbiAgaWYgKCFjaGFubmVsLnN1YnNjcmlwdGlvbnMpIHtcbiAgICBjaGFubmVsLmdvdF9zdWJzY3JpYmUgPSBmYWxzZTtcbiAgfVxuICBpZiAodGhpcy5jbGllbnQuY29ubmVjdGVkICYmICFjaGFubmVsLnN1YnNjcmlwdGlvbnMgJiYgIWNoYW5uZWwuc3Vic2NyaWJlX2ZhaWxlZCkge1xuICAgIHRoaXMuY2xpZW50LnNlbmQoJ3Vuc3Vic2NyaWJlJywgY2hhbm5lbF9pZCk7XG4gIH1cbn07XG5cblN1YnNjcmlwdGlvbk1hbmFnZXIucHJvdG90eXBlLm9uTG9naW4gPSBmdW5jdGlvbiAoY2IpIHtcbiAgdGhpcy5nZXRNeVVzZXJDaGFubmVsKCk7XG4gIHRoaXMub24oJ2xvZ2luJywgY2IpO1xuICBpZiAodGhpcy5sb2dnZWRfaW4pIHtcbiAgICByZXR1cm4gdm9pZCBjYigpO1xuICB9XG59O1xuXG5TdWJzY3JpcHRpb25NYW5hZ2VyLnByb3RvdHlwZS5sb2dnZWRJbiA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHRoaXMubG9nZ2VkX2luID8gdGhpcy5sb2dnZWRfaW5fdXNlcm5hbWUgfHwgJ21pc3NpbmdfbmFtZScgOiBmYWxzZTtcbn07XG5cblN1YnNjcmlwdGlvbk1hbmFnZXIucHJvdG90eXBlLmhhbmRsZUxvZ2luUmVzcG9uc2UgPSBmdW5jdGlvbiAocmVzcF9mdW5jLCBlcnIsIHJlc3ApIHtcbiAgdGhpcy5sb2dnaW5nX2luID0gZmFsc2U7XG4gIGlmICghZXJyKSB7XG4gICAgdGhpcy5sb2dnZWRfaW5fdXNlcm5hbWUgPSByZXNwLnVzZXJfaWQ7XG4gICAgdGhpcy5sb2dnZWRfaW5fZGlzcGxheV9uYW1lID0gcmVzcC5kaXNwbGF5X25hbWU7XG4gICAgdGhpcy5sb2dnZWRfaW4gPSB0cnVlO1xuICAgIHRoaXMud2FzX2xvZ2dlZF9pbiA9IHRydWU7XG4gICAgdGhpcy5nZXRNeVVzZXJDaGFubmVsKCk7XG4gICAgdGhpcy5lbWl0KCdsb2dpbicpO1xuICB9IGVsc2Uge1xuICAgIHRoaXMuZW1pdCgnbG9naW5fZmFpbCcsIGVycik7XG4gIH1cbiAgcmVzcF9mdW5jKGVycik7XG59O1xuXG5TdWJzY3JpcHRpb25NYW5hZ2VyLnByb3RvdHlwZS5sb2dpbkludGVybmFsID0gZnVuY3Rpb24gKGxvZ2luX2NyZWRlbnRpYWxzLCByZXNwX2Z1bmMpIHtcbiAgaWYgKHRoaXMubG9nZ2luZ19pbikge1xuICAgIHJldHVybiB2b2lkIHJlc3BfZnVuYygnTG9naW4gYWxyZWFkeSBpbiBwcm9ncmVzcycpO1xuICB9XG4gIHRoaXMubG9nZ2luZ19pbiA9IHRydWU7XG4gIHRoaXMubG9nZ2VkX2luID0gZmFsc2U7XG5cbiAgaWYgKGxvZ2luX2NyZWRlbnRpYWxzLmZiKSB7XG4gICAgZmJpbnN0YW50Lm9ucmVhZHkoKCkgPT4ge1xuICAgICAgd2luZG93LkZCSW5zdGFudC5wbGF5ZXIuZ2V0U2lnbmVkUGxheWVySW5mb0FzeW5jKCkudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgIHRoaXMuY2xpZW50LnNlbmQoJ2xvZ2luX2ZhY2Vib29rJywge1xuICAgICAgICAgIHNpZ25hdHVyZTogcmVzdWx0LmdldFNpZ25hdHVyZSgpLFxuICAgICAgICAgIGRpc3BsYXlfbmFtZTogd2luZG93LkZCSW5zdGFudC5wbGF5ZXIuZ2V0TmFtZSgpLFxuICAgICAgICB9LCB0aGlzLmhhbmRsZUxvZ2luUmVzcG9uc2UuYmluZCh0aGlzLCByZXNwX2Z1bmMpKTtcbiAgICAgIH0pLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgdGhpcy5oYW5kbGVMb2dpblJlc3BvbnNlKHJlc3BfZnVuYywgZXJyKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIHRoaXMuY2xpZW50LnNlbmQoJ2xvZ2luJywge1xuICAgICAgdXNlcl9pZDogbG9naW5fY3JlZGVudGlhbHMudXNlcl9pZCxcbiAgICAgIHBhc3N3b3JkOiBtZDUodGhpcy5jbGllbnQuc2VjcmV0ICsgbG9naW5fY3JlZGVudGlhbHMucGFzc3dvcmQpLFxuICAgIH0sIHRoaXMuaGFuZGxlTG9naW5SZXNwb25zZS5iaW5kKHRoaXMsIHJlc3BfZnVuYykpO1xuICB9XG59O1xuXG5TdWJzY3JpcHRpb25NYW5hZ2VyLnByb3RvdHlwZS51c2VyQ3JlYXRlSW50ZXJuYWwgPSBmdW5jdGlvbiAocGFyYW1zLCByZXNwX2Z1bmMpIHtcbiAgaWYgKHRoaXMubG9nZ2luZ19pbikge1xuICAgIHJldHVybiByZXNwX2Z1bmMoJ0xvZ2luIGFscmVhZHkgaW4gcHJvZ3Jlc3MnKTtcbiAgfVxuICB0aGlzLmxvZ2dpbmdfaW4gPSB0cnVlO1xuICB0aGlzLmxvZ2dlZF9pbiA9IGZhbHNlO1xuICByZXR1cm4gdGhpcy5jbGllbnQuc2VuZCgndXNlcl9jcmVhdGUnLCBwYXJhbXMsIHRoaXMuaGFuZGxlTG9naW5SZXNwb25zZS5iaW5kKHRoaXMsIHJlc3BfZnVuYykpO1xufTtcblxuZnVuY3Rpb24gaGFzaGVkUGFzc3dvcmQodXNlcl9pZCwgcGFzc3dvcmQpIHtcbiAgaWYgKHBhc3N3b3JkLnNwbGl0KCckJCcpWzBdID09PSAncHJlaGFzaGVkJykge1xuICAgIHBhc3N3b3JkID0gcGFzc3dvcmQuc3BsaXQoJyQkJylbMV07XG4gIH0gZWxzZSB7XG4gICAgcGFzc3dvcmQgPSBtZDUobWQ1KHVzZXJfaWQudG9Mb3dlckNhc2UoKSkgKyBwYXNzd29yZCk7XG4gIH1cbiAgcmV0dXJuIHBhc3N3b3JkO1xufVxuXG5cblN1YnNjcmlwdGlvbk1hbmFnZXIucHJvdG90eXBlLmxvZ2luID0gZnVuY3Rpb24gKHVzZXJuYW1lLCBwYXNzd29yZCwgcmVzcF9mdW5jKSB7XG4gIHVzZXJuYW1lID0gKHVzZXJuYW1lIHx8ICcnKS50cmltKCk7XG4gIGlmICghdXNlcm5hbWUpIHtcbiAgICByZXR1cm4gcmVzcF9mdW5jKCdNaXNzaW5nIHVzZXJuYW1lJyk7XG4gIH1cbiAgcGFzc3dvcmQgPSAocGFzc3dvcmQgfHwgJycpLnRyaW0oKTtcbiAgaWYgKCFwYXNzd29yZCkge1xuICAgIHJldHVybiByZXNwX2Z1bmMoJ01pc3NpbmcgcGFzc3dvcmQnKTtcbiAgfVxuICBsZXQgaGFzaGVkX3Bhc3N3b3JkID0gaGFzaGVkUGFzc3dvcmQodXNlcm5hbWUsIHBhc3N3b3JkKTtcbiAgaWYgKGhhc2hlZF9wYXNzd29yZCAhPT0gcGFzc3dvcmQpIHtcbiAgICBsb2NhbF9zdG9yYWdlLnNldCgncGFzc3dvcmQnLCBgcHJlaGFzaGVkJCQke2hhc2hlZF9wYXNzd29yZH1gKTtcbiAgfVxuICB0aGlzLmxvZ2luX2NyZWRlbnRpYWxzID0geyB1c2VyX2lkOiB1c2VybmFtZSwgcGFzc3dvcmQ6IGhhc2hlZF9wYXNzd29yZCB9O1xuICBpZiAoIXRoaXMuYXV0b19jcmVhdGVfdXNlcikge1xuICAgIC8vIEp1c3QgcmV0dXJuIHJlc3VsdCBkaXJlY3RseVxuICAgIHJldHVybiB0aGlzLmxvZ2luSW50ZXJuYWwodGhpcy5sb2dpbl9jcmVkZW50aWFscywgcmVzcF9mdW5jKTtcbiAgfVxuICByZXR1cm4gdGhpcy5sb2dpbkludGVybmFsKHRoaXMubG9naW5fY3JlZGVudGlhbHMsIChlcnIsIGRhdGEpID0+IHtcbiAgICBpZiAoIWVyciB8fCBlcnIgIT09ICdFUlJfVVNFUl9OT1RfRk9VTkQnKSB7XG4gICAgICByZXR1cm4gdm9pZCByZXNwX2Z1bmMoZXJyLCBkYXRhKTtcbiAgICB9XG4gICAgLy8gdXNlciBub3QgZm91bmQsIGF1dG8tY3JlYXRlXG4gICAgdGhpcy51c2VyQ3JlYXRlKHtcbiAgICAgIHVzZXJfaWQ6IHVzZXJuYW1lLFxuICAgICAgcGFzc3dvcmQsXG4gICAgICBwYXNzd29yZF9jb25maXJtOiBwYXNzd29yZCxcbiAgICAgIGVtYWlsOiAnYXV0b2NyZWF0ZUBnbG92anMub3JnJyxcbiAgICB9LCByZXNwX2Z1bmMpO1xuICB9KTtcbn07XG5cblN1YnNjcmlwdGlvbk1hbmFnZXIucHJvdG90eXBlLmxvZ2luRmFjZWJvb2sgPSBmdW5jdGlvbiAocmVzcF9mdW5jKSB7XG4gIHRoaXMubG9naW5fY3JlZGVudGlhbHMgPSB7IGZiOiB0cnVlIH07XG4gIHJldHVybiB0aGlzLmxvZ2luSW50ZXJuYWwodGhpcy5sb2dpbl9jcmVkZW50aWFscywgcmVzcF9mdW5jKTtcbn07XG5cblN1YnNjcmlwdGlvbk1hbmFnZXIucHJvdG90eXBlLnVzZXJDcmVhdGUgPSBmdW5jdGlvbiAocGFyYW1zLCByZXNwX2Z1bmMpIHtcbiAgcGFyYW1zLnVzZXJfaWQgPSAocGFyYW1zLnVzZXJfaWQgfHwgJycpLnRyaW0oKTtcbiAgaWYgKCFwYXJhbXMudXNlcl9pZCkge1xuICAgIHJldHVybiByZXNwX2Z1bmMoJ01pc3NpbmcgdXNlcm5hbWUnKTtcbiAgfVxuICBwYXJhbXMucGFzc3dvcmQgPSAocGFyYW1zLnBhc3N3b3JkIHx8ICcnKS50cmltKCk7XG4gIGlmICghcGFyYW1zLnBhc3N3b3JkKSB7XG4gICAgcmV0dXJuIHJlc3BfZnVuYygnTWlzc2luZyBwYXNzd29yZCcpO1xuICB9XG4gIHBhcmFtcy5wYXNzd29yZF9jb25maXJtID0gKHBhcmFtcy5wYXNzd29yZF9jb25maXJtIHx8ICcnKS50cmltKCk7XG4gIGlmICghdGhpcy5hdXRvX2NyZWF0ZV91c2VyICYmICFwYXJhbXMucGFzc3dvcmRfY29uZmlybSkge1xuICAgIHJldHVybiByZXNwX2Z1bmMoJ01pc3NpbmcgcGFzc3dvcmQgY29uZmlybWF0aW9uJyk7XG4gIH1cbiAgcGFyYW1zLmVtYWlsID0gKHBhcmFtcy5lbWFpbCB8fCAnJykudHJpbSgpO1xuICBpZiAoIXRoaXMuYXV0b19jcmVhdGVfdXNlciAmJiAhcGFyYW1zLmVtYWlsKSB7XG4gICAgcmV0dXJuIHJlc3BfZnVuYygnTWlzc2luZyBlbWFpbCcpO1xuICB9XG4gIHBhcmFtcy5kaXNwbGF5X25hbWUgPSAocGFyYW1zLmRpc3BsYXlfbmFtZSB8fCAnJykudHJpbSgpO1xuICBsZXQgaGFzaGVkX3Bhc3N3b3JkID0gaGFzaGVkUGFzc3dvcmQocGFyYW1zLnVzZXJfaWQsIHBhcmFtcy5wYXNzd29yZCk7XG4gIGlmIChoYXNoZWRfcGFzc3dvcmQgIT09IHBhcmFtcy5wYXNzd29yZCkge1xuICAgIGxvY2FsX3N0b3JhZ2Uuc2V0KCdwYXNzd29yZCcsIGBwcmVoYXNoZWQkJCR7aGFzaGVkX3Bhc3N3b3JkfWApO1xuICB9XG4gIGxldCBoYXNoZWRfcGFzc3dvcmRfY29uZmlybSA9IGhhc2hlZFBhc3N3b3JkKHBhcmFtcy51c2VyX2lkLCBwYXJhbXMucGFzc3dvcmRfY29uZmlybSk7XG4gIGlmIChoYXNoZWRfcGFzc3dvcmQgIT09IGhhc2hlZF9wYXNzd29yZF9jb25maXJtKSB7XG4gICAgcmV0dXJuIHJlc3BfZnVuYygnUGFzc3dvcmRzIGRvIG5vdCBtYXRjaCcpO1xuICB9XG4gIHRoaXMubG9naW5fY3JlZGVudGlhbHMgPSB7IHVzZXJfaWQ6IHBhcmFtcy51c2VyX2lkLCBwYXNzd29yZDogaGFzaGVkX3Bhc3N3b3JkIH07XG4gIHJldHVybiB0aGlzLnVzZXJDcmVhdGVJbnRlcm5hbCh7XG4gICAgZGlzcGxheV9uYW1lOiBwYXJhbXMuZGlzcGxheV9uYW1lIHx8IHBhcmFtcy51c2VyX2lkLFxuICAgIHVzZXJfaWQ6IHBhcmFtcy51c2VyX2lkLFxuICAgIGVtYWlsOiBwYXJhbXMuZW1haWwsXG4gICAgcGFzc3dvcmQ6IGhhc2hlZF9wYXNzd29yZCxcbiAgfSwgcmVzcF9mdW5jKTtcbn07XG5cblxuU3Vic2NyaXB0aW9uTWFuYWdlci5wcm90b3R5cGUubG9nb3V0ID0gZnVuY3Rpb24gKCkge1xuICBhc3NlcnQodGhpcy5sb2dnZWRfaW4pO1xuICBhc3NlcnQoIXRoaXMubG9nZ2luZ19pbik7XG4gIGFzc2VydCghdGhpcy5sb2dnaW5nX291dCk7XG4gIC8vIERvbid0IGtub3cgaG93IHRvIGdyYWNlZnVsbHkgaGFuZGxlIGxvZ2dpbmcgb3V0IHdpdGggc3Vic2NyaXB0aW9ucyBjdXJyZW50bHksIGFzc2VydCB3ZSBoYXZlIG5vbmVcbiAgZm9yIChsZXQgY2hhbm5lbF9pZCBpbiB0aGlzLmNoYW5uZWxzKSB7XG4gICAgbGV0IGNoYW5uZWwgPSB0aGlzLmNoYW5uZWxzW2NoYW5uZWxfaWRdO1xuICAgIGFzc2VydCghY2hhbm5lbC5zdWJzY3JpcHRpb25zLCBgUmVtYWluaW5nIGFjdGl2ZSBzdWJzY3JpcHRpb24gZm9yICR7Y2hhbm5lbF9pZH1gKTtcbiAgICBpZiAoY2hhbm5lbC5hdXRvc3Vic2NyaWJlZCkge1xuICAgICAgY2hhbm5lbC5hdXRvc3Vic2NyaWJlZCA9IGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIHRoaXMubG9nZ2luZ19vdXQgPSB0cnVlO1xuICB0aGlzLmNsaWVudC5zZW5kKCdsb2dvdXQnLCBudWxsLCAoZXJyKSA9PiB7XG4gICAgdGhpcy5sb2dnaW5nX291dCA9IGZhbHNlO1xuICAgIGlmICghZXJyKSB7XG4gICAgICBsb2NhbF9zdG9yYWdlLnNldCgncGFzc3dvcmQnLCB1bmRlZmluZWQpO1xuICAgICAgdGhpcy5sb2dnZWRfaW4gPSBmYWxzZTtcbiAgICAgIHRoaXMubG9nZ2VkX2luX3VzZXJuYW1lID0gbnVsbDtcbiAgICAgIHRoaXMud2FzX2xvZ2dlZF9pbiA9IGZhbHNlO1xuICAgICAgdGhpcy5sb2dpbl9jcmVkZW50aWFscyA9IG51bGw7XG4gICAgICB0aGlzLmVtaXQoJ2xvZ291dCcpO1xuICAgIH1cbiAgfSk7XG59O1xuXG5TdWJzY3JpcHRpb25NYW5hZ2VyLnByb3RvdHlwZS5zZXJ2ZXJMb2cgPSBmdW5jdGlvbiAodHlwZSwgZGF0YSkge1xuICB0aGlzLmNsaWVudC5zZW5kKCdsb2cnLCB7IHR5cGUsIGRhdGEgfSk7XG59O1xuXG5TdWJzY3JpcHRpb25NYW5hZ2VyLnByb3RvdHlwZS5zZW5kQ21kUGFyc2UgPSBmdW5jdGlvbiAoY29tbWFuZCwgcmVzcF9mdW5jKSB7XG4gIGxldCBzZWxmID0gdGhpcztcbiAgbGV0IGNoYW5uZWxfaWRzID0gT2JqZWN0LmtleXMoc2VsZi5jaGFubmVscyk7XG4gIGxldCBpZHggPSAwO1xuICBsZXQgbGFzdF9lcnJvciA9ICdVbmtub3duIGNvbW1hbmQnO1xuICBmdW5jdGlvbiB0cnlOZXh0KCkge1xuICAgIGxldCBjaGFubmVsX2lkO1xuICAgIGxldCBjaGFubmVsO1xuICAgIGRvIHtcbiAgICAgIGNoYW5uZWxfaWQgPSBjaGFubmVsX2lkc1tpZHgrK107XG4gICAgICBjaGFubmVsID0gc2VsZi5jaGFubmVsc1tjaGFubmVsX2lkXTtcbiAgICB9IHdoaWxlIChjaGFubmVsX2lkICYmICghY2hhbm5lbCB8fCAhKGNoYW5uZWwuc3Vic2NyaXB0aW9ucyB8fCBjaGFubmVsLmF1dG9zdWJzY3JpYmVkKSkpO1xuICAgIGlmICghY2hhbm5lbF9pZCkge1xuICAgICAgc2VsZi5zZXJ2ZXJMb2coJ2NtZF9wYXJzZV91bmtub3duJywgY29tbWFuZCk7XG4gICAgICByZXR1cm4gcmVzcF9mdW5jKGxhc3RfZXJyb3IpO1xuICAgIH1cbiAgICByZXR1cm4gY2hhbm5lbC5zZW5kKCdjbWRwYXJzZScsIGNvbW1hbmQsXG4gICAgICBmdW5jdGlvbiAoZXJyLCByZXNwKSB7XG4gICAgICAgIGlmIChlcnIgfHwgcmVzcCAmJiByZXNwLmZvdW5kKSB7XG4gICAgICAgICAgcmV0dXJuIHJlc3BfZnVuYyhlcnIsIHJlc3AgPyByZXNwLnJlc3AgOiBudWxsKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBvdGhlcndpc2UsIHdhcyBub3QgZm91bmRcbiAgICAgICAgaWYgKHJlc3AgJiYgcmVzcC5lcnIpIHtcbiAgICAgICAgICBsYXN0X2Vycm9yID0gcmVzcC5lcnI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNlbGYub25jZUNvbm5lY3RlZCh0cnlOZXh0KTtcbiAgICAgIH1cbiAgICApO1xuICB9XG4gIHNlbGYub25jZUNvbm5lY3RlZCh0cnlOZXh0KTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGUoY2xpZW50LCBjbWRfcGFyc2UpIHtcbiAgcmV0dXJuIG5ldyBTdWJzY3JpcHRpb25NYW5hZ2VyKGNsaWVudCwgY21kX3BhcnNlKTtcbn1cbiIsIi8vIFBvcnRpb25zIENvcHlyaWdodCAyMDE5IEppbWIgRXNzZXIgKGh0dHBzOi8vZ2l0aHViLmNvbS9KaW1ibHkvKVxuLy8gUmVsZWFzZWQgdW5kZXIgTUlUIExpY2Vuc2U6IGh0dHBzOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvTUlUXG4vKiBlc2xpbnQtZW52IGJyb3dzZXIgKi9cblxuY29uc3QgYXNzZXJ0ID0gcmVxdWlyZSgnYXNzZXJ0Jyk7XG5jb25zdCBlbmdpbmUgPSByZXF1aXJlKCcuL2VuZ2luZS5qcycpO1xuY29uc3QgeyBmaWxld2F0Y2hPbiB9ID0gcmVxdWlyZSgnLi9maWxld2F0Y2guanMnKTtcbmNvbnN0IGxvY2FsX3N0b3JhZ2UgPSByZXF1aXJlKCcuL2xvY2FsX3N0b3JhZ2UuanMnKTtcbmNvbnN0IHVybGhhc2ggPSByZXF1aXJlKCcuL3VybGhhc2guanMnKTtcbmNvbnN0IHsgY2FsbEVhY2gsIGlzUG93ZXJPZlR3bywgbmV4dEhpZ2hlc3RQb3dlck9mVHdvLCByaWR4IH0gPSByZXF1aXJlKCcuLi8uLi9jb21tb24vdXRpbC5qcycpO1xuXG5jb25zdCBURVhfVU5MT0FEX1RJTUUgPSA1ICogNjAgKiAxMDAwOyAvLyBmb3IgdGV4dHVyZXMgbG9hZGVkIChlYWNoIGZyYW1lKSB3aXRoIGF1dG9fdW5sb2FkOiB0cnVlXG5cbmV4cG9ydCBsZXQgdGV4dHVyZXMgPSB7fTtcbmV4cG9ydCBsZXQgbG9hZF9jb3VudCA9IDA7XG5sZXQgYW5pc28gPSA0O1xubGV0IG1heF9hbmlzbyA9IDA7XG5sZXQgYW5pc29fZW51bTtcblxubGV0IGRlZmF1bHRfZmlsdGVyX21pbjtcbmxldCBkZWZhdWx0X2ZpbHRlcl9tYWc7XG5cbmNvbnN0IGN1YmVfZmFjZXMgPSBbXG4gIHsgdGFyZ2V0OiAnVEVYVFVSRV9DVUJFX01BUF9ORUdBVElWRV9YJywgcG9zOiBbMCwxXSB9LFxuICB7IHRhcmdldDogJ1RFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWCcsIHBvczogWzAsMF0gfSxcbiAgeyB0YXJnZXQ6ICdURVhUVVJFX0NVQkVfTUFQX05FR0FUSVZFX1knLCBwb3M6IFsxLDBdIH0sXG4gIHsgdGFyZ2V0OiAnVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9ZJywgcG9zOiBbMSwxXSB9LFxuICB7IHRhcmdldDogJ1RFWFRVUkVfQ1VCRV9NQVBfTkVHQVRJVkVfWicsIHBvczogWzIsMF0gfSxcbiAgeyB0YXJnZXQ6ICdURVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1onLCBwb3M6IFsyLDFdIH0sXG5dO1xuXG5leHBvcnQgY29uc3QgZm9ybWF0ID0ge1xuICBSODogeyBjb3VudDogMSB9LFxuICBSR0I4OiB7IGNvdW50OiAzIH0sXG4gIFJHQkE4OiB7IGNvdW50OiA0IH0sXG59O1xuXG5leHBvcnQgZnVuY3Rpb24gZGVmYXVsdEZpbHRlcnMobWluLCBtYWcpIHtcbiAgZGVmYXVsdF9maWx0ZXJfbWluID0gbWluO1xuICBkZWZhdWx0X2ZpbHRlcl9tYWcgPSBtYWc7XG59XG5cbmxldCBib3VuZF91bml0ID0gbnVsbDtcbmxldCBib3VuZF90ZXggPSBbXTtcblxubGV0IGhhbmRsZV9sb2FkaW5nO1xubGV0IGhhbmRsZV9lcnJvcjtcblxubGV0IGZyYW1lX3RpbWVzdGFtcDtcblxuZnVuY3Rpb24gc2V0VW5pdCh1bml0KSB7XG4gIGlmICh1bml0ICE9PSBib3VuZF91bml0KSB7XG4gICAgZ2wuYWN0aXZlVGV4dHVyZShnbC5URVhUVVJFMCArIHVuaXQpO1xuICAgIGJvdW5kX3VuaXQgPSB1bml0O1xuICB9XG59XG5cbmZ1bmN0aW9uIGJpbmRIYW5kbGUodW5pdCwgdGFyZ2V0LCBoYW5kbGUpIHtcbiAgaWYgKGJvdW5kX3RleFt1bml0XSAhPT0gaGFuZGxlKSB7XG4gICAgc2V0VW5pdCh1bml0KTtcbiAgICBnbC5iaW5kVGV4dHVyZSh0YXJnZXQsIGhhbmRsZSk7XG4gICAgYm91bmRfdGV4W3VuaXRdID0gaGFuZGxlO1xuICB9XG59XG5cbmZ1bmN0aW9uIHVuYmluZEFsbCh0YXJnZXQpIHtcbiAgZm9yIChsZXQgdW5pdCA9IDA7IHVuaXQgPCBib3VuZF90ZXgubGVuZ3RoOyArK3VuaXQpIHtcbiAgICBzZXRVbml0KHVuaXQpO1xuICAgIGdsLmJpbmRUZXh0dXJlKHRhcmdldCwgdGFyZ2V0ID09PSBnbC5URVhUVVJFXzJEID8gaGFuZGxlX2xvYWRpbmcgOiBudWxsKTtcbiAgICBib3VuZF90ZXhbdW5pdF0gPSBudWxsO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBiaW5kKHVuaXQsIHRleCkge1xuICB0ZXgubGFzdF91c2UgPSBmcmFtZV90aW1lc3RhbXA7XG4gIC8vIE1heSBvciBtYXkgbm90IGNoYW5nZSB0aGUgdW5pdFxuICBiaW5kSGFuZGxlKHVuaXQsIHRleC50YXJnZXQsIHRleC5lZmZfaGFuZGxlKTtcbn1cblxuLy8gaG90IHBhdGggaW5saW5lZCBmb3IgcGVyZlxuZXhwb3J0IGZ1bmN0aW9uIGJpbmRBcnJheSh0ZXhzKSB7XG4gIGZvciAobGV0IGlpID0gMDsgaWkgPCB0ZXhzLmxlbmd0aDsgKytpaSkge1xuICAgIGxldCB0ZXggPSB0ZXhzW2lpXTtcbiAgICB0ZXgubGFzdF91c2UgPSBmcmFtZV90aW1lc3RhbXA7XG4gICAgbGV0IGhhbmRsZSA9IHRleC5lZmZfaGFuZGxlO1xuICAgIGlmIChib3VuZF90ZXhbaWldICE9PSBoYW5kbGUpIHtcbiAgICAgIGlmIChpaSAhPT0gYm91bmRfdW5pdCkge1xuICAgICAgICBnbC5hY3RpdmVUZXh0dXJlKGdsLlRFWFRVUkUwICsgaWkpO1xuICAgICAgICBib3VuZF91bml0ID0gaWk7XG4gICAgICB9XG4gICAgICBnbC5iaW5kVGV4dHVyZSh0ZXgudGFyZ2V0LCBoYW5kbGUpO1xuICAgICAgYm91bmRfdGV4W2lpXSA9IGhhbmRsZTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzQXJyYXlCb3VuZCh0ZXhzKSB7XG4gIGZvciAobGV0IGlpID0gMDsgaWkgPCB0ZXhzLmxlbmd0aDsgKytpaSkge1xuICAgIGxldCB0ZXggPSB0ZXhzW2lpXTtcbiAgICBsZXQgaGFuZGxlID0gdGV4LmVmZl9oYW5kbGU7XG4gICAgaWYgKGJvdW5kX3RleFtpaV0gIT09IGhhbmRsZSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cblxubGV0IGF1dG9fdW5sb2FkX3RleHR1cmVzID0gW107XG5cbmZ1bmN0aW9uIFRleHR1cmUocGFyYW1zKSB7XG4gIHRoaXMubmFtZSA9IHBhcmFtcy5uYW1lO1xuICB0aGlzLmxvYWRlZCA9IGZhbHNlO1xuICB0aGlzLmxvYWRfZmFpbCA9IGZhbHNlO1xuICB0aGlzLnRhcmdldCA9IHBhcmFtcy50YXJnZXQgfHwgZ2wuVEVYVFVSRV8yRDtcbiAgdGhpcy5pc19hcnJheSA9IHRoaXMudGFyZ2V0ID09PSBnbC5URVhUVVJFXzJEX0FSUkFZO1xuICB0aGlzLmlzX2N1YmUgPSB0aGlzLnRhcmdldCA9PT0gZ2wuVEVYVFVSRV9DVUJFX01BUDtcbiAgdGhpcy5oYW5kbGUgPSBnbC5jcmVhdGVUZXh0dXJlKCk7XG4gIHRoaXMuZWZmX2hhbmRsZSA9IGhhbmRsZV9sb2FkaW5nO1xuICB0aGlzLnNldFNhbXBsZXJTdGF0ZShwYXJhbXMpO1xuICB0aGlzLnNyY193aWR0aCA9IHRoaXMuc3JjX2hlaWdodCA9IDE7XG4gIHRoaXMud2lkdGggPSB0aGlzLmhlaWdodCA9IDE7XG4gIHRoaXMubm96b29tID0gcGFyYW1zLm5vem9vbSB8fCBmYWxzZTtcbiAgdGhpcy5vbl9sb2FkID0gW107XG4gIHRoaXMuZ3B1X21lbSA9IDA7XG4gIHRoaXMuc29mdF9lcnJvciA9IHBhcmFtcy5zb2Z0X2Vycm9yIHx8IGZhbHNlO1xuICB0aGlzLmxhc3RfdXNlID0gZnJhbWVfdGltZXN0YW1wO1xuICB0aGlzLmF1dG9fdW5sb2FkID0gcGFyYW1zLmF1dG9fdW5sb2FkIHx8IGZhbHNlO1xuICBpZiAodGhpcy5hdXRvX3VubG9hZCkge1xuICAgIGF1dG9fdW5sb2FkX3RleHR1cmVzLnB1c2godGhpcyk7XG4gIH1cblxuICB0aGlzLmZvcm1hdCA9IHBhcmFtcy5mb3JtYXQgfHwgZm9ybWF0LlJHQkE4O1xuXG4gIGlmIChwYXJhbXMuZGF0YSkge1xuICAgIGxldCBlcnIgPSB0aGlzLnVwZGF0ZURhdGEocGFyYW1zLndpZHRoLCBwYXJhbXMuaGVpZ2h0LCBwYXJhbXMuZGF0YSk7XG4gICAgYXNzZXJ0KCFlcnIsIGVycik7XG4gIH0gZWxzZSB7XG4gICAgLy8gdGV4dHVyZSBpcyBub3QgdmFsaWQsIGRvIG5vdCBsZWF2ZSBib3VuZFxuICAgIHVuYmluZEFsbCh0aGlzLnRhcmdldCk7XG4gICAgaWYgKHBhcmFtcy51cmwpIHtcbiAgICAgIHRoaXMudXJsID0gcGFyYW1zLnVybDtcbiAgICAgIHRoaXMubG9hZFVSTChwYXJhbXMudXJsKTtcbiAgICB9XG4gIH1cbn1cblxuVGV4dHVyZS5wcm90b3R5cGUudXBkYXRlR1BVTWVtID0gZnVuY3Rpb24gKCkge1xuICBsZXQgbmV3X3NpemUgPSB0aGlzLndpZHRoICogdGhpcy5oZWlnaHQgKiB0aGlzLmZvcm1hdC5jb3VudDtcbiAgaWYgKHRoaXMubWlwbWFwcykge1xuICAgIG5ld19zaXplICo9IDEuNTtcbiAgfVxuICBsZXQgZGlmZiA9IG5ld19zaXplIC0gdGhpcy5ncHVfbWVtO1xuICBlbmdpbmUucGVyZl9zdGF0ZS5ncHVfbWVtLnRleCArPSBkaWZmO1xuICB0aGlzLmdwdV9tZW0gPSBkaWZmO1xufTtcblxuVGV4dHVyZS5wcm90b3R5cGUuc2V0U2FtcGxlclN0YXRlID0gZnVuY3Rpb24gKHBhcmFtcykge1xuICBsZXQgdGFyZ2V0ID0gdGhpcy50YXJnZXQ7XG4gIHNldFVuaXQoMCk7XG4gIGJvdW5kX3RleFswXSA9IG51bGw7IC8vIEZvcmNlIGEgcmUtYmluZCwgbm8gbWF0dGVyIHdoYXRcbiAgYmluZEhhbmRsZSgwLCB0YXJnZXQsIHRoaXMuaGFuZGxlKTtcblxuICB0aGlzLmZpbHRlcl9taW4gPSBwYXJhbXMuZmlsdGVyX21pbiB8fCBkZWZhdWx0X2ZpbHRlcl9taW47XG4gIHRoaXMuZmlsdGVyX21hZyA9IHBhcmFtcy5maWx0ZXJfbWFnIHx8IGRlZmF1bHRfZmlsdGVyX21hZztcbiAgZ2wudGV4UGFyYW1ldGVyaSh0YXJnZXQsIGdsLlRFWFRVUkVfTUlOX0ZJTFRFUiwgdGhpcy5maWx0ZXJfbWluKTtcbiAgZ2wudGV4UGFyYW1ldGVyaSh0YXJnZXQsIGdsLlRFWFRVUkVfTUFHX0ZJTFRFUiwgdGhpcy5maWx0ZXJfbWFnKTtcbiAgdGhpcy53cmFwX3MgPSBwYXJhbXMud3JhcF9zIHx8IGdsLlJFUEVBVDtcbiAgdGhpcy53cmFwX3QgPSBwYXJhbXMud3JhcF90IHx8IGdsLlJFUEVBVDtcbiAgZ2wudGV4UGFyYW1ldGVyaSh0YXJnZXQsIGdsLlRFWFRVUkVfV1JBUF9TLCB0aGlzLndyYXBfcyk7XG4gIGdsLnRleFBhcmFtZXRlcmkodGFyZ2V0LCBnbC5URVhUVVJFX1dSQVBfVCwgdGhpcy53cmFwX3QpO1xuXG4gIHRoaXMubWlwbWFwcyA9IHRoaXMuZmlsdGVyX21pbiA+PSAweDI3MDAgJiYgdGhpcy5maWx0ZXJfbWluIDw9IDB4MjcwMzsgLy8gUHJvYmFibHkgZ2wuTElORUFSX01JUE1BUF9MSU5FQVJcblxuICBpZiAobWF4X2FuaXNvKSB7XG4gICAgaWYgKHRoaXMubWlwbWFwcyAmJiBwYXJhbXMuZmlsdGVyX21hZyAhPT0gZ2wuTkVBUkVTVCkge1xuICAgICAgZ2wudGV4UGFyYW1ldGVyZihnbC5URVhUVVJFXzJELCBhbmlzb19lbnVtLCBhbmlzbyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGdsLnRleFBhcmFtZXRlcmYoZ2wuVEVYVFVSRV8yRCwgYW5pc29fZW51bSwgMSk7XG4gICAgfVxuICB9XG59O1xuXG5UZXh0dXJlLnByb3RvdHlwZS51cGRhdGVEYXRhID0gZnVuY3Rpb24gdXBkYXRlRGF0YSh3LCBoLCBkYXRhKSB7XG4gIGFzc2VydCghdGhpcy5kZXN0cm95ZWQpO1xuICBzZXRVbml0KDApO1xuICBib3VuZF90ZXhbMF0gPSBudWxsOyAvLyBGb3JjZSBhIHJlLWJpbmQsIG5vIG1hdHRlciB3aGF0XG4gIGJpbmRIYW5kbGUoMCwgdGhpcy50YXJnZXQsIHRoaXMuaGFuZGxlKTtcbiAgdGhpcy5sYXN0X3VzZSA9IGZyYW1lX3RpbWVzdGFtcDtcbiAgdGhpcy5zcmNfd2lkdGggPSB3O1xuICB0aGlzLnNyY19oZWlnaHQgPSBoO1xuICB0aGlzLndpZHRoID0gdztcbiAgdGhpcy5oZWlnaHQgPSBoO1xuICBnbC5nZXRFcnJvcigpOyAvLyBjbGVhciB0aGUgZXJyb3IgZmxhZyBpZiB0aGVyZSBpcyBvbmVcbiAgLy8gUmVzaXplIE5QMiBpZiB0aGlzIGlzIG5vdCBiZWluZyB1c2VkIGZvciBhIHRleHR1cmUgYXJyYXksIGFuZCBpdCBpcyBub3QgZXhwbGljaXRseSBhbGxvd2VkIChub24tbWlwbWFwcGVkLCB3cmFwcGVkKVxuICBsZXQgbnAyID0gKCFpc1Bvd2VyT2ZUd28odykgfHwgIWlzUG93ZXJPZlR3byhoKSkgJiYgIXRoaXMuaXNfYXJyYXkgJiYgIXRoaXMuaXNfY3ViZSAmJlxuICAgICEoIXRoaXMubWlwbWFwcyAmJiB0aGlzLndyYXBfcyA9PT0gZ2wuQ0xBTVBfVE9fRURHRSAmJiB0aGlzLndyYXBfdCA9PT0gZ2wuQ0xBTVBfVE9fRURHRSk7XG4gIGlmIChucDIpIHtcbiAgICB0aGlzLndpZHRoID0gbmV4dEhpZ2hlc3RQb3dlck9mVHdvKHcpO1xuICAgIHRoaXMuaGVpZ2h0ID0gbmV4dEhpZ2hlc3RQb3dlck9mVHdvKGgpO1xuICAgIGdsLnRleEltYWdlMkQodGhpcy50YXJnZXQsIDAsIHRoaXMuZm9ybWF0LmludGVybmFsX3R5cGUsIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0LCAwLFxuICAgICAgdGhpcy5mb3JtYXQuaW50ZXJuYWxfdHlwZSwgdGhpcy5mb3JtYXQuZ2xfdHlwZSwgbnVsbCk7XG4gIH1cbiAgaWYgKGRhdGEgaW5zdGFuY2VvZiBVaW50OEFycmF5KSB7XG4gICAgYXNzZXJ0KGRhdGEubGVuZ3RoID49IHcgKiBoICogdGhpcy5mb3JtYXQuY291bnQpO1xuICAgIGFzc2VydCghdGhpcy5pc19jdWJlKTtcbiAgICBpZiAodGhpcy5pc19hcnJheSkge1xuICAgICAgbGV0IG51bV9pbWFnZXMgPSBoIC8gdzsgLy8gYXNzdW1lIHNxdWFyZVxuICAgICAgZ2wudGV4SW1hZ2UzRCh0aGlzLnRhcmdldCwgMCwgdGhpcy5mb3JtYXQuaW50ZXJuYWxfdHlwZSwgdywgdyxcbiAgICAgICAgbnVtX2ltYWdlcywgMCwgdGhpcy5mb3JtYXQuaW50ZXJuYWxfdHlwZSwgdGhpcy5mb3JtYXQuZ2xfdHlwZSwgZGF0YSk7XG4gICAgfSBlbHNlIGlmIChucDIpIHtcbiAgICAgIC8vIENvdWxkIGRvIG11bHRpcGxlIHVwbG9hZCB0aGluZyBsaWtlIGJlbG93LCBidXQgc21hcnRlciwgYnV0IHdlIHJlYWxseSBzaG91bGRuJ3QgYmUgZG9pbmcgdGhpcyBmb3JcbiAgICAgIC8vIGluLXByb2Nlc3MgZ2VuZXJhdGVkIGltYWdlcyFcbiAgICAgIGdsLnRleFN1YkltYWdlMkQodGhpcy50YXJnZXQsIDAsIDAsIDAsIHcsIGgsIHRoaXMuZm9ybWF0LmludGVybmFsX3R5cGUsIHRoaXMuZm9ybWF0LmdsX3R5cGUsIGRhdGEpO1xuICAgIH0gZWxzZSB7XG4gICAgICBnbC50ZXhJbWFnZTJEKHRoaXMudGFyZ2V0LCAwLCB0aGlzLmZvcm1hdC5pbnRlcm5hbF90eXBlLCB3LCBoLCAwLFxuICAgICAgICB0aGlzLmZvcm1hdC5pbnRlcm5hbF90eXBlLCB0aGlzLmZvcm1hdC5nbF90eXBlLCBkYXRhKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgYXNzZXJ0KGRhdGEud2lkdGgpOyAvLyBpbnN0YW5jZW9mIEltYWdlIGZhaWxzIHdpdGggdWJsb2NrIEFkQmxvY2tlcjsgYWxzbywgdGhpcyBpcyBlaXRoZXIgYW4gSW1hZ2Ugb3IgQ2FudmFzXG4gICAgaWYgKHRoaXMuaXNfY3ViZSkge1xuICAgICAgYXNzZXJ0LmVxdWFsKHcgKiAyLCBoICogMyk7XG4gICAgICBsZXQgdGV4X3NpemUgPSBoIC8gMjtcbiAgICAgIGxldCBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICAgIGNhbnZhcy53aWR0aCA9IHRleF9zaXplO1xuICAgICAgY2FudmFzLmhlaWdodCA9IHRleF9zaXplO1xuICAgICAgbGV0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IGN1YmVfZmFjZXMubGVuZ3RoOyArK2lpKSB7XG4gICAgICAgIGxldCBmYWNlID0gY3ViZV9mYWNlc1tpaV07XG4gICAgICAgIGN0eC5kcmF3SW1hZ2UoZGF0YSwgZmFjZS5wb3NbMF0gKiB0ZXhfc2l6ZSwgZmFjZS5wb3NbMV0gKiB0ZXhfc2l6ZSwgdGV4X3NpemUsIHRleF9zaXplLFxuICAgICAgICAgIDAsIDAsIHRleF9zaXplLCB0ZXhfc2l6ZSk7XG4gICAgICAgIGdsLnRleEltYWdlMkQoZ2xbZmFjZS50YXJnZXRdLCAwLCB0aGlzLmZvcm1hdC5pbnRlcm5hbF90eXBlLCB0aGlzLmZvcm1hdC5pbnRlcm5hbF90eXBlLCB0aGlzLmZvcm1hdC5nbF90eXBlLFxuICAgICAgICAgIGNhbnZhcyk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh0aGlzLmlzX2FycmF5KSB7XG4gICAgICBsZXQgbnVtX2ltYWdlcyA9IGggLyB3O1xuICAgICAgZ2wudGV4SW1hZ2UzRCh0aGlzLnRhcmdldCwgMCwgdGhpcy5mb3JtYXQuaW50ZXJuYWxfdHlwZSwgdywgdyxcbiAgICAgICAgbnVtX2ltYWdlcywgMCwgdGhpcy5mb3JtYXQuaW50ZXJuYWxfdHlwZSwgdGhpcy5mb3JtYXQuZ2xfdHlwZSwgZGF0YSk7XG5cbiAgICAgIGlmIChnbC5nZXRFcnJvcigpKSB7XG4gICAgICAgIC8vIEZpeCBmb3IgU2Ftc3VuZyBkZXZpY2VzIChDaHJpcydzIGFuZCBHYWxheHkgUzggb24gQ3Jvc3NCcm93c2VyVGVzdGluZylcbiAgICAgICAgLy8gQWxzbyBmaXhlcyBsb2NhbGx5IG9uIENocm9tZSB3aGVuIHVzaW5nIGEgOEsgc291cmNlIHRleHR1cmUgKHdhcyA4OTZ4NTczNDQpLFxuICAgICAgICAvLyAgcGVyaGFwcyBzb21lIGF1dG8tc2NhbGluZyBpcyBnb2luZyBvbiBpbiB0aGUgZ2wudGV4SW1hZ2UzRCBjYWxsIGlmIHJlcXVpcmVkP1xuICAgICAgICAvLyBUcnkgZHJhd2luZyB0byBjYW52YXMgZmlyc3RcbiAgICAgICAgbGV0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgICAgICBjYW52YXMud2lkdGggPSB3O1xuICAgICAgICBjYW52YXMuaGVpZ2h0ID0gaDtcbiAgICAgICAgbGV0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgICBjdHguZHJhd0ltYWdlKGRhdGEsIDAsIDApO1xuICAgICAgICBnbC50ZXhJbWFnZTNEKHRoaXMudGFyZ2V0LCAwLCB0aGlzLmZvcm1hdC5pbnRlcm5hbF90eXBlLCB3LCB3LFxuICAgICAgICAgIG51bV9pbWFnZXMsIDAsIHRoaXMuZm9ybWF0LmludGVybmFsX3R5cGUsIHRoaXMuZm9ybWF0LmdsX3R5cGUsIGNhbnZhcyk7XG4gICAgICB9XG5cbiAgICB9IGVsc2UgaWYgKG5wMikge1xuICAgICAgLy8gUGFkIHVwIHRvIHBvd2VyIG9mIHR3b1xuICAgICAgLy8gRHVwbGljYXRlIHJpZ2h0IGFuZCBib3R0b20gcGl4ZWwgcm93IGJ5IHNlbmRpbmcgaW1hZ2UgMyB0aW1lc1xuICAgICAgaWYgKHcgIT09IHRoaXMud2lkdGgpIHtcbiAgICAgICAgZ2wudGV4U3ViSW1hZ2UyRCh0aGlzLnRhcmdldCwgMCwgMSwgMCwgdGhpcy5mb3JtYXQuaW50ZXJuYWxfdHlwZSwgdGhpcy5mb3JtYXQuZ2xfdHlwZSwgZGF0YSk7XG4gICAgICB9XG4gICAgICBpZiAoaCAhPT0gdGhpcy5oZWlnaHQpIHtcbiAgICAgICAgZ2wudGV4U3ViSW1hZ2UyRCh0aGlzLnRhcmdldCwgMCwgMCwgMSwgdGhpcy5mb3JtYXQuaW50ZXJuYWxfdHlwZSwgdGhpcy5mb3JtYXQuZ2xfdHlwZSwgZGF0YSk7XG4gICAgICB9XG4gICAgICBnbC50ZXhTdWJJbWFnZTJEKHRoaXMudGFyZ2V0LCAwLCAwLCAwLCB0aGlzLmZvcm1hdC5pbnRlcm5hbF90eXBlLCB0aGlzLmZvcm1hdC5nbF90eXBlLCBkYXRhKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZ2wudGV4SW1hZ2UyRCh0aGlzLnRhcmdldCwgMCwgdGhpcy5mb3JtYXQuaW50ZXJuYWxfdHlwZSwgdGhpcy5mb3JtYXQuaW50ZXJuYWxfdHlwZSwgdGhpcy5mb3JtYXQuZ2xfdHlwZSwgZGF0YSk7XG4gICAgfVxuICB9XG4gIGxldCBnbF9lcnIgPSBnbC5nZXRFcnJvcigpO1xuICBpZiAoZ2xfZXJyKSB7XG4gICAgcmV0dXJuIGdsX2VycjtcbiAgfVxuICBpZiAodGhpcy5taXBtYXBzKSB7XG4gICAgZ2wuZ2VuZXJhdGVNaXBtYXAodGhpcy50YXJnZXQpO1xuICAgIGFzc2VydCghZ2wuZ2V0RXJyb3IoKSk7XG4gIH1cbiAgdGhpcy51cGRhdGVHUFVNZW0oKTtcbiAgdGhpcy5lZmZfaGFuZGxlID0gdGhpcy5oYW5kbGU7XG4gIHRoaXMubG9hZGVkID0gdHJ1ZTtcblxuICBjYWxsRWFjaCh0aGlzLm9uX2xvYWQsIHRoaXMub25fbG9hZCA9IG51bGwsIHRoaXMpO1xuXG4gIHJldHVybiAwO1xufTtcblxuVGV4dHVyZS5wcm90b3R5cGUub25Mb2FkID0gZnVuY3Rpb24gKGNiKSB7XG4gIGlmICh0aGlzLmxvYWRlZCkge1xuICAgIGNiKHRoaXMpO1xuICB9IGVsc2Uge1xuICAgIHRoaXMub25fbG9hZC5wdXNoKGNiKTtcbiAgfVxufTtcblxubGV0IHRleHR1cmVfYmFzZV91cmwgPSAnJztcbmV4cG9ydCBmdW5jdGlvbiBnZXRFeHRlcm5hbFRleHR1cmVVUkwodXJsKSB7XG4gIGlmICghdXJsLm1hdGNoKC9eLnsyLDd9Oi8pKSB7XG4gICAgdXJsID0gYCR7dGV4dHVyZV9iYXNlX3VybHx8dXJsaGFzaC5nZXRVUkxCYXNlKCl9JHt1cmx9YDtcbiAgfVxuICByZXR1cm4gdXJsO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHNldEV4dGVybmFsVGV4dHVyZUJhc2VVUkwoYmFzZV91cmwpIHtcbiAgdGV4dHVyZV9iYXNlX3VybCA9IGJhc2VfdXJsO1xufVxuXG5jb25zdCBURVhfUkVUUllfQ09VTlQgPSA0O1xuVGV4dHVyZS5wcm90b3R5cGUubG9hZFVSTCA9IGZ1bmN0aW9uIGxvYWRVUkwodXJsLCBmaWx0ZXIpIHtcbiAgbGV0IHRleCA9IHRoaXM7XG4gIGFzc2VydCghdGV4LmRlc3Ryb3llZCk7XG5cbiAgLy8gV2hlbiBvdXIgYnJvd3NlcidzIGxvY2F0aW9uIGhhcyBiZWVuIGNoYW5nZWQgZnJvbSAnc2l0ZS5jb20vZm9vLycgdG9cbiAgLy8gICdzaXRlLmNvbS9mb28vYmFyLzcnIG91ciByZWxhdGl2ZSBpbWFnZSBVUkxzIGFyZSBzdGlsbCByZWxhdGl2ZSB0byB0aGVcbiAgLy8gIGJhc2UuICBNYXliZSBzaG91bGQgc2V0IHNvbWUgbWV0YSB0YWcgdG8gZG8gdGhpcyBpbnN0ZWFkP1xuICBpZiAoIXVybC5tYXRjaCgvXi57Miw3fTovKSkge1xuICAgIHVybCA9IGAke3VybGhhc2guZ2V0VVJMQmFzZSgpfSR7dXJsfWA7XG4gIH1cblxuICBsZXQgbG9hZF9nZW4gPSB0ZXgubG9hZF9nZW4gPSAodGV4LmxvYWRfZ2VuIHx8IDApICsgMTtcbiAgZnVuY3Rpb24gdHJ5TG9hZChuZXh0KSB7XG4gICAgbGV0IGRpZF9uZXh0ID0gZmFsc2U7XG4gICAgZnVuY3Rpb24gZG9uZShpbWcpIHtcbiAgICAgIGlmICghZGlkX25leHQpIHtcbiAgICAgICAgZGlkX25leHQgPSB0cnVlO1xuICAgICAgICByZXR1cm4gdm9pZCBuZXh0KGltZyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgbGV0IGltZyA9IG5ldyBJbWFnZSgpO1xuICAgIGltZy5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBkb25lKGltZyk7XG4gICAgfTtcbiAgICBmdW5jdGlvbiBmYWlsKCkge1xuICAgICAgZG9uZShudWxsKTtcbiAgICB9XG4gICAgaW1nLm9uZXJyb3IgPSBmYWlsO1xuICAgIGltZy5jcm9zc09yaWdpbiA9ICdhbm9ueW1vdXMnO1xuICAgIGltZy5zcmMgPSB1cmw7XG4gIH1cblxuICArK2xvYWRfY291bnQ7XG4gIGxldCByZXRyaWVzID0gMDtcbiAgZnVuY3Rpb24gaGFuZGxlTG9hZChpbWcpIHtcbiAgICBpZiAodGV4LmxvYWRfZ2VuICE9PSBsb2FkX2dlbiB8fCB0ZXguZGVzdHJveWVkKSB7XG4gICAgICAvLyBzb21lb25lIGVsc2UgcmVxdWVzdGVkIHRoaXMgdGV4dHVyZSB0byBiZSBsb2FkZWQhICBPciwgaXQgd2FzIGFscmVhZHkgdW5sb2FkZWRcbiAgICAgIC0tbG9hZF9jb3VudDtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbGV0IGVycl9kZXRhaWxzID0gJyc7XG4gICAgaWYgKGltZykge1xuICAgICAgdGV4LmZvcm1hdCA9IGZvcm1hdC5SR0JBODtcbiAgICAgIGlmIChmaWx0ZXIpIHtcbiAgICAgICAgaW1nID0gZmlsdGVyKHRleCwgaW1nKTtcbiAgICAgIH1cbiAgICAgIGxldCBlcnIgPSB0ZXgudXBkYXRlRGF0YShpbWcud2lkdGgsIGltZy5oZWlnaHQsIGltZyk7XG4gICAgICBpZiAoZXJyKSB7XG4gICAgICAgIGVycl9kZXRhaWxzID0gYDogR0xFcnJvcigke2Vycn0pYDtcbiAgICAgICAgLy8gU2Ftc3VuZyBUViBnZXRzIDEyODIgb24gdGV4dHVyZSBhcnJheXNcbiAgICAgICAgLy8gU2Ftc3VuZyBHYWxheHkgUzYgZ2V0cyAxMjgxIG9uIHRleHR1cmUgYXJyYXlzXG4gICAgICAgIC8vIE5vdGU6IEFueSBmYWlsZWQgaW1hZ2UgbG9hZCAocGFydGlhbCByZWFkIG9mIGEgYmFkIHBuZywgZXRjKSBhbHNvIHJlc3VsdHMgaW4gMTI4MSFcbiAgICAgICAgaWYgKHRleC5pc19hcnJheSAmJiAoU3RyaW5nKGVycikgPT09ICcxMjgyJyB8fCBTdHJpbmcoZXJyKSA9PT0gJzEyODEnKSAmJiBlbmdpbmUud2ViZ2wyICYmICFlbmdpbmUuREVCVUcpIHtcbiAgICAgICAgICBsb2NhbF9zdG9yYWdlLnNldEpTT04oJ3dlYmdsMl9kaXNhYmxlJywge1xuICAgICAgICAgICAgdWE6IG5hdmlnYXRvci51c2VyQWdlbnQsXG4gICAgICAgICAgICB0czogRGF0ZS5ub3coKSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKGBFcnJvciBsb2FkaW5nIGFycmF5IHRleHR1cmUgXCIke3VybH1cIiR7ZXJyX2RldGFpbHN9LCByZWxvYWRpbmcgd2l0aG91dCBXZWJHTDIuLmApO1xuICAgICAgICAgIGVuZ2luZS5yZWxvYWRTYWZlKCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGV4LmZvcl9yZWxvYWQpIHtcbiAgICAgICAgICByZXRyaWVzID0gVEVYX1JFVFJZX0NPVU5UOyAvLyBkbyBub3QgcmV0cnkgdGhpc1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAtLWxvYWRfY291bnQ7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG4gICAgbGV0IGVyciA9IGBFcnJvciBsb2FkaW5nIHRleHR1cmUgXCIke3VybH1cIiR7ZXJyX2RldGFpbHN9YDtcbiAgICByZXRyaWVzKys7XG4gICAgaWYgKHJldHJpZXMgPiBURVhfUkVUUllfQ09VTlQpIHtcbiAgICAgIC0tbG9hZF9jb3VudDtcbiAgICAgIHRleC5lZmZfaGFuZGxlID0gaGFuZGxlX2Vycm9yO1xuICAgICAgdGV4LmxvYWRfZmFpbCA9IHRydWU7XG4gICAgICBjb25zb2xlLmVycm9yKGAke2Vycn0ke2Vycl9kZXRhaWxzID8gJycgOiAnLCByZXRyaWVzIGZhaWxlZCd9YCk7XG4gICAgICBpZiAodGV4LnNvZnRfZXJyb3IpIHtcbiAgICAgICAgdGV4LmVyciA9ICdMb2FkIGZhaWxlZCc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhc3NlcnQoZmFsc2UsIGVycik7XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnNvbGUuZXJyb3IoYCR7ZXJyfSwgcmV0cnlpbmcuLi4gYCk7XG4gICAgc2V0VGltZW91dCh0cnlMb2FkLmJpbmQobnVsbCwgaGFuZGxlTG9hZCksIDEwMCAqIHJldHJpZXMgKiByZXRyaWVzKTtcbiAgfVxuICB0cnlMb2FkKGhhbmRsZUxvYWQpO1xufTtcblxuVGV4dHVyZS5wcm90b3R5cGUuY29weVRleEltYWdlID0gZnVuY3Rpb24gKHgsIHksIHcsIGgpIHtcbiAgYXNzZXJ0KCF0aGlzLmRlc3Ryb3llZCk7XG4gIGFzc2VydCh3ICYmIGgpO1xuICBiaW5kSGFuZGxlKDAsIHRoaXMudGFyZ2V0LCB0aGlzLmhhbmRsZSk7XG4gIGdsLmNvcHlUZXhJbWFnZTJEKHRoaXMudGFyZ2V0LCAwLCBnbC5SR0IsIHgsIHksIHcsIGgsIDApO1xuICB0aGlzLmxhc3RfdXNlID0gZnJhbWVfdGltZXN0YW1wO1xuICB0aGlzLnNyY193aWR0aCA9IHRoaXMud2lkdGggPSB3O1xuICB0aGlzLnNyY19oZWlnaHQgPSB0aGlzLmhlaWdodCA9IGg7XG4gIHRoaXMudXBkYXRlR1BVTWVtKCk7XG59O1xuXG5UZXh0dXJlLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICBpZiAodGhpcy5kZXN0cm95ZWQpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgYXNzZXJ0KHRoaXMubmFtZSk7XG4gIGxldCBhdXRvX3VubG9hZCA9IHRoaXMuYXV0b191bmxvYWQ7XG4gIGlmIChhdXRvX3VubG9hZCkge1xuICAgIHRoaXMuYXV0b191bmxvYWQgPSBudWxsO1xuICAgIGxldCBpZHggPSBhdXRvX3VubG9hZF90ZXh0dXJlcy5pbmRleE9mKHRoaXMpO1xuICAgIGFzc2VydChpZHggIT09IC0xKTtcbiAgICByaWR4KGF1dG9fdW5sb2FkX3RleHR1cmVzLCBpZHgpO1xuICB9XG4gIGRlbGV0ZSB0ZXh0dXJlc1t0aGlzLm5hbWVdO1xuICB1bmJpbmRBbGwodGhpcy50YXJnZXQpO1xuICBnbC5kZWxldGVUZXh0dXJlKHRoaXMuaGFuZGxlKTtcbiAgdGhpcy53aWR0aCA9IHRoaXMuaGVpZ2h0ID0gMDtcbiAgdGhpcy51cGRhdGVHUFVNZW0oKTtcbiAgdGhpcy5kZXN0cm95ZWQgPSB0cnVlO1xuICBpZiAodHlwZW9mIGF1dG9fdW5sb2FkID09PSAnZnVuY3Rpb24nKSB7XG4gICAgYXV0b191bmxvYWQoKTtcbiAgfVxufTtcblxuZnVuY3Rpb24gY3JlYXRlKHBhcmFtcykge1xuICBhc3NlcnQocGFyYW1zLm5hbWUpO1xuICBsZXQgdGV4dHVyZSA9IG5ldyBUZXh0dXJlKHBhcmFtcyk7XG4gIHRleHR1cmVzW3BhcmFtcy5uYW1lXSA9IHRleHR1cmU7XG4gIHJldHVybiB0ZXh0dXJlO1xufVxuXG5sZXQgbGFzdF90ZW1wb3JhcnlfaWQgPSAwO1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUZvckNhcHR1cmUodW5pcXVlX25hbWUsIGF1dG9fdW5sb2FkKSB7XG4gIGxldCBuYW1lID0gdW5pcXVlX25hbWUgfHwgYHNjcmVlbl90ZW1wb3JhcnlfdGV4XyR7KytsYXN0X3RlbXBvcmFyeV9pZH1gO1xuICBhc3NlcnQoIXRleHR1cmVzW25hbWVdKTtcbiAgbGV0IHRleHR1cmUgPSBjcmVhdGUoe1xuICAgIGZpbHRlcl9taW46IGdsLk5FQVJFU1QsXG4gICAgZmlsdGVyX21hZzogZ2wuTkVBUkVTVCxcbiAgICB3cmFwX3M6IGdsLkNMQU1QX1RPX0VER0UsXG4gICAgd3JhcF90OiBnbC5DTEFNUF9UT19FREdFLFxuICAgIGZvcm1hdDogZm9ybWF0LlJHQjgsXG4gICAgbmFtZSxcbiAgICBhdXRvX3VubG9hZCxcbiAgfSk7XG4gIHRleHR1cmUubG9hZGVkID0gdHJ1ZTtcbiAgdGV4dHVyZS5lZmZfaGFuZGxlID0gdGV4dHVyZS5oYW5kbGU7XG4gIHJldHVybiB0ZXh0dXJlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbG9hZChwYXJhbXMpIHtcbiAgbGV0IGtleSA9IHBhcmFtcy5uYW1lID0gcGFyYW1zLm5hbWUgfHwgcGFyYW1zLnVybDtcbiAgYXNzZXJ0KGtleSk7XG4gIGxldCB0ZXggPSB0ZXh0dXJlc1trZXldO1xuICBpZiAoIXRleCkge1xuICAgIHRleCA9IGNyZWF0ZShwYXJhbXMpO1xuICB9XG4gIHRleC5sYXN0X3VzZSA9IGZyYW1lX3RpbWVzdGFtcDtcbiAgcmV0dXJuIHRleDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNuYW1lKGtleSkge1xuICBsZXQgaWR4ID0ga2V5Lmxhc3RJbmRleE9mKCcvJyk7XG4gIGlmIChpZHggIT09IC0xKSB7XG4gICAga2V5ID0ga2V5LnNsaWNlKGlkeCsxKTtcbiAgfVxuICBpZHggPSBrZXkuaW5kZXhPZignLicpO1xuICBpZiAoaWR4ICE9PSAtMSkge1xuICAgIGtleSA9IGtleS5zbGljZSgwLCBpZHgpO1xuICB9XG4gIHJldHVybiBrZXkudG9Mb3dlckNhc2UoKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBmaW5kVGV4Rm9yUmVwbGFjZW1lbnQoc2VhcmNoX2tleSkge1xuICBzZWFyY2hfa2V5ID0gY25hbWUoc2VhcmNoX2tleSk7XG4gIGZvciAobGV0IGtleSBpbiB0ZXh0dXJlcykge1xuICAgIGxldCBjb21wYXJlX2tleSA9IGNuYW1lKGtleSk7XG4gICAgaWYgKGNvbXBhcmVfa2V5ID09PSBzZWFyY2hfa2V5KSB7XG4gICAgICByZXR1cm4gdGV4dHVyZXNba2V5XTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5cbmxldCB0aWNrX25leHRfdGV4ID0gMDtcbmV4cG9ydCBmdW5jdGlvbiB0ZXh0dXJlc1RpY2soKSB7XG4gIGZyYW1lX3RpbWVzdGFtcCA9IGVuZ2luZS5mcmFtZV90aW1lc3RhbXA7XG4gIGxldCBsZW4gPSBhdXRvX3VubG9hZF90ZXh0dXJlcy5sZW5ndGg7XG4gIGlmICghbGVuKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmICh0aWNrX25leHRfdGV4ID49IGxlbikge1xuICAgIHRpY2tfbmV4dF90ZXggPSAwO1xuICB9XG4gIGxldCB0ZXggPSBhdXRvX3VubG9hZF90ZXh0dXJlc1t0aWNrX25leHRfdGV4XTtcbiAgaWYgKHRleC5sYXN0X3VzZSA8IGZyYW1lX3RpbWVzdGFtcCAtIFRFWF9VTkxPQURfVElNRSkge1xuICAgIGNvbnNvbGUubG9nKGBVbmxvYWRpbmcgdGV4dHVyZSAke3RleC5uYW1lfWApO1xuICAgIHRleC5kZXN0cm95KCk7XG4gIH0gZWxzZSB7XG4gICAgKyt0aWNrX25leHRfdGV4O1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0ZXh0dXJlc1VubG9hZER5bmFtaWMoKSB7XG4gIHdoaWxlIChhdXRvX3VubG9hZF90ZXh0dXJlcy5sZW5ndGgpIHtcbiAgICBhdXRvX3VubG9hZF90ZXh0dXJlc1swXS5kZXN0cm95KCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gdGV4dHVyZVJlbG9hZChmaWxlbmFtZSkge1xuICBsZXQgdGV4ID0gdGV4dHVyZXNbZmlsZW5hbWVdO1xuICBpZiAodGV4ICYmIHRleC51cmwpIHtcbiAgICB0ZXguZm9yX3JlbG9hZCA9IHRydWU7XG4gICAgdGV4LmxvYWRVUkwoYCR7dGV4LnVybH0/cmw9JHtEYXRlLm5vdygpfWApO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0dXAoKSB7XG5cbiAgZGVmYXVsdF9maWx0ZXJfbWluID0gZ2wuTElORUFSX01JUE1BUF9MSU5FQVI7XG4gIGRlZmF1bHRfZmlsdGVyX21hZyA9IGdsLkxJTkVBUjtcblxuICBmb3JtYXQuUjguaW50ZXJuYWxfdHlwZSA9IGdsLkxVTUlOQU5DRTtcbiAgZm9ybWF0LlI4LmdsX3R5cGUgPSBnbC5VTlNJR05FRF9CWVRFO1xuICBmb3JtYXQuUkdCOC5pbnRlcm5hbF90eXBlID0gZ2wuUkdCO1xuICBmb3JtYXQuUkdCOC5nbF90eXBlID0gZ2wuVU5TSUdORURfQllURTtcbiAgZm9ybWF0LlJHQkE4LmludGVybmFsX3R5cGUgPSBnbC5SR0JBO1xuICBmb3JtYXQuUkdCQTguZ2xfdHlwZSA9IGdsLlVOU0lHTkVEX0JZVEU7XG5cbiAgbGV0IGV4dF9hbmlzb3Ryb3BpYyA9IChcbiAgICBnbC5nZXRFeHRlbnNpb24oJ0VYVF90ZXh0dXJlX2ZpbHRlcl9hbmlzb3Ryb3BpYycpIHx8XG4gICAgZ2wuZ2V0RXh0ZW5zaW9uKCdNT1pfRVhUX3RleHR1cmVfZmlsdGVyX2FuaXNvdHJvcGljJykgfHxcbiAgICBnbC5nZXRFeHRlbnNpb24oJ1dFQktJVF9FWFRfdGV4dHVyZV9maWx0ZXJfYW5pc290cm9waWMnKVxuICApO1xuICBpZiAoZXh0X2FuaXNvdHJvcGljKSB7XG4gICAgYW5pc29fZW51bSA9IGV4dF9hbmlzb3Ryb3BpYy5URVhUVVJFX01BWF9BTklTT1RST1BZX0VYVDtcbiAgICBhbmlzbyA9IG1heF9hbmlzbyA9IGdsLmdldFBhcmFtZXRlcihleHRfYW5pc290cm9waWMuTUFYX1RFWFRVUkVfTUFYX0FOSVNPVFJPUFlfRVhUKTtcbiAgfVxuXG4gIGhhbmRsZV9lcnJvciA9IGxvYWQoe1xuICAgIG5hbWU6ICdlcnJvcicsXG4gICAgd2lkdGg6IDIsIGhlaWdodDogMixcbiAgICBub3pvb206IHRydWUsXG4gICAgZm9ybWF0OiBmb3JtYXQuUkdCQTgsXG4gICAgZmlsdGVyX21hZzogZ2wuTkVBUkVTVCxcbiAgICBkYXRhOiBuZXcgVWludDhBcnJheShbXG4gICAgICAyNTUsIDIwLCAxNDcsIDI1NSxcbiAgICAgIDI1NSwgMCwgMCwgMjU1LFxuICAgICAgMjU1LCAyNTUsIDI1NSwgMjU1LFxuICAgICAgMjU1LCAyMCwgMTQ3LCAyNTVcbiAgICBdKSxcbiAgfSkuaGFuZGxlO1xuXG4gIGhhbmRsZV9sb2FkaW5nID0gbG9hZCh7XG4gICAgbmFtZTogJ2xvYWRpbmcnLFxuICAgIHdpZHRoOiAyLCBoZWlnaHQ6IDIsXG4gICAgbm96b29tOiB0cnVlLFxuICAgIGZvcm1hdDogZm9ybWF0LlJHQkE4LFxuICAgIGRhdGE6IG5ldyBVaW50OEFycmF5KFtcbiAgICAgIDEyNywgMTI3LCAxMjcsIDI1NSxcbiAgICAgIDAsIDAsIDAsIDI1NSxcbiAgICAgIDY0LCA2NCwgNjQsIDI1NSxcbiAgICAgIDEyNywgMTI3LCAxMjcsIDI1NSxcbiAgICBdKSxcbiAgfSkuaGFuZGxlO1xuXG4gIGxvYWQoe1xuICAgIG5hbWU6ICd3aGl0ZScsXG4gICAgd2lkdGg6IDIsIGhlaWdodDogMixcbiAgICBub3pvb206IHRydWUsXG4gICAgZm9ybWF0OiBmb3JtYXQuUkdCQTgsXG4gICAgZGF0YTogbmV3IFVpbnQ4QXJyYXkoW1xuICAgICAgMjU1LCAyNTUsIDI1NSwgMjU1LFxuICAgICAgMjU1LCAyNTUsIDI1NSwgMjU1LFxuICAgICAgMjU1LCAyNTUsIDI1NSwgMjU1LFxuICAgICAgMjU1LCAyNTUsIDI1NSwgMjU1LFxuICAgIF0pLFxuICB9KTtcblxuICBsb2FkKHtcbiAgICBuYW1lOiAnaW52aXNpYmxlJyxcbiAgICB3aWR0aDogMiwgaGVpZ2h0OiAyLFxuICAgIG5vem9vbTogdHJ1ZSxcbiAgICBmb3JtYXQ6IGZvcm1hdC5SR0JBOCxcbiAgICBkYXRhOiBuZXcgVWludDhBcnJheShbXG4gICAgICAwLCAwLCAwLCAwLFxuICAgICAgMCwgMCwgMCwgMCxcbiAgICAgIDAsIDAsIDAsIDAsXG4gICAgICAwLCAwLCAwLCAwLFxuICAgIF0pLFxuICB9KTtcblxuICBmaWxld2F0Y2hPbignLnBuZycsIHRleHR1cmVSZWxvYWQpO1xufVxuIiwiLy8gUG9ydGlvbnMgQ29weXJpZ2h0IDIwMTkgSmltYiBFc3NlciAoaHR0cHM6Ly9naXRodWIuY29tL0ppbWJseS8pXG4vLyBSZWxlYXNlZCB1bmRlciBNSVQgTGljZW5zZTogaHR0cHM6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9NSVRcblxuY29uc3QgYXNzZXJ0ID0gcmVxdWlyZSgnYXNzZXJ0Jyk7XG5jb25zdCBjYW1lcmEyZCA9IHJlcXVpcmUoJy4vY2FtZXJhMmQuanMnKTtcbmNvbnN0IGdsb3ZfZW5naW5lID0gcmVxdWlyZSgnLi9lbmdpbmUuanMnKTtcbmNvbnN0IHsgZmxvb3IsIG1pbiwgcG93LCByYW5kb20gfSA9IE1hdGg7XG5jb25zdCBzcHJpdGVzID0gcmVxdWlyZSgnLi9zcHJpdGVzLmpzJyk7XG5jb25zdCBzaGFkZXJzID0gcmVxdWlyZSgnLi9zaGFkZXJzLmpzJyk7XG5jb25zdCB0ZXh0dXJlcyA9IHJlcXVpcmUoJy4vdGV4dHVyZXMuanMnKTtcbmNvbnN0IGdsb3ZfdWkgPSByZXF1aXJlKCcuL3VpLmpzJyk7XG5jb25zdCB7IGVhc2VPdXQgfSA9IHJlcXVpcmUoJy4uLy4uL2NvbW1vbi91dGlsLmpzJyk7XG5jb25zdCB7IHVuaXRfdmVjLCB2ZWM0IH0gPSByZXF1aXJlKCcuL3ZtYXRoLmpzJyk7XG5cbmxldCB0cmFuc2l0aW9ucyA9IFtdO1xuXG5leHBvcnQgY29uc3QgSU1NRURJQVRFID0gJ2ltbWVkaWF0ZSc7XG5cbmV4cG9ydCBjb25zdCBSRU1PVkUgPSAncmVtb3ZlJztcbmV4cG9ydCBjb25zdCBDT05USU5VRSA9ICdjb250aW51ZSc7XG5cbmNvbnN0IHNoYWRlcl9kYXRhID0ge1xuICB0cmFuc2l0aW9uX3BpeGVsYXRlOiB7XG4gICAgZnA6ICdnbG92L3NoYWRlcnMvdHJhbnNpdGlvbl9waXhlbGF0ZS5mcCcsXG4gIH0sXG59O1xuXG5mdW5jdGlvbiBnZXRTaGFkZXIoa2V5KSB7XG4gIGxldCBlbGVtID0gc2hhZGVyX2RhdGFba2V5XTtcbiAgaWYgKCFlbGVtLnNoYWRlcikge1xuICAgIGVsZW0uc2hhZGVyID0gc2hhZGVycy5jcmVhdGUoZWxlbS5mcCk7XG4gIH1cbiAgcmV0dXJuIGVsZW0uc2hhZGVyO1xufVxuXG5jbGFzcyBHbG92VHJhbnNpdGlvbiB7XG4gIGNvbnN0cnVjdG9yKHosIGZ1bmMpIHtcbiAgICB0aGlzLnogPSB6O1xuICAgIHRoaXMuY2FwdHVyZSA9IG51bGw7XG4gICAgdGhpcy5mdW5jID0gZnVuYztcbiAgICB0aGlzLmFjY3VtX3RpbWUgPSAwO1xuICB9XG59XG5cbmZ1bmN0aW9uIHRyYW5zaXRpb25DYXB0dXJlKHRyYW5zKSB7XG4gIGFzc2VydCghdHJhbnMuY2FwdHVyZSk7XG4gIHRyYW5zLmNhcHR1cmUgPSB0ZXh0dXJlcy5jcmVhdGVGb3JDYXB0dXJlKCk7XG4gIGdsb3ZfZW5naW5lLmNhcHR1cmVGcmFtZWJ1ZmZlcih0cmFucy5jYXB0dXJlKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHF1ZXVlKHosIGZuKSB7XG4gIGxldCBpbW1lZGlhdGUgPSBmYWxzZTtcbiAgaWYgKHogPT09IElNTUVESUFURSkge1xuICAgIGltbWVkaWF0ZSA9IHRydWU7XG4gICAgeiA9IFouVFJBTlNJVElPTl9GSU5BTDtcbiAgfVxuXG4gIGZvciAobGV0IGlpID0gMDsgaWkgPCB0cmFuc2l0aW9ucy5sZW5ndGg7ICsraWkpIHtcbiAgICBsZXQgdHJhbnMgPSB0cmFuc2l0aW9uc1tpaV07XG4gICAgaWYgKHRyYW5zLnogPT09IHopIHtcbiAgICAgIC8vIHNhbWUgWlxuICAgICAgYXNzZXJ0KHRyYW5zLmNhcHR1cmUpO1xuICAgICAgaWYgKCF0cmFucy5jYXB0dXJlKSB7XG4gICAgICAgIC8vIHR3byB0cmFuc2l0aW9ucyBhdCB0aGUgc2FtZSBaIG9uIG9uZSBmcmFtZSEgIGlnbm9yZSBzZWNvbmRcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBsZXQgdHJhbnMgPSBuZXcgR2xvdlRyYW5zaXRpb24oeiwgZm4pO1xuICB0cmFuc2l0aW9ucy5wdXNoKHRyYW5zKTtcblxuICBpZiAoaW1tZWRpYXRlKSB7XG4gICAgdHJhbnNpdGlvbkNhcHR1cmUodHJhbnMpO1xuICB9XG4gIHJldHVybiB0cnVlO1xufVxuXG5mdW5jdGlvbiBkZXN0cm95VGV4dHVyZSh0ZXgpIHtcbiAgdGV4LmRlc3Ryb3koKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlbmRlcihkdCkge1xuICBkdCA9IG1pbihkdCwgMTAwKTsgLy8gZGVidWc6IGNsYW1wIGZyYW1lIHRpbWVzXG4gIGZvciAobGV0IHRyYW5zX2lkeCA9IDA7IHRyYW5zX2lkeCA8IHRyYW5zaXRpb25zLmxlbmd0aDsgKyt0cmFuc19pZHgpIHtcbiAgICBsZXQgdHJhbnMgPSB0cmFuc2l0aW9uc1t0cmFuc19pZHhdO1xuICAgIHRyYW5zLmFjY3VtX3RpbWUgKz0gZHQ7XG4gICAgaWYgKCF0cmFucy5jYXB0dXJlKSB7XG4gICAgICAvLyBxdWV1ZSB1cCBhIGNhcHR1cmUgcGFzdCB0aGUgc3BlY2lmaWVkIFosIHNvIHRyYW5zaXRpb25zIHJlbmRlcmluZyBhdCB0aGF0IFogKHBsdXMgYSBoYW5kZnVsKSBnZXQgY2FwdHVyZWRcbiAgICAgIHNwcml0ZXMucXVldWVmbih0cmFucy56ICsgWi5UUkFOU0lUSU9OX1JBTkdFLCB0cmFuc2l0aW9uQ2FwdHVyZS5iaW5kKG51bGwsIHRyYW5zKSk7XG4gICAgfSBlbHNlIGlmICh0cmFucy5jYXB0dXJlKSB7XG4gICAgICAvLyBjYWxsIHRoZSBmdW5jdGlvbiBhbmQgZ2l2ZSB0aGVtIHRoZSBaXG4gICAgICAvLyBJZiBub3QgdGhlIGxhc3Qgb25lLCB3YW50IGl0IHRvIGVuZCBub3chXG4gICAgICBsZXQgZm9yY2VfZW5kID0gdHJhbnNfaWR4IDwgdHJhbnNpdGlvbnMubGVuZ3RoIC0gMTtcbiAgICAgIGxldCByZXQgPSB0cmFucy5mdW5jKHRyYW5zLnosIHRyYW5zLmNhcHR1cmUsIHRyYW5zLmFjY3VtX3RpbWUsIGZvcmNlX2VuZCk7XG4gICAgICBpZiAocmV0ID09PSBSRU1PVkUpIHtcbiAgICAgICAgc2V0VGltZW91dChkZXN0cm95VGV4dHVyZS5iaW5kKG51bGwsIHRyYW5zLmNhcHR1cmUpLCAwKTtcbiAgICAgICAgdHJhbnNpdGlvbnMuc3BsaWNlKHRyYW5zX2lkeCwgMSk7XG4gICAgICAgIHRyYW5zX2lkeC0tO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gYWN0aXZlKCkge1xuICByZXR1cm4gdHJhbnNpdGlvbnMubGVuZ3RoO1xufVxuXG5mdW5jdGlvbiBnbG92VHJhbnNpdGlvbkZhZGVGdW5jKGZhZGVfdGltZSwgeiwgaW5pdGlhbCwgbXNfc2luY2Vfc3RhcnQsIGZvcmNlX2VuZCkge1xuICBsZXQgcHJvZ3Jlc3MgPSBtaW4obXNfc2luY2Vfc3RhcnQgLyBmYWRlX3RpbWUsIDEpO1xuICBsZXQgYWxwaGEgPSAoMSAtIGVhc2VPdXQocHJvZ3Jlc3MsIDIpKTtcbiAgbGV0IGNvbG9yID0gdmVjNCgxLCAxLCAxLCBhbHBoYSk7XG4gIGNhbWVyYTJkLnNldE5vcm1hbGl6ZWQoKTtcbiAgc3ByaXRlcy5xdWV1ZXJhdzQoW2luaXRpYWxdLFxuICAgIDAsIDAsIDAsIDEsXG4gICAgMSwgMSwgMSwgMCxcbiAgICB6LFxuICAgIDAsIDEsIDEsIDAsXG4gICAgY29sb3IpO1xuXG4gIGlmIChmb3JjZV9lbmQgfHwgcHJvZ3Jlc3MgPT09IDEpIHtcbiAgICByZXR1cm4gUkVNT1ZFO1xuICB9XG4gIHJldHVybiBDT05USU5VRTtcbn1cblxuXG4vKlxuICAvLyBEb2Vzbid0IHdvcmsgYmVjYXVzZSB3ZSBuZWVkIG1vcmUgdGhhbiBqdXN0IDIgVVYgdmFsdWVzIGluIHRoZSBxdWV1ZSBjYWxsXG5mdW5jdGlvbiBnbG92VHJhbnNpdGlvbldpcGVGdW5jKHdpcGVfdGltZSwgd2lwZV9hbmdsZSwgeiwgdGV4LCBtc19zaW5jZV9zdGFydCwgZm9yY2VfZW5kKSB7XG4gIGxldCBwcm9ncmVzcyA9IG1pbihtc19zaW5jZV9zdGFydCAvIHdpcGVfdGltZSwgMSk7XG5cbiAgY2FtZXJhMmQuc2V0Tm9ybWFsaXplZCgpO1xuXG4gIGxldCB1dnMgPSBbWzAsMV0sIFsxLDBdXTtcblxuICBsZXQgcG9pbnRzID0gW3t9LCB7fSwge30sIHt9XTtcbiAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IDQ7IGlpKyspIHtcbiAgICBsZXQgeCA9IChpaSA9PT0gMSB8fCBpaSA9PT0gMikgPyAxIDogMDtcbiAgICBsZXQgeSA9IChpaSA+PSAyKSA/IDEgOiAwO1xuICAgIHBvaW50c1tpaV0ueCA9IHg7XG4gICAgcG9pbnRzW2lpXS55ID0geTtcbiAgfVxuXG4gIHdoaWxlICh3aXBlX2FuZ2xlID4gUEkpIHtcbiAgICB3aXBlX2FuZ2xlIC09ICgyICogUEkpO1xuICB9XG4gIHdoaWxlICh3aXBlX2FuZ2xlIDwgLVBJKSB7XG4gICAgd2lwZV9hbmdsZSArPSAoMiAqIFBJKTtcbiAgfVxuXG4gIC8vIFRPRE86IGlmIGFueW9uZSBldmVyIHVzZXMgdGhpcywgY2hhbmdlIDAgZGVncmVlcyB0byBiZSB1cCwgbm90IHJpZ2h0LCB0byBtYXRjaCBvdGhlciB0aGluZ3M/XG4gIGlmICh3aXBlX2FuZ2xlID49IC1QSV80ICYmIHdpcGVfYW5nbGUgPD0gUElfNCkge1xuICAgIC8vIGhvcml6b250YWwgd2lwZSBmcm9tIGxlZnQgdG8gcmlnaHRcbiAgICBsZXQgeDAgPSBwcm9ncmVzcyAqIDI7IC8vIHJpZ2h0bW9zdCB4XG4gICAgbGV0IHgxID0geDAgLSBzaW4oYWJzKHdpcGVfYW5nbGUpKSAvIFNRUlQxXzI7IC8vIGxlZnRtb3N0IHhcbiAgICBpZiAod2lwZV9hbmdsZSA8IDApIHtcbiAgICAgIHBvaW50c1swXS54ID0geDE7XG4gICAgICBwb2ludHNbM10ueCA9IHgwO1xuICAgIH0gZWxzZSB7XG4gICAgICBwb2ludHNbMF0ueCA9IHgwO1xuICAgICAgcG9pbnRzWzNdLnggPSB4MTtcbiAgICB9XG4gICAgcG9pbnRzWzFdLnggPSBwb2ludHNbMl0ueCA9IDI7XG4gIH0gZWxzZSBpZiAod2lwZV9hbmdsZSA+PSBQSV8yICsgUElfNCB8fCB3aXBlX2FuZ2xlIDw9IC1QSV8yIC0gUElfNCkge1xuICAgIC8vIGhvcml6b250YWwgd2lwZSBmcm9tIHJpZ2h0IHRvIGxlZnRcbiAgICBsZXQgeDAgPSAxIC0gcHJvZ3Jlc3MgKiAyOyAvLyBsZWZ0bW9zdCB4XG4gICAgbGV0IHgxID0geDAgKyBzaW4oYWJzKHdpcGVfYW5nbGUpKSAvIFNRUlQxXzI7IC8vIHJpZ2h0bW9zdCB4LFxuICAgIGlmICh3aXBlX2FuZ2xlIDwgMCkge1xuICAgICAgcG9pbnRzWzFdLnggPSB4MTtcbiAgICAgIHBvaW50c1syXS54ID0geDA7XG4gICAgfSBlbHNlIHtcbiAgICAgIHBvaW50c1sxXS54ID0geDA7XG4gICAgICBwb2ludHNbMl0ueCA9IHgxO1xuICAgIH1cbiAgICBwb2ludHNbMF0ueCA9IHBvaW50c1szXS54ID0gLTE7XG4gIH0gZWxzZSBpZiAod2lwZV9hbmdsZSA+IFBJXzQgJiYgd2lwZV9hbmdsZSA8PSBQSV8yICsgUElfNCkge1xuICAgIC8vIHZlcnRpY2FsIHdpcGUsIHRvcCB0byBib3R0b21cbiAgICBsZXQgeTAgPSBwcm9ncmVzcyAqIDI7IC8vIGJvdHRvbW1vc3QgeVxuICAgIGxldCBvZmZzID0gY29zKHdpcGVfYW5nbGUpIC8gU1FSVDFfMjtcbiAgICBsZXQgeTEgPSB5MCAtIGFicyhvZmZzKTsgLy8gdG9wbW9zdCB5LFxuICAgIGlmIChvZmZzID4gMCkge1xuICAgICAgcG9pbnRzWzBdLnkgPSB5MDtcbiAgICAgIHBvaW50c1sxXS55ID0geTE7XG4gICAgfSBlbHNlIHtcbiAgICAgIHBvaW50c1swXS55ID0geTE7XG4gICAgICBwb2ludHNbMV0ueSA9IHkwO1xuICAgIH1cbiAgICBwb2ludHNbMl0ueSA9IHBvaW50c1szXS55ID0gMjtcbiAgfSBlbHNlIHtcbiAgICAvLyB2ZXJ0aWNhbCB3aXBlLCBib3R0b20gdG8gdG9wXG4gICAgbGV0IHkwID0gMSAtIHByb2dyZXNzICogMjsgLy8gdG9wbW9zdCB5XG4gICAgbGV0IG9mZnMgPSBjb3Mod2lwZV9hbmdsZSkgLyBTUVJUMV8yO1xuICAgIGxldCB5MSA9IHkwICsgYWJzKG9mZnMpOyAvLyBib3R0b21tb3N0IHksXG4gICAgaWYgKG9mZnMgPiAwKSB7XG4gICAgICBwb2ludHNbMl0ueSA9IHkxO1xuICAgICAgcG9pbnRzWzNdLnkgPSB5MDtcbiAgICB9IGVsc2Uge1xuICAgICAgcG9pbnRzWzJdLnkgPSB5MDtcbiAgICAgIHBvaW50c1szXS55ID0geTE7XG4gICAgfVxuICAgIHBvaW50c1swXS55ID0gcG9pbnRzWzFdLnkgPSAtMTtcbiAgfVxuICAvLyBpbnRlcnAgVVZzIGJhc2VkIG9uIHBvaW50c1xuICBwb2ludHNbMF0udSA9IGxlcnAocG9pbnRzWzBdLngsIHV2c1swXVswXSwgdXZzWzFdWzBdKTtcbiAgcG9pbnRzWzFdLnUgPSBsZXJwKHBvaW50c1sxXS54LCB1dnNbMF1bMF0sIHV2c1sxXVswXSk7XG4gIHBvaW50c1syXS51ID0gbGVycChwb2ludHNbMl0ueCwgdXZzWzBdWzBdLCB1dnNbMV1bMF0pO1xuICBwb2ludHNbM10udSA9IGxlcnAocG9pbnRzWzNdLngsIHV2c1swXVswXSwgdXZzWzFdWzBdKTtcbiAgcG9pbnRzWzBdLnYgPSBsZXJwKHBvaW50c1swXS55LCB1dnNbMF1bMV0sIHV2c1sxXVsxXSk7XG4gIHBvaW50c1sxXS52ID0gbGVycChwb2ludHNbMV0ueSwgdXZzWzBdWzFdLCB1dnNbMV1bMV0pO1xuICBwb2ludHNbMl0udiA9IGxlcnAocG9pbnRzWzJdLnksIHV2c1swXVsxXSwgdXZzWzFdWzFdKTtcbiAgcG9pbnRzWzNdLnYgPSBsZXJwKHBvaW50c1szXS55LCB1dnNbMF1bMV0sIHV2c1sxXVsxXSk7XG5cbiAgc3ByaXRlcy5xdWV1ZXJhdzQoW3RleF0sXG4gICAgcG9pbnRzWzBdLngsIHBvaW50c1swXS55LCBwb2ludHNbM10ueCwgcG9pbnRzWzNdLnksXG4gICAgcG9pbnRzWzJdLngsIHBvaW50c1syXS55LCBwb2ludHNbMV0ueCwgcG9pbnRzWzFdLnksXG4gICAgeixcbiAgICBwb2ludHNbMF0udSwgcG9pbnRzWzBdLnYsIHBvaW50c1syXS51LCBwb2ludHNbMl0udixcbiAgICB1bml0X3ZlYywgJ2FscGhhX25lYXJlc3QnKTtcblxuICBpZiAoZm9yY2VfZW5kIHx8IHByb2dyZXNzID09PSAxKSB7XG4gICAgcmV0dXJuIFJFTU9WRTtcbiAgfVxuICByZXR1cm4gQ09OVElOVUU7XG59XG5cbiovXG5cbmZ1bmN0aW9uIGdsb3ZUcmFuc2l0aW9uU3BsaXRTY3JlZW5GdW5jKHRpbWUsIGJvcmRlcl93aWR0aCwgc2xpZGVfd2luZG93LCB6LCB0ZXgsIG1zX3NpbmNlX3N0YXJ0LCBmb3JjZV9lbmQpIHtcbiAgbGV0IGJvcmRlcl9jb2xvciA9IHZlYzQoMSwgMSwgMSwgMSk7XG4gIGxldCBwcm9ncmVzcyA9IGVhc2VPdXQobWluKG1zX3NpbmNlX3N0YXJ0IC8gdGltZSwgMSksIDIpO1xuICBjYW1lcmEyZC5zZXROb3JtYWxpemVkKCk7XG5cbiAgbGV0IHV2cyA9IFtbMCwxXSwgWzEsMF1dO1xuXG4gIGxldCB4b2ZmcyA9IHByb2dyZXNzO1xuICBsZXQgdl9oYWxmID0gdXZzWzBdWzFdICsgKHV2c1sxXVsxXSAtIHV2c1swXVsxXSkgLyAyO1xuICBpZiAoc2xpZGVfd2luZG93KSB7IC8vIHNsaWRlIHdpbmRvd1xuICAgIHNwcml0ZXMucXVldWVyYXcoW3RleF0sIDAsIDAsIHosIDEgLSB4b2ZmcywgMSAvIDIsXG4gICAgICAwLCB1dnNbMF1bMV0sIHV2c1sxXVswXSAqICgxIC0gcHJvZ3Jlc3MpLCB2X2hhbGYsXG4gICAgICB1bml0X3ZlYyk7XG4gICAgc3ByaXRlcy5xdWV1ZXJhdyhbdGV4XSwgMCArIHhvZmZzLCAxIC8gMiwgeiwgMSAtIHhvZmZzLCAxIC8gMixcbiAgICAgIHV2c1sxXVswXSAqIHByb2dyZXNzLCB2X2hhbGYsIHV2c1sxXVswXSwgdXZzWzFdWzFdLFxuICAgICAgdW5pdF92ZWMpO1xuICB9IGVsc2UgeyAvLyBzbGlkZSBpbWFnZVxuICAgIHNwcml0ZXMucXVldWVyYXcoW3RleF0sIDAgLSB4b2ZmcywgMCwgeiwgMSwgMSAvIDIsXG4gICAgICB1dnNbMF1bMF0sIHV2c1swXVsxXSwgdXZzWzFdWzBdLCB2X2hhbGYsXG4gICAgICB1bml0X3ZlYyk7XG4gICAgc3ByaXRlcy5xdWV1ZXJhdyhbdGV4XSwgMCArIHhvZmZzLCAxIC8gMiwgeiwgMSwgMSAvIDIsXG4gICAgICB1dnNbMF1bMF0sIHZfaGFsZiwgdXZzWzFdWzBdLCB1dnNbMV1bMV0sXG4gICAgICB1bml0X3ZlYyk7XG4gIH1cbiAgbGV0IGJvcmRlcl9ncm93X3Byb2dyZXNzID0gbWluKHByb2dyZXNzICogNCwgMSk7XG4gIGJvcmRlcl9jb2xvclszXSA9IGJvcmRlcl9ncm93X3Byb2dyZXNzO1xuICBib3JkZXJfd2lkdGggKj0gYm9yZGVyX2dyb3dfcHJvZ3Jlc3M7XG4gIC8vIFRPRE86IFdvdWxkIGxvb2sgYmV0dGVyIGlmIHRoZSBob3Jpem9udGFsIGJvcmRlciBncmV3IGZyb20gdGhlIG1pZGRsZSBvdXQsIHNvIHRoZSBvdmVybGFwcGluZyBiaXQgaXMgaWRlbnRpY2FsXG4gIC8vIG9uIGJvdGggc2lkZXNcbiAgZ2xvdl91aS5kcmF3UmVjdCgwLCAwLjUgLSBib3JkZXJfd2lkdGgsIDEgLSB4b2ZmcywgMC41LCB6ICsgMSwgYm9yZGVyX2NvbG9yKTtcbiAgZ2xvdl91aS5kcmF3UmVjdCgxIC0geG9mZnMgLSBib3JkZXJfd2lkdGgsIDAsIDEgLSB4b2ZmcywgMC41LCB6ICsgMSwgYm9yZGVyX2NvbG9yKTtcbiAgZ2xvdl91aS5kcmF3UmVjdCh4b2ZmcywgMC41LCAxLCAwLjUgKyBib3JkZXJfd2lkdGgsIHogKyAxLCBib3JkZXJfY29sb3IpO1xuICBnbG92X3VpLmRyYXdSZWN0KHhvZmZzLCAwLjUsIHhvZmZzICsgYm9yZGVyX3dpZHRoLCAxLCB6ICsgMSwgYm9yZGVyX2NvbG9yKTtcblxuICBpZiAoZm9yY2VfZW5kIHx8IHByb2dyZXNzID09PSAxKSB7XG4gICAgcmV0dXJuIFJFTU9WRTtcbiAgfVxuICByZXR1cm4gQ09OVElOVUU7XG59XG5cbmNvbnN0IHJlbmRlcl9zY2FsZSA9IDE7XG5sZXQgdHJhbnNpdGlvbl9waXhlbGF0ZV90ZXh0dXJlO1xuXG5mdW5jdGlvbiB0cmFuc2l0aW9uUGl4ZWxhdGVDYXB0dXJlKCkge1xuICBpZiAoIXRyYW5zaXRpb25fcGl4ZWxhdGVfdGV4dHVyZSkge1xuICAgIHRyYW5zaXRpb25fcGl4ZWxhdGVfdGV4dHVyZSA9IHRleHR1cmVzLmNyZWF0ZUZvckNhcHR1cmUoKTtcbiAgfVxuICBnbG92X2VuZ2luZS5jYXB0dXJlRnJhbWVidWZmZXIodHJhbnNpdGlvbl9waXhlbGF0ZV90ZXh0dXJlKTtcbn1cblxuZnVuY3Rpb24gZ2xvdlRyYW5zaXRpb25QaXhlbGF0ZUZ1bmModGltZSwgeiwgdGV4LCBtc19zaW5jZV9zdGFydCwgZm9yY2VfZW5kKSB7XG4gIC8vbXNfc2luY2Vfc3RhcnQgJT0gdGltZTtcbiAgLy9sZXQgdmlld3BvcnQgPSBnbG92X2VuZ2luZS5ncmFwaGljc19kZXZpY2UuZ2V0Vmlld3BvcnQoKTtcbiAgLy9sZXQgZ2Rfd2lkdGggPSB2aWV3cG9ydFsyXTtcbiAgbGV0IGdkX3dpZHRoID0gZ2xvdl9lbmdpbmUud2lkdGg7XG4gIGxldCBwcm9ncmVzcyA9IG1pbihtc19zaW5jZV9zdGFydCAvIHRpbWUsIDEpO1xuICBjYW1lcmEyZC5zZXROb3JtYWxpemVkKCk7XG5cbiAgaWYgKHByb2dyZXNzID4gMC41KSB7XG4gICAgc3ByaXRlcy5xdWV1ZWZuKHosIHRyYW5zaXRpb25QaXhlbGF0ZUNhcHR1cmUpO1xuICAgIGlmICh0cmFuc2l0aW9uX3BpeGVsYXRlX3RleHR1cmUpIHtcbiAgICAgIHRleCA9IHRyYW5zaXRpb25fcGl4ZWxhdGVfdGV4dHVyZTtcbiAgICB9XG4gIH1cblxuICBsZXQgcGFydGlhbF9wcm9ncmVzcyA9IChwcm9ncmVzcyA+IDAuNSA/IDEgLSBwcm9ncmVzcyA6IHByb2dyZXNzKSAqIDI7XG4gIC8vIFVzZSBwb3dlciBvZiB0d28gc2NhbGluZ3MsIGJ1dCB0aGVuIHNjYWxlIHJlbGF0aXZlIHRvIGEgMTAyNHB4IHZpcnR1YWwgc2NyZWVuLCBzbyB0aGUgYmlnZ2VzdFxuICAvLyAgcGl4ZWwgaXMgYWJvdXQgdGhlIHNhbWUgcGVyY2VudGFnZSBvZiB0aGUgc2NyZWVuIHJlZ2FyZGxlc3Mgb2YgcmVzb2x1dGlvbi5cbiAgbGV0IHBpeGVsX3NjYWxlID0gcG93KDIsIGZsb29yKHBhcnRpYWxfcHJvZ3Jlc3MgKiA4LjkpKSAvIDEwMjQgKiBnZF93aWR0aCAqIHJlbmRlcl9zY2FsZTtcblxuICBsZXQgcGFyYW0wID0gdmVjNCh0ZXgud2lkdGggLyBwaXhlbF9zY2FsZSwgdGV4LmhlaWdodCAvIHBpeGVsX3NjYWxlLFxuICAgIHBpeGVsX3NjYWxlIC8gdGV4LndpZHRoLCBwaXhlbF9zY2FsZSAvIHRleC5oZWlnaHQpO1xuICBsZXQgcGFyYW0xID0gdmVjNCgwLjUgLyB0ZXgud2lkdGgsIDAuNSAvIHRleC5oZWlnaHQsXG4gICAgKHRleC50ZXhTaXplWCAtIDEpIC8gdGV4LndpZHRoLCAodGV4LnRleFNpemVZIC0gMSkgLyB0ZXguaGVpZ2h0KTtcblxuXG4gIHNwcml0ZXMucXVldWVyYXcoW3RleF0sIDAsIDAsIHogKyAxLCAxLCAxLFxuICAgIDAsIDEsIDEsIDAsXG4gICAgdW5pdF92ZWMsIGdldFNoYWRlcigndHJhbnNpdGlvbl9waXhlbGF0ZScpLCB7XG4gICAgICBwYXJhbTAsXG4gICAgICBwYXJhbTEsXG4gICAgfSk7XG5cbiAgaWYgKGZvcmNlX2VuZCB8fCBwcm9ncmVzcyA9PT0gMSkge1xuICAgIGlmICh0cmFuc2l0aW9uX3BpeGVsYXRlX3RleHR1cmUpIHtcbiAgICAgIHNldFRpbWVvdXQoZGVzdHJveVRleHR1cmUuYmluZChudWxsLCB0cmFuc2l0aW9uX3BpeGVsYXRlX3RleHR1cmUpLCAwKTtcbiAgICB9XG4gICAgdHJhbnNpdGlvbl9waXhlbGF0ZV90ZXh0dXJlID0gbnVsbDtcbiAgICByZXR1cm4gUkVNT1ZFO1xuICB9XG4gIHJldHVybiBDT05USU5VRTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZhZGUoZmFkZV90aW1lKSB7XG4gIHJldHVybiBnbG92VHJhbnNpdGlvbkZhZGVGdW5jLmJpbmQobnVsbCwgZmFkZV90aW1lKTtcbn1cblxuLy8gZXhwb3J0IGZ1bmN0aW9uIHdpcGUod2lwZV90aW1lLCB3aXBlX2FuZ2xlKSB7XG4vLyAgIHJldHVybiBnbG92VHJhbnNpdGlvbldpcGVGdW5jLmJpbmQobnVsbCwgd2lwZV90aW1lLCB3aXBlX2FuZ2xlKTtcbi8vIH1cblxuLy8gYm9yZGVyX3dpZHRoIGluIGNhbWVyYS1yZWxhdGl2ZSBzaXplXG5leHBvcnQgZnVuY3Rpb24gc3BsaXRTY3JlZW4odGltZSwgYm9yZGVyX3dpZHRoLCBzbGlkZV93aW5kb3cpIHtcbiAgYm9yZGVyX3dpZHRoIC89IGNhbWVyYTJkLncoKTsgLy8gY29udmVydCB0byBub3JtYWxpemVkIHVuaXRzXG4gIHJldHVybiBnbG92VHJhbnNpdGlvblNwbGl0U2NyZWVuRnVuYy5iaW5kKG51bGwsIHRpbWUsIGJvcmRlcl93aWR0aCwgc2xpZGVfd2luZG93KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBpeGVsYXRlKGZhZGVfdGltZSkge1xuICByZXR1cm4gZ2xvdlRyYW5zaXRpb25QaXhlbGF0ZUZ1bmMuYmluZChudWxsLCBmYWRlX3RpbWUpO1xufVxuXG4vLyBleHBvcnQgZnVuY3Rpb24gbG9nb1pvb20odGltZSwgbG9nbykge1xuLy8gICByZXR1cm4gZ2xvdlRyYW5zaXRpb25Mb2dvWm9vbUZ1bmMuYmluZChudWxsLCB0aW1lLCBsb2dvKTtcbi8vIH1cblxuZXhwb3J0IGZ1bmN0aW9uIHJhbmRvbVRyYW5zaXRpb24oZmFkZV90aW1lX3NjYWxlKSB7XG4gIGZhZGVfdGltZV9zY2FsZSA9IGZhZGVfdGltZV9zY2FsZSB8fCAxO1xuICBsZXQgaWR4ID0gZmxvb3IocmFuZG9tKCkgKiAzKTtcbiAgc3dpdGNoIChpZHgpIHtcbiAgICBjYXNlIDA6XG4gICAgICByZXR1cm4gZmFkZSg1MDAgKiBmYWRlX3RpbWVfc2NhbGUpO1xuICAgIGNhc2UgMTpcbiAgICAgIHJldHVybiBzcGxpdFNjcmVlbigyNTAgKiBmYWRlX3RpbWVfc2NhbGUsIDIsIGZhbHNlKTtcbiAgICBjYXNlIDI6XG4gICAgICByZXR1cm4gcGl4ZWxhdGUoNzUwICogZmFkZV90aW1lX3NjYWxlKTtcbiAgICAvLyBjYXNlIDM6XG4gICAgLy8gICByZXR1cm4gd2lwZSgyNTAgKiBmYWRlX3RpbWVfc2NhbGUsIHJhbmRvbSgpICogMiAqIFBJKTtcbiAgICAvLyBjYXNlIDQ6XG4gICAgLy8gICBpZiAoIWxvZ28pIHtcbiAgICAvLyAgICAgR2xvdlRleHR1cmVMb2FkT3B0aW9ucyBvcHRpb25zO1xuICAgIC8vICAgICBvcHRpb25zLmNsYW1wX3MgPSBvcHRpb25zLmNsYW1wX3QgPSB0cnVlO1xuICAgIC8vICAgICBsb2dvID0gR2xvdlRleHR1cmVzOjpsb2FkdGV4KFwiZGF0YS9TYW1wbGVMb2dvVHJhbnNpdGlvbi5wbmdcIiwgJm9wdGlvbnMpO1xuICAgIC8vICAgfVxuICAgIC8vICAgZ2xvdlRyYW5zaXRpb25RdWV1ZShaX1RSQU5TSVRJT05fRklOQUwsIGdsb3ZUcmFuc2l0aW9uTG9nb1pvb20oNTAwLCBsb2dvKSk7XG4gICAgLy8gICBicmVhaztcbiAgICBkZWZhdWx0OlxuICAgICAgYXNzZXJ0KDApO1xuICB9XG4gIHJldHVybiBudWxsO1xufVxuIiwiLy8gUG9ydGlvbnMgQ29weXJpZ2h0IDIwMTkgSmltYiBFc3NlciAoaHR0cHM6Ly9naXRodWIuY29tL0ppbWJseS8pXG4vLyBSZWxlYXNlZCB1bmRlciBNSVQgTGljZW5zZTogaHR0cHM6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9NSVRcbi8qIGVzbGludCBuby11bmRlcnNjb3JlLWRhbmdsZTpvZmYgKi9cblxud2luZG93LlogPSB3aW5kb3cuWiB8fCB7fTtcblouQk9SREVSUyA9IFouQk9SREVSUyB8fCA5MDtcblouVUkgPSBaLlVJIHx8IDEwMDtcblouTU9EQUwgPSBaLk1PREFMIHx8IDEwMDA7XG5aLlRPT0xUSVAgPSBaLlRPT0xUSVAgfHwgMjAwMDtcblouREVCVUcgPSBaLkRFQlVHIHx8IDk4MDA7XG5cbi8vIHZlcnkgaGlnaCwgYnV0IGNhbiBzdGlsbCBhZGQgaW50ZWdlcnNcblouVFJBTlNJVElPTl9GSU5BTCA9IFouVFJBTlNJVElPTl9GSU5BTCB8fCA5OTAwO1xuLy8gaG93IG11Y2ggWiByYW5nZSBjYW4gYmUgdXNlZCBmb3IgcmVuZGVyaW5nIHRyYW5zaXRpb25zIC0gdGhlIGNhcHR1cmUgaGFwcGVucyBhdCB6ICsgWl9UUkFOU0lUSU9OX1JBTkdFXG5aLlRSQU5TSVRJT05fUkFOR0UgPSBaLlRSQU5TSVRJT05fUkFOR0UgfHwgMTA7XG5cblouRlBTTUVURVIgPSBaLkZQU01FVEVSIHx8IDEwMDAwO1xuXG5jb25zdCBhc3NlcnQgPSByZXF1aXJlKCdhc3NlcnQnKTtcbmNvbnN0IGNhbWVyYTJkID0gcmVxdWlyZSgnLi9jYW1lcmEyZC5qcycpO1xuY29uc3QgZ2xvdl9lZGl0X2JveCA9IHJlcXVpcmUoJy4vZWRpdF9ib3guanMnKTtcbmNvbnN0IGVmZmVjdHMgPSByZXF1aXJlKCcuL2VmZmVjdHMuanMnKTtcbmNvbnN0IGdsb3ZfZW5naW5lID0gcmVxdWlyZSgnLi9lbmdpbmUuanMnKTtcbmNvbnN0IGdsb3ZfZm9udCA9IHJlcXVpcmUoJy4vZm9udC5qcycpO1xuY29uc3QgZ2xvdl9pbnB1dCA9IHJlcXVpcmUoJy4vaW5wdXQuanMnKTtcbmNvbnN0IHsgbGlua1RpY2sgfSA9IHJlcXVpcmUoJy4vbGluay5qcycpO1xuY29uc3QgeyBhYnMsIG1heCwgbWluLCByb3VuZCwgc3FydCB9ID0gTWF0aDtcbmNvbnN0IHsgc291bmRMb2FkLCBzb3VuZFBsYXkgfSA9IHJlcXVpcmUoJy4vc291bmQuanMnKTtcbmNvbnN0IGdsb3Zfc3ByaXRlcyA9IHJlcXVpcmUoJy4vc3ByaXRlcy5qcycpO1xuY29uc3QgdGV4dHVyZXMgPSByZXF1aXJlKCcuL3RleHR1cmVzLmpzJyk7XG5jb25zdCB7IGNsYW1wLCBjbG9uZSwgbGVycCwgbWVyZ2UgfSA9IHJlcXVpcmUoJy4uLy4uL2NvbW1vbi91dGlsLmpzJyk7XG5jb25zdCB7IG1hdDQzLCBtNDNpZGVudGl0eSwgbTQzbXVsIH0gPSByZXF1aXJlKCcuL21hdDQzLmpzJyk7XG5jb25zdCB7IHZlYzIsIHZlYzQsIHY0c2NhbGUgfSA9IHJlcXVpcmUoJy4vdm1hdGguanMnKTtcblxuY29uc3QgTU9EQUxfREFSS0VOID0gMC43NTtcbmxldCBLRVlTO1xubGV0IFBBRDtcblxuY29uc3QgbWVudV9mYWRlX3BhcmFtc19kZWZhdWx0ID0ge1xuICBibHVyOiBbMC4xMjUsIDAuODY1XSxcbiAgc2F0dXJhdGlvbjogWzAuNSwgMC4xXSxcbiAgYnJpZ2h0bmVzczogWzEsIDEgLSBNT0RBTF9EQVJLRU5dLFxuICBmYWxsYmFja19kYXJrZW46IHZlYzQoMCwgMCwgMCwgTU9EQUxfREFSS0VOKSxcbiAgejogWi5NT0RBTCxcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBmb2N1c2xvZyguLi5hcmdzKSB7XG4gIC8vIGNvbnNvbGUubG9nKGBmb2N1c2xvZygke2dsb3ZfZW5naW5lLmZyYW1lX2luZGV4fSk6IGAsIC4uLmFyZ3MpO1xufVxuXG5sZXQgY29sb3Jfc2V0X3NoYWRlcyA9IHZlYzQoMSwgMC44LCAwLjcsIDAuNCk7XG5cbmV4cG9ydCBmdW5jdGlvbiBtYWtlQ29sb3JTZXQoY29sb3IpIHtcbiAgbGV0IHJldCA9IHtcbiAgICByZWd1bGFyOiB2ZWM0KCksXG4gICAgcm9sbG92ZXI6IHZlYzQoKSxcbiAgICBkb3duOiB2ZWM0KCksXG4gICAgZGlzYWJsZWQ6IHZlYzQoKSxcbiAgfTtcbiAgdjRzY2FsZShyZXQucmVndWxhciwgY29sb3IsIGNvbG9yX3NldF9zaGFkZXNbMF0pO1xuICB2NHNjYWxlKHJldC5yb2xsb3ZlciwgY29sb3IsIGNvbG9yX3NldF9zaGFkZXNbMV0pO1xuICB2NHNjYWxlKHJldC5kb3duLCBjb2xvciwgY29sb3Jfc2V0X3NoYWRlc1syXSk7XG4gIHY0c2NhbGUocmV0LmRpc2FibGVkLCBjb2xvciwgY29sb3Jfc2V0X3NoYWRlc1szXSk7XG4gIGZvciAobGV0IGZpZWxkIGluIHJldCkge1xuICAgIHJldFtmaWVsZF1bM10gPSBjb2xvclszXTtcbiAgfVxuICByZXR1cm4gcmV0O1xufVxuXG5mdW5jdGlvbiBkb0JsdXJFZmZlY3QoZmFjdG9yLCBwYXJhbXMpIHtcbiAgZmFjdG9yID0gbGVycChmYWN0b3IsIHBhcmFtcy5ibHVyWzBdLCBwYXJhbXMuYmx1clsxXSk7XG4gIGlmIChmYWN0b3IpIHtcbiAgICBlZmZlY3RzLmFwcGx5R2F1c3NpYW5CbHVyKHtcbiAgICAgIHNvdXJjZTogZ2xvdl9lbmdpbmUuY2FwdHVyZUZyYW1lYnVmZmVyKCksXG4gICAgICBibHVyOiBmYWN0b3IsXG4gICAgICAvLyBtaW5fc2l6ZTogMTI4LFxuICAgIH0pO1xuICB9XG59XG5cbmxldCBkZXNhdHVyYXRlX3hmb3JtID0gbWF0NDMoKTtcbmxldCBkZXNhdHVyYXRlX3RtcCA9IG1hdDQzKCk7XG5mdW5jdGlvbiBkb0Rlc2F0dXJhdGVFZmZlY3QoZmFjdG9yLCBwYXJhbXMpIHtcbiAgbGV0IHNhdHVyYXRpb24gPSBsZXJwKGZhY3RvciwgcGFyYW1zLnNhdHVyYXRpb25bMF0sIHBhcmFtcy5zYXR1cmF0aW9uWzFdKTtcbiAgbGV0IGJyaWdodG5lc3MgPSBsZXJwKGZhY3RvciwgcGFyYW1zLmJyaWdodG5lc3NbMF0sIHBhcmFtcy5icmlnaHRuZXNzWzFdKTtcbiAgaWYgKHNhdHVyYXRpb24gPT09IDEgJiYgYnJpZ2h0bmVzcyA9PT0gMSkge1xuICAgIHJldHVybjtcbiAgfVxuICBtNDNpZGVudGl0eShkZXNhdHVyYXRlX3hmb3JtKTtcblxuICBlZmZlY3RzLnNhdHVyYXRpb25NYXRyaXgoZGVzYXR1cmF0ZV90bXAsIHNhdHVyYXRpb24pO1xuICBtNDNtdWwoZGVzYXR1cmF0ZV94Zm9ybSwgZGVzYXR1cmF0ZV94Zm9ybSwgZGVzYXR1cmF0ZV90bXApO1xuXG4gIGVmZmVjdHMuYnJpZ2h0bmVzc1NjYWxlTWF0cml4KGRlc2F0dXJhdGVfdG1wLCBicmlnaHRuZXNzKTtcbiAgbTQzbXVsKGRlc2F0dXJhdGVfeGZvcm0sIGRlc2F0dXJhdGVfeGZvcm0sIGRlc2F0dXJhdGVfdG1wKTtcblxuICAvLyBpZiAoKGh1ZSAlIChNYXRoLlBJICogMikpICE9PSAwKSB7XG4gIC8vICAgZWZmZWN0cy5odWVNYXRyaXgodG1wLCBodWUpO1xuICAvLyAgIG00M211bCh4Zm9ybSwgeGZvcm0sIHRtcCk7XG4gIC8vIH1cbiAgLy8gaWYgKGNvbnRyYXN0ICE9PSAxKSB7XG4gIC8vICAgZWZmZWN0cy5jb250cmFzdE1hdHJpeCh0bXAsIGNvbnRyYXN0KTtcbiAgLy8gICBtNDNtdWwoeGZvcm0sIHhmb3JtLCB0bXApO1xuICAvLyB9XG4gIC8vIGlmIChicmlnaHRuZXNzICE9PSAwKSB7XG4gIC8vICAgZWZmZWN0cy5icmlnaHRuZXNzTWF0cml4KHRtcCwgYnJpZ2h0bmVzcyk7XG4gIC8vICAgbTQzbXVsKHhmb3JtLCB4Zm9ybSwgdG1wKTtcbiAgLy8gfVxuICAvLyBpZiAoYWRkaXRpdmVSR0JbMF0gIT09IDAgfHwgYWRkaXRpdmVSR0JbMV0gIT09IDAgfHwgYWRkaXRpdmVSR0JbMl0gIT09IDApIHtcbiAgLy8gICBlZmZlY3RzLmFkZGl0aXZlTWF0cml4KHRtcCwgYWRkaXRpdmVSR0IpO1xuICAvLyAgIG00M211bCh4Zm9ybSwgeGZvcm0sIHRtcCk7XG4gIC8vIH1cbiAgLy8gaWYgKGdyYXlzY2FsZSkge1xuICAvLyAgIGVmZmVjdHMuZ3JheVNjYWxlTWF0cml4KHRtcCk7XG4gIC8vICAgbTQzbXVsKHhmb3JtLCB4Zm9ybSwgdG1wKTtcbiAgLy8gfVxuICAvLyBpZiAobmVnYXRpdmUpIHtcbiAgLy8gICBlZmZlY3RzLm5lZ2F0aXZlTWF0cml4KHRtcCk7XG4gIC8vICAgbTQzbXVsKHhmb3JtLCB4Zm9ybSwgdG1wKTtcbiAgLy8gfVxuICAvLyBpZiAoc2VwaWEpIHtcbiAgLy8gICBlZmZlY3RzLnNlcGlhTWF0cml4KHRtcCk7XG4gIC8vICAgbTQzbXVsKHhmb3JtLCB4Zm9ybSwgdG1wKTtcbiAgLy8gfVxuICBlZmZlY3RzLmFwcGx5Q29sb3JNYXRyaXgoe1xuICAgIGNvbG9yTWF0cml4OiBkZXNhdHVyYXRlX3hmb3JtLFxuICAgIHNvdXJjZTogZ2xvdl9lbmdpbmUuY2FwdHVyZUZyYW1lYnVmZmVyKCksXG4gIH0pO1xufVxuXG4vLyBvdmVycmlkZWFibGUgZGVmYXVsdCBwYXJhbWV0ZXJzXG5leHBvcnQgbGV0IGJ1dHRvbl9oZWlnaHQgPSAzMjtcbmV4cG9ydCBsZXQgZm9udF9oZWlnaHQgPSAyNDtcbmV4cG9ydCBsZXQgYnV0dG9uX3dpZHRoID0gMjAwO1xuZXhwb3J0IGxldCBtb2RhbF9idXR0b25fd2lkdGggPSAxMDA7XG5leHBvcnQgbGV0IGJ1dHRvbl9pbWdfc2l6ZSA9IGJ1dHRvbl9oZWlnaHQ7XG5leHBvcnQgbGV0IG1vZGFsX3dpZHRoID0gNjAwO1xuZXhwb3J0IGxldCBtb2RhbF95MCA9IDIwMDtcbmV4cG9ydCBsZXQgbW9kYWxfdGl0bGVfc2NhbGUgPSAxLjI7XG5leHBvcnQgbGV0IG1vZGFsX3BhZCA9IDE2O1xuZXhwb3J0IGxldCBwYW5lbF9waXhlbF9zY2FsZSA9IDMyIC8gMTM7IC8vIGJ1dHRvbl9oZWlnaHQgLyBidXR0b24gcGl4ZWwgcmVzb2x1dGlvblxuZXhwb3J0IGxldCB0b29sdGlwX3BhbmVsX3BpeGVsX3NjYWxlID0gcGFuZWxfcGl4ZWxfc2NhbGU7XG5leHBvcnQgbGV0IHRvb2x0aXBfd2lkdGggPSA0MDA7XG5leHBvcnQgbGV0IHRvb2x0aXBfcGFkID0gODtcblxuZXhwb3J0IGxldCBmb250X3N0eWxlX2ZvY3VzZWQgPSBnbG92X2ZvbnQuc3R5bGUobnVsbCwge1xuICBjb2xvcjogMHgwMDAwMDBmZixcbiAgb3V0bGluZV93aWR0aDogMixcbiAgb3V0bGluZV9jb2xvcjogMHhGRkZGRkZmZixcbn0pO1xuZXhwb3J0IGxldCBmb250X3N0eWxlX25vcm1hbCA9IGdsb3ZfZm9udC5zdHlsZUNvbG9yZWQobnVsbCwgMHgwMDAwMDBmZik7XG5cbmV4cG9ydCBsZXQgZm9udDtcbmV4cG9ydCBsZXQgc3ByaXRlcyA9IHt9O1xuXG5leHBvcnQgbGV0IGNvbG9yX2J1dHRvbiA9IG1ha2VDb2xvclNldChbMSwxLDEsMV0pO1xuZXhwb3J0IGxldCBjb2xvcl9wYW5lbCA9IHZlYzQoMSwgMSwgMC43NSwgMSk7XG5leHBvcnQgbGV0IG1vZGFsX2ZvbnRfc3R5bGUgPSBnbG92X2ZvbnQuc3R5bGVDb2xvcmVkKG51bGwsIDB4MDAwMDAwZmYpO1xuXG5sZXQgc291bmRzID0ge307XG5leHBvcnQgbGV0IGJ1dHRvbl9tb3VzZW92ZXIgPSBmYWxzZTsgLy8gZm9yIGNhbGxlcnMgdG8gcG9sbCB0aGUgdmVyeSBsYXN0IGJ1dHRvblxuZXhwb3J0IGxldCBidXR0b25fZm9jdXNlZCA9IGZhbHNlOyAvLyBmb3IgY2FsbGVycyB0byBwb2xsIHRoZSB2ZXJ5IGxhc3QgYnV0dG9uXG5leHBvcnQgbGV0IGJ1dHRvbl9jbGljayA9IG51bGw7IC8vIG9uIGNsaWNrLCBmb3IgY2FsbGVycyB0byBwb2xsIHdoaWNoIG1vdXNlIGJ1dHRvbiwgZXRjXG5leHBvcnQgbGV0IHRvdWNoX2NoYW5nZWRfZm9jdXMgPSBmYWxzZTsgLy8gZGlkIGEgdG91Y2ggZXZlbiB0aGlzIGZyYW1lIGNoYW5nZSBmb2N1cz9cbi8vIEZvciB0cmFja2luZyBnbG9iYWwgbW91c2VvdmVyIHN0YXRlXG5sZXQgbGFzdF9mcmFtZV9idXR0b25fbW91c2VvdmVyID0gZmFsc2U7XG5sZXQgZnJhbWVfYnV0dG9uX21vdXNlb3ZlciA9IGZhbHNlO1xuXG5sZXQgbW9kYWxfZGlhbG9nID0gbnVsbDtcbmxldCBtb2RhbF9zdGVhbGluZ19mb2N1cyA9IGZhbHNlO1xuZXhwb3J0IGxldCBtZW51X3VwID0gZmFsc2U7IC8vIEJvb2xlYW4gdG8gYmUgc2V0IGJ5IGFwcCB0byBpbXBhY3QgYmVoYXZpb3IsIHNpbWlsYXIgdG8gYSBtb2RhbFxubGV0IG1lbnVfZmFkZV9wYXJhbXMgPSBtZXJnZSh7fSwgbWVudV9mYWRlX3BhcmFtc19kZWZhdWx0KTtcbmxldCBtZW51X3VwX3RpbWUgPSAwO1xuXG5leHBvcnRzLnRoaXNfZnJhbWVfZWRpdF9ib3hlcyA9IFtdO1xubGV0IGxhc3RfZnJhbWVfZWRpdF9ib3hlcyA9IFtdO1xubGV0IGRvbV9lbGVtcyA9IFtdO1xubGV0IGRvbV9lbGVtc19pc3N1ZWQgPSAwO1xuXG4vLyBmb3IgbW9kYWwgZGlhbG9nc1xubGV0IGJ1dHRvbl9rZXlzO1xuXG5sZXQgZm9jdXNlZF9sYXN0X2ZyYW1lO1xubGV0IGZvY3VzZWRfdGhpc19mcmFtZTtcbmxldCBmb2N1c2VkX2tleV9ub3Q7XG5sZXQgZm9jdXNlZF9rZXk7XG5sZXQgZm9jdXNlZF9rZXlfcHJldjE7XG5sZXQgZm9jdXNlZF9rZXlfcHJldjI7XG5cbmxldCBwYWRfZm9jdXNfbGVmdDtcbmxldCBwYWRfZm9jdXNfcmlnaHQ7XG5cbmV4cG9ydCBmdW5jdGlvbiBjb2xvclNldFNldFNoYWRlcyhyb2xsb3ZlciwgZG93biwgZGlzYWJsZWQpIHtcbiAgY29sb3Jfc2V0X3NoYWRlc1sxXSA9IHJvbGxvdmVyO1xuICBjb2xvcl9zZXRfc2hhZGVzWzJdID0gZG93bjtcbiAgY29sb3Jfc2V0X3NoYWRlc1szXSA9IGRpc2FibGVkO1xuICBjb2xvcl9idXR0b24gPSBtYWtlQ29sb3JTZXQoWzEsMSwxLDFdKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGxvYWRVSVNwcml0ZShuYW1lLCB3cywgaHMsIG92ZXJyaWRlcywgb25seV9vdmVycmlkZSkge1xuICBsZXQgb3ZlcnJpZGUgPSBvdmVycmlkZXMgJiYgb3ZlcnJpZGVzW25hbWVdO1xuICBpZiAob3ZlcnJpZGUgPT09IG51bGwpIHtcbiAgICAvLyBza2lwIGl0LCBhc3N1bWUgbm90IHVzZWRcbiAgfSBlbHNlIGlmIChvdmVycmlkZSkge1xuICAgIHNwcml0ZXNbbmFtZV0gPSBnbG92X3Nwcml0ZXMuY3JlYXRlKHtcbiAgICAgIG5hbWU6IG92ZXJyaWRlWzBdLFxuICAgICAgd3M6IG92ZXJyaWRlWzFdLFxuICAgICAgaHM6IG92ZXJyaWRlWzJdLFxuICAgIH0pO1xuICB9IGVsc2UgaWYgKCFvbmx5X292ZXJyaWRlKSB7XG4gICAgc3ByaXRlc1tuYW1lXSA9IGdsb3Zfc3ByaXRlcy5jcmVhdGUoe1xuICAgICAgbmFtZTogYHVpLyR7bmFtZX1gLFxuICAgICAgd3MsXG4gICAgICBocyxcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc3RhcnR1cChwYXJhbSkge1xuICBmb250ID0gcGFyYW0uZm9udDtcbiAgbGV0IG92ZXJyaWRlcyA9IHBhcmFtLnVpX3Nwcml0ZXM7XG4gIEtFWVMgPSBnbG92X2lucHV0LktFWVM7XG4gIFBBRCA9IGdsb3ZfaW5wdXQuUEFEO1xuICBpZiAocGFyYW0ucGFkX2ZvY3VzX2RwYWQpIHtcbiAgICBwYWRfZm9jdXNfbGVmdCA9IFBBRC5MRUZUO1xuICAgIHBhZF9mb2N1c19yaWdodCA9IFBBRC5SSUdIVDtcbiAgfSBlbHNlIHtcbiAgICBwYWRfZm9jdXNfbGVmdCA9IFBBRC5MRUZUX0JVTVBFUjtcbiAgICBwYWRfZm9jdXNfcmlnaHQgPSBQQUQuUklHSFRfQlVNUEVSO1xuICB9XG5cbiAgbG9hZFVJU3ByaXRlKCdidXR0b24nLCBbNCwgNSwgNF0sIFsxM10sIG92ZXJyaWRlcyk7XG4gIHNwcml0ZXMuYnV0dG9uX3JlZ3VsYXIgPSBzcHJpdGVzLmJ1dHRvbjtcbiAgbG9hZFVJU3ByaXRlKCdidXR0b25fcm9sbG92ZXInLCBbNCwgNSwgNF0sIFsxM10sIG92ZXJyaWRlcywgdHJ1ZSk7XG4gIGxvYWRVSVNwcml0ZSgnYnV0dG9uX2Rvd24nLCBbNCwgNSwgNF0sIFsxM10sIG92ZXJyaWRlcyk7XG4gIGxvYWRVSVNwcml0ZSgnYnV0dG9uX2Rpc2FibGVkJywgWzQsIDUsIDRdLCBbMTNdLCBvdmVycmlkZXMpO1xuICBsb2FkVUlTcHJpdGUoJ3BhbmVsJywgWzMsIDIsIDNdLCBbMywgMTAsIDNdLCBvdmVycmlkZXMpO1xuICBsb2FkVUlTcHJpdGUoJ21lbnVfZW50cnknLCBbNCwgNSwgNF0sIFsxM10sIG92ZXJyaWRlcyk7XG4gIGxvYWRVSVNwcml0ZSgnbWVudV9zZWxlY3RlZCcsIFs0LCA1LCA0XSwgWzEzXSwgb3ZlcnJpZGVzKTtcbiAgbG9hZFVJU3ByaXRlKCdtZW51X2Rvd24nLCBbNCwgNSwgNF0sIFsxM10sIG92ZXJyaWRlcyk7XG4gIGxvYWRVSVNwcml0ZSgnbWVudV9oZWFkZXInLCBbNCwgNSwgMTJdLCBbMTNdLCBvdmVycmlkZXMpO1xuICBsb2FkVUlTcHJpdGUoJ3NsaWRlcicsIFs2LCAyLCA2XSwgWzEzXSwgb3ZlcnJpZGVzKTtcbiAgLy8gbG9hZFVJU3ByaXRlKCdzbGlkZXJfbm90Y2gnLCBbM10sIFsxM10sIG92ZXJyaWRlcyk7XG4gIGxvYWRVSVNwcml0ZSgnc2xpZGVyX2hhbmRsZScsIFs5XSwgWzEzXSwgb3ZlcnJpZGVzKTtcblxuICBsb2FkVUlTcHJpdGUoJ3Njcm9sbGJhcl9ib3R0b20nLCBbMTFdLCBbMTNdLCBvdmVycmlkZXMpO1xuICBsb2FkVUlTcHJpdGUoJ3Njcm9sbGJhcl90cm91Z2gnLCBbMTFdLCBbOF0sIG92ZXJyaWRlcyk7XG4gIGxvYWRVSVNwcml0ZSgnc2Nyb2xsYmFyX3RvcCcsIFsxMV0sIFsxM10sIG92ZXJyaWRlcyk7XG4gIGxvYWRVSVNwcml0ZSgnc2Nyb2xsYmFyX2hhbmRsZV9ncmFiYmVyJywgWzExXSwgWzEzXSwgb3ZlcnJpZGVzKTtcbiAgbG9hZFVJU3ByaXRlKCdzY3JvbGxiYXJfaGFuZGxlJywgWzExXSwgWzMsIDcsIDNdLCBvdmVycmlkZXMpO1xuXG4gIHNwcml0ZXMud2hpdGUgPSBnbG92X3Nwcml0ZXMuY3JlYXRlKHsgdXJsOiAnd2hpdGUnIH0pO1xuXG4gIGJ1dHRvbl9rZXlzID0ge1xuICAgIG9rOiB7IGtleTogW0tFWVMuT10sIHBhZDogW1BBRC5YXSwgbG93X2tleTogW0tFWVMuRVNDXSB9LFxuICAgIGNhbmNlbDogeyBrZXk6IFtLRVlTLkVTQ10sIHBhZDogW1BBRC5CLCBQQUQuWV0gfSxcbiAgfTtcbiAgYnV0dG9uX2tleXMueWVzID0gY2xvbmUoYnV0dG9uX2tleXMub2spO1xuICBidXR0b25fa2V5cy55ZXMua2V5LnB1c2goS0VZUy5ZKTtcbiAgYnV0dG9uX2tleXMubm8gPSBjbG9uZShidXR0b25fa2V5cy5jYW5jZWwpO1xuICBidXR0b25fa2V5cy5uby5rZXkucHVzaChLRVlTLk4pO1xufVxuXG5sZXQgZHluYW1pY190ZXh0X2VsZW07XG5sZXQgcGVyX2ZyYW1lX2RvbV9hbGxvYyA9IFswLDAsMCwwLDAsMCwwXTtcbmV4cG9ydCBmdW5jdGlvbiBnZXRFbGVtKGFsbG93X21vZGFsLCBsYXN0X2VsZW0pIHtcbiAgaWYgKG1vZGFsX2RpYWxvZyAmJiAhYWxsb3dfbW9kYWwpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBpZiAoZG9tX2VsZW1zX2lzc3VlZCA+PSBkb21fZWxlbXMubGVuZ3RoIHx8ICFsYXN0X2VsZW0pIHtcbiAgICBsZXQgZWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGlmIChnbG92X2VuZ2luZS5ERUJVRyAmJiAhZ2xvdl9lbmdpbmUucmVzaXppbmcoKSkge1xuICAgICAgcGVyX2ZyYW1lX2RvbV9hbGxvY1tnbG92X2VuZ2luZS5mcmFtZV9pbmRleCAlIHBlcl9mcmFtZV9kb21fYWxsb2MubGVuZ3RoXSA9IDE7XG4gICAgICBsZXQgc3VtID0gMDtcbiAgICAgIGZvciAobGV0IGlpID0gMDsgaWkgPCBwZXJfZnJhbWVfZG9tX2FsbG9jLmxlbmd0aDsgKytpaSkge1xuICAgICAgICBzdW0gKz0gcGVyX2ZyYW1lX2RvbV9hbGxvY1tpaV07XG4gICAgICB9XG4gICAgICBhc3NlcnQoc3VtIDwgcGVyX2ZyYW1lX2RvbV9hbGxvYy5sZW5ndGgpO1xuICAgIH1cbiAgICBlbGVtLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnZ2xvdnVpX2R5bmFtaWMnKTtcbiAgICBpZiAoIWR5bmFtaWNfdGV4dF9lbGVtKSB7XG4gICAgICBkeW5hbWljX3RleHRfZWxlbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkeW5hbWljX3RleHQnKTtcbiAgICB9XG4gICAgZHluYW1pY190ZXh0X2VsZW0uYXBwZW5kQ2hpbGQoZWxlbSk7XG4gICAgZG9tX2VsZW1zLnB1c2goZWxlbSk7XG4gICAgbGFzdF9lbGVtID0gZWxlbTtcbiAgfVxuICBpZiAoZG9tX2VsZW1zW2RvbV9lbGVtc19pc3N1ZWRdICE9PSBsYXN0X2VsZW0pIHtcbiAgICBmb3IgKGxldCBpaSA9IGRvbV9lbGVtc19pc3N1ZWQgKyAxOyBpaSA8IGRvbV9lbGVtcy5sZW5ndGg7ICsraWkpIHtcbiAgICAgIGlmIChkb21fZWxlbXNbaWldID09PSBsYXN0X2VsZW0pIHtcbiAgICAgICAgZG9tX2VsZW1zW2lpXSA9IGRvbV9lbGVtc1tkb21fZWxlbXNfaXNzdWVkXTtcbiAgICAgICAgZG9tX2VsZW1zW2RvbV9lbGVtc19pc3N1ZWRdID0gbGFzdF9lbGVtO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBsZXQgZWxlbSA9IGRvbV9lbGVtc1tkb21fZWxlbXNfaXNzdWVkXTtcbiAgZG9tX2VsZW1zX2lzc3VlZCsrO1xuICByZXR1cm4gZWxlbTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGJpbmRTb3VuZHMoX3NvdW5kcykge1xuICBzb3VuZHMgPSBfc291bmRzO1xuICBmb3IgKGxldCBrZXkgaW4gc291bmRzKSB7XG4gICAgc291bmRMb2FkKHNvdW5kc1trZXldKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZHJhd0hCb3goY29vcmRzLCBzLCBjb2xvcikge1xuICBsZXQgdWlkYXRhID0gcy51aWRhdGE7XG4gIGxldCB3cyA9IFt1aWRhdGEud2hbMF0gKiBjb29yZHMuaCwgMCwgdWlkYXRhLndoWzJdICogY29vcmRzLmhdO1xuICBsZXQgeCA9IGNvb3Jkcy54O1xuICB3c1sxXSA9IG1heCgwLCBjb29yZHMudyAtIHdzWzBdIC0gd3NbMl0pO1xuICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgd3MubGVuZ3RoOyArK2lpKSB7XG4gICAgbGV0IG15X3cgPSB3c1tpaV07XG4gICAgcy5kcmF3KHtcbiAgICAgIHgsXG4gICAgICB5OiBjb29yZHMueSxcbiAgICAgIHo6IGNvb3Jkcy56LFxuICAgICAgY29sb3IsXG4gICAgICB3OiBteV93LFxuICAgICAgaDogY29vcmRzLmgsXG4gICAgICB1dnM6IHVpZGF0YS5yZWN0c1tpaV0sXG4gICAgICAvLyBub3pvb206IHRydWUsIC8vIG5vem9vbSBzaW5jZSBkaWZmZXJlbnQgcGFydHMgb2YgdGhlIGJveCBnZXQgem9vbWVkIGRpZmZlcmVudGx5XG4gICAgfSk7XG4gICAgeCArPSBteV93O1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkcmF3VkJveChjb29yZHMsIHMsIGNvbG9yKSB7XG4gIGxldCB1aWRhdGEgPSBzLnVpZGF0YTtcbiAgbGV0IGhzID0gW3VpZGF0YS5od1swXSAqIGNvb3Jkcy53LCAwLCB1aWRhdGEuaHdbMl0gKiBjb29yZHMud107XG4gIGxldCB5ID0gY29vcmRzLnk7XG4gIGhzWzFdID0gbWF4KDAsIGNvb3Jkcy5oIC0gaHNbMF0gLSBoc1syXSk7XG4gIGZvciAobGV0IGlpID0gMDsgaWkgPCBocy5sZW5ndGg7ICsraWkpIHtcbiAgICBsZXQgbXlfaCA9IGhzW2lpXTtcbiAgICBzLmRyYXcoe1xuICAgICAgeDogY29vcmRzLngsXG4gICAgICB5LFxuICAgICAgejogY29vcmRzLnosXG4gICAgICBjb2xvcixcbiAgICAgIHc6IGNvb3Jkcy53LFxuICAgICAgaDogbXlfaCxcbiAgICAgIHV2czogdWlkYXRhLnJlY3RzW2lpXSxcbiAgICAgIC8vIG5vem9vbTogdHJ1ZSwgLy8gbm96b29tIHNpbmNlIGRpZmZlcmVudCBwYXJ0cyBvZiB0aGUgYm94IGdldCB6b29tZWQgZGlmZmVyZW50bHlcbiAgICB9KTtcbiAgICB5ICs9IG15X2g7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRyYXdCb3goY29vcmRzLCBzLCBwaXhlbF9zY2FsZSwgY29sb3IpIHtcbiAgbGV0IHVpZGF0YSA9IHMudWlkYXRhO1xuICBsZXQgc2NhbGUgPSBwaXhlbF9zY2FsZTtcbiAgbGV0IHdzID0gW3VpZGF0YS53aWR0aHNbMF0gKiBzY2FsZSwgMCwgdWlkYXRhLndpZHRoc1syXSAqIHNjYWxlXTtcbiAgd3NbMV0gPSBtYXgoMCwgY29vcmRzLncgLSB3c1swXSAtIHdzWzJdKTtcbiAgbGV0IGhzID0gW3VpZGF0YS5oZWlnaHRzWzBdICogc2NhbGUsIDAsIHVpZGF0YS5oZWlnaHRzWzJdICogc2NhbGVdO1xuICBoc1sxXSA9IG1heCgwLCBjb29yZHMuaCAtIGhzWzBdIC0gaHNbMl0pO1xuICBsZXQgeCA9IGNvb3Jkcy54O1xuICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgd3MubGVuZ3RoOyArK2lpKSB7XG4gICAgbGV0IG15X3cgPSB3c1tpaV07XG4gICAgaWYgKG15X3cpIHtcbiAgICAgIGxldCB5ID0gY29vcmRzLnk7XG4gICAgICBmb3IgKGxldCBqaiA9IDA7IGpqIDwgaHMubGVuZ3RoOyArK2pqKSB7XG4gICAgICAgIGxldCBteV9oID0gaHNbampdO1xuICAgICAgICBpZiAobXlfaCkge1xuICAgICAgICAgIHMuZHJhdyh7XG4gICAgICAgICAgICB4LCB5LCB6OiBjb29yZHMueixcbiAgICAgICAgICAgIGNvbG9yLFxuICAgICAgICAgICAgdzogbXlfdyxcbiAgICAgICAgICAgIGg6IG15X2gsXG4gICAgICAgICAgICB1dnM6IHVpZGF0YS5yZWN0c1tqaiAqIDMgKyBpaV0sXG4gICAgICAgICAgICBub3pvb206IHRydWUsIC8vIG5vem9vbSBzaW5jZSBkaWZmZXJlbnQgcGFydHMgb2YgdGhlIGJveCBnZXQgem9vbWVkIGRpZmZlcmVudGx5XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgeSArPSBteV9oO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB4ICs9IG15X3c7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwbGF5VUlTb3VuZChuYW1lLCB2b2x1bWUpIHtcbiAgaWYgKG5hbWUgPT09ICdzZWxlY3QnKSB7XG4gICAgbmFtZSA9ICdidXR0b25fY2xpY2snO1xuICB9XG4gIGlmIChzb3VuZHNbbmFtZV0pIHtcbiAgICBzb3VuZFBsYXkoc291bmRzW25hbWVdLCB2b2x1bWUpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRNb3VzZU92ZXIoa2V5LCBxdWlldCkge1xuICBpZiAobGFzdF9mcmFtZV9idXR0b25fbW91c2VvdmVyICE9PSBrZXkgJiYgZnJhbWVfYnV0dG9uX21vdXNlb3ZlciAhPT0ga2V5ICYmICFxdWlldCkge1xuICAgIHBsYXlVSVNvdW5kKCdyb2xsb3ZlcicpO1xuICB9XG4gIGZyYW1lX2J1dHRvbl9tb3VzZW92ZXIgPSBrZXk7XG4gIGJ1dHRvbl9tb3VzZW92ZXIgPSB0cnVlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZm9jdXNTdGVhbChrZXkpIHtcbiAgaWYgKGtleSAhPT0gZm9jdXNlZF9rZXkpIHtcbiAgICBmb2N1c2xvZygnZm9jdXNTdGVhbCAnLCBrZXkpO1xuICB9XG4gIGZvY3VzZWRfdGhpc19mcmFtZSA9IHRydWU7XG4gIGZvY3VzZWRfa2V5ID0ga2V5O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZm9jdXNDYW52YXMoKSB7XG4gIGZvY3VzU3RlYWwoJ2NhbnZhcycpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNGb2N1c2VkUGVlayhrZXkpIHtcbiAgcmV0dXJuIGZvY3VzZWRfa2V5ID09PSBrZXk7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNGb2N1c2VkKGtleSkge1xuICBpZiAoa2V5ICE9PSBmb2N1c2VkX2tleV9wcmV2Mikge1xuICAgIGZvY3VzZWRfa2V5X3ByZXYxID0gZm9jdXNlZF9rZXlfcHJldjI7XG4gICAgZm9jdXNlZF9rZXlfcHJldjIgPSBrZXk7XG4gIH1cbiAgaWYgKGtleSA9PT0gZm9jdXNlZF9rZXkgfHwga2V5ICE9PSBmb2N1c2VkX2tleV9ub3QgJiYgIWZvY3VzZWRfdGhpc19mcmFtZSAmJlxuICAgICFmb2N1c2VkX2xhc3RfZnJhbWVcbiAgKSB7XG4gICAgaWYgKGtleSAhPT0gZm9jdXNlZF9rZXkpIHtcbiAgICAgIGZvY3VzbG9nKCdpc0ZvY3VzZWQtPmZvY3VzU3RlYWwnKTtcbiAgICB9XG4gICAgZm9jdXNTdGVhbChrZXkpO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZvY3VzTmV4dChrZXkpIHtcbiAgZm9jdXNsb2coJ2ZvY3VzTmV4dCAnLCBrZXkpO1xuICBwbGF5VUlTb3VuZCgncm9sbG92ZXInKTtcbiAgZm9jdXNlZF9rZXkgPSBudWxsO1xuICBmb2N1c2VkX2xhc3RfZnJhbWUgPSBmb2N1c2VkX3RoaXNfZnJhbWUgPSBmYWxzZTtcbiAgZm9jdXNlZF9rZXlfbm90ID0ga2V5O1xuICAvLyBFYXQgaW5wdXQgZXZlbnRzIHNvIGEgcGFpciBvZiBrZXlzIChlLmcuIFNETEtfRE9XTiBhbmQgU0RMS19DT05UUk9MTEVSX0RPV04pXG4gIC8vIGRvbid0IGdldCBjb25zdW1lZCBieSB0d28gc2VwYXJhdGUgd2lkZ2V0c1xuICBnbG92X2lucHV0LmVhdEFsbElucHV0KHRydWUpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZm9jdXNQcmV2KGtleSkge1xuICBmb2N1c2xvZygnZm9jdXNQcmV2ICcsIGtleSk7XG4gIHBsYXlVSVNvdW5kKCdyb2xsb3ZlcicpO1xuICBpZiAoa2V5ID09PSBmb2N1c2VkX2tleV9wcmV2Mikge1xuICAgIGZvY3VzU3RlYWwoZm9jdXNlZF9rZXlfcHJldjEpO1xuICB9IGVsc2Uge1xuICAgIGZvY3VzU3RlYWwoZm9jdXNlZF9rZXlfcHJldjIpO1xuICB9XG4gIGdsb3ZfaW5wdXQuZWF0QWxsSW5wdXQodHJ1ZSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmb2N1c0NoZWNrKGtleSkge1xuICBpZiAobW9kYWxfc3RlYWxpbmdfZm9jdXMpIHtcbiAgICAvLyBoaWRkZW4gYnkgbW9kYWwsIGV0Y1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICAvLyBSZXR1cm5zIHRydWUgZXZlbiBpZiBmb2N1c2luZyBwcmV2aW91cyBlbGVtZW50LCBzaW5jZSBmb3IgdGhpcyBmcmFtZSwgd2UgYXJlIHN0aWxsIGVmZmVjdGl2ZWx5IGZvY3VzZWQhXG4gIGxldCBmb2N1c2VkID0gaXNGb2N1c2VkKGtleSk7XG4gIGlmIChmb2N1c2VkKSB7XG4gICAgaWYgKGdsb3ZfaW5wdXQua2V5RG93bkVkZ2UoS0VZUy5UQUIpKSB7XG4gICAgICBpZiAoZ2xvdl9pbnB1dC5rZXlEb3duKEtFWVMuU0hJRlQpKSB7XG4gICAgICAgIGZvY3VzUHJldihrZXkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZm9jdXNOZXh0KGtleSk7XG4gICAgICAgIGZvY3VzZWQgPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGdsb3ZfaW5wdXQucGFkQnV0dG9uRG93bkVkZ2UocGFkX2ZvY3VzX3JpZ2h0KSkge1xuICAgICAgZm9jdXNOZXh0KGtleSk7XG4gICAgICBmb2N1c2VkID0gZmFsc2U7XG4gICAgfVxuICAgIGlmIChnbG92X2lucHV0LnBhZEJ1dHRvbkRvd25FZGdlKHBhZF9mb2N1c19sZWZ0KSkge1xuICAgICAgZm9jdXNQcmV2KGtleSk7XG4gICAgfVxuICB9XG4gIHJldHVybiBmb2N1c2VkO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcGFuZWwocGFyYW0pIHtcbiAgYXNzZXJ0KHR5cGVvZiBwYXJhbS54ID09PSAnbnVtYmVyJyk7XG4gIGFzc2VydCh0eXBlb2YgcGFyYW0ueSA9PT0gJ251bWJlcicpO1xuICBhc3NlcnQodHlwZW9mIHBhcmFtLncgPT09ICdudW1iZXInKTtcbiAgYXNzZXJ0KHR5cGVvZiBwYXJhbS5oID09PSAnbnVtYmVyJyk7XG4gIHBhcmFtLnogPSBwYXJhbS56IHx8IChaLlVJIC0gMSk7XG4gIGxldCBjb2xvciA9IHBhcmFtLmNvbG9yIHx8IGNvbG9yX3BhbmVsO1xuICBkcmF3Qm94KHBhcmFtLCBzcHJpdGVzLnBhbmVsLCBwYXJhbS5waXhlbF9zY2FsZSB8fCBwYW5lbF9waXhlbF9zY2FsZSwgY29sb3IpO1xuICBnbG92X2lucHV0LmNsaWNrKHBhcmFtKTtcbiAgZ2xvdl9pbnB1dC5tb3VzZU92ZXIocGFyYW0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZHJhd1Rvb2x0aXAocGFyYW0pIHtcbiAgYXNzZXJ0KHR5cGVvZiBwYXJhbS54ID09PSAnbnVtYmVyJyk7XG4gIGFzc2VydCh0eXBlb2YgcGFyYW0ueSA9PT0gJ251bWJlcicpO1xuICBhc3NlcnQodHlwZW9mIHBhcmFtLnRvb2x0aXAgPT09ICdzdHJpbmcnKTtcblxuICBsZXQgdG9vbHRpcF93ID0gcGFyYW0udG9vbHRpcF93aWR0aCB8fCB0b29sdGlwX3dpZHRoO1xuICBsZXQgeCA9IHBhcmFtLng7XG4gIGlmICh4ICsgdG9vbHRpcF93ID4gY2FtZXJhMmQueDEoKSkge1xuICAgIHggPSBjYW1lcmEyZC54MSgpIC0gdG9vbHRpcF93O1xuICB9XG4gIGxldCB6ID0gcGFyYW0ueiB8fCBaLlRPT0xUSVA7XG4gIGxldCB0b29sdGlwX3kwID0gcGFyYW0ueTtcbiAgbGV0IGVmZl90b29sdGlwX3BhZCA9IHBhcmFtLnRvb2x0aXBfcGFkIHx8IHRvb2x0aXBfcGFkO1xuICBsZXQgdyA9IHRvb2x0aXBfdyAtIGVmZl90b29sdGlwX3BhZCAqIDI7XG4gIGlmIChwYXJhbS50b29sdGlwX2Fib3ZlKSB7XG4gICAgdG9vbHRpcF95MCAtPSBmb250X2hlaWdodCAqIGZvbnQubnVtTGluZXMobW9kYWxfZm9udF9zdHlsZSwgdywgMCwgZm9udF9oZWlnaHQsIHBhcmFtLnRvb2x0aXApICsgZWZmX3Rvb2x0aXBfcGFkICogMjtcbiAgfVxuICBsZXQgeSA9IHRvb2x0aXBfeTAgKyBlZmZfdG9vbHRpcF9wYWQ7XG4gIHkgKz0gZm9udC5kcmF3U2l6ZWRXcmFwcGVkKG1vZGFsX2ZvbnRfc3R5bGUsXG4gICAgeCArIGVmZl90b29sdGlwX3BhZCwgeSwgeisxLCB3LCAwLCBmb250X2hlaWdodCxcbiAgICBwYXJhbS50b29sdGlwKTtcbiAgeSArPSBlZmZfdG9vbHRpcF9wYWQ7XG4gIGxldCBwaXhlbF9zY2FsZSA9IHBhcmFtLnBpeGVsX3NjYWxlIHx8IHRvb2x0aXBfcGFuZWxfcGl4ZWxfc2NhbGU7XG5cbiAgcGFuZWwoe1xuICAgIHgsXG4gICAgeTogdG9vbHRpcF95MCxcbiAgICB6LFxuICAgIHc6IHRvb2x0aXBfdyxcbiAgICBoOiB5IC0gdG9vbHRpcF95MCxcbiAgICBwaXhlbF9zY2FsZSxcbiAgfSk7XG59XG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjb21wbGV4aXR5XG5leHBvcnQgZnVuY3Rpb24gYnV0dG9uU2hhcmVkKHBhcmFtKSB7XG4gIGxldCBzdGF0ZSA9ICdyZWd1bGFyJztcbiAgbGV0IHJldCA9IGZhbHNlO1xuICBpZiAocGFyYW0uZHJhd19vbmx5KSB7XG4gICAgcmV0dXJuIHsgcmV0LCBzdGF0ZSB9O1xuICB9XG4gIGxldCBrZXkgPSBwYXJhbS5rZXkgfHwgYCR7cGFyYW0ueH1fJHtwYXJhbS55fWA7XG4gIGxldCByb2xsb3Zlcl9xdWlldCA9IHBhcmFtLnJvbGxvdmVyX3F1aWV0O1xuICBsZXQgZm9jdXNlZCA9ICFwYXJhbS5kaXNhYmxlZCAmJiAhcGFyYW0ubm9fZm9jdXMgJiYgZm9jdXNDaGVjayhrZXkpO1xuICBsZXQga2V5X29wdHMgPSBwYXJhbS5pbl9ldmVudF9jYiA/IHsgaW5fZXZlbnRfY2I6IHBhcmFtLmluX2V2ZW50X2NiIH0gOiBudWxsO1xuICBidXR0b25fbW91c2VvdmVyID0gZmFsc2U7XG4gIGlmIChwYXJhbS5kaXNhYmxlZCkge1xuICAgIGlmIChnbG92X2lucHV0Lm1vdXNlT3ZlcihwYXJhbSkpIHsgLy8gU3RpbGwgZWF0IG1vdXNlIGV2ZW50c1xuICAgICAgaWYgKHBhcmFtLmRpc2FibGVkX21vdXNlb3Zlcikge1xuICAgICAgICBzZXRNb3VzZU92ZXIoa2V5LCByb2xsb3Zlcl9xdWlldCk7XG4gICAgICB9XG4gICAgfVxuICAgIHN0YXRlID0gJ2Rpc2FibGVkJztcbiAgfSBlbHNlIGlmIChwYXJhbS5kcmFnX3RhcmdldCAmJiAocmV0ID0gZ2xvdl9pbnB1dC5kcmFnRHJvcChwYXJhbSkpKSB7XG4gICAgaWYgKCFwYXJhbS5ub190b3VjaF9tb3VzZW92ZXIgfHwgIWdsb3ZfaW5wdXQubW91c2VQb3NJc1RvdWNoKCkpIHtcbiAgICAgIHNldE1vdXNlT3ZlcihrZXksIHJvbGxvdmVyX3F1aWV0KTtcbiAgICB9XG4gICAgaWYgKCFwYXJhbS5ub19mb2N1cykge1xuICAgICAgZm9jdXNTdGVhbChrZXkpO1xuICAgICAgZm9jdXNlZCA9IHRydWU7XG4gICAgfVxuICB9IGVsc2UgaWYgKChidXR0b25fY2xpY2sgPSBnbG92X2lucHV0LmNsaWNrKHBhcmFtKSkgfHxcbiAgICBwYXJhbS5sb25nX3ByZXNzICYmIChidXR0b25fY2xpY2sgPSBnbG92X2lucHV0LmxvbmdQcmVzcyhwYXJhbSkpXG4gICkge1xuICAgIGlmICghcGFyYW0ubm9fdG91Y2hfbW91c2VvdmVyIHx8ICFnbG92X2lucHV0Lm1vdXNlUG9zSXNUb3VjaCgpKSB7XG4gICAgICBzZXRNb3VzZU92ZXIoa2V5LCByb2xsb3Zlcl9xdWlldCk7XG4gICAgfVxuICAgIGlmIChwYXJhbS50b3VjaF90d2ljZSAmJiBnbG92X2lucHV0Lm1vdXNlUG9zSXNUb3VjaCgpICYmICFmb2N1c2VkKSB7XG4gICAgICAvLyBKdXN0IGZvY3VzLCBzaG93IHRvb2x0aXBcbiAgICAgIHRvdWNoX2NoYW5nZWRfZm9jdXMgPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXQgPSB0cnVlO1xuICAgIH1cbiAgICBpZiAoIXBhcmFtLm5vX2ZvY3VzKSB7XG4gICAgICBmb2N1c1N0ZWFsKGtleSk7XG4gICAgICBmb2N1c2VkID0gdHJ1ZTtcbiAgICB9XG4gIH0gZWxzZSBpZiAocGFyYW0uZHJhZ190YXJnZXQgJiYgZ2xvdl9pbnB1dC5kcmFnT3ZlcihwYXJhbSkpIHtcbiAgICAvLyBTZXQgdGhpcyBldmVuIGlmIHBhcmFtLm5vX3RvdWNoX21vdXNlX292ZXIgaXMgc2V0XG4gICAgc2V0TW91c2VPdmVyKGtleSwgcm9sbG92ZXJfcXVpZXQpO1xuICAgIHN0YXRlID0gZ2xvdl9pbnB1dC5tb3VzZURvd24oeyBtYXhfZGlzdDogSW5maW5pdHkgfSkgPyAnZG93bicgOiAncm9sbG92ZXInO1xuICB9IGVsc2UgaWYgKHBhcmFtLmRyYWdfb3ZlciAmJiBnbG92X2lucHV0LmRyYWdPdmVyKHBhcmFtKSkge1xuICAgIC8vIGRvIG5vdGhpbmdcbiAgfSBlbHNlIGlmIChnbG92X2lucHV0Lm1vdXNlT3ZlcihwYXJhbSkpIHtcbiAgICBpZiAocGFyYW0ubm9fdG91Y2hfbW91c2VvdmVyICYmIGdsb3ZfaW5wdXQubW91c2VQb3NJc1RvdWNoKCkpIHtcbiAgICAgIC8vIGRvIG5vdCBzZXQgbW91c2VvdmVyXG4gICAgfSBlbHNlIGlmIChwYXJhbS50b3VjaF90d2ljZSAmJiAhZm9jdXNlZCAmJiBnbG92X2lucHV0Lm1vdXNlUG9zSXNUb3VjaCgpKSB7XG4gICAgICAvLyBkbyBub3Qgc2V0IG1vdXNlb3ZlclxuICAgIH0gZWxzZSB7XG4gICAgICBzZXRNb3VzZU92ZXIoa2V5LCByb2xsb3Zlcl9xdWlldCk7XG4gICAgICBzdGF0ZSA9IGdsb3ZfaW5wdXQubW91c2VEb3duKHBhcmFtKSA/ICdkb3duJyA6ICdyb2xsb3Zlcic7XG4gICAgfVxuICB9XG4gIGJ1dHRvbl9mb2N1c2VkID0gZm9jdXNlZDtcbiAgaWYgKGZvY3VzZWQpIHtcbiAgICBpZiAoZ2xvdl9pbnB1dC5rZXlEb3duRWRnZShLRVlTLlNQQUNFLCBrZXlfb3B0cykgfHwgZ2xvdl9pbnB1dC5rZXlEb3duRWRnZShLRVlTLlJFVFVSTiwga2V5X29wdHMpIHx8XG4gICAgICBnbG92X2lucHV0LnBhZEJ1dHRvbkRvd25FZGdlKFBBRC5BKVxuICAgICkge1xuICAgICAgcmV0ID0gdHJ1ZTtcbiAgICB9XG4gIH1cbiAgaWYgKHJldCkge1xuICAgIHN0YXRlID0gJ2Rvd24nO1xuICAgIHBsYXlVSVNvdW5kKCdidXR0b25fY2xpY2snKTtcbiAgfVxuICBpZiAoYnV0dG9uX21vdXNlb3ZlciAmJiBwYXJhbS50b29sdGlwKSB7XG4gICAgZHJhd1Rvb2x0aXAoe1xuICAgICAgeDogcGFyYW0ueCxcbiAgICAgIHk6IHBhcmFtLnRvb2x0aXBfYWJvdmUgPyBwYXJhbS55IC0gMiA6IHBhcmFtLnkgKyBwYXJhbS5oICsgMixcbiAgICAgIHRvb2x0aXBfYWJvdmU6IHBhcmFtLnRvb2x0aXBfYWJvdmUsXG4gICAgICB0b29sdGlwOiBwYXJhbS50b29sdGlwLFxuICAgICAgdG9vbHRpcF93aWR0aDogcGFyYW0udG9vbHRpcF93aWR0aCxcbiAgICB9KTtcbiAgfVxuICBwYXJhbS56ICs9IHBhcmFtLnpfYmlhcyAmJiBwYXJhbS56X2JpYXNbc3RhdGVdIHx8IDA7XG4gIHJldHVybiB7IHJldCwgc3RhdGUsIGZvY3VzZWQgfTtcbn1cblxuZXhwb3J0IGxldCBidXR0b25fbGFzdF9jb2xvcjtcbmV4cG9ydCBmdW5jdGlvbiBidXR0b25UZXh0RHJhdyhwYXJhbSwgc3RhdGUsIGZvY3VzZWQpIHtcbiAgbGV0IGNvbG9ycyA9IHBhcmFtLmNvbG9ycyB8fCBjb2xvcl9idXR0b247XG4gIGxldCBjb2xvciA9IGJ1dHRvbl9sYXN0X2NvbG9yID0gY29sb3JzW3N0YXRlXTtcbiAgbGV0IGJhc2VfbmFtZSA9IHBhcmFtLmJhc2VfbmFtZSB8fCAnYnV0dG9uJztcbiAgbGV0IHNwcml0ZV9uYW1lID0gYCR7YmFzZV9uYW1lfV8ke3N0YXRlfWA7XG4gIGxldCBzcHJpdGUgPSBzcHJpdGVzW3Nwcml0ZV9uYW1lXTtcbiAgLy8gTm90ZTogd2FzIGlmIChzcHJpdGUpIGNvbG9yID0gY29sb3JzLnJlZ3VsYXIgZm9yIHNwZWNpZmljLXNwcml0ZSBtYXRjaGVzXG4gIGlmICghc3ByaXRlKSB7XG4gICAgc3ByaXRlID0gc3ByaXRlc1tiYXNlX25hbWVdO1xuICB9XG5cbiAgZHJhd0hCb3gocGFyYW0sIHNwcml0ZSwgY29sb3IpO1xuICBsZXQgaHBhZCA9IG1pbihwYXJhbS5mb250X2hlaWdodCAqIDAuMjUsIHBhcmFtLncgKiAwLjEpO1xuICBmb250LmRyYXdTaXplZEFsaWduZWQoXG4gICAgZm9jdXNlZCA/IGZvbnRfc3R5bGVfZm9jdXNlZCA6IGZvbnRfc3R5bGVfbm9ybWFsLFxuICAgIHBhcmFtLnggKyBocGFkLCBwYXJhbS55LCBwYXJhbS56ICsgMC4xLFxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1iaXR3aXNlXG4gICAgcGFyYW0uZm9udF9oZWlnaHQsIGdsb3ZfZm9udC5BTElHTi5IQ0VOVEVSRklUIHwgZ2xvdl9mb250LkFMSUdOLlZDRU5URVIsIHBhcmFtLncgLSBocGFkICogMiwgcGFyYW0uaCwgcGFyYW0udGV4dCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBidXR0b25UZXh0KHBhcmFtKSB7XG4gIC8vIHJlcXVpcmVkIHBhcmFtc1xuICBhc3NlcnQodHlwZW9mIHBhcmFtLnggPT09ICdudW1iZXInKTtcbiAgYXNzZXJ0KHR5cGVvZiBwYXJhbS55ID09PSAnbnVtYmVyJyk7XG4gIGFzc2VydCh0eXBlb2YgcGFyYW0udGV4dCA9PT0gJ3N0cmluZycpO1xuICAvLyBvcHRpb25hbCBwYXJhbXNcbiAgcGFyYW0ueiA9IHBhcmFtLnogfHwgWi5VSTtcbiAgcGFyYW0udyA9IHBhcmFtLncgfHwgYnV0dG9uX3dpZHRoO1xuICBwYXJhbS5oID0gcGFyYW0uaCB8fCBidXR0b25faGVpZ2h0O1xuICBwYXJhbS5mb250X2hlaWdodCA9IHBhcmFtLmZvbnRfaGVpZ2h0IHx8IGZvbnRfaGVpZ2h0O1xuXG4gIGxldCB7IHJldCwgc3RhdGUsIGZvY3VzZWQgfSA9IGJ1dHRvblNoYXJlZChwYXJhbSk7XG4gIGJ1dHRvblRleHREcmF3KHBhcmFtLCBzdGF0ZSwgZm9jdXNlZCk7XG4gIHJldHVybiByZXQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBidXR0b25JbWFnZShwYXJhbSkge1xuICAvLyByZXF1aXJlZCBwYXJhbXNcbiAgYXNzZXJ0KHR5cGVvZiBwYXJhbS54ID09PSAnbnVtYmVyJyk7XG4gIGFzc2VydCh0eXBlb2YgcGFyYW0ueSA9PT0gJ251bWJlcicpO1xuICBhc3NlcnQocGFyYW0uaW1nICYmIHBhcmFtLmltZy5kcmF3KTsgLy8gc2hvdWxkIGJlIGEgc3ByaXRlXG4gIC8vIG9wdGlvbmFsIHBhcmFtc1xuICBwYXJhbS56ID0gcGFyYW0ueiB8fCBaLlVJO1xuICBwYXJhbS53ID0gcGFyYW0udyB8fCBidXR0b25faW1nX3NpemU7XG4gIHBhcmFtLmggPSBwYXJhbS5oIHx8IHBhcmFtLncgfHwgYnV0dG9uX2ltZ19zaXplO1xuICBwYXJhbS5zaHJpbmsgPSBwYXJhbS5zaHJpbmsgfHwgMC43NTtcbiAgLy9wYXJhbS5pbWdfcmVjdDsgbnVsbCAtPiBmdWxsIGltYWdlXG4gIGxldCB1dnMgPSBwYXJhbS5pbWdfcmVjdDtcbiAgaWYgKHR5cGVvZiBwYXJhbS5mcmFtZSA9PT0gJ251bWJlcicpIHtcbiAgICB1dnMgPSBwYXJhbS5pbWcudWlkYXRhLnJlY3RzW3BhcmFtLmZyYW1lXTtcbiAgfVxuXG4gIGxldCB7IHJldCwgc3RhdGUgfSA9IGJ1dHRvblNoYXJlZChwYXJhbSk7XG4gIGxldCBjb2xvcnMgPSBwYXJhbS5jb2xvcnMgfHwgY29sb3JfYnV0dG9uO1xuICBsZXQgY29sb3IgPSBidXR0b25fbGFzdF9jb2xvciA9IGNvbG9yc1tzdGF0ZV07XG4gIGlmICghcGFyYW0ubm9fYmcpIHtcbiAgICBsZXQgYmFzZV9uYW1lID0gcGFyYW0uYmFzZV9uYW1lIHx8ICdidXR0b24nO1xuICAgIGxldCBzcHJpdGVfbmFtZSA9IGAke2Jhc2VfbmFtZX1fJHtzdGF0ZX1gO1xuICAgIGxldCBzcHJpdGUgPSBzcHJpdGVzW3Nwcml0ZV9uYW1lXTtcbiAgICBpZiAoIXNwcml0ZSkge1xuICAgICAgc3ByaXRlID0gc3ByaXRlc1tiYXNlX25hbWVdO1xuICAgIH1cblxuICAgIGRyYXdIQm94KHBhcmFtLCBzcHJpdGUsIGNvbG9yKTtcbiAgfVxuICBsZXQgaW1nX29yaWdpbiA9IHBhcmFtLmltZy5vcmlnaW47XG4gIGxldCBpbWdfdyA9IHBhcmFtLmltZy5zaXplWzBdO1xuICBsZXQgaW1nX2ggPSBwYXJhbS5pbWcuc2l6ZVsxXTtcbiAgbGV0IGFzcGVjdCA9IGltZ193IC8gaW1nX2g7XG4gIGlmICh0eXBlb2YgcGFyYW0uZnJhbWUgPT09ICdudW1iZXInKSB7XG4gICAgYXNwZWN0ID0gcGFyYW0uaW1nLnVpZGF0YS5hc3BlY3QgPyBwYXJhbS5pbWcudWlkYXRhLmFzcGVjdFtwYXJhbS5mcmFtZV0gOiAxO1xuICB9XG4gIGxldCBsYXJnZXN0X3dfaG9yaXogPSBwYXJhbS53ICogcGFyYW0uc2hyaW5rO1xuICBsZXQgbGFyZ2VzdF93X3ZlcnQgPSBwYXJhbS5oICogcGFyYW0uc2hyaW5rICogYXNwZWN0O1xuICBpbWdfdyA9IG1pbihsYXJnZXN0X3dfaG9yaXosIGxhcmdlc3Rfd192ZXJ0KTtcbiAgaW1nX2ggPSBpbWdfdyAvIGFzcGVjdDtcbiAgbGV0IHBhZF90b3AgPSAocGFyYW0uaCAtIGltZ19oKSAvIDI7XG4gIGxldCBkcmF3X3BhcmFtID0ge1xuICAgIHg6IHBhcmFtLnggKyAocGFyYW0ubGVmdF9hbGlnbiA/IHBhZF90b3AgOiAocGFyYW0udyAtIGltZ193KSAvIDIpICsgaW1nX29yaWdpblswXSAqIGltZ193LFxuICAgIHk6IHBhcmFtLnkgKyBwYWRfdG9wICsgaW1nX29yaWdpblsxXSAqIGltZ19oLFxuICAgIHo6IHBhcmFtLnogKyAwLjEsXG4gICAgY29sb3I6IHBhcmFtLmNvbG9yMSAmJiBwYXJhbS5jb2xvciA/IHBhcmFtLmNvbG9yIDogY29sb3IsIC8vIHVzZSBleHBsaWNpdCB0aW50IGlmIGRvaW5nIGR1YWwtdGludGluZ1xuICAgIGNvbG9yMTogcGFyYW0uY29sb3IxLFxuICAgIHc6IGltZ193IC8gcGFyYW0uaW1nLnNpemVbMF0sXG4gICAgaDogaW1nX2ggLyBwYXJhbS5pbWcuc2l6ZVsxXSxcbiAgICB1dnMsXG4gICAgcm90OiBwYXJhbS5yb3RhdGlvbixcbiAgfTtcbiAgaWYgKHBhcmFtLmZsaXApIHtcbiAgICBsZXQgeyB4LCB3IH0gPSBkcmF3X3BhcmFtO1xuICAgIGRyYXdfcGFyYW0ueCA9IHggKyB3O1xuICAgIGRyYXdfcGFyYW0udyA9IC13O1xuICB9XG4gIGlmIChwYXJhbS5jb2xvcjEpIHtcbiAgICBwYXJhbS5pbWcuZHJhd0R1YWxUaW50KGRyYXdfcGFyYW0pO1xuICB9IGVsc2Uge1xuICAgIHBhcmFtLmltZy5kcmF3KGRyYXdfcGFyYW0pO1xuICB9XG4gIHJldHVybiByZXQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwcmludChzdHlsZSwgeCwgeSwgeiwgdGV4dCkge1xuICByZXR1cm4gZm9udC5kcmF3U2l6ZWQoc3R5bGUsIHgsIHksIHosIGZvbnRfaGVpZ2h0LCB0ZXh0KTtcbn1cblxuLy8gTm90ZTogbW9kYWwgZGlhbG9ncyBub3QgcmVhbGx5IGNvbXBhdGlibGUgd2l0aCBIVE1MIG92ZXJsYXkgb24gdG9wIG9mIHRoZSBjYW52YXMhXG5leHBvcnQgZnVuY3Rpb24gbW9kYWxEaWFsb2cocGFyYW0pIHtcbiAgYXNzZXJ0KCFwYXJhbS50aXRsZSB8fCB0eXBlb2YgcGFyYW0udGl0bGUgPT09ICdzdHJpbmcnKTtcbiAgYXNzZXJ0KCFwYXJhbS50ZXh0IHx8IHR5cGVvZiBwYXJhbS50ZXh0ID09PSAnc3RyaW5nJyk7XG4gIGFzc2VydCghcGFyYW0uYnV0dG9ucyB8fCB0eXBlb2YgcGFyYW0uYnV0dG9ucyA9PT0gJ29iamVjdCcpO1xuICAvLyBhc3NlcnQoT2JqZWN0LmtleXMocGFyYW0uYnV0dG9ucykubGVuZ3RoKTtcblxuICBtb2RhbF9kaWFsb2cgPSBwYXJhbTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1vZGFsRGlhbG9nQ2xlYXIoKSB7XG4gIG1vZGFsX2RpYWxvZyA9IG51bGw7XG59XG5cbmxldCBkb21fcmVxdWlyZW1lbnQgPSB2ZWMyKDI0LDI0KTtcbmxldCB2aXJ0dWFsX3NpemUgPSB2ZWMyKCk7XG5mdW5jdGlvbiBtb2RhbERpYWxvZ1J1bigpIHtcbiAgY2FtZXJhMmQuZG9tRGVsdGFUb1ZpcnR1YWwodmlydHVhbF9zaXplLCBkb21fcmVxdWlyZW1lbnQpO1xuICBsZXQgZnVsbHNjcmVlbl9tb2RlID0gZmFsc2U7XG4gIGxldCBlZmZfZm9udF9oZWlnaHQgPSBtb2RhbF9kaWFsb2cuZm9udF9oZWlnaHQgfHwgZm9udF9oZWlnaHQ7XG4gIGxldCBlZmZfYnV0dG9uX2hlaWdodCA9IGJ1dHRvbl9oZWlnaHQ7XG4gIGxldCBwYWQgPSBtb2RhbF9wYWQ7XG4gIGxldCB2cGFkID0gbW9kYWxfcGFkICogMC41O1xuICBsZXQgZ2VuZXJhbF9zY2FsZSA9IDE7XG4gIGlmICh2aXJ0dWFsX3NpemVbMF0gPiAwLjEgKiBjYW1lcmEyZC5oKCkgJiYgY2FtZXJhMmQudygpID4gY2FtZXJhMmQuaCgpICogMikge1xuICAgIC8vIElmIGEgMjQtcHQgZm9udCBpcyBtb3JlIHRoYW4gMTAlIG9mIHRoZSBjYW1lcmEgaGVpZ2h0LCB3ZSdyZSBwcm9iYWJseSBzdXBlci13aWRlLXNjcmVlblxuICAgIC8vIG9uIGEgbW9iaWxlIGRldmljZSBkdWUgdG8ga2V5Ym9hcmQgYmVpbmcgdmlzaWJsZVxuICAgIGZ1bGxzY3JlZW5fbW9kZSA9IHRydWU7XG4gICAgZWZmX2J1dHRvbl9oZWlnaHQgPSBlZmZfZm9udF9oZWlnaHQ7XG4gICAgdnBhZCA9IHBhZCA9IDQ7XG5cbiAgICBsZXQgb2xkX2ggPSBjYW1lcmEyZC5oKCk7XG4gICAgY2FtZXJhMmQucHVzaCgpO1xuICAgIGNhbWVyYTJkLnNldEFzcGVjdEZpeGVkMigxLCBlZmZfZm9udF9oZWlnaHQgKiAobW9kYWxfdGl0bGVfc2NhbGUgKyAyKSArIHBhZCAqIDQuNSk7XG4gICAgZ2VuZXJhbF9zY2FsZSA9IGNhbWVyYTJkLmgoKSAvIG9sZF9oO1xuICB9XG5cbiAgbGV0IHsgYnV0dG9ucywgY2xpY2tfYW55d2hlcmUgfSA9IG1vZGFsX2RpYWxvZztcbiAgbGV0IGtleXMgPSBPYmplY3Qua2V5cyhidXR0b25zIHx8IHt9KTtcblxuICBjb25zdCBnYW1lX3dpZHRoID0gY2FtZXJhMmQueDEoKSAtIGNhbWVyYTJkLngwKCk7XG4gIGNvbnN0IGVmZl9tb2RhbF93aWR0aCA9IGZ1bGxzY3JlZW5fbW9kZSA/IGdhbWVfd2lkdGggOiAobW9kYWxfZGlhbG9nLndpZHRoIHx8IG1vZGFsX3dpZHRoKTtcbiAgbGV0IGVmZl9idXR0b25fd2lkdGggPSBtb2RhbF9kaWFsb2cuYnV0dG9uX3dpZHRoIHx8IG1vZGFsX2J1dHRvbl93aWR0aDtcbiAgbGV0IG1heF90b3RhbF9idXR0b25fd2lkdGggPSBlZmZfbW9kYWxfd2lkdGggKiAyIC8gMztcbiAgZWZmX2J1dHRvbl93aWR0aCA9IG1pbihlZmZfYnV0dG9uX3dpZHRoLCBtYXhfdG90YWxfYnV0dG9uX3dpZHRoIC8ga2V5cy5sZW5ndGgpO1xuICBjb25zdCB0ZXh0X3cgPSBlZmZfbW9kYWxfd2lkdGggLSBwYWQgKiAyO1xuICBjb25zdCB4MCA9IGNhbWVyYTJkLngwKCkgKyByb3VuZCgoZ2FtZV93aWR0aCAtIGVmZl9tb2RhbF93aWR0aCkgLyAyKTtcbiAgbGV0IHggPSB4MCArIHBhZDtcbiAgY29uc3QgeTAgPSBmdWxsc2NyZWVuX21vZGUgPyAwIDogKG1vZGFsX2RpYWxvZy55MCB8fCBtb2RhbF95MCk7XG4gIGxldCB5ID0geTAgKyBwYWQ7XG5cbiAgaWYgKGdsb3ZfaW5wdXQucG9pbnRlckxvY2tlZCgpKSB7XG4gICAgZ2xvdl9pbnB1dC5wb2ludGVyTG9ja0V4aXQoKTtcbiAgfVxuXG4gIGlmIChtb2RhbF9kaWFsb2cudGl0bGUpIHtcbiAgICBpZiAoZnVsbHNjcmVlbl9tb2RlKSB7XG4gICAgICBmb250LmRyYXdTaXplZEFsaWduZWQobW9kYWxfZm9udF9zdHlsZSwgeCwgeSwgWi5NT0RBTCwgZWZmX2ZvbnRfaGVpZ2h0ICogbW9kYWxfdGl0bGVfc2NhbGUsXG4gICAgICAgIGdsb3ZfZm9udC5BTElHTi5IRklULCB0ZXh0X3csIDAsIG1vZGFsX2RpYWxvZy50aXRsZSk7XG4gICAgICB5ICs9IGVmZl9mb250X2hlaWdodCAqIG1vZGFsX3RpdGxlX3NjYWxlO1xuICAgIH0gZWxzZSB7XG4gICAgICB5ICs9IGZvbnQuZHJhd1NpemVkV3JhcHBlZChtb2RhbF9mb250X3N0eWxlLFxuICAgICAgICB4LCB5LCBaLk1PREFMLCB0ZXh0X3csIDAsIGVmZl9mb250X2hlaWdodCAqIG1vZGFsX3RpdGxlX3NjYWxlLFxuICAgICAgICBtb2RhbF9kaWFsb2cudGl0bGUpO1xuICAgIH1cbiAgICB5ICs9IHJvdW5kKHZwYWQgKiAxLjUpO1xuICB9XG5cbiAgaWYgKG1vZGFsX2RpYWxvZy50ZXh0KSB7XG4gICAgaWYgKGZ1bGxzY3JlZW5fbW9kZSkge1xuICAgICAgZm9udC5kcmF3U2l6ZWRBbGlnbmVkKG1vZGFsX2ZvbnRfc3R5bGUsIHgsIHksIFouTU9EQUwsIGVmZl9mb250X2hlaWdodCxcbiAgICAgICAgZ2xvdl9mb250LkFMSUdOLkhGSVQsIHRleHRfdywgMCwgbW9kYWxfZGlhbG9nLnRleHQpO1xuICAgICAgeSArPSBlZmZfZm9udF9oZWlnaHQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHkgKz0gZm9udC5kcmF3U2l6ZWRXcmFwcGVkKG1vZGFsX2ZvbnRfc3R5bGUsIHgsIHksIFouTU9EQUwsIHRleHRfdywgMCwgZWZmX2ZvbnRfaGVpZ2h0LFxuICAgICAgICBtb2RhbF9kaWFsb2cudGV4dCk7XG4gICAgfVxuICAgIHkgKz0gdnBhZDtcbiAgfVxuXG4gIGxldCB0aWNrX2tleTtcbiAgaWYgKG1vZGFsX2RpYWxvZy50aWNrKSB7XG4gICAgbGV0IGF2YWlsX3dpZHRoID0gZWZmX21vZGFsX3dpZHRoIC0gcGFkICogMjtcbiAgICBpZiAoZnVsbHNjcmVlbl9tb2RlKSB7XG4gICAgICBhdmFpbF93aWR0aCAtPSAocGFkICsgZWZmX2J1dHRvbl93aWR0aCkgKiBrZXlzLmxlbmd0aDtcbiAgICB9XG4gICAgbGV0IHBhcmFtID0ge1xuICAgICAgeCwgeSxcbiAgICAgIG1vZGFsX3dpZHRoOiBlZmZfbW9kYWxfd2lkdGgsXG4gICAgICBhdmFpbF93aWR0aCxcbiAgICAgIGZvbnRfaGVpZ2h0OiBlZmZfZm9udF9oZWlnaHQsXG4gICAgICBmdWxsc2NyZWVuX21vZGUsXG4gICAgfTtcbiAgICB0aWNrX2tleSA9IG1vZGFsX2RpYWxvZy50aWNrKHBhcmFtKTtcbiAgICB5ID0gcGFyYW0ueTtcbiAgfVxuXG4gIHggPSB4MCArIGVmZl9tb2RhbF93aWR0aCAtIChwYWQgKyBlZmZfYnV0dG9uX3dpZHRoKSAqIGtleXMubGVuZ3RoO1xuICBsZXQgZGlkX2J1dHRvbiA9IC0xO1xuICBmb3IgKGxldCBpaSA9IDA7IGlpIDwga2V5cy5sZW5ndGg7ICsraWkpIHtcbiAgICBsZXQga2V5ID0ga2V5c1tpaV07XG4gICAgbGV0IGVmZl9idXR0b25fa2V5cyA9IGJ1dHRvbl9rZXlzW2tleS50b0xvd2VyQ2FzZSgpXTtcbiAgICBsZXQgcHJlc3NlZCA9IDA7XG4gICAgaWYgKGVmZl9idXR0b25fa2V5cykge1xuICAgICAgZm9yIChsZXQgamogPSAwOyBqaiA8IGVmZl9idXR0b25fa2V5cy5rZXkubGVuZ3RoOyArK2pqKSB7XG4gICAgICAgIHByZXNzZWQgKz0gZ2xvdl9pbnB1dC5rZXlEb3duRWRnZShlZmZfYnV0dG9uX2tleXMua2V5W2pqXSk7XG4gICAgICAgIGlmIChlZmZfYnV0dG9uX2tleXMua2V5W2pqXSA9PT0gdGlja19rZXkpIHtcbiAgICAgICAgICBwcmVzc2VkKys7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGZvciAobGV0IGpqID0gMDsgamogPCBlZmZfYnV0dG9uX2tleXMucGFkLmxlbmd0aDsgKytqaikge1xuICAgICAgICBwcmVzc2VkICs9IGdsb3ZfaW5wdXQucGFkQnV0dG9uRG93bkVkZ2UoZWZmX2J1dHRvbl9rZXlzLnBhZFtqal0pO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoY2xpY2tfYW55d2hlcmUgJiYgaWkgPT09IDAgJiYgZ2xvdl9pbnB1dC5jbGljaygpKSB7XG4gICAgICArK3ByZXNzZWQ7XG4gICAgfVxuICAgIGlmIChwcmVzc2VkKSB7XG4gICAgICBkaWRfYnV0dG9uID0gaWk7XG4gICAgfVxuICAgIGlmIChidXR0b25UZXh0KHtcbiAgICAgIHg6IHgsXG4gICAgICB5LFxuICAgICAgejogWi5NT0RBTCxcbiAgICAgIHc6IGVmZl9idXR0b25fd2lkdGgsXG4gICAgICBoOiBlZmZfYnV0dG9uX2hlaWdodCxcbiAgICAgIHRleHQ6IGtleVxuICAgIH0pKSB7XG4gICAgICBkaWRfYnV0dG9uID0gaWk7XG4gICAgfVxuICAgIHggKz0gcGFkICsgZWZmX2J1dHRvbl93aWR0aDtcbiAgfVxuICAvLyBBbHNvIGNoZWNrIGxvdy1wcmlvcml0eSBrZXlzXG4gIGlmIChkaWRfYnV0dG9uID09PSAtMSkge1xuICAgIGZvciAobGV0IGlpID0gMDsgaWkgPCBrZXlzLmxlbmd0aDsgKytpaSkge1xuICAgICAgbGV0IGtleSA9IGtleXNbaWldO1xuICAgICAgbGV0IGVmZl9idXR0b25fa2V5cyA9IGJ1dHRvbl9rZXlzW2tleS50b0xvd2VyQ2FzZSgpXTtcbiAgICAgIGlmIChlZmZfYnV0dG9uX2tleXMgJiYgZWZmX2J1dHRvbl9rZXlzLmxvd19rZXkpIHtcbiAgICAgICAgZm9yIChsZXQgamogPSAwOyBqaiA8IGVmZl9idXR0b25fa2V5cy5sb3dfa2V5Lmxlbmd0aDsgKytqaikge1xuICAgICAgICAgIGlmIChnbG92X2lucHV0LmtleURvd25FZGdlKGVmZl9idXR0b25fa2V5cy5sb3dfa2V5W2pqXSkgfHwgZWZmX2J1dHRvbl9rZXlzLmxvd19rZXlbampdID09PSB0aWNrX2tleSkge1xuICAgICAgICAgICAgZGlkX2J1dHRvbiA9IGlpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuICBpZiAoZGlkX2J1dHRvbiAhPT0gLTEpIHtcbiAgICBsZXQga2V5ID0ga2V5c1tkaWRfYnV0dG9uXTtcbiAgICBwbGF5VUlTb3VuZCgnYnV0dG9uX2NsaWNrJyk7XG4gICAgbW9kYWxfZGlhbG9nID0gbnVsbDtcbiAgICBpZiAoYnV0dG9uc1trZXldKSB7XG4gICAgICBidXR0b25zW2tleV0oKTtcbiAgICB9XG4gIH1cbiAgeSArPSBlZmZfYnV0dG9uX2hlaWdodDtcbiAgeSArPSB2cGFkICsgcGFkO1xuICBwYW5lbCh7XG4gICAgeDogeDAsXG4gICAgeTogeTAsXG4gICAgejogWi5NT0RBTCAtIDEsXG4gICAgdzogZWZmX21vZGFsX3dpZHRoLFxuICAgIGg6IChmdWxsc2NyZWVuX21vZGUgPyBjYW1lcmEyZC55MSgpIDogeSkgLSB5MCxcbiAgICBwaXhlbF9zY2FsZTogcGFuZWxfcGl4ZWxfc2NhbGUgKiBnZW5lcmFsX3NjYWxlLFxuICB9KTtcblxuICBnbG92X2lucHV0LmVhdEFsbElucHV0KCk7XG4gIG1vZGFsX3N0ZWFsaW5nX2ZvY3VzID0gdHJ1ZTtcbiAgaWYgKGZ1bGxzY3JlZW5fbW9kZSkge1xuICAgIGNhbWVyYTJkLnBvcCgpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtb2RhbFRleHRFbnRyeShwYXJhbSkge1xuICBsZXQgZWIgPSBnbG92X2VkaXRfYm94LmNyZWF0ZSh7XG4gICAgYWxsb3dfbW9kYWw6IHRydWUsXG4gICAgaW5pdGlhbF9mb2N1czogdHJ1ZSxcbiAgICBzcGVsbGNoZWNrOiBmYWxzZSxcbiAgICBpbml0aWFsX3NlbGVjdDogdHJ1ZSxcbiAgICB0ZXh0OiBwYXJhbS5lZGl0X3RleHQsXG4gICAgbWF4X2xlbjogcGFyYW0ubWF4X2xlbixcbiAgICBlc2NfY2xlYXJzOiBmYWxzZSxcbiAgfSk7XG4gIGxldCBidXR0b25zID0ge307XG4gIGZvciAobGV0IGtleSBpbiBwYXJhbS5idXR0b25zKSB7XG4gICAgbGV0IHZhbCA9IHBhcmFtLmJ1dHRvbnNba2V5XTtcbiAgICBpZiAodHlwZW9mIHZhbCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdmFsID0gKGZ1bmN0aW9uIChvbGRfZm4pIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBvbGRfZm4oZWIuZ2V0VGV4dCgpKTtcbiAgICAgICAgfTtcbiAgICAgIH0odmFsKSk7XG4gICAgfVxuICAgIGJ1dHRvbnNba2V5XSA9IHZhbDtcbiAgfVxuICBwYXJhbS5idXR0b25zID0gYnV0dG9ucztcbiAgcGFyYW0udGV4dCA9IGAke3BhcmFtLnRleHQgfHwgJyd9YDtcbiAgbGV0IG9sZF90aWNrID0gcGFyYW0udGljaztcbiAgcGFyYW0udGljayA9IGZ1bmN0aW9uIChwYXJhbXMpIHtcbiAgICBsZXQgZWJfcmV0ID0gZWIucnVuKHtcbiAgICAgIHg6IHBhcmFtcy54LFxuICAgICAgeTogcGFyYW1zLnksXG4gICAgICB3OiBwYXJhbXMuYXZhaWxfd2lkdGggfHwgcGFyYW0uZWRpdF93LFxuICAgICAgZm9udF9oZWlnaHQ6IHBhcmFtcy5mb250X2hlaWdodCxcbiAgICB9KTtcbiAgICBpZiAoIXBhcmFtcy5mdWxsc2NyZWVuX21vZGUpIHtcbiAgICAgIHBhcmFtcy55ICs9IHBhcmFtcy5mb250X2hlaWdodCArIG1vZGFsX3BhZDtcbiAgICB9XG4gICAgbGV0IHJldDtcbiAgICBpZiAoZWJfcmV0ID09PSBlYi5TVUJNSVQpIHtcbiAgICAgIHJldCA9IEtFWVMuTzsgLy8gRG8gT0ssIFllc1xuICAgIH0gZWxzZSBpZiAoZWJfcmV0ID09PSBlYi5DQU5DRUwpIHtcbiAgICAgIHJldCA9IEtFWVMuRVNDOyAvLyBEbyBDYW5jZWwsIE5vXG4gICAgfVxuICAgIGlmIChvbGRfdGljaykge1xuICAgICAgcmV0ID0gb2xkX3RpY2socGFyYW1zKSB8fCByZXQ7XG4gICAgfVxuICAgIHJldHVybiByZXQ7XG4gIH07XG4gIG1vZGFsRGlhbG9nKHBhcmFtKTtcbn1cblxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRWRpdEJveChwYXJhbSkge1xuICByZXR1cm4gZ2xvdl9lZGl0X2JveC5jcmVhdGUocGFyYW0pO1xufVxuXG5jb25zdCBjb2xvcl9zbGlkZXJfaGFuZGxlID0gdmVjNCgxLDEsMSwxKTtcbmNvbnN0IGNvbG9yX3NsaWRlcl9oYW5kbGVfZ3JhYiA9IHZlYzQoMC41LDAuNSwwLjUsMSk7XG5jb25zdCBjb2xvcl9zbGlkZXJfaGFuZGxlX292ZXIgPSB2ZWM0KDAuNzUsMC43NSwwLjc1LDEpO1xuZXhwb3J0IGxldCBzbGlkZXJfZHJhZ2dpbmcgPSBmYWxzZTsgLy8gZm9yIGNhbGxlciBwb2xsaW5nXG4vLyBSZXR1cm5zIG5ldyB2YWx1ZVxuZXhwb3J0IGZ1bmN0aW9uIHNsaWRlcih2YWx1ZSwgcGFyYW0pIHtcbiAgLy8gcmVxdWlyZWQgcGFyYW1zXG4gIGFzc2VydCh0eXBlb2YgcGFyYW0ueCA9PT0gJ251bWJlcicpO1xuICBhc3NlcnQodHlwZW9mIHBhcmFtLnkgPT09ICdudW1iZXInKTtcbiAgYXNzZXJ0KHBhcmFtLm1pbiA8IHBhcmFtLm1heCk7IC8vIGFsc28gbXVzdCBiZSBudW1iZXJzXG4gIC8vIG9wdGlvbmFsIHBhcmFtc1xuICBwYXJhbS56ID0gcGFyYW0ueiB8fCBaLlVJO1xuICBwYXJhbS53ID0gcGFyYW0udyB8fCBidXR0b25fd2lkdGg7XG4gIHBhcmFtLmggPSBwYXJhbS5oIHx8IGJ1dHRvbl9oZWlnaHQ7XG4gIGxldCBkaXNhYmxlZCA9IHBhcmFtLmRpc2FibGVkIHx8IGZhbHNlO1xuXG4gIHNsaWRlcl9kcmFnZ2luZyA9IGZhbHNlO1xuXG4gIGRyYXdIQm94KHBhcmFtLCBzcHJpdGVzLnNsaWRlciwgcGFyYW0uY29sb3IpO1xuXG4gIGxldCB4b2ZmcyA9IHJvdW5kKHNwcml0ZXMuc2xpZGVyLnVpZGF0YS53aFswXSAqIHBhcmFtLmggLyAyKTtcbiAgbGV0IGRyYWdnYWJsZV93aWR0aCA9IHBhcmFtLncgLSB4b2ZmcyAqIDI7XG5cbiAgLy8gRHJhdyBub3RjaGVzIC0gd291bGQgYWxzbyBuZWVkIHRvIHF1YW50aXplIHRoZSB2YWx1ZXMgYmVsb3dcbiAgLy8gaWYgKCFzbGlkZXItPm5vX25vdGNoZXMpIHtcbiAgLy8gICBmbG9hdCBzcGFjZV9mb3Jfbm90Y2hlcyA9IHdpZHRoIC0geG9mZnMgKiA0O1xuICAvLyAgIGludCBudW1fbm90Y2hlcyA9IG1heCAtIDE7XG4gIC8vICAgZmxvYXQgbm90Y2hfdyA9IHRpbGVfc2NhbGUgKiBnbG92X3VpX3NsaWRlcl9ub3RjaC0+R2V0VGlsZVdpZHRoKCk7XG4gIC8vICAgZmxvYXQgbm90Y2hfaCA9IHRpbGVfc2NhbGUgKiBnbG92X3VpX3NsaWRlcl9ub3RjaC0+R2V0VGlsZUhlaWdodCgpO1xuICAvLyAgIGZsb2F0IG1heF9ub3RjaGVzID0gc3BhY2VfZm9yX25vdGNoZXMgLyAobm90Y2hfdyArIDIpO1xuICAvLyAgIGludCBub3RjaF9pbmMgPSAxO1xuICAvLyAgIGlmIChudW1fbm90Y2hlcyA+IG1heF9ub3RjaGVzKVxuICAvLyAgICAgbm90Y2hfaW5jID0gY2VpbChudW1fbm90Y2hlcyAvIGZsb29yKG1heF9ub3RjaGVzKSk7XG5cbiAgLy8gICBmb3IgKGludCBpaSA9IDE7IGlpKm5vdGNoX2luYyA8PSBudW1fbm90Y2hlczsgaWkrKykge1xuICAvLyAgICAgZmxvYXQgbm90Y2hfeF9taWQgPSB4ICsgeG9mZnMgKyBkcmFnZ2FibGVfd2lkdGggKiBpaSAqIG5vdGNoX2luYyAvIChmbG9hdCltYXg7XG4gIC8vICAgICBpZiAobm90Y2hfeF9taWQgLSBub3RjaF93LzIgPCB4ICsgeG9mZnMgKiAyKVxuICAvLyAgICAgICBjb250aW51ZTtcbiAgLy8gICAgIGlmIChub3RjaF94X21pZCArIG5vdGNoX3cvMiA+IHggKyB3aWR0aCAtIHhvZmZzICogMilcbiAgLy8gICAgICAgY29udGludWU7XG4gIC8vICAgICBnbG92X3VpX3NsaWRlcl9ub3RjaC0+RHJhd1N0cmV0Y2hlZENvbG9yKG5vdGNoX3hfbWlkIC0gbm90Y2hfdyAvIDIsIHkgKyB5b2ZmcyxcbiAgLy8gICAgICAgeiArIDAuMjUsIG5vdGNoX3csIG5vdGNoX2gsIDAsIGNvbG9yKTtcbiAgLy8gICB9XG4gIC8vIH1cblxuICAvLyBIYW5kbGVcbiAgbGV0IGRyYWcgPSAhZGlzYWJsZWQgJiYgZ2xvdl9pbnB1dC5kcmFnKHBhcmFtKTtcbiAgbGV0IGdyYWJiZWQgPSBCb29sZWFuKGRyYWcpO1xuICBsZXQgY2xpY2sgPSBnbG92X2lucHV0LmNsaWNrKHBhcmFtKTtcbiAgaWYgKGNsaWNrKSB7XG4gICAgZ3JhYmJlZCA9IGZhbHNlO1xuICAgIC8vIHVwZGF0ZSBwb3NcbiAgICB2YWx1ZSA9IChjbGljay5wb3NbMF0gLSAocGFyYW0ueCArIHhvZmZzKSkgLyBkcmFnZ2FibGVfd2lkdGg7XG4gICAgdmFsdWUgPSBwYXJhbS5taW4gKyAocGFyYW0ubWF4IC0gcGFyYW0ubWluKSAqIGNsYW1wKHZhbHVlLCAwLCAxKTtcbiAgICBwbGF5VUlTb3VuZCgnYnV0dG9uX2NsaWNrJyk7XG4gIH0gZWxzZSBpZiAoZ3JhYmJlZCkge1xuICAgIC8vIHVwZGF0ZSBwb3NcbiAgICB2YWx1ZSA9IChkcmFnLmN1cl9wb3NbMF0gLSAocGFyYW0ueCArIHhvZmZzKSkgLyBkcmFnZ2FibGVfd2lkdGg7XG4gICAgdmFsdWUgPSBwYXJhbS5taW4gKyAocGFyYW0ubWF4IC0gcGFyYW0ubWluKSAqIGNsYW1wKHZhbHVlLCAwLCAxKTtcbiAgICAvLyBFYXQgYWxsIG1vdXNlb3ZlcnMgd2hpbGUgZHJhZ2dpbmdcbiAgICBnbG92X2lucHV0Lm1vdXNlT3ZlcigpO1xuICAgIHNsaWRlcl9kcmFnZ2luZyA9IHRydWU7XG4gIH1cbiAgbGV0IHJvbGxvdmVyID0gIWRpc2FibGVkICYmIGdsb3ZfaW5wdXQubW91c2VPdmVyKHBhcmFtKTtcbiAgbGV0IGhhbmRsZV9jZW50ZXJfcG9zID0gcGFyYW0ueCArIHhvZmZzICsgZHJhZ2dhYmxlX3dpZHRoICogKHZhbHVlIC0gcGFyYW0ubWluKSAvIChwYXJhbS5tYXggLSBwYXJhbS5taW4pO1xuICBsZXQgaGFuZGxlX2ggPSBwYXJhbS5oO1xuICBsZXQgaGFuZGxlX3cgPSBzcHJpdGVzLnNsaWRlcl9oYW5kbGUudWlkYXRhLndoWzBdICogaGFuZGxlX2g7XG4gIGxldCBoYW5kbGVfeCA9IGhhbmRsZV9jZW50ZXJfcG9zIC0gaGFuZGxlX3cgLyAyO1xuICBsZXQgaGFuZGxlX3kgPSBwYXJhbS55ICsgcGFyYW0uaCAvIDIgLSBoYW5kbGVfaCAvIDI7XG4gIGxldCBoYW5kbGVfY29sb3IgPSBjb2xvcl9zbGlkZXJfaGFuZGxlO1xuICBpZiAoZ3JhYmJlZCkge1xuICAgIGhhbmRsZV9jb2xvciA9IGNvbG9yX3NsaWRlcl9oYW5kbGVfZ3JhYjtcbiAgfSBlbHNlIGlmIChyb2xsb3Zlcikge1xuICAgIGhhbmRsZV9jb2xvciA9IGNvbG9yX3NsaWRlcl9oYW5kbGVfb3ZlcjtcbiAgfVxuXG4gIHNwcml0ZXMuc2xpZGVyX2hhbmRsZS5kcmF3KHtcbiAgICB4OiBoYW5kbGVfeCxcbiAgICB5OiBoYW5kbGVfeSxcbiAgICB6OiBwYXJhbS56ICsgMC4xLFxuICAgIHc6IGhhbmRsZV93LFxuICAgIGg6IGhhbmRsZV9oLFxuICAgIGNvbG9yOiBoYW5kbGVfY29sb3IsXG4gICAgZnJhbWU6IDAsXG4gIH0pO1xuXG4gIHJldHVybiB2YWx1ZTtcbn1cblxubGV0IHBwX2JhZF9mcmFtZXMgPSAwO1xuXG5leHBvcnQgZnVuY3Rpb24gdGlja1VJKGR0KSB7XG4gIGxhc3RfZnJhbWVfYnV0dG9uX21vdXNlb3ZlciA9IGZyYW1lX2J1dHRvbl9tb3VzZW92ZXI7XG4gIGZyYW1lX2J1dHRvbl9tb3VzZW92ZXIgPSBmYWxzZTtcbiAgZm9jdXNlZF9sYXN0X2ZyYW1lID0gZm9jdXNlZF90aGlzX2ZyYW1lO1xuICBmb2N1c2VkX3RoaXNfZnJhbWUgPSBmYWxzZTtcbiAgZm9jdXNlZF9rZXlfbm90ID0gbnVsbDtcbiAgbW9kYWxfc3RlYWxpbmdfZm9jdXMgPSBmYWxzZTtcbiAgdG91Y2hfY2hhbmdlZF9mb2N1cyA9IGZhbHNlO1xuICBwZXJfZnJhbWVfZG9tX2FsbG9jW2dsb3ZfZW5naW5lLmZyYW1lX2luZGV4ICUgcGVyX2ZyYW1lX2RvbV9hbGxvYy5sZW5ndGhdID0gMDtcblxuICBsYXN0X2ZyYW1lX2VkaXRfYm94ZXMgPSBleHBvcnRzLnRoaXNfZnJhbWVfZWRpdF9ib3hlcztcbiAgZXhwb3J0cy50aGlzX2ZyYW1lX2VkaXRfYm94ZXMgPSBbXTtcbiAgbGlua1RpY2soKTtcblxuICBkb21fZWxlbXNfaXNzdWVkID0gMDtcblxuICBsZXQgcHBfdGhpc19mcmFtZSA9IGZhbHNlO1xuICBpZiAobW9kYWxfZGlhbG9nIHx8IG1lbnVfdXApIHtcbiAgICBsZXQgcGFyYW1zID0gbWVudV9mYWRlX3BhcmFtcztcbiAgICBpZiAoIW1lbnVfdXApIHtcbiAgICAgIC8vIE1vZGFscyBnZXQgZGVmYXVsdHNcbiAgICAgIHBhcmFtcyA9IG1lbnVfZmFkZV9wYXJhbXNfZGVmYXVsdDtcbiAgICB9XG4gICAgbWVudV91cF90aW1lICs9IGR0O1xuICAgIC8vIEVmZmVjdHMgZHVyaW5nIG1vZGFsIGRpYWxvZ3NcbiAgICBsZXQgZmFjdG9yID0gbWluKG1lbnVfdXBfdGltZSAvIDUwMCwgMSk7XG4gICAgaWYgKGdsb3ZfZW5naW5lLnBvc3Rwcm9jZXNzaW5nICYmICFnbG92X2VuZ2luZS5kZWZpbmVzLk5PUFApIHtcbiAgICAgIGdsb3Zfc3ByaXRlcy5xdWV1ZWZuKHBhcmFtcy56IC0gMiwgZG9CbHVyRWZmZWN0LmJpbmQobnVsbCwgZmFjdG9yLCBwYXJhbXMpKTtcbiAgICAgIGdsb3Zfc3ByaXRlcy5xdWV1ZWZuKHBhcmFtcy56IC0gMSwgZG9EZXNhdHVyYXRlRWZmZWN0LmJpbmQobnVsbCwgZmFjdG9yLCBwYXJhbXMpKTtcbiAgICAgIHBwX3RoaXNfZnJhbWUgPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBPciwganVzdCBkYXJrZW5cbiAgICAgIHNwcml0ZXMud2hpdGUuZHJhdyh7XG4gICAgICAgIHg6IGNhbWVyYTJkLngwUmVhbCgpLFxuICAgICAgICB5OiBjYW1lcmEyZC55MFJlYWwoKSxcbiAgICAgICAgejogcGFyYW1zLnogLSAyLFxuICAgICAgICBjb2xvcjogcGFyYW1zLmZhbGxiYWNrX2RhcmtlbixcbiAgICAgICAgdzogY2FtZXJhMmQud1JlYWwoKSxcbiAgICAgICAgaDogY2FtZXJhMmQuaFJlYWwoKSxcbiAgICAgIH0pO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBtZW51X3VwX3RpbWUgPSAwO1xuICB9XG4gIG1lbnVfdXAgPSBmYWxzZTtcblxuICBpZiAoIWdsb3ZfZW5naW5lLmlzX2xvYWRpbmcgJiYgZ2xvdl9lbmdpbmUuZ2V0RnJhbWVEdEFjdHVhbCgpID4gNTAgJiYgcHBfdGhpc19mcmFtZSkge1xuICAgIHBwX2JhZF9mcmFtZXMgPSAocHBfYmFkX2ZyYW1lcyB8fCAwKSArIDE7XG4gICAgaWYgKHBwX2JhZF9mcmFtZXMgPj0gNikgeyAvLyA2IGluIGEgcm93LCBkaXNhYmxlIHN1cGVyZmx1b3VzIHBvc3Rwcm9jZXNzaW5nXG4gICAgICBnbG92X2VuZ2luZS5wb3N0cHJvY2Vzc2luZ0FsbG93KGZhbHNlKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAocHBfYmFkX2ZyYW1lcykge1xuICAgIHBwX2JhZF9mcmFtZXMgPSAwO1xuICB9XG5cblxuICBpZiAobW9kYWxfZGlhbG9nKSB7XG4gICAgbW9kYWxEaWFsb2dSdW4oKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZW5kRnJhbWUoKSB7XG4gIGlmIChnbG92X2lucHV0LmNsaWNrKHtcbiAgICB4OiAtSW5maW5pdHksIHk6IC1JbmZpbml0eSxcbiAgICB3OiBJbmZpbml0eSwgaDogSW5maW5pdHksXG4gIH0pKSB7XG4gICAgZm9jdXNTdGVhbCgnY2FudmFzJyk7XG4gIH1cblxuICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgbGFzdF9mcmFtZV9lZGl0X2JveGVzLmxlbmd0aDsgKytpaSkge1xuICAgIGxldCBlZGl0X2JveCA9IGxhc3RfZnJhbWVfZWRpdF9ib3hlc1tpaV07XG4gICAgbGV0IGlkeCA9IGV4cG9ydHMudGhpc19mcmFtZV9lZGl0X2JveGVzLmluZGV4T2YoZWRpdF9ib3gpO1xuICAgIGlmIChpZHggPT09IC0xKSB7XG4gICAgICBlZGl0X2JveC51bnJ1bigpO1xuICAgIH1cbiAgfVxuXG4gIHdoaWxlIChkb21fZWxlbXNfaXNzdWVkIDwgZG9tX2VsZW1zLmxlbmd0aCkge1xuICAgIGxldCBlbGVtID0gZG9tX2VsZW1zLnBvcCgpO1xuICAgIGR5bmFtaWNfdGV4dF9lbGVtLnJlbW92ZUNoaWxkKGVsZW0pO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtZW51VXAocGFyYW0pIHtcbiAgbWVyZ2UobWVudV9mYWRlX3BhcmFtcywgbWVudV9mYWRlX3BhcmFtc19kZWZhdWx0KTtcbiAgaWYgKHBhcmFtKSB7XG4gICAgbWVyZ2UobWVudV9mYWRlX3BhcmFtcywgcGFyYW0pO1xuICB9XG4gIG1lbnVfdXAgPSB0cnVlO1xuICBtb2RhbF9zdGVhbGluZ19mb2N1cyA9IHRydWU7XG4gIGdsb3ZfaW5wdXQuZWF0QWxsSW5wdXQoKTtcbn1cblxuZnVuY3Rpb24gY29weVRleHRUb0NsaXBib2FyZCh0ZXh0KSB7XG4gIGxldCB0ZXh0QXJlYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RleHRhcmVhJyk7XG4gIHRleHRBcmVhLnN0eWxlLnBvc2l0aW9uID0gJ2ZpeGVkJztcbiAgdGV4dEFyZWEuc3R5bGUudG9wID0gMDtcbiAgdGV4dEFyZWEuc3R5bGUubGVmdCA9IDA7XG4gIHRleHRBcmVhLnN0eWxlLndpZHRoID0gJzJlbSc7XG4gIHRleHRBcmVhLnN0eWxlLmhlaWdodCA9ICcyZW0nO1xuICB0ZXh0QXJlYS5zdHlsZS5ib3JkZXIgPSAnbm9uZSc7XG4gIHRleHRBcmVhLnN0eWxlLm91dGxpbmUgPSAnbm9uZSc7XG4gIHRleHRBcmVhLnN0eWxlLmJveFNoYWRvdyA9ICdub25lJztcbiAgdGV4dEFyZWEuc3R5bGUuYmFja2dyb3VuZCA9ICd0cmFuc3BhcmVudCc7XG4gIHRleHRBcmVhLnZhbHVlID0gdGV4dDtcblxuICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRleHRBcmVhKTtcbiAgdGV4dEFyZWEuZm9jdXMoKTtcbiAgdGV4dEFyZWEuc2VsZWN0KCk7XG5cbiAgbGV0IHJldCA9IGZhbHNlO1xuICB0cnkge1xuICAgIHJldCA9IGRvY3VtZW50LmV4ZWNDb21tYW5kKCdjb3B5Jyk7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIC8vIGRvIG5vdGhpbmdcbiAgfVxuXG4gIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQodGV4dEFyZWEpO1xuICByZXR1cm4gcmV0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcHJvdmlkZVVzZXJTdHJpbmcodGl0bGUsIHRoaW5nLCBzdHIpIHtcbiAgbGV0IGNvcHlfc3VjY2VzcyA9IGNvcHlUZXh0VG9DbGlwYm9hcmQoc3RyKTtcbiAgbW9kYWxUZXh0RW50cnkoe1xuICAgIGVkaXRfdzogNDAwLFxuICAgIGVkaXRfdGV4dDogc3RyLFxuICAgIHRpdGxlLFxuICAgIHRleHQ6IGNvcHlfc3VjY2VzcyA/IGAke3RoaW5nfSBjb3BpZWQgdG8gY2xpcGJvYXJkIWAgOiAnQ29weSB0byBjbGlwYm9hcmQgRkFJTEVELCBwbGVhc2UgY29weSBmcm9tIGJlbG93XFxuJyxcbiAgICBidXR0b25zOiB7XG4gICAgICBPSzogbnVsbCxcbiAgICB9LFxuICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRyYXdSZWN0KHgwLCB5MCwgeDEsIHkxLCB6LCBjb2xvcikge1xuICBsZXQgbXggPSBtaW4oeDAsIHgxKTtcbiAgbGV0IG15ID0gbWluKHkwLCB5MSk7XG4gIGxldCBNeCA9IG1heCh4MCwgeDEpO1xuICBsZXQgTXkgPSBtYXgoeTAsIHkxKTtcbiAgc3ByaXRlcy53aGl0ZS5kcmF3KHtcbiAgICB4OiBteCxcbiAgICB5OiBteSxcbiAgICB6LFxuICAgIGNvbG9yLFxuICAgIHc6IE14IC0gbXgsXG4gICAgaDogTXkgLSBteSxcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHNwcmVhZFRlY2hQYXJhbXMoc3ByZWFkKSB7XG4gIC8vIHNwcmVhZD0wIC0+IDFcbiAgLy8gc3ByZWFkPTAuNSAtPiAyXG4gIC8vIHNwcmVhZD0wLjc1IC0+IDRcbiAgLy8gc3ByZWFkPTEgLT4gbGFyZ2UgZW5vdWdoIHRvIEFBXG4gIHNwcmVhZCA9IG1pbihtYXgoc3ByZWFkLCAwKSwgMC45OSk7XG5cbiAgbGV0IHRlY2hfcGFyYW1zID0ge1xuICAgIHBhcmFtMDogdmVjNCgwLDAsMCwwKSxcbiAgfTtcblxuICB0ZWNoX3BhcmFtcy5wYXJhbTBbMF0gPSAxIC8gKDEgLSBzcHJlYWQpO1xuICB0ZWNoX3BhcmFtcy5wYXJhbTBbMV0gPSAtMC41ICogdGVjaF9wYXJhbXMucGFyYW0wWzBdICsgMC41O1xuICByZXR1cm4gdGVjaF9wYXJhbXM7XG59XG5cbmZ1bmN0aW9uIGRyYXdFbGlwc2VJbnRlcm5hbChzcHJpdGUsIHgwLCB5MCwgeDEsIHkxLCB6LCBzcHJlYWQsIHR1MCwgdHYwLCB0dTEsIHR2MSwgY29sb3IpIHtcbiAgZ2xvdl9zcHJpdGVzLnF1ZXVlcmF3KHNwcml0ZS50ZXhzLFxuICAgIHgwLCB5MCwgeiwgeDEgLSB4MCwgeTEgLSB5MCxcbiAgICB0dTAsIHR2MCwgdHUxLCB0djEsXG4gICAgY29sb3IsIGdsb3ZfZm9udC5mb250X3NoYWRlcnMuZm9udF9hYSwgc3ByZWFkVGVjaFBhcmFtcyhzcHJlYWQpKTtcbn1cblxuZnVuY3Rpb24gZHJhd0NpcmNsZUludGVybmFsKHNwcml0ZSwgeCwgeSwgeiwgciwgc3ByZWFkLCB0dTAsIHR2MCwgdHUxLCB0djEsIGNvbG9yKSB7XG4gIGxldCB4MCA9IHggLSByICogMiArIHIgKiA0ICogdHUwO1xuICBsZXQgeDEgPSB4IC0gciAqIDIgKyByICogNCAqIHR1MTtcbiAgbGV0IHkwID0geSAtIHIgKiAyICsgciAqIDQgKiB0djA7XG4gIGxldCB5MSA9IHkgLSByICogMiArIHIgKiA0ICogdHYxO1xuICBkcmF3RWxpcHNlSW50ZXJuYWwoc3ByaXRlLCB4MCwgeTAsIHgxLCB5MSwgeiwgc3ByZWFkLCB0dTAsIHR2MCwgdHUxLCB0djEsIGNvbG9yKTtcbn1cblxuZnVuY3Rpb24gaW5pdENpcmNsZVNwcml0ZSgpIHtcbiAgY29uc3QgQ0lSQ0xFX1NJWkUgPSAzMjtcbiAgbGV0IGRhdGEgPSBuZXcgVWludDhBcnJheShDSVJDTEVfU0laRSpDSVJDTEVfU0laRSk7XG4gIGxldCBtaWRwID0gKENJUkNMRV9TSVpFIC0gMSkgLyAyO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IENJUkNMRV9TSVpFOyBpKyspIHtcbiAgICBmb3IgKGxldCBqID0gMDsgaiA8IENJUkNMRV9TSVpFOyBqKyspIHtcbiAgICAgIGxldCBkID0gc3FydCgoaSAtIG1pZHApKihpIC0gbWlkcCkgKyAoaiAtIG1pZHApKihqIC0gbWlkcCkpIC8gbWlkcDtcbiAgICAgIGxldCB2ID0gY2xhbXAoMSAtIGQsIDAsIDEpO1xuICAgICAgZGF0YVtpICsgaipDSVJDTEVfU0laRV0gPSB2ICogMjU1O1xuICAgIH1cbiAgfVxuICBzcHJpdGVzLmNpcmNsZSA9IGdsb3Zfc3ByaXRlcy5jcmVhdGUoe1xuICAgIHVybDogJ2NpcmNsZScsXG4gICAgd2lkdGg6IENJUkNMRV9TSVpFLCBoZWlnaHQ6IENJUkNMRV9TSVpFLFxuICAgIGZvcm1hdDogdGV4dHVyZXMuZm9ybWF0LlI4LFxuICAgIGRhdGEsXG4gICAgZmlsdGVyX21pbjogZ2wuTElORUFSLFxuICAgIGZpbHRlcl9tYXg6IGdsLkxJTkVBUixcbiAgICB3cmFwX3M6IGdsLkNMQU1QX1RPX0VER0UsXG4gICAgd3JhcF90OiBnbC5DTEFNUF9UT19FREdFLFxuICAgIG9yaWdpbjogdmVjMigwLjUsIDAuNSksXG4gIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZHJhd0VsaXBzZSh4MCwgeTAsIHgxLCB5MSwgeiwgc3ByZWFkLCBjb2xvcikge1xuICBpZiAoIXNwcml0ZXMuY2lyY2xlKSB7XG4gICAgaW5pdENpcmNsZVNwcml0ZSgpO1xuICB9XG4gIGRyYXdFbGlwc2VJbnRlcm5hbChzcHJpdGVzLmNpcmNsZSwgeDAsIHkwLCB4MSwgeTEsIHosIHNwcmVhZCwgMCwgMCwgMSwgMSwgY29sb3IpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZHJhd0NpcmNsZSh4LCB5LCB6LCByLCBzcHJlYWQsIGNvbG9yKSB7XG4gIGlmICghc3ByaXRlcy5jaXJjbGUpIHtcbiAgICBpbml0Q2lyY2xlU3ByaXRlKCk7XG4gIH1cbiAgZHJhd0NpcmNsZUludGVybmFsKHNwcml0ZXMuY2lyY2xlLCB4LCB5LCB6LCByLCBzcHJlYWQsIDAsIDAsIDEsIDEsIGNvbG9yKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRyYXdIb2xsb3dDaXJjbGUoeCwgeSwgeiwgciwgc3ByZWFkLCBjb2xvcikge1xuICBpZiAoIXNwcml0ZXMuaG9sbG93X2NpcmNsZSkge1xuICAgIGNvbnN0IENJUkNMRV9TSVpFID0gMTI4O1xuICAgIGNvbnN0IExJTkVfVyA9IDI7XG4gICAgbGV0IGRhdGEgPSBuZXcgVWludDhBcnJheShDSVJDTEVfU0laRSpDSVJDTEVfU0laRSk7XG4gICAgbGV0IG1pZHAgPSAoQ0lSQ0xFX1NJWkUgLSAxKSAvIDI7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBDSVJDTEVfU0laRTsgaSsrKSB7XG4gICAgICBmb3IgKGxldCBqID0gMDsgaiA8IENJUkNMRV9TSVpFOyBqKyspIHtcbiAgICAgICAgbGV0IGQgPSBzcXJ0KChpIC0gbWlkcCkqKGkgLSBtaWRwKSArIChqIC0gbWlkcCkqKGogLSBtaWRwKSkgLyBtaWRwO1xuICAgICAgICBsZXQgdiA9IGNsYW1wKDEgLSBkLCAwLCAxKTtcbiAgICAgICAgaWYgKHYgPiAwLjUpIHtcbiAgICAgICAgICB2ID0gMSAtIHY7XG4gICAgICAgIH1cbiAgICAgICAgdiArPSAoTElORV9XIC8gQ0lSQ0xFX1NJWkUpO1xuICAgICAgICBkYXRhW2kgKyBqKkNJUkNMRV9TSVpFXSA9IHYgKiAyNTU7XG4gICAgICB9XG4gICAgfVxuICAgIHNwcml0ZXMuaG9sbG93X2NpcmNsZSA9IGdsb3Zfc3ByaXRlcy5jcmVhdGUoe1xuICAgICAgdXJsOiAnaG9sbG93X2NpcmNsZScsXG4gICAgICB3aWR0aDogQ0lSQ0xFX1NJWkUsIGhlaWdodDogQ0lSQ0xFX1NJWkUsXG4gICAgICBmb3JtYXQ6IHRleHR1cmVzLmZvcm1hdC5SOCxcbiAgICAgIGRhdGEsXG4gICAgICBmaWx0ZXJfbWluOiBnbC5MSU5FQVIsXG4gICAgICBmaWx0ZXJfbWF4OiBnbC5MSU5FQVIsXG4gICAgICB3cmFwX3M6IGdsLkNMQU1QX1RPX0VER0UsXG4gICAgICB3cmFwX3Q6IGdsLkNMQU1QX1RPX0VER0UsXG4gICAgICBvcmlnaW46IHZlYzIoMC41LCAwLjUpLFxuICAgIH0pO1xuICB9XG4gIGRyYXdDaXJjbGVJbnRlcm5hbChzcHJpdGVzLmhvbGxvd19jaXJjbGUsIHgsIHksIHosIHIsIHNwcmVhZCwgMCwgMCwgMSwgMSwgY29sb3IpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZHJhd0xpbmUoeDAsIHkwLCB4MSwgeTEsIHosIHcsIHNwcmVhZCwgY29sb3IpIHtcbiAgaWYgKCFzcHJpdGVzLmxpbmUpIHtcbiAgICBjb25zdCBMSU5FX1NJWkU9MzI7XG4gICAgbGV0IGRhdGEgPSBuZXcgVWludDhBcnJheShMSU5FX1NJWkUqTElORV9TSVpFKTtcbiAgICBsZXQgbWlkcCA9IChMSU5FX1NJWkUgLSAxKSAvIDI7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBMSU5FX1NJWkU7IGkrKykge1xuICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBMSU5FX1NJWkU7IGorKykge1xuICAgICAgICBsZXQgZCA9IGFicygoaSAtIG1pZHApIC8gbWlkcCk7XG4gICAgICAgIGxldCB2ID0gY2xhbXAoMSAtIGQsIDAsIDEpO1xuICAgICAgICBkYXRhW2kgKyBqKkxJTkVfU0laRV0gPSB2ICogMjU1O1xuICAgICAgfVxuICAgIH1cbiAgICBzcHJpdGVzLmxpbmUgPSBnbG92X3Nwcml0ZXMuY3JlYXRlKHtcbiAgICAgIHVybDogJ2xpbmUnLFxuICAgICAgd2lkdGg6IExJTkVfU0laRSwgaGVpZ2h0OiBMSU5FX1NJWkUsXG4gICAgICBmb3JtYXQ6IHRleHR1cmVzLmZvcm1hdC5SOCxcbiAgICAgIGRhdGEsXG4gICAgICBmaWx0ZXJfbWluOiBnbC5MSU5FQVIsXG4gICAgICBmaWx0ZXJfbWF4OiBnbC5MSU5FQVIsXG4gICAgICB3cmFwX3M6IGdsLkNMQU1QX1RPX0VER0UsXG4gICAgICB3cmFwX3Q6IGdsLkNMQU1QX1RPX0VER0UsXG4gICAgICBvcmlnaW46IHZlYzIoMC41LCAwLjUpLFxuICAgIH0pO1xuICB9XG5cbiAgbGV0IGR4ID0geDEgLSB4MDtcbiAgbGV0IGR5ID0geTEgLSB5MDtcbiAgbGV0IGxlbmd0aCA9IE1hdGguc3FydChkeCpkeCArIGR5KmR5KTtcbiAgZHggLz0gbGVuZ3RoO1xuICBkeSAvPSBsZW5ndGg7XG4gIGxldCB0YW5neCA9IC1keSAqIHc7XG4gIGxldCB0YW5neSA9IGR4ICogdztcblxuICBnbG92X3Nwcml0ZXMucXVldWVyYXc0KHNwcml0ZXMubGluZS50ZXhzLFxuICAgIHgwICsgdGFuZ3gsIHkwICsgdGFuZ3ksXG4gICAgeDEgKyB0YW5neCwgeTEgKyB0YW5neSxcbiAgICB4MSAtIHRhbmd4LCB5MSAtIHRhbmd5LFxuICAgIHgwIC0gdGFuZ3gsIHkwIC0gdGFuZ3ksXG4gICAgeixcbiAgICAwLCAwLCAxLCAxLFxuICAgIGNvbG9yLCBnbG92X2ZvbnQuZm9udF9zaGFkZXJzLmZvbnRfYWEsIHNwcmVhZFRlY2hQYXJhbXMoc3ByZWFkKSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkcmF3Q29uZSh4MCwgeTAsIHgxLCB5MSwgeiwgdzAsIHcxLCBzcHJlYWQsIGNvbG9yKSB7XG4gIGlmICghc3ByaXRlcy5jb25lKSB7XG4gICAgY29uc3QgQ09ORV9TSVpFID0gMzI7XG4gICAgbGV0IGRhdGEgPSBuZXcgVWludDhBcnJheShDT05FX1NJWkUqQ09ORV9TSVpFKTtcbiAgICBsZXQgbWlkcCA9IChDT05FX1NJWkUgLSAxKSAvIDI7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBDT05FX1NJWkU7IGkrKykge1xuICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBDT05FX1NJWkU7IGorKykge1xuICAgICAgICBsZXQgZHggPSAwO1xuICAgICAgICBsZXQgZHkgPSAwO1xuICAgICAgICBsZXQgZCA9IDA7XG4gICAgICAgIGlmIChpID4gbWlkcCkge1xuICAgICAgICAgIGR4ID0gKGkgLSBtaWRwKSAvIG1pZHA7XG4gICAgICAgICAgZHkgPSBhYnMoaiAtIG1pZHApIC8gbWlkcDtcbiAgICAgICAgICBsZXQgZENpcmNsZSA9IHNxcnQoZHgqZHggKyBkeSpkeSk7XG4gICAgICAgICAgZCA9IGR4ICogZENpcmNsZTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgdiA9IGNsYW1wKDEgLSBkLCAwLCAxKTtcbiAgICAgICAgZGF0YVtpICsgaipDT05FX1NJWkVdID0gdiAqIDI1NTtcbiAgICAgIH1cbiAgICB9XG4gICAgc3ByaXRlcy5jb25lID0gZ2xvdl9zcHJpdGVzLmNyZWF0ZSh7XG4gICAgICB1cmw6ICdjb25lJyxcbiAgICAgIHdpZHRoOiBDT05FX1NJWkUsIGhlaWdodDogQ09ORV9TSVpFLFxuICAgICAgZm9ybWF0OiB0ZXh0dXJlcy5mb3JtYXQuUjgsXG4gICAgICBkYXRhLFxuICAgICAgZmlsdGVyX21pbjogZ2wuTElORUFSLFxuICAgICAgZmlsdGVyX21heDogZ2wuTElORUFSLFxuICAgICAgd3JhcF9zOiBnbC5DTEFNUF9UT19FREdFLFxuICAgICAgd3JhcF90OiBnbC5DTEFNUF9UT19FREdFLFxuICAgICAgb3JpZ2luOiB2ZWMyKDAuNSwgMC41KSxcbiAgICB9KTtcbiAgfVxuICBsZXQgZHggPSB4MSAtIHgwO1xuICBsZXQgZHkgPSB5MSAtIHkwO1xuICBsZXQgbGVuZ3RoID0gTWF0aC5zcXJ0KGR4KmR4ICsgZHkqZHkpO1xuICBkeCAvPSBsZW5ndGg7XG4gIGR5IC89IGxlbmd0aDtcbiAgbGV0IHRhbmd4ID0gLWR5O1xuICBsZXQgdGFuZ3kgPSBkeDtcbiAgZ2xvdl9zcHJpdGVzLnF1ZXVlcmF3NChzcHJpdGVzLmNvbmUudGV4cyxcbiAgICB4MCAtIHRhbmd4KncwLCB5MCAtIHRhbmd5KncwLFxuICAgIHgwICsgdGFuZ3gqdzAsIHkwICsgdGFuZ3kqdzAsXG4gICAgeDEgKyB0YW5neCp3MSwgeTEgKyB0YW5neSp3MSxcbiAgICB4MSAtIHRhbmd4KncxLCB5MSAtIHRhbmd5KncxLFxuICAgIHosXG4gICAgMCwgMCwgMSwgMSxcbiAgICBjb2xvciwgZ2xvdl9mb250LmZvbnRfc2hhZGVycy5mb250X2FhLCBzcHJlYWRUZWNoUGFyYW1zKHNwcmVhZCkpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2NhbGVTaXplcyhzY2FsZSkge1xuICBidXR0b25faGVpZ2h0ID0gcm91bmQoMzIgKiBzY2FsZSk7XG4gIGZvbnRfaGVpZ2h0ID0gcm91bmQoMjQgKiBzY2FsZSk7XG4gIGJ1dHRvbl93aWR0aCA9IHJvdW5kKDIwMCAqIHNjYWxlKTtcbiAgYnV0dG9uX2ltZ19zaXplID0gYnV0dG9uX2hlaWdodDtcbiAgbW9kYWxfYnV0dG9uX3dpZHRoID0gcm91bmQoYnV0dG9uX3dpZHRoIC8gMik7XG4gIG1vZGFsX3dpZHRoID0gcm91bmQoNjAwICogc2NhbGUpO1xuICBtb2RhbF95MCA9IHJvdW5kKDIwMCAqIHNjYWxlKTtcbiAgbW9kYWxfdGl0bGVfc2NhbGUgPSAxLjI7XG4gIG1vZGFsX3BhZCA9IHJvdW5kKDE2ICogc2NhbGUpO1xuICB0b29sdGlwX3dpZHRoID0gcm91bmQoNDAwICogc2NhbGUpO1xuICB0b29sdGlwX3BhZCA9IHJvdW5kKDggKiBzY2FsZSk7XG4gIHBhbmVsX3BpeGVsX3NjYWxlID0gYnV0dG9uX2hlaWdodCAvIDEzOyAvLyBidXR0b25faGVpZ2h0IC8gcGFuZWwgcGl4ZWwgcmVzb2x1dGlvblxuICB0b29sdGlwX3BhbmVsX3BpeGVsX3NjYWxlID0gcGFuZWxfcGl4ZWxfc2NhbGU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRQYW5lbFBpeGVsU2NhbGUoc2NhbGUpIHtcbiAgdG9vbHRpcF9wYW5lbF9waXhlbF9zY2FsZSA9IHBhbmVsX3BpeGVsX3NjYWxlID0gc2NhbGU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRNb2RhbFNpemVzKF9tb2RhbF9idXR0b25fd2lkdGgsIHdpZHRoLCB5MCwgdGl0bGVfc2NhbGUsIHBhZCkge1xuICBtb2RhbF9idXR0b25fd2lkdGggPSBfbW9kYWxfYnV0dG9uX3dpZHRoIHx8IHJvdW5kKGJ1dHRvbl93aWR0aCAvIDIpO1xuICBtb2RhbF93aWR0aCA9IHdpZHRoIHx8IDYwMDtcbiAgbW9kYWxfeTAgPSB5MCB8fCAyMDA7XG4gIG1vZGFsX3RpdGxlX3NjYWxlID0gdGl0bGVfc2NhbGUgfHwgMS4yO1xuICBtb2RhbF9wYWQgPSBwYWQgfHwgbW9kYWxfcGFkO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2V0Rm9udEhlaWdodChfZm9udF9oZWlnaHQpIHtcbiAgZm9udF9oZWlnaHQgPSBfZm9udF9oZWlnaHQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRUb29sdGlwV2lkdGgoX3Rvb2x0aXBfd2lkdGgsIF90b29sdGlwX3BhbmVsX3BpeGVsX3NjYWxlKSB7XG4gIHRvb2x0aXBfd2lkdGggPSBfdG9vbHRpcF93aWR0aDtcbiAgdG9vbHRpcF9wYW5lbF9waXhlbF9zY2FsZSA9IF90b29sdGlwX3BhbmVsX3BpeGVsX3NjYWxlO1xuICB0b29sdGlwX3BhZCA9IG1vZGFsX3BhZCAvIDIgKiBfdG9vbHRpcF9wYW5lbF9waXhlbF9zY2FsZTtcbn1cblxuc2NhbGVTaXplcygxKTtcbiIsIi8vIFBvcnRpb25zIENvcHlyaWdodCAyMDE5IEppbWIgRXNzZXIgKGh0dHBzOi8vZ2l0aHViLmNvbS9KaW1ibHkvKVxuLy8gUmVsZWFzZWQgdW5kZXIgTUlUIExpY2Vuc2U6IGh0dHBzOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvTUlUXG5cbi8qXG4gIEFQSSB1c2FnZTpcbiAgZW5naW5lLmRlZmluZXMgPSB1cmxoYXNoLnJlZ2lzdGVyKHtcbiAgICBrZXk6ICdEJyxcbiAgICB0eXBlOiBTRVQsXG4gIH0pO1xuICB1cmxoYXNoLnJlZ2lzdGVyKHtcbiAgICBrZXk6ICdwb3MnLFxuICAgIC8vIHR5cGU6IFRZUEVfU1RSSU5HLFxuICAgIGNoYW5nZTogKG5ld3ZhbHVlKSA9PiB7fSxcbiAgICB0aXRsZTogKHZhbHVlKSA9PiAnc3RyaW5nJyxcbiAgICBkZWY6ICcxLDInLFxuICAgIGhpZGVzOiB7IG90aGVyZmllbGQ6IHRydWUgfSxcbiAgICBwdXNoOiB0cnVlLCAvLyBkbyBhIHB1c2hTdGF0ZSBpbnN0ZWFkIG9mIHJlcGxhY2VTdGF0ZSB3aGVuIHRoaXMgY2hhbmdlc1xuICAgIGhpZGVfdmFsdWVzOiB7IGZvbzogdHJ1ZSB9LCAvLyBkbyBub3QgYWRkIHRvIFVSTCBpZiB2YWx1ZXMgaXMgaW4gdGhlIHByb3ZpZGVkIHNldFxuICB9KTtcbiAgdXJsaGFzaC5zZXQoJ3BvcycsICczLDQnKTtcbiAgdXJsaGFzaC5nZXQoJ3BvcycpXG5cbiAgdXJsaGFzaC5yb3V0ZSgndy86dycpICAgICAvLyB1c2UgVVJMcyBsaWtlIGZvby5jb20vdy8xICAgaW5zdGVhZCBvZiBmb28uY29tLz93PTFcbiAgdXJsaGFzaC5yb3V0ZSgndy86dy86d2cnKSAgLy8gdXNlIFVSTHMgbGlrZSBmb28uY29tL3cvMS8yIGluc3RlYWQgb2YgZm9vLmNvbS8/dz0xJndnPTJcblxuICAvLyBDYWxsZWQgd2hlbmV2ZXIgdGhlIFVSTCBzdGF0ZSBpcyBwdXNoZWQsIGV2ZW4gaWYgdG8gZXhhY3RseSB0aGUgc2FtZSBVUkwgKGUuZy4gb24gbGluayBjbGljaylcbiAgdXJsaGFzaC5vbkNoYW5nZShjYilcbiovXG5cbmNvbnN0IGFzc2VydCA9IHJlcXVpcmUoJ2Fzc2VydCcpO1xuY29uc3QgeyBjYWxsRWFjaCB9ID0gcmVxdWlyZSgnLi4vLi4vY29tbW9uL3V0aWwuanMnKTtcblxuY29uc3QgSElTVE9SWV9VUERBVEVfVElNRSA9IDEwMDA7XG5cbmV4cG9ydCBsZXQgVFlQRV9TRVQgPSAnc2V0JztcbmV4cG9ydCBsZXQgVFlQRV9TVFJJTkcgPSAnc3RyaW5nJztcblxubGV0IHBhcmFtcyA9IHt9O1xuXG5sZXQgdGl0bGVfc3VmZml4ID0gJyc7XG5cbmxldCBwYWdlX2Jhc2UgPSAoZG9jdW1lbnQubG9jYXRpb24uaHJlZiB8fCAnJykubWF0Y2goL15bXiM/XSsvKVswXTtcbmlmICghcGFnZV9iYXNlLmVuZHNXaXRoKCcvJykpIHsgLy8gZS5nLiBodHRwOi8vZm9vLmJhci9pbmRleC5odG1sXG4gIHBhZ2VfYmFzZSArPSAnPyc7XG59XG4vL1JlbW92ZXMgaW5kZXguaHRtbCBldCBhbGxcbmxldCB1cmxfYmFzZSA9IHBhZ2VfYmFzZS5yZXBsYWNlKC9bXi9dKiQvLCcnKTtcbmxldCBvbl9jaGFuZ2UgPSBbXTtcblxuZXhwb3J0IGZ1bmN0aW9uIGdldFVSTEJhc2UoKSB7XG4gIHJldHVybiB1cmxfYmFzZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFVSTFBhZ2VCYXNlKCkge1xuICByZXR1cm4gcGFnZV9iYXNlO1xufVxuXG5sZXQgYXBpX3BhdGg7XG4vLyBQYXRoIGJhc2UgbGlrZSBodHRwOi8vZm9vLmJhci9hcGkvICh3aXRoIHRyYWlsaW5nIHNsYXNoXG5leHBvcnQgZnVuY3Rpb24gc2V0QVBJUGF0aChwYXRoKSB7XG4gIGFwaV9wYXRoID0gcGF0aDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRBUElQYXRoKCkge1xuICByZXR1cm4gYXBpX3BhdGggfHwgYCR7Z2V0VVJMQmFzZSgpfWFwaS9gO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gb25DaGFuZ2UoY2IpIHtcbiAgb25fY2hhbmdlLnB1c2goY2IpO1xufVxuXG5mdW5jdGlvbiBjbXBOdW1LZXlzKGEsIGIpIHtcbiAgbGV0IGQgPSBiLmtleXMubGVuZ3RoIC0gYS5rZXlzLmxlbmd0aDtcbiAgaWYgKGQpIHtcbiAgICByZXR1cm4gZDtcbiAgfVxuICAvLyBvdGhlcndpc2UgYWxwaGFiZXRpY2FsIGZvciBzdGFiaWxpdHlcbiAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IGEua2V5cy5sZW5ndGg7ICsraWkpIHtcbiAgICBpZiAoYS5rZXlzW2lpXSA8IGIua2V5c1tpaV0pIHtcbiAgICAgIHJldHVybiAtMTtcbiAgICB9IGVsc2UgaWYgKGEua2V5c1tpaV0gPiBiLmtleXNbaWldKSB7XG4gICAgICByZXR1cm4gMTtcbiAgICB9XG4gIH1cbiAgYXNzZXJ0KGZhbHNlKTsgLy8gdHdvIHJvdXRlcyB3aXRoIGlkZW50aWNhbCBrZXlzXG4gIHJldHVybiAwO1xufVxuXG5jb25zdCByb3V0ZV9wYXJhbV9yZWdleCA9IC86KFxcdyspL2c7XG5sZXQgcm91dGVzID0gW107XG5cbmZ1bmN0aW9uIHF1ZXJ5U3RyaW5nKCkge1xuICBsZXQgaHJlZiA9IFN0cmluZyhkb2N1bWVudC5sb2NhdGlvbik7XG4gIHJldHVybiBocmVmLnNsaWNlKHBhZ2VfYmFzZS5sZW5ndGgpO1xufVxuXG5jb25zdCByZWdleF92YWx1ZSA9IC9bXlxcd11cXHcrPShbXiZdKykvO1xuZnVuY3Rpb24gZ2V0VmFsdWUocXVlcnlfc3RyaW5nLCBvcHRzKSB7XG4gIGlmIChvcHRzLnJvdXRlcykge1xuICAgIGZvciAobGV0IGlpID0gMDsgaWkgPCBvcHRzLnJvdXRlcy5sZW5ndGg7ICsraWkpIHtcbiAgICAgIGxldCByID0gb3B0cy5yb3V0ZXNbaWldO1xuICAgICAgbGV0IG0gPSBxdWVyeV9zdHJpbmcubWF0Y2goci5yZWdleCk7XG4gICAgICBpZiAobSkge1xuICAgICAgICBsZXQgaWR4ID0gci5rZXlzLmluZGV4T2Yob3B0cy5rZXkpO1xuICAgICAgICByZXR1cm4gbVsxICsgaWR4XTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgbGV0IG0gPSBxdWVyeV9zdHJpbmcubWF0Y2gob3B0cy5yZWdleCkgfHwgW107XG4gIGlmIChvcHRzLnR5cGUgPT09IFRZUEVfU0VUKSB7XG4gICAgbGV0IHIgPSB7fTtcbiAgICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgbS5sZW5ndGg7ICsraWkpIHtcbiAgICAgIGxldCBtMiA9IG1baWldLm1hdGNoKHJlZ2V4X3ZhbHVlKTtcbiAgICAgIGFzc2VydChtMik7XG4gICAgICByW20yWzFdXSA9IDE7XG4gICAgfVxuICAgIHJldHVybiByO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBtWzFdIHx8IG9wdHMuZGVmO1xuICB9XG59XG5cbmxldCBsYXN0X2hpc3Rvcnlfc3RyID0gbnVsbDsgLy8gYWx3YXlzIHJlLXNldCBpdCBvbiB0aGUgZmlyc3QgdXBkYXRlXG5cbmZ1bmN0aW9uIGdvSW50ZXJuYWwocXVlcnlfc3RyaW5nKSB7IC8vIHdpdGggdGhlICc/J1xuICAvLyBVcGRhdGUgYWxsIHZhbHVlcywgZXhjZXB0IHRob3NlIGhpZGRlbiBieSB3aGF0IGlzIGN1cnJlbnRseSBpbiB0aGUgcXVlcnkgc3RyaW5nXG4gIGxldCBoaWRkZW4gPSB7fTtcbiAgZm9yIChsZXQga2V5IGluIHBhcmFtcykge1xuICAgIGxldCBvcHRzID0gcGFyYW1zW2tleV07XG4gICAgaWYgKG9wdHMuaGlkZXMpIHtcbiAgICAgIGlmIChnZXRWYWx1ZShxdWVyeV9zdHJpbmcsIG9wdHMpKSB7XG4gICAgICAgIGZvciAobGV0IG90aGVya2V5IGluIG9wdHMuaGlkZXMpIHtcbiAgICAgICAgICBoaWRkZW5bb3RoZXJrZXldID0gMTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGxldCBkaXJ0eSA9IHt9O1xuICBmb3IgKGxldCBrZXkgaW4gcGFyYW1zKSB7XG4gICAgaWYgKGhpZGRlbltrZXldKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgbGV0IG9wdHMgPSBwYXJhbXNba2V5XTtcbiAgICBsZXQgbmV3X3ZhbHVlID0gZ2V0VmFsdWUocXVlcnlfc3RyaW5nLCBvcHRzKTtcbiAgICBpZiAob3B0cy50eXBlID09PSBUWVBFX1NFVCkge1xuICAgICAgZm9yIChsZXQgdiBpbiBuZXdfdmFsdWUpIHtcbiAgICAgICAgaWYgKCFvcHRzLnZhbHVlW3ZdKSB7XG4gICAgICAgICAgb3B0cy52YWx1ZVt2XSA9IDE7XG4gICAgICAgICAgZGlydHlba2V5XSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGZvciAobGV0IHYgaW4gb3B0cy52YWx1ZSkge1xuICAgICAgICBpZiAoIW5ld192YWx1ZVt2XSkge1xuICAgICAgICAgIGRlbGV0ZSBvcHRzLnZhbHVlW3ZdO1xuICAgICAgICAgIGRpcnR5W2tleV0gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChuZXdfdmFsdWUgIT09IG9wdHMudmFsdWUpIHtcbiAgICAgICAgZGlydHlba2V5XSA9IHRydWU7XG4gICAgICAgIG9wdHMudmFsdWUgPSBuZXdfdmFsdWU7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gQ2FsbCBhbGwgY2hhbmdlIGNhbGxiYWNrc1xuICBmb3IgKGxldCBrZXkgaW4gZGlydHkpIHtcbiAgICBsZXQgb3B0cyA9IHBhcmFtc1trZXldO1xuICAgIGlmIChvcHRzLmNoYW5nZSkge1xuICAgICAgb3B0cy5jaGFuZ2Uob3B0cy52YWx1ZSk7XG4gICAgfVxuICB9XG4gIGNhbGxFYWNoKG9uX2NoYW5nZSk7XG59XG5cbmxldCBlZmZfdGl0bGU7XG5mdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgZWZmX3RpdGxlID0gJyc7XG4gIGxldCB2YWx1ZXMgPSBbXTtcbiAgbGV0IGhpZGRlbiA9IHt9O1xuICBmb3IgKGxldCBrZXkgaW4gcGFyYW1zKSB7XG4gICAgbGV0IG9wdHMgPSBwYXJhbXNba2V5XTtcbiAgICBpZiAob3B0cy5oaWRlcyAmJiBvcHRzLnZhbHVlKSB7XG4gICAgICBmb3IgKGxldCBvdGhlcmtleSBpbiBvcHRzLmhpZGVzKSB7XG4gICAgICAgIGhpZGRlbltvdGhlcmtleV0gPSAxO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBsZXQgcm9vdF92YWx1ZSA9ICcnO1xuICBvdXRlcjogLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1sYWJlbHNcbiAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IHJvdXRlcy5sZW5ndGg7ICsraWkpIHtcbiAgICBsZXQgciA9IHJvdXRlc1tpaV07XG4gICAgbGV0IHJvdXRlX3RpdGxlID0gJyc7XG4gICAgZm9yIChsZXQgamogPSAwOyBqaiA8IHIua2V5cy5sZW5ndGg7ICsramopIHtcbiAgICAgIGxldCBrZXkgPSByLmtleXNbampdO1xuICAgICAgaWYgKGhpZGRlbltrZXldKSB7XG4gICAgICAgIGNvbnRpbnVlIG91dGVyOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWxhYmVsc1xuICAgICAgfVxuICAgICAgbGV0IG9wdHMgPSBwYXJhbXNba2V5XTtcbiAgICAgIGlmIChvcHRzLmhpZGVfdmFsdWVzW29wdHMudmFsdWVdKSB7XG4gICAgICAgIGNvbnRpbnVlIG91dGVyOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWxhYmVsc1xuICAgICAgfVxuICAgICAgLy8gaGFzIGEgdmFsdWUsIGlzIG5vdCBoaWRkZW4sIGNvbnRpbnVlXG4gICAgICBpZiAoIXJvdXRlX3RpdGxlICYmIG9wdHMudGl0bGUpIHtcbiAgICAgICAgcm91dGVfdGl0bGUgPSBvcHRzLnRpdGxlKG9wdHMudmFsdWUpO1xuICAgICAgfVxuICAgIH1cbiAgICAvLyByb3V0ZSBpcyBnb29kIVxuICAgIHJvb3RfdmFsdWUgPSByLnJvdXRlX3N0cmluZy5yZXBsYWNlKHJvdXRlX3BhcmFtX3JlZ2V4LCBmdW5jdGlvbiAoaWdub3JlZCwga2V5KSB7XG4gICAgICBoaWRkZW5ba2V5XSA9IHRydWU7XG4gICAgICByZXR1cm4gU3RyaW5nKHBhcmFtc1trZXldLnZhbHVlKTtcbiAgICB9KTtcbiAgICBpZiAoIWVmZl90aXRsZSAmJiByb3V0ZV90aXRsZSkge1xuICAgICAgZWZmX3RpdGxlID0gcm91dGVfdGl0bGU7XG4gICAgfVxuICAgIGJyZWFrO1xuICB9XG4gIGZvciAobGV0IGtleSBpbiBwYXJhbXMpIHtcbiAgICBpZiAoaGlkZGVuW2tleV0pIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBsZXQgb3B0cyA9IHBhcmFtc1trZXldO1xuICAgIGlmIChvcHRzLnR5cGUgPT09IFRZUEVfU0VUKSB7XG4gICAgICBmb3IgKGxldCB2IGluIG9wdHMudmFsdWUpIHtcbiAgICAgICAgdmFsdWVzLnB1c2goYCR7a2V5fT0ke3Z9YCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICghb3B0cy5oaWRlX3ZhbHVlc1tvcHRzLnZhbHVlXSkge1xuICAgICAgICB2YWx1ZXMucHVzaChgJHtrZXl9PSR7b3B0cy52YWx1ZX1gKTtcbiAgICAgICAgaWYgKCFlZmZfdGl0bGUgJiYgb3B0cy50aXRsZSkge1xuICAgICAgICAgIGVmZl90aXRsZSA9IG9wdHMudGl0bGUob3B0cy52YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgaWYgKHRpdGxlX3N1ZmZpeCkge1xuICAgIGlmIChlZmZfdGl0bGUpIHtcbiAgICAgIGVmZl90aXRsZSA9IGAke2VmZl90aXRsZX0gfCAke3RpdGxlX3N1ZmZpeH1gO1xuICAgIH0gZWxzZSB7XG4gICAgICBlZmZfdGl0bGUgPSB0aXRsZV9zdWZmaXg7XG4gICAgfVxuICB9XG4gIHJldHVybiBgJHtyb290X3ZhbHVlfSR7dmFsdWVzLmxlbmd0aCA/ICc/JyA6ICcnfSR7dmFsdWVzLmpvaW4oJyYnKX1gO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVmcmVzaFRpdGxlKCkge1xuICB0b1N0cmluZygpO1xuICBpZiAoZWZmX3RpdGxlICYmIGVmZl90aXRsZSAhPT0gZG9jdW1lbnQudGl0bGUpIHtcbiAgICBkb2N1bWVudC50aXRsZSA9IGVmZl90aXRsZTtcbiAgfVxufVxuXG5mdW5jdGlvbiBwZXJpb2RpY1JlZnJlc2hUaXRsZSgpIHtcbiAgcmVmcmVzaFRpdGxlKCk7XG4gIHNldFRpbWVvdXQocGVyaW9kaWNSZWZyZXNoVGl0bGUsIDEwMDApO1xufVxuXG5mdW5jdGlvbiBvblBvcFN0YXRlKCkge1xuICBsZXQgcXVlcnlfc3RyaW5nID0gcXVlcnlTdHJpbmcoKTtcbiAgbGFzdF9oaXN0b3J5X3N0ciA9IHF1ZXJ5X3N0cmluZztcbiAgZ29JbnRlcm5hbChxdWVyeV9zdHJpbmcpO1xuICByZWZyZXNoVGl0bGUoKTtcbn1cblxubGV0IG9uX3VybF9jaGFuZ2U7XG5leHBvcnQgZnVuY3Rpb24gb25VUkxDaGFuZ2UoY2IpIHtcbiAgb25fdXJsX2NoYW5nZSA9IGNiO1xufVxuXG5sZXQgbGFzdF9oaXN0b3J5X3NldF90aW1lID0gMDtcbmxldCBzY2hlZHVsZWQgPSBmYWxzZTtcbmxldCBuZWVkX3B1c2hfc3RhdGUgPSBmYWxzZTtcbmZ1bmN0aW9uIHVwZGF0ZUhpc3RvcnkobmV3X25lZWRfcHVzaF9zdGF0ZSkge1xuICBsZXQgbmV3X3N0ciA9IHRvU3RyaW5nKCk7XG4gIGlmIChsYXN0X2hpc3Rvcnlfc3RyID09PSBuZXdfc3RyKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIG5lZWRfcHVzaF9zdGF0ZSA9IG5lZWRfcHVzaF9zdGF0ZSB8fCBuZXdfbmVlZF9wdXNoX3N0YXRlO1xuICBsYXN0X2hpc3Rvcnlfc3RyID0gbmV3X3N0cjtcbiAgaWYgKHNjaGVkdWxlZCkge1xuICAgIC8vIGFscmVhZHkgcXVldWVkIHVwXG4gICAgcmV0dXJuO1xuICB9XG4gIGxldCBkZWxheSA9IEhJU1RPUllfVVBEQVRFX1RJTUU7XG4gIGlmIChEYXRlLm5vdygpIC0gbGFzdF9oaXN0b3J5X3NldF90aW1lID4gSElTVE9SWV9VUERBVEVfVElNRSkge1xuICAgIC8vIEJlZW4gYXdoaWxlLCBhcHBseSBcImluc3RhbnRseVwiIChidXQgc3RpbGwgd2FpdCB1bnRpbCBuZXh0IHRpY2sgdG8gZW5zdXJlXG4gICAgLy8gICBhbnkgb3RoZXIgaW1tZWRpYXRlIGNoYW5nZXMgYXJlIHJlZ2lzdGVyZWQpXG4gICAgZGVsYXkgPSAxO1xuICB9XG4gIHNjaGVkdWxlZCA9IHRydWU7XG4gIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgIHNjaGVkdWxlZCA9IGZhbHNlO1xuICAgIGxhc3RfaGlzdG9yeV9zZXRfdGltZSA9IERhdGUubm93KCk7XG4gICAgbGV0IHVybCA9IGAke3BhZ2VfYmFzZX0ke2xhc3RfaGlzdG9yeV9zdHJ9YDtcbiAgICBpZiAodXJsLmVuZHNXaXRoKCc/JykpIHtcbiAgICAgIHVybCA9IHVybC5zbGljZSgwLCAtMSk7XG4gICAgfVxuICAgIGlmIChuZWVkX3B1c2hfc3RhdGUpIHtcbiAgICAgIG5lZWRfcHVzaF9zdGF0ZSA9IGZhbHNlO1xuICAgICAgd2luZG93Lmhpc3RvcnkucHVzaFN0YXRlKHVuZGVmaW5lZCwgZWZmX3RpdGxlLCB1cmwpO1xuICAgIH0gZWxzZSB7XG4gICAgICB3aW5kb3cuaGlzdG9yeS5yZXBsYWNlU3RhdGUodW5kZWZpbmVkLCBlZmZfdGl0bGUsIHVybCk7XG4gICAgfVxuICAgIGlmIChlZmZfdGl0bGUpIHtcbiAgICAgIGRvY3VtZW50LnRpdGxlID0gZWZmX3RpdGxlO1xuICAgIH1cbiAgICBpZiAob25fdXJsX2NoYW5nZSkge1xuICAgICAgb25fdXJsX2NoYW5nZSgpO1xuICAgIH1cbiAgICAvL3dpbmRvdy5oaXN0b3J5LnJlcGxhY2VTdGF0ZSh1bmRlZmluZWQsIGVmZl90aXRsZSwgYCMke2xhc3RfaGlzdG9yeV9zdHJ9YCk7XG4gIH0sIGRlbGF5KTtcbn1cblxuLy8gT3B0aW9uYWwgc3RhcnR1cFxuZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0dXAocGFyYW0pIHtcbiAgYXNzZXJ0KCF0aXRsZV9zdWZmaXgpO1xuICB0aXRsZV9zdWZmaXggPSBwYXJhbS50aXRsZV9zdWZmaXg7XG5cbiAgLy8gUmVmcmVzaCB0aGUgY3VycmVudCBVUkwsIGl0IG1pZ2h0IGJlIGluIHRoZSBub24tcm91dGUgZm9ybWF0XG4gIHVwZGF0ZUhpc3RvcnkoZmFsc2UpO1xuXG4gIGlmICh0aXRsZV9zdWZmaXgpIHtcbiAgICByZWZyZXNoVGl0bGUoKTtcbiAgICBzZXRUaW1lb3V0KHBlcmlvZGljUmVmcmVzaFRpdGxlLCAxMDAwKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcm91dGUocm91dGVfc3RyaW5nKSB7XG4gIGxldCBrZXlzID0gW107XG4gIC8vIGZvby86a2V5LzpiYXIgPT4gZm9vLyhbXi8mP10rKS8oW14vJj9dKylcbiAgbGV0IGJhc2UgPSByb3V0ZV9zdHJpbmcucmVwbGFjZShyb3V0ZV9wYXJhbV9yZWdleCwgZnVuY3Rpb24gKGlnbm9yZWQsIG1hdGNoKSB7XG4gICAga2V5cy5wdXNoKG1hdGNoKTtcbiAgICByZXR1cm4gJyhbXi8mP10rKSc7XG4gIH0pO1xuICBsZXQgcmVnZXggPSBuZXcgUmVnRXhwKGBeJHtiYXNlfSg/OiR8XFxcXD8pYCk7XG4gIGxldCBuZXdfcm91dGUgPSB7XG4gICAgcm91dGVfc3RyaW5nLFxuICAgIHJlZ2V4LFxuICAgIGtleXMsXG4gIH07XG4gIGZvciAobGV0IGlpID0gMDsgaWkgPCBrZXlzLmxlbmd0aDsgKytpaSkge1xuICAgIGxldCBvcHRzID0gcGFyYW1zW2tleXNbaWldXTtcbiAgICAvLyBNdXN0IGhhdmUgYWxyZWFkeSByZWdpc3RlcmVkIHRoZXNlIGtleXNcbiAgICBhc3NlcnQob3B0cyk7XG4gICAgb3B0cy5yb3V0ZXMgPSBvcHRzLnJvdXRlcyB8fCBbXTtcbiAgICBvcHRzLnJvdXRlcy5wdXNoKG5ld19yb3V0ZSk7XG4gICAgLy8gVXBkYXRlIGluaXRpYWwgdmFsdWVcbiAgICBvcHRzLnZhbHVlID0gZ2V0VmFsdWUocXVlcnlTdHJpbmcoKSwgb3B0cyk7XG4gIH1cbiAgcm91dGVzLnB1c2gobmV3X3JvdXRlKTtcbiAgcm91dGVzLnNvcnQoY21wTnVtS2V5cyk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZWdpc3RlcihvcHRzKSB7XG4gIGFzc2VydChvcHRzLmtleSk7XG4gIGFzc2VydCghcGFyYW1zW29wdHMua2V5XSk7XG4gIG9wdHMudHlwZSA9IG9wdHMudHlwZSB8fCBUWVBFX1NUUklORztcbiAgbGV0IHJlZ2V4X3NlYXJjaCA9IGAoPzpbXlxcXFx3XSkke29wdHMua2V5fT0oW14mXSspYDtcbiAgbGV0IHJlZ2V4X3R5cGUgPSAnJztcbiAgaWYgKG9wdHMudHlwZSA9PT0gVFlQRV9TRVQpIHtcbiAgICByZWdleF90eXBlID0gJ2cnO1xuICB9IGVsc2Uge1xuICAgIG9wdHMuZGVmID0gb3B0cy5kZWYgfHwgJyc7XG4gICAgb3B0cy5oaWRlX3ZhbHVlcyA9IG9wdHMuaGlkZV92YWx1ZXMgfHwge307XG4gICAgb3B0cy5oaWRlX3ZhbHVlc1tvcHRzLmRlZl0gPSB0cnVlO1xuICB9XG4gIG9wdHMucmVnZXggPSBuZXcgUmVnRXhwKHJlZ2V4X3NlYXJjaCwgcmVnZXhfdHlwZSk7XG4gIHBhcmFtc1tvcHRzLmtleV0gPSBvcHRzO1xuICAvLyBHZXQgaW5pdGlhbCB2YWx1ZVxuICBvcHRzLnZhbHVlID0gZ2V0VmFsdWUocXVlcnlTdHJpbmcoKSwgb3B0cyk7XG4gIGxldCByZXQgPSBvcHRzLnZhbHVlO1xuICBpZiAob3B0cy50eXBlID09PSBUWVBFX1NFVCAmJiB0eXBlb2YgUHJveHkgPT09ICdmdW5jdGlvbicpIHtcbiAgICAvLyBBdXRvLWFwcGx5IGNoYW5nZXMgdG8gVVJMIGlmIHNvbWVvbmUgbW9kaWZpZXMgdGhlIHByb3h5XG4gICAgcmV0ID0gbmV3IFByb3h5KG9wdHMudmFsdWUsIHtcbiAgICAgIHNldDogZnVuY3Rpb24gKHRhcmdldCwgcHJvcCwgdmFsdWUpIHtcbiAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgdGFyZ2V0W3Byb3BdID0gMTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkZWxldGUgdGFyZ2V0W3Byb3BdO1xuICAgICAgICB9XG4gICAgICAgIHVwZGF0ZUhpc3RvcnkoKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBpZiAoIXdpbmRvdy5vbnBvcHN0YXRlKSB7XG4gICAgd2luZG93Lm9ucG9wc3RhdGUgPSBvblBvcFN0YXRlO1xuICB9XG5cbiAgcmV0dXJuIHJldDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNldChrZXksIHZhbHVlLCB2YWx1ZTIpIHtcbiAgbGV0IG9wdHMgPSBwYXJhbXNba2V5XTtcbiAgYXNzZXJ0KG9wdHMpO1xuICBpZiAob3B0cy50eXBlID09PSBUWVBFX1NFVCkge1xuICAgIGlmIChCb29sZWFuKG9wdHMudmFsdWVbdmFsdWVdKSAhPT0gQm9vbGVhbih2YWx1ZTIpKSB7XG4gICAgICBvcHRzLnZhbHVlW3ZhbHVlXSA9IHZhbHVlMiA/IDEgOiAwO1xuICAgICAgdXBkYXRlSGlzdG9yeShvcHRzLnB1c2gpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBpZiAob3B0cy52YWx1ZSAhPT0gdmFsdWUpIHtcbiAgICAgIG9wdHMudmFsdWUgPSB2YWx1ZTtcbiAgICAgIHVwZGF0ZUhpc3Rvcnkob3B0cy5wdXNoKTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldChrZXkpIHtcbiAgbGV0IG9wdHMgPSBwYXJhbXNba2V5XTtcbiAgYXNzZXJ0KG9wdHMpO1xuICByZXR1cm4gb3B0cy52YWx1ZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdvKHF1ZXJ5X3N0cmluZykgeyAvLyB3aXRoIHRoZSAnPydcbiAgZ29JbnRlcm5hbChxdWVyeV9zdHJpbmcpO1xuICB1cGRhdGVIaXN0b3J5KHRydWUpO1xufVxuIiwiLy8gUG9ydGlvbnMgQ29weXJpZ2h0IDIwMTkgSmltYiBFc3NlciAoaHR0cHM6Ly9naXRodWIuY29tL0ppbWJseS8pXG4vLyBSZWxlYXNlZCB1bmRlciBNSVQgTGljZW5zZTogaHR0cHM6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9NSVRcbi8qIGVzbGludCBuby1iaXR3aXNlOm9mZiAqL1xuXG4vLyBWZWN0b3IgbWF0aCBmdW5jdGlvbnMgcmVxdWlyZWQgYnkgdGhlIHJlc3Qgb2YgdGhlIGVuZ2luZSB0YWtlbiBwaWVjZW1lYWwgZnJvbVxuLy8gZ2wtbWF0cml4IGFuZCByZWxhdGVkLCBhcyB3ZWxsIGFzIHNvbWUgZ2VuZXJpYyBtYXRoIHV0aWxpdGllc1xuZXhwb3J0cy5tYXQzID0gcmVxdWlyZSgnZ2wtbWF0My9jcmVhdGUnKTtcbmV4cG9ydHMubWF0NCA9IHJlcXVpcmUoJ2dsLW1hdDQvY3JlYXRlJyk7XG5cbmNvbnN0IHsgYWJzLCBtYXgsIG1pbiwgZmxvb3IsIHJvdW5kLCBzcXJ0IH0gPSBNYXRoO1xuXG5leHBvcnQgZnVuY3Rpb24gdmVjMSh2KSB7XG4gIHJldHVybiBuZXcgRmxvYXQzMkFycmF5KFt2XSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB2ZWMyKGEsIGIpIHtcbiAgbGV0IHIgPSBuZXcgRmxvYXQzMkFycmF5KDIpO1xuICBpZiAoYSB8fCBiKSB7XG4gICAgclswXSA9IGE7XG4gICAgclsxXSA9IGI7XG4gIH1cbiAgcmV0dXJuIHI7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB2ZWMzKGEsIGIsIGMpIHtcbiAgbGV0IHIgPSBuZXcgRmxvYXQzMkFycmF5KDMpO1xuICBpZiAoYSB8fCBiIHx8IGMpIHtcbiAgICByWzBdID0gYTtcbiAgICByWzFdID0gYjtcbiAgICByWzJdID0gYztcbiAgfVxuICByZXR1cm4gcjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHZlYzQoYSwgYiwgYywgZCkge1xuICBsZXQgciA9IG5ldyBGbG9hdDMyQXJyYXkoNCk7XG4gIGlmIChhIHx8IGIgfHwgYyB8fCBkKSB7XG4gICAgclswXSA9IGE7XG4gICAgclsxXSA9IGI7XG4gICAgclsyXSA9IGM7XG4gICAgclszXSA9IGQ7XG4gIH1cbiAgcmV0dXJuIHI7XG59XG5cbmZ1bmN0aW9uIGZyb3plblZlYzQoYSxiLGMsZCkge1xuICAvLyBpZiAoZGVidWcpIHtcbiAgLy8gICByZXR1cm4gT2JqZWN0LmZyZWV6ZShbYSxiLGMsZF0pOyAvLyBOb3QgYSB2ZWM0LCBidXQgbGV0cyB1cyBjYXRjaCBidWdzXG4gIC8vIH1cbiAgcmV0dXJuIHZlYzQoYSxiLGMsZCk7XG59XG5cbmV4cG9ydCBjb25zdCB1bml0X3ZlYyA9IGZyb3plblZlYzQoMSwxLDEsMSk7XG5leHBvcnQgY29uc3QgaGFsZl92ZWMgPSBmcm96ZW5WZWM0KDAuNSwwLjUsMC41LDAuNSk7XG5leHBvcnQgY29uc3QgemVyb192ZWMgPSBmcm96ZW5WZWM0KDAsMCwwLDApO1xuZXhwb3J0IGNvbnN0IGlkZW50aXR5X21hdDMgPSBleHBvcnRzLm1hdDMoKTtcbmV4cG9ydCBjb25zdCBpZGVudGl0eV9tYXQ0ID0gZXhwb3J0cy5tYXQ0KCk7XG5leHBvcnQgY29uc3QgeGF4aXMgPSBmcm96ZW5WZWM0KDEsMCwwLDApO1xuZXhwb3J0IGNvbnN0IHlheGlzID0gZnJvemVuVmVjNCgwLDEsMCwwKTtcbmV4cG9ydCBjb25zdCB6YXhpcyA9IGZyb3plblZlYzQoMCwwLDEsMCk7XG5cbmV4cG9ydCBmdW5jdGlvbiB2MmFicyhvdXQsIGEpIHtcbiAgb3V0WzBdID0gYWJzKGFbMF0pO1xuICBvdXRbMV0gPSBhYnMoYVsxXSk7XG4gIHJldHVybiBvdXQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB2MmFkZChvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gYVswXSArIGJbMF07XG4gIG91dFsxXSA9IGFbMV0gKyBiWzFdO1xuICByZXR1cm4gb3V0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdjJhZGRTY2FsZShvdXQsIGEsIGIsIHMpIHtcbiAgb3V0WzBdID0gYVswXSArIGJbMF0gKiBzO1xuICBvdXRbMV0gPSBhWzFdICsgYlsxXSAqIHM7XG4gIHJldHVybiBvdXQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB2MmNvcHkob3V0LCBhKSB7XG4gIG91dFswXSA9IGFbMF07XG4gIG91dFsxXSA9IGFbMV07XG4gIHJldHVybiBvdXQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB2MmRpc3RTcShhLCBiKSB7XG4gIHJldHVybiAoYVswXSAtIGJbMF0pICogKGFbMF0gLSBiWzBdKSArXG4gICAgKGFbMV0gLSBiWzFdKSAqIChhWzFdIC0gYlsxXSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB2MmRpdihvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gYVswXSAvIGJbMF07XG4gIG91dFsxXSA9IGFbMV0gLyBiWzFdO1xuICByZXR1cm4gb3V0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdjJmbG9vcihvdXQsIGEpIHtcbiAgb3V0WzBdID0gZmxvb3IoYVswXSk7XG4gIG91dFsxXSA9IGZsb29yKGFbMV0pO1xuICByZXR1cm4gb3V0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdjJsZW5ndGhTcShhKSB7XG4gIHJldHVybiBhWzBdKmFbMF0gKyBhWzFdKmFbMV07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB2MmxlcnAob3V0LCB0LCBhLCBiKSB7XG4gIGxldCBpdCA9IDEgLSB0O1xuICBvdXRbMF0gPSBpdCAqIGFbMF0gKyB0ICogYlswXTtcbiAgb3V0WzFdID0gaXQgKiBhWzFdICsgdCAqIGJbMV07XG4gIHJldHVybiBvdXQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB2Mm11bChvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gYVswXSAqIGJbMF07XG4gIG91dFsxXSA9IGFbMV0gKiBiWzFdO1xuICByZXR1cm4gb3V0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdjJub3JtYWxpemUob3V0LCBhKSB7XG4gIGxldCBsZW4gPSBhWzBdKmFbMF0gKyBhWzFdKmFbMV07XG4gIGlmIChsZW4gPiAwKSB7XG4gICAgbGVuID0gMSAvIHNxcnQobGVuKTtcbiAgICBvdXRbMF0gPSBhWzBdICogbGVuO1xuICAgIG91dFsxXSA9IGFbMV0gKiBsZW47XG4gIH1cbiAgcmV0dXJuIG91dDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHYyc2FtZShhLCBiKSB7XG4gIHJldHVybiBhWzBdID09PSBiWzBdICYmIGFbMV0gPT09IGJbMV07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB2MnNjYWxlKG91dCwgYSwgcykge1xuICBvdXRbMF0gPSBhWzBdICogcztcbiAgb3V0WzFdID0gYVsxXSAqIHM7XG4gIHJldHVybiBvdXQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB2MnNldChvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gYTtcbiAgb3V0WzFdID0gYjtcbiAgcmV0dXJuIG91dDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHYyc3ViKG91dCwgYSwgYikge1xuICBvdXRbMF0gPSBhWzBdIC0gYlswXTtcbiAgb3V0WzFdID0gYVsxXSAtIGJbMV07XG4gIHJldHVybiBvdXQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB2M2FkZChvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gYVswXSArIGJbMF07XG4gIG91dFsxXSA9IGFbMV0gKyBiWzFdO1xuICBvdXRbMl0gPSBhWzJdICsgYlsyXTtcbiAgcmV0dXJuIG91dDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHYzaUFkZChhLCBiKSB7XG4gIGFbMF0gKz0gYlswXTtcbiAgYVsxXSArPSBiWzFdO1xuICBhWzJdICs9IGJbMl07XG4gIHJldHVybiBhO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdjNhZGRTY2FsZShvdXQsIGEsIGIsIHMpIHtcbiAgb3V0WzBdID0gYVswXSArIGJbMF0gKiBzO1xuICBvdXRbMV0gPSBhWzFdICsgYlsxXSAqIHM7XG4gIG91dFsyXSA9IGFbMl0gKyBiWzJdICogcztcbiAgcmV0dXJuIG91dDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHYzY29weShvdXQsIGEpIHtcbiAgb3V0WzBdID0gYVswXTtcbiAgb3V0WzFdID0gYVsxXTtcbiAgb3V0WzJdID0gYVsyXTtcbiAgcmV0dXJuIG91dDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHYzY3Jvc3Mob3V0LCBhLCBiKSB7XG4gIGxldCBhMCA9IGFbMF07XG4gIGxldCBhMSA9IGFbMV07XG4gIGxldCBhMiA9IGFbMl07XG4gIGxldCBiMCA9IGJbMF07XG4gIGxldCBiMSA9IGJbMV07XG4gIGxldCBiMiA9IGJbMl07XG4gIG91dFswXSA9ICgoYTEgKiBiMikgLSAoYTIgKiBiMSkpO1xuICBvdXRbMV0gPSAoKGEyICogYjApIC0gKGEwICogYjIpKTtcbiAgb3V0WzJdID0gKChhMCAqIGIxKSAtIChhMSAqIGIwKSk7XG4gIHJldHVybiBvdXQ7XG59XG5cbi8vIGRldGVybWluYW50IG9mIHRoZSBtYXRyaXggbWFkZSBieSAoY29sdW1ucz8pIFthLCBiLCBjXTtcbmV4cG9ydCBmdW5jdGlvbiB2M2RldGVybWluYW50KGEsIGIsIGMpIHtcbiAgLy8gbGV0IGEwMCA9IGFbMF07XG4gIC8vIGxldCBhMDEgPSBhWzFdO1xuICAvLyBsZXQgYTAyID0gYVsyXTtcbiAgLy8gbGV0IGExMCA9IGJbMF07XG4gIC8vIGxldCBhMTEgPSBiWzFdO1xuICAvLyBsZXQgYTEyID0gYlsyXTtcbiAgLy8gbGV0IGEyMCA9IGNbMF07XG4gIC8vIGxldCBhMjEgPSBjWzJdO1xuICAvLyBsZXQgYTIyID0gY1syXTtcbiAgbGV0IGEwMCA9IGFbMF07XG4gIGxldCBhMDEgPSBiWzBdO1xuICBsZXQgYTAyID0gY1swXTtcbiAgbGV0IGExMCA9IGFbMV07XG4gIGxldCBhMTEgPSBiWzFdO1xuICBsZXQgYTEyID0gY1sxXTtcbiAgbGV0IGEyMCA9IGFbMl07XG4gIGxldCBhMjEgPSBiWzJdO1xuICBsZXQgYTIyID0gY1syXTtcblxuICByZXR1cm4gYTAwICogKGEyMiAqIGExMSAtIGExMiAqIGEyMSkgKyBhMDEgKiAoLWEyMiAqIGExMCArIGExMiAqIGEyMCkgKyBhMDIgKiAoYTIxICogYTEwIC0gYTExICogYTIwKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHYzZG90KGEsIGIpIHtcbiAgcmV0dXJuIGFbMF0gKiBiWzBdICsgYVsxXSAqIGJbMV0gKyBhWzJdICogYlsyXTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHYzZGlzdFNxKGEsIGIpIHtcbiAgcmV0dXJuIChhWzBdIC0gYlswXSkgKiAoYVswXSAtIGJbMF0pICtcbiAgICAoYVsxXSAtIGJbMV0pICogKGFbMV0gLSBiWzFdKSArXG4gICAgKGFbMl0gLSBiWzJdKSAqIChhWzJdIC0gYlsyXSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB2M2RpdihvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gYVswXSAvIGJbMF07XG4gIG91dFsxXSA9IGFbMV0gLyBiWzFdO1xuICBvdXRbMl0gPSBhWzJdIC8gYlsyXTtcbiAgcmV0dXJuIG91dDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHYzaUZsb29yKGEpIHtcbiAgYVswXSA9IGZsb29yKGFbMF0pO1xuICBhWzFdID0gZmxvb3IoYVsxXSk7XG4gIGFbMl0gPSBmbG9vcihhWzJdKTtcbiAgcmV0dXJuIGE7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB2M2Zsb29yKG91dCwgYSkge1xuICBvdXRbMF0gPSBmbG9vcihhWzBdKTtcbiAgb3V0WzFdID0gZmxvb3IoYVsxXSk7XG4gIG91dFsyXSA9IGZsb29yKGFbMl0pO1xuICByZXR1cm4gb3V0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdjNsZW5ndGhTcShhKSB7XG4gIHJldHVybiBhWzBdKmFbMF0gKyBhWzFdKmFbMV0gKyBhWzJdKmFbMl07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB2M2xlcnAob3V0LCB0LCBhLCBiKSB7XG4gIGxldCBpdCA9IDEgLSB0O1xuICBvdXRbMF0gPSBpdCAqIGFbMF0gKyB0ICogYlswXTtcbiAgb3V0WzFdID0gaXQgKiBhWzFdICsgdCAqIGJbMV07XG4gIG91dFsyXSA9IGl0ICogYVsyXSArIHQgKiBiWzJdO1xuICByZXR1cm4gb3V0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdjNpTWF4KGEsIGIpIHtcbiAgYVswXSA9IG1heChhWzBdLCBiWzBdKTtcbiAgYVsxXSA9IG1heChhWzFdLCBiWzFdKTtcbiAgYVsyXSA9IG1heChhWzJdLCBiWzJdKTtcbiAgcmV0dXJuIGE7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB2M2lNaW4oYSwgYikge1xuICBhWzBdID0gbWluKGFbMF0sIGJbMF0pO1xuICBhWzFdID0gbWluKGFbMV0sIGJbMV0pO1xuICBhWzJdID0gbWluKGFbMl0sIGJbMl0pO1xuICByZXR1cm4gYTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHYzbXVsKG91dCwgYSwgYikge1xuICBvdXRbMF0gPSBhWzBdICogYlswXTtcbiAgb3V0WzFdID0gYVsxXSAqIGJbMV07XG4gIG91dFsyXSA9IGFbMl0gKiBiWzJdO1xuICByZXR1cm4gb3V0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdjNtdWxNYXQ0KG91dCwgYSwgbSkge1xuICBsZXQgeCA9IGFbMF07XG4gIGxldCB5ID0gYVsxXTtcbiAgbGV0IHogPSBhWzJdO1xuICBvdXRbMF0gPSB4ICogbVswXSArIHkgKiBtWzRdICsgeiAqIG1bOF07XG4gIG91dFsxXSA9IHggKiBtWzFdICsgeSAqIG1bNV0gKyB6ICogbVs5XTtcbiAgb3V0WzJdID0geCAqIG1bMl0gKyB5ICogbVs2XSArIHogKiBtWzEwXTtcbiAgcmV0dXJuIG91dDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHYzbm9ybWFsaXplKG91dCwgYSkge1xuICBsZXQgbGVuID0gYVswXSphWzBdICsgYVsxXSphWzFdICsgYVsyXSphWzJdO1xuICBpZiAobGVuID4gMCkge1xuICAgIGxlbiA9IDEgLyBzcXJ0KGxlbik7XG4gICAgb3V0WzBdID0gYVswXSAqIGxlbjtcbiAgICBvdXRbMV0gPSBhWzFdICogbGVuO1xuICAgIG91dFsyXSA9IGFbMl0gKiBsZW47XG4gIH1cbiAgcmV0dXJuIG91dDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHYzaU5vcm1hbGl6ZShhKSB7XG4gIGxldCBsZW4gPSBhWzBdKmFbMF0gKyBhWzFdKmFbMV0gKyBhWzJdKmFbMl07XG4gIGlmIChsZW4gPiAwKSB7XG4gICAgbGVuID0gMSAvIHNxcnQobGVuKTtcbiAgICBhWzBdICo9IGxlbjtcbiAgICBhWzFdICo9IGxlbjtcbiAgICBhWzJdICo9IGxlbjtcbiAgfVxuICByZXR1cm4gYTtcbn1cblxuLy8gVHJlYXRzIGBhYCBhcyB2ZWMzIGlucHV0IHdpdGggdyBhc3N1bWVkIHRvIGJlIDFcbi8vIG91dFswXS9bMV0gaGF2ZSBoYWQgcGVyc3BlY3RpdmUgZGl2aWRlIGFuZCBjb252ZXJ0ZWQgdG8gbm9ybWFsaXplZCAwLTEgcmFuZ2Vcbi8vIG91dFsyXSBpcyBkaXN0YW5jZVxuZXhwb3J0IGZ1bmN0aW9uIHYzcGVyc3BlY3RpdmVQcm9qZWN0KG91dCwgYSwgbSkge1xuICBsZXQgeCA9IGFbMF07XG4gIGxldCB5ID0gYVsxXTtcbiAgbGV0IHogPSBhWzJdO1xuICBsZXQgdyA9IG1bM10gKiB4ICsgbVs3XSAqIHkgKyBtWzExXSAqIHogKyBtWzE1XTtcbiAgbGV0IGludncgPSAwLjUgLyAodyB8fCAwLjAwMDAxKTtcbiAgb3V0WzBdID0gKG1bMF0gKiB4ICsgbVs0XSAqIHkgKyBtWzhdICogeiArIG1bMTJdKSAqIGludncgKyAwLjU7XG4gIG91dFsxXSA9IChtWzFdICogeCArIG1bNV0gKiB5ICsgbVs5XSAqIHogKyBtWzEzXSkgKiAtaW52dyArIDAuNTtcbiAgb3V0WzJdID0gbVsyXSAqIHggKyBtWzZdICogeSArIG1bMTBdICogeiArIG1bMTRdO1xuICByZXR1cm4gb3V0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdjNyb3VuZChvdXQsIGEpIHtcbiAgb3V0WzBdID0gcm91bmQoYVswXSk7XG4gIG91dFsxXSA9IHJvdW5kKGFbMV0pO1xuICBvdXRbMl0gPSByb3VuZChhWzJdKTtcbiAgcmV0dXJuIG91dDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHYzc2FtZShhLCBiKSB7XG4gIHJldHVybiBhWzBdID09PSBiWzBdICYmIGFbMV0gPT09IGJbMV0gJiYgYVsyXSA9PT0gYlsyXTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHYzc2NhbGUob3V0LCBhLCBzKSB7XG4gIG91dFswXSA9IGFbMF0gKiBzO1xuICBvdXRbMV0gPSBhWzFdICogcztcbiAgb3V0WzJdID0gYVsyXSAqIHM7XG4gIHJldHVybiBvdXQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB2M3NldChvdXQsIGEsIGIsIGMpIHtcbiAgb3V0WzBdID0gYTtcbiAgb3V0WzFdID0gYjtcbiAgb3V0WzJdID0gYztcbiAgcmV0dXJuIG91dDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHYzc3ViKG91dCwgYSwgYikge1xuICBvdXRbMF0gPSBhWzBdIC0gYlswXTtcbiAgb3V0WzFdID0gYVsxXSAtIGJbMV07XG4gIG91dFsyXSA9IGFbMl0gLSBiWzJdO1xuICByZXR1cm4gb3V0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdjNpU3ViKGEsIGIpIHtcbiAgYVswXSAtPSBiWzBdO1xuICBhWzFdIC09IGJbMV07XG4gIGFbMl0gLT0gYlsyXTtcbiAgcmV0dXJuIGE7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB2M3plcm8ob3V0KSB7XG4gIG91dFswXSA9IG91dFsxXSA9IG91dFsyXSA9IDA7XG4gIHJldHVybiBvdXQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB2NGFkZChvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gYVswXSArIGJbMF07XG4gIG91dFsxXSA9IGFbMV0gKyBiWzFdO1xuICBvdXRbMl0gPSBhWzJdICsgYlsyXTtcbiAgb3V0WzNdID0gYVszXSArIGJbM107XG4gIHJldHVybiBvdXQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB2NGNsb25lKGEpIHtcbiAgcmV0dXJuIGEuc2xpY2UoMCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB2NGNvcHkob3V0LCBhKSB7XG4gIG91dFswXSA9IGFbMF07XG4gIG91dFsxXSA9IGFbMV07XG4gIG91dFsyXSA9IGFbMl07XG4gIG91dFszXSA9IGFbM107XG4gIHJldHVybiBvdXQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB2NGxlcnAob3V0LCB0LCBhLCBiKSB7XG4gIGxldCBpdCA9IDEgLSB0O1xuICBvdXRbMF0gPSBpdCAqIGFbMF0gKyB0ICogYlswXTtcbiAgb3V0WzFdID0gaXQgKiBhWzFdICsgdCAqIGJbMV07XG4gIG91dFsyXSA9IGl0ICogYVsyXSArIHQgKiBiWzJdO1xuICBvdXRbM10gPSBpdCAqIGFbM10gKyB0ICogYlszXTtcbiAgcmV0dXJuIG91dDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHY0bXVsKG91dCwgYSwgYikge1xuICBvdXRbMF0gPSBhWzBdICogYlswXTtcbiAgb3V0WzFdID0gYVsxXSAqIGJbMV07XG4gIG91dFsyXSA9IGFbMl0gKiBiWzJdO1xuICBvdXRbM10gPSBhWzNdICogYlszXTtcbiAgcmV0dXJuIG91dDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHY0bXVsQWRkKG91dCwgYSwgYiwgYykge1xuICBvdXRbMF0gPSBhWzBdICogYlswXSArIGNbMF07XG4gIG91dFsxXSA9IGFbMV0gKiBiWzFdICsgY1sxXTtcbiAgb3V0WzJdID0gYVsyXSAqIGJbMl0gKyBjWzJdO1xuICBvdXRbM10gPSBhWzNdICogYlszXSArIGNbM107XG4gIHJldHVybiBvdXQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB2NHNhbWUoYSwgYikge1xuICByZXR1cm4gYVswXSA9PT0gYlswXSAmJiBhWzFdID09PSBiWzFdICYmIGFbMl0gPT09IGJbMl0gJiYgYVszXSA9PT0gYlszXTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHY0c2NhbGUob3V0LCBhLCBzKSB7XG4gIG91dFswXSA9IGFbMF0gKiBzO1xuICBvdXRbMV0gPSBhWzFdICogcztcbiAgb3V0WzJdID0gYVsyXSAqIHM7XG4gIG91dFszXSA9IGFbM10gKiBzO1xuICByZXR1cm4gb3V0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdjRzZXQob3V0LCBhLCBiLCBjLCBkKSB7XG4gIG91dFswXSA9IGE7XG4gIG91dFsxXSA9IGI7XG4gIG91dFsyXSA9IGM7XG4gIG91dFszXSA9IGQ7XG4gIHJldHVybiBvdXQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB2NHplcm8ob3V0KSB7XG4gIG91dFswXSA9IG91dFsxXSA9IG91dFsyXSA9IG91dFszXSA9IDA7XG4gIHJldHVybiBvdXQ7XG59XG4iLCIvLyBQb3J0aW9ucyBDb3B5cmlnaHQgMjAxOSBKaW1iIEVzc2VyIChodHRwczovL2dpdGh1Yi5jb20vSmltYmx5Lylcbi8vIFJlbGVhc2VkIHVuZGVyIE1JVCBMaWNlbnNlOiBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVFxuXG5jb25zdCB7IGZsb29yIH0gPSBNYXRoO1xuXG5sZXQgb2ZmcyA9IDA7XG5mdW5jdGlvbiBub3coKSB7XG4gIHJldHVybiBEYXRlLm5vdygpICsgb2Zmcztcbn1cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0cyA9IG5vdztcbmV4cG9ydHMubm93ID0gbm93O1xuZXhwb3J0cy5zeW5jID0gZnVuY3Rpb24gKHNlcnZlcl90aW1lKSB7XG4gIG9mZnMgPSBzZXJ2ZXJfdGltZSAtIERhdGUubm93KCk7XG59O1xuZXhwb3J0cy5zZWNvbmRzID0gZnVuY3Rpb24gKCkge1xuICAvLyBTZWNvbmRzIHNpbmNlIEphbiAxc3QsIDIwMjBcbiAgcmV0dXJuIGZsb29yKG5vdygpIC8gMTAwMCkgLSAxNTc3ODM2ODAwO1xufTtcbiIsImNvbnN0IGFzc2VydCA9IHJlcXVpcmUoJ2Fzc2VydCcpO1xuY29uc3QgeyBmaWxld2F0Y2hPbiwgZmlsZXdhdGNoVHJpZ2dlckNoYW5nZSB9ID0gcmVxdWlyZSgnLi9maWxld2F0Y2guanMnKTtcbmNvbnN0IHVybGhhc2ggPSByZXF1aXJlKCcuL3VybGhhc2guanMnKTtcblxubGV0IGZzID0gd2luZG93Lmdsb3Zfd2ViZnMgPSB3aW5kb3cuZ2xvdl93ZWJmcyB8fCB7fTtcbmxldCBkZWNvZGVkID0ge307XG5sZXQgdXNlZCA9IHt9O1xuLy8gZXhwb3J0IGZ1bmN0aW9uIHdlYkZTUmVhZHkoKSB7XG4vLyAgIC8vIFRPRE86IGFzeW5jIHJlYWR5IHN0YXRlP1xuLy8gfVxuXG5mdW5jdGlvbiBkZWNvZGUoZGF0YSkge1xuICBsZXQgbGVuID0gZGF0YVswXTtcbiAgbGV0IHN0ciA9IGRhdGFbMV07XG4gIGxldCB1OCA9IG5ldyBVaW50OEFycmF5KGxlbik7XG4gIGxldCBpZHhvID0gMDtcbiAgbGV0IGlkeGkgPSAwO1xuICB3aGlsZSAoaWR4byA8IGxlbikge1xuICAgIGxldCBieXRlID0gc3RyLmNoYXJDb2RlQXQoaWR4aSsrKTtcbiAgICBpZiAoYnl0ZSA9PT0gMTI2KSB7XG4gICAgICBieXRlID0gMDtcbiAgICB9IGVsc2UgaWYgKGJ5dGUgPT09IDI3KSB7XG4gICAgICBieXRlID0gc3RyLmNoYXJDb2RlQXQoaWR4aSsrKTtcbiAgICB9XG4gICAgdThbaWR4bysrXSA9IGJ5dGU7XG4gIH1cbiAgYXNzZXJ0LmVxdWFsKGlkeGksIHN0ci5sZW5ndGgpO1xuICBhc3NlcnQuZXF1YWwoaWR4bywgbGVuKTtcbiAgcmV0dXJuIHU4O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gd2ViRlNHZXRGaWxlKGZpbGVuYW1lLCBlbmNvZGluZykge1xuICBsZXQgcmV0ID0gZGVjb2RlZFtmaWxlbmFtZV07XG4gIGlmIChyZXQpIHtcbiAgICByZXR1cm4gcmV0O1xuICB9XG4gIHVzZWRbZmlsZW5hbWVdID0gdHJ1ZTtcbiAgbGV0IGRhdGEgPSBmc1tmaWxlbmFtZV07XG4gIGFzc2VydChkYXRhLCBgRXJyb3IgbG9hZGluZyBmaWxlOiAke2ZpbGVuYW1lfWApO1xuICBpZiAoZW5jb2RpbmcgPT09ICd0ZXh0Jykge1xuICAgIHJldCA9IGRhdGFbMV07XG4gIH0gZWxzZSB7XG4gICAgcmV0ID0gZGVjb2RlKGRhdGEpO1xuICB9XG4gIGRlY29kZWRbZmlsZW5hbWVdID0gcmV0O1xuICByZXR1cm4gcmV0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gd2ViRlNFeGlzdHMoZmlsZW5hbWUpIHtcbiAgcmV0dXJuIEJvb2xlYW4oZnNbZmlsZW5hbWVdKTtcbn1cblxuLy8gRG9uJ3QgcmVwb3J0IG9uIGZpbGVzIHdlIGtub3cgYXJlIGxvYWRlZCBkeW5hbWljYWxseSwgYW5kIGFyZSBzbWFsbFxuY29uc3QgcmVwb3J0X2lnbm9yZV9yZWdleCA9IC9cXC4oZnB8dnApJC87XG5leHBvcnQgZnVuY3Rpb24gd2ViRlNSZXBvcnRVbnVzZWQoKSB7XG4gIGxldCB0b3Rfc2l6ZSA9IDA7XG4gIGZvciAobGV0IGZpbGVuYW1lIGluIGZzKSB7XG4gICAgaWYgKCF1c2VkW2ZpbGVuYW1lXSAmJiAhZmlsZW5hbWUubWF0Y2gocmVwb3J0X2lnbm9yZV9yZWdleCkpIHtcbiAgICAgIGNvbnNvbGUud2FybihgV2ViRlMgZmlsZSBidW5kbGVkIGJ1dCB1bnJlZmVyZW5jZWQ6ICR7ZmlsZW5hbWV9YCk7XG4gICAgICB0b3Rfc2l6ZSArPSBmc1tmaWxlbmFtZV1bMF07XG4gICAgfVxuICB9XG4gIGlmICh0b3Rfc2l6ZSkge1xuICAgIGNvbnNvbGUud2FybihgV2ViRlMgd2FzdGluZyAke3RvdF9zaXplfSBieXRlc2ApO1xuICB9XG59XG5cbmZ1bmN0aW9uIHdlYkZTUmVsb2FkKCkge1xuICB3aW5kb3cuZ2xvdl93ZWJmcyA9IHt9O1xuICBsZXQgc2NyaXB0VGFnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7XG4gIHNjcmlwdFRhZy5zcmMgPSBgJHt1cmxoYXNoLmdldFVSTEJhc2UoKX1mc2RhdGEuanM/cmw9JHtEYXRlLm5vdygpfWA7XG4gIHNjcmlwdFRhZy5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHdpbmRvdy5nbG92X3dlYmZzKSB7XG4gICAgICBsZXQgb2xkX2ZzID0gZnM7XG4gICAgICBmcyA9IHdpbmRvdy5nbG92X3dlYmZzO1xuICAgICAgZGVjb2RlZCA9IHt9O1xuICAgICAgdXNlZCA9IHt9O1xuICAgICAgZm9yIChsZXQga2V5IGluIGZzKSB7XG4gICAgICAgIGxldCBvbGRfdmFsdWUgPSBvbGRfZnNba2V5XTtcbiAgICAgICAgbGV0IG5ld192YWx1ZSA9IGZzW2tleV07XG4gICAgICAgIGZvciAobGV0IGlpID0gMDsgaWkgPCBuZXdfdmFsdWUubGVuZ3RoOyArK2lpKSB7XG4gICAgICAgICAgaWYgKCFvbGRfdmFsdWUgfHwgbmV3X3ZhbHVlW2lpXSAhPT0gb2xkX3ZhbHVlW2lpXSkge1xuICAgICAgICAgICAgZmlsZXdhdGNoVHJpZ2dlckNoYW5nZShrZXkpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9O1xuICBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaGVhZCcpWzBdLmFwcGVuZENoaWxkKHNjcmlwdFRhZyk7XG59XG5cbmZpbGV3YXRjaE9uKCdmc2RhdGEuanMnLCB3ZWJGU1JlbG9hZCk7XG4iLCIvLyBQb3J0aW9ucyBDb3B5cmlnaHQgMjAxOSBKaW1iIEVzc2VyIChodHRwczovL2dpdGh1Yi5jb20vSmltYmx5Lylcbi8vIFJlbGVhc2VkIHVuZGVyIE1JVCBMaWNlbnNlOiBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVFxuLyogZ2xvYmFsIFdlYlNvY2tldCwgWE1MSHR0cFJlcXVlc3QgKi9cblxuY29uc3QgYWNrID0gcmVxdWlyZSgnLi4vLi4vY29tbW9uL2Fjay5qcycpO1xuY29uc3QgeyBhY2tJbml0UmVjZWl2ZXIgfSA9IGFjaztcbmNvbnN0IGFzc2VydCA9IHJlcXVpcmUoJ2Fzc2VydCcpO1xuY29uc3QgeyBtaW4gfSA9IE1hdGg7XG5jb25zdCB1cmxoYXNoID0gcmVxdWlyZSgnLi91cmxoYXNoLmpzJyk7XG5jb25zdCB3YWxsdGltZSA9IHJlcXVpcmUoJy4vd2FsbHRpbWUuanMnKTtcbmNvbnN0IHdzY29tbW9uID0gcmVxdWlyZSgnLi4vLi4vY29tbW9uL3dzY29tbW9uLmpzJyk7XG5jb25zdCB7IHdzSGFuZGxlTWVzc2FnZSB9ID0gd3Njb21tb247XG5cbi8vIGxldCBuZXRfdGltZSA9IDA7XG4vLyBleHBvcnQgZnVuY3Rpb24gZ2V0TmV0VGltZSgpIHtcbi8vICAgbGV0IHIgPSBuZXRfdGltZTtcbi8vICAgbmV0X3RpbWUgPSAwO1xuLy8gICByZXR1cm4gcjtcbi8vIH1cblxuZXhwb3J0IGZ1bmN0aW9uIFdTQ2xpZW50KHBhdGgpIHtcbiAgdGhpcy5pZCA9IG51bGw7XG4gIHRoaXMuaGFuZGxlcnMgPSB7fTtcbiAgdGhpcy5zb2NrZXQgPSBudWxsO1xuICB0aGlzLmNvbm5lY3RlZCA9IGZhbHNlO1xuICB0aGlzLmRpc2Nvbm5lY3RlZCA9IGZhbHNlO1xuICB0aGlzLnJldHJ5X3NjaGVkdWxlZCA9IGZhbHNlO1xuICB0aGlzLnJldHJ5X2NvdW50ID0gMDtcbiAgdGhpcy5kaXNjb25uZWN0X3RpbWUgPSBEYXRlLm5vdygpO1xuICB0aGlzLmxhc3RfcmVjZWl2ZV90aW1lID0gRGF0ZS5ub3coKTtcbiAgdGhpcy5sYXN0X3NlbmRfdGltZSA9IERhdGUubm93KCk7XG4gIHRoaXMuYXV0b19wYXRoID0gIXBhdGg7XG4gIGFja0luaXRSZWNlaXZlcih0aGlzKTtcblxuICBpZiAodGhpcy5hdXRvX3BhdGgpIHtcblxuICAgIHBhdGggPSBkb2N1bWVudC5sb2NhdGlvbi50b1N0cmluZygpLm1hdGNoKC9eW14jP10rLylbMF07IC8vIHJlbW92ZSBzZWFyY2ggYW5kIGFuY2hvclxuXG5cbiAgICBpZiAocGF0aC5zbGljZSgtMSkgIT09ICcvJykge1xuICAgICAgLy8gL2ZpbGUuaHRtbCBvciAvcGF0aC9maWxlLmh0bWwgb3IgL3BhdGhcbiAgICAgIGxldCBpZHggPSBwYXRoLmxhc3RJbmRleE9mKCcvJyk7XG4gICAgICBpZiAoaWR4ICE9PSAtMSkge1xuICAgICAgICBsZXQgZmlsZW5hbWUgPSBwYXRoLnNsaWNlKGlkeCsxKTtcbiAgICAgICAgaWYgKGZpbGVuYW1lLmluZGV4T2YoJy4nKSAhPT0gLTEpIHtcbiAgICAgICAgICBwYXRoID0gcGF0aC5zbGljZSgwLCBpZHgrMSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGF0aCArPSAnLyc7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBhdGggKz0gJy8nO1xuICAgICAgfVxuICAgIH1cbiAgICBwYXRoID0gcGF0aC5yZXBsYWNlKC9eaHR0cC8sICd3cycpO1xuICAgIHRoaXMucGF0aCA9IGAke3BhdGh9d3NgO1xuXG4gIH0gZWxzZSB7XG4gICAgdGhpcy5wYXRoID0gcGF0aDtcbiAgfVxuXG4gIGlmIChwYXRoLm1hdGNoKC86XFxkK1xcLy8pKSB7XG4gICAgLy8gaGFzIHBvcnQsIGRvbid0IHRyeSBhbnl0aGluZyBmYW5jeVxuICAgIHRoaXMucGF0aDIgPSB0aGlzLnBhdGg7XG4gIH0gZWxzZSBpZiAocGF0aC5tYXRjaCgvXndzOi8pKSB7XG4gICAgLy8gbm8gcG9ydCwgdHJ5IHdzczovLyBpZiB0aGlzIGZhaWxzXG4gICAgLy8gU2hvdWxkIGZpeCBDb21jYXN0IGluamVjdGlvbiBpc3N1ZVxuICAgIHRoaXMucGF0aDIgPSB0aGlzLnBhdGgucmVwbGFjZSgvXndzOi8sICd3c3M6Jyk7XG4gIH0gZWxzZSB7XG4gICAgLy8gVXNpbmcgd3NzOi8vIHNvbWUgYnJvd3NlcnMgd2lsbCBub3QgYWxsb3cgY29ubmVjdGluZyB0byB3czovLywgc28gZG9uJ3QgZXZlbiB0cnlcbiAgICB0aGlzLnBhdGgyID0gdGhpcy5wYXRoO1xuICB9XG5cbiAgdGhpcy5jb25uZWN0KGZhbHNlKTtcblxuICB0aGlzLm9uTXNnKCdjYWNrJywgdGhpcy5vbkNvbm5lY3RBY2suYmluZCh0aGlzKSk7XG4gIHRoaXMub25Nc2coJ2FwcF92ZXInLCB0aGlzLm9uQXBwVmVyLmJpbmQodGhpcykpO1xuICB0aGlzLm9uTXNnKCdlcnJvcicsIHRoaXMub25FcnJvci5iaW5kKHRoaXMpKTtcbn1cblxuV1NDbGllbnQucHJvdG90eXBlLnRpbWVTaW5jZURpc2Nvbm5lY3QgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiBEYXRlLm5vdygpIC0gdGhpcy5kaXNjb25uZWN0X3RpbWU7XG59O1xuXG5XU0NsaWVudC5wcm90b3R5cGUub25BcHBWZXIgPSBmdW5jdGlvbiAodmVyKSB7XG4gIGlmICh2ZXIgIT09IEJVSUxEX1RJTUVTVEFNUCkge1xuICAgIGlmICh0aGlzLm9uX2FwcF92ZXJfbWlzbWF0Y2gpIHtcbiAgICAgIHRoaXMub25fYXBwX3Zlcl9taXNtYXRjaCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAodGhpcy5hdXRvX3BhdGgpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihgQXBwIHZlcnNpb24gbWlzbWF0Y2ggKHNlcnZlcjogJHt2ZXJ9LCBjbGllbnQ6ICR7QlVJTERfVElNRVNUQU1QfSksIHJlbG9hZGluZ2ApO1xuICAgICAgICBpZiAod2luZG93LnJlbG9hZFNhZmUpIHtcbiAgICAgICAgICB3aW5kb3cucmVsb2FkU2FmZSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRvY3VtZW50LmxvY2F0aW9uLnJlbG9hZCgpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLndhcm4oYEFwcCB2ZXJzaW9uIG1pc21hdGNoIChzZXJ2ZXI6ICR7dmVyfSwgY2xpZW50OiAke0JVSUxEX1RJTUVTVEFNUH0pLCBpZ25vcmluZ2ApO1xuICAgICAgfVxuICAgIH1cbiAgfVxufTtcblxuV1NDbGllbnQucHJvdG90eXBlLm9uQ29ubmVjdEFjayA9IGZ1bmN0aW9uIChkYXRhLCByZXNwX2Z1bmMpIHtcbiAgbGV0IGNsaWVudCA9IHRoaXM7XG4gIHdhbGx0aW1lLnN5bmMoZGF0YS50aW1lKTtcbiAgY2xpZW50LmNvbm5lY3RlZCA9IHRydWU7XG4gIGNsaWVudC5kaXNjb25uZWN0ZWQgPSBmYWxzZTtcbiAgY2xpZW50LmlkID0gZGF0YS5pZDtcbiAgY2xpZW50LnNlY3JldCA9IGRhdGEuc2VjcmV0O1xuICBpZiAoZGF0YS5hcHBfdmVyKSB7XG4gICAgY2xpZW50Lm9uQXBwVmVyKGRhdGEuYXBwX3Zlcik7XG4gIH1cbiAgLy8gRmlyZSB1c2VyLWxldmVsIGNvbm5lY3QgaGFuZGxlciBhcyB3ZWxsXG4gIGFzc2VydChjbGllbnQuaGFuZGxlcnMuY29ubmVjdCk7XG4gIGNsaWVudC5oYW5kbGVycy5jb25uZWN0KGNsaWVudCwge1xuICAgIGNsaWVudF9pZDogY2xpZW50LmlkLFxuICB9KTtcbiAgcmVzcF9mdW5jKCk7XG59O1xuXG5cbldTQ2xpZW50LnByb3RvdHlwZS53c1BhayA9IGZ1bmN0aW9uIChtc2cpIHtcbiAgcmV0dXJuIHdzY29tbW9uLndzUGFrKG1zZywgbnVsbCwgdGhpcyk7XG59O1xuXG5XU0NsaWVudC5wcm90b3R5cGUuc2VuZCA9IGZ1bmN0aW9uIChtc2csIGRhdGEsIHJlc3BfZnVuYykge1xuICB3c2NvbW1vbi5zZW5kTWVzc2FnZS5jYWxsKHRoaXMsIG1zZywgZGF0YSwgcmVzcF9mdW5jKTtcbn07XG5cbldTQ2xpZW50LnByb3RvdHlwZS5vbkVycm9yID0gZnVuY3Rpb24gKGUpIHtcbiAgY29uc29sZS5lcnJvcihlKTtcbiAgdGhyb3cgZTtcbn07XG5cbi8vIGNiKGNsaWVudCwgZGF0YSwgcmVzcF9mdW5jKVxuV1NDbGllbnQucHJvdG90eXBlLm9uTXNnID0gZnVuY3Rpb24gKG1zZywgY2IpIHtcbiAgYXNzZXJ0Lm9rKCF0aGlzLmhhbmRsZXJzW21zZ10pO1xuICB0aGlzLmhhbmRsZXJzW21zZ10gPSBmdW5jdGlvbiB3cmFwcGVkQ2FsbGJhY2soY2xpZW50LCBkYXRhLCByZXNwX2Z1bmMpIHtcbiAgICAvLyBDbGllbnQgaW50ZXJmYWNlIGRvZXMgbm90IG5lZWQgYSBjbGllbnQgcGFzc2VkIHRvIGl0IVxuICAgIHJldHVybiBjYihkYXRhLCByZXNwX2Z1bmMpO1xuICB9O1xufTtcblxuV1NDbGllbnQucHJvdG90eXBlLmNoZWNrRm9yTmV3QXBwVmVyc2lvbiA9IGZ1bmN0aW9uICgpIHtcbiAgaWYgKHRoaXMuYXBwX3Zlcl9jaGVja19pbl9wcm9ncmVzcykge1xuICAgIHJldHVybjtcbiAgfVxuICB0aGlzLmFwcF92ZXJfY2hlY2tfaW5fcHJvZ3Jlc3MgPSB0cnVlO1xuICBsZXQgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gIHhoci5vcGVuKCdHRVQnLCBgJHt1cmxoYXNoLmdldFVSTEJhc2UoKX1hcHAudmVyLmpzb25gLCB0cnVlKTtcbiAgLy8geGhyLnJlc3BvbnNlVHlwZSA9ICdqc29uJzsgLy8gY2F1c2VzIHVuLWNhdGNoYWJsZSwgdW4tcmVwb3J0ZWQgZXJyb3JzXG4gIHhoci5vbmxvYWQgPSAoKSA9PiB7XG4gICAgdGhpcy5hcHBfdmVyX2NoZWNrX2luX3Byb2dyZXNzID0gZmFsc2U7XG4gICAgbGV0IHRleHQ7XG4gICAgdHJ5IHtcbiAgICAgIHRleHQgPSB4aHIucmVzcG9uc2VUZXh0O1xuICAgICAgbGV0IG9iaiA9IEpTT04ucGFyc2UodGV4dCk7XG4gICAgICBpZiAob2JqICYmIG9iai52ZXIpIHtcbiAgICAgICAgdGhpcy5vbkFwcFZlcihvYmoudmVyKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdSZWNlaXZlZCBpbnZhbGlkIHJlc3BvbnNlIHdoZW4gY2hlY2tpbmcgYXBwIHZlcnNpb246JywgdGV4dCB8fCAnPGVtcHR5IHJlc3BvbnNlPicpO1xuICAgICAgLy8gUHJvYmFibHkgaW50ZXJuYWwgc2VydmVyIGVycm9yIG9yIHN1Y2ggYXMgdGhlIHNlcnZlciBpcyByZXN0YXJ0LCB0cnkgYWdhaW4gbW9tZW50YXJpbHlcbiAgICAgIC8vIFRoaXMgaXMgbm90IHRyaWdnZXJlZCBvbiBjb25uZWN0aW9uIGVycm9ycywgb25seSBpZiB3ZSBnb3QgYSAobm9uLXBhcnNlYWJsZSkgcmVzcG9uc2UgZnJvbSB0aGUgc2VydmVyXG4gICAgICBpZiAoIXRoaXMuZGVsYXllZF9yZWNoZWNrKSB7XG4gICAgICAgIHRoaXMuZGVsYXllZF9yZWNoZWNrID0gdHJ1ZTtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgdGhpcy5kZWxheWVkX3JlY2hlY2sgPSBmYWxzZTtcbiAgICAgICAgICB0aGlzLmNoZWNrRm9yTmV3QXBwVmVyc2lvbigpO1xuICAgICAgICB9LCAxMDAwKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIHhoci5vbmVycm9yID0gKCkgPT4ge1xuICAgIHRoaXMuYXBwX3Zlcl9jaGVja19pbl9wcm9ncmVzcyA9IGZhbHNlO1xuICB9O1xuICB4aHIuc2VuZChudWxsKTtcbn07XG5cbldTQ2xpZW50LnByb3RvdHlwZS5yZXRyeUNvbm5lY3Rpb24gPSBmdW5jdGlvbiAoKSB7XG4gIGxldCBjbGllbnQgPSB0aGlzO1xuICBhc3NlcnQoIWNsaWVudC5zb2NrZXQpO1xuICBhc3NlcnQoIWNsaWVudC5yZXRyeV9zY2hlZHVsZWQpO1xuICBjbGllbnQucmV0cnlfc2NoZWR1bGVkID0gdHJ1ZTtcbiAgKytjbGllbnQucmV0cnlfY291bnQ7XG4gIHRoaXMuY2hlY2tGb3JOZXdBcHBWZXJzaW9uKCk7XG4gIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgIGFzc2VydChjbGllbnQucmV0cnlfc2NoZWR1bGVkKTtcbiAgICBhc3NlcnQoIWNsaWVudC5zb2NrZXQpO1xuICAgIGNsaWVudC5yZXRyeV9zY2hlZHVsZWQgPSBmYWxzZTtcbiAgICBjbGllbnQuY29ubmVjdCh0cnVlKTtcbiAgfSwgbWluKGNsaWVudC5yZXRyeV9jb3VudCAqIGNsaWVudC5yZXRyeV9jb3VudCAqIDEwMCwgMTUwMDApKTtcbn07XG5cbldTQ2xpZW50LnByb3RvdHlwZS5jb25uZWN0ID0gZnVuY3Rpb24gKGZvcl9yZWNvbm5lY3QpIHtcbiAgbGV0IGNsaWVudCA9IHRoaXM7XG5cbiAgbGV0IHBhdGggPSBgJHsoY2xpZW50LnJldHJ5X2NvdW50ICUgMikgPyBjbGllbnQucGF0aDIgOiBjbGllbnQucGF0aH0/cHZlcj0ke3dzY29tbW9uLlBST1RPQ09MX1ZFUlNJT059JHtcbiAgICBmb3JfcmVjb25uZWN0ICYmIGNsaWVudC5pZCAmJiBjbGllbnQuc2VjcmV0ID8gYCZyZWNvbm5lY3Q9JHtjbGllbnQuaWR9JnNlY3JldD0ke2NsaWVudC5zZWNyZXR9YCA6ICcnXG4gIH1gO1xuICBsZXQgc29ja2V0ID0gbmV3IFdlYlNvY2tldChwYXRoKTtcbiAgc29ja2V0LmJpbmFyeVR5cGUgPSAnYXJyYXlidWZmZXInO1xuICBjbGllbnQuc29ja2V0ID0gc29ja2V0O1xuXG4gIC8vIFByb3RlY3QgY2FsbGJhY2tzIGZyb20gZXZlciBmaXJpbmcgaWYgd2UndmUgYWxyZWFkeSBkaXNjb25uZWN0ZWQgdGhpcyBzb2NrZXRcbiAgLy8gICBmcm9tIHRoZSBXU0NsaWVudFxuICBmdW5jdGlvbiBndWFyZChmbikge1xuICAgIHJldHVybiBmdW5jdGlvbiAoLi4uYXJncykge1xuICAgICAgaWYgKGNsaWVudC5zb2NrZXQgIT09IHNvY2tldCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBmbiguLi5hcmdzKTtcbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gYWJvcnQoc2tpcF9jbG9zZSkge1xuICAgIGNsaWVudC5zb2NrZXQgPSBudWxsO1xuICAgIGlmIChjbGllbnQuY29ubmVjdGVkKSB7XG4gICAgICBjbGllbnQuZGlzY29ubmVjdF90aW1lID0gRGF0ZS5ub3coKTtcbiAgICAgIGNsaWVudC5kaXNjb25uZWN0ZWQgPSB0cnVlO1xuICAgIH1cbiAgICBjbGllbnQuY29ubmVjdGVkID0gZmFsc2U7XG4gICAgaWYgKCFza2lwX2Nsb3NlKSB7XG4gICAgICB0cnkge1xuICAgICAgICBzb2NrZXQuY2xvc2UoKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgLy8gaWdub3JlXG4gICAgICB9XG4gICAgfVxuICAgIGFjay5mYWlsQWxsKGNsaWVudCk7XG4gIH1cblxuICBmdW5jdGlvbiByZXRyeShza2lwX2Nsb3NlKSB7XG4gICAgYWJvcnQoc2tpcF9jbG9zZSk7XG4gICAgY2xpZW50LnJldHJ5Q29ubmVjdGlvbigpO1xuICB9XG5cbiAgLy8gTG9jYWwgc3RhdGUsIGZvciB0aGlzIG9uZSBjb25uZWN0aW9uXG4gIGxldCBjb25uZWN0ZWQgPSBmYWxzZTtcbiAgY2xpZW50LnNvY2tldC5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsIGd1YXJkKGZ1bmN0aW9uIChlcnIpIHtcbiAgICBpZiAoIWNvbm5lY3RlZCkge1xuICAgICAgY29uc29sZS5sb2coJ1dlYlNvY2tldCBlcnJvciBkdXJpbmcgaW5pdGlhbCBjb25uZWN0aW9uLCByZXRyeWluZy4uLicsIGVycik7XG4gICAgICByZXRyeSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdXZWJTb2NrZXQgZXJyb3InLCBlcnIpO1xuICAgICAgLy8gRGlzY29ubmVjdCBhbmQgcmVjb25uZWN0IGhlcmUsIGlzIHRoaXMgYSB0ZXJtaW5hbCBlcnJvcj8gUHJvYmFibHkgbm90LCB3ZSdsbCBnZXQgYSAnY2xvc2UnIGV2ZW50IGlmIGl0IGlzP1xuICAgICAgLy8gV2Ugc29tZSBlcnJvciBvY2Nhc2lvbmFsbHkgb24gaU9TLCBub3Qgc3VyZSB3aGF0IGVycm9yLCBidXQgaXQgYXV0by1yZWNvbm5lY3RzIGZpbmUsIHNvIGxldCdzXG4gICAgICAvLyBub3QgZG8gYSB0aHJvd1xuICAgICAgLy8gY2xpZW50Lm9uRXJyb3IoZXJyKTtcbiAgICB9XG4gIH0pKTtcblxuICBjbGllbnQuc29ja2V0LmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBndWFyZChmdW5jdGlvbiAobWVzc2FnZSkge1xuICAgIC8vIG5ldF90aW1lIC09IERhdGUubm93KCk7XG4gICAgYXNzZXJ0KG1lc3NhZ2UuZGF0YSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKTtcbiAgICB3c0hhbmRsZU1lc3NhZ2UoY2xpZW50LCBuZXcgVWludDhBcnJheShtZXNzYWdlLmRhdGEpKTtcbiAgICAvLyBuZXRfdGltZSArPSBEYXRlLm5vdygpO1xuICB9KSk7XG5cbiAgY2xpZW50LnNvY2tldC5hZGRFdmVudExpc3RlbmVyKCdvcGVuJywgZ3VhcmQoZnVuY3Rpb24gKCkge1xuICAgIGNvbnNvbGUubG9nKCdXZWJTb2NrZXQgb3BlbicpO1xuICAgIGNvbm5lY3RlZCA9IHRydWU7XG4gICAgLy8gcmVzZXQgcmV0cnkgY291bnQgc28gbmV4dCByZXRyeSBpcyBmYXN0IGlmIHdlIGdldCBkaXNjb25uZWN0ZWRcbiAgICBjbGllbnQucmV0cnlfY291bnQgPSAwO1xuICB9KSk7XG5cbiAgY2xpZW50LnNvY2tldC5hZGRFdmVudExpc3RlbmVyKCdjbG9zZScsIGd1YXJkKGZ1bmN0aW9uICgpIHtcbiAgICBjb25zb2xlLmxvZygnV2ViU29ja2V0IGNsb3NlLCByZXRyeWluZyBjb25uZWN0aW9uLi4uJyk7XG4gICAgcmV0cnkodHJ1ZSk7XG4gIH0pKTtcblxuICBsZXQgZG9QaW5nID0gZ3VhcmQoZnVuY3Rpb24gKCkge1xuICAgIGlmIChEYXRlLm5vdygpIC0gY2xpZW50Lmxhc3Rfc2VuZF90aW1lID4gd3Njb21tb24uUElOR19USU1FICYmIGNsaWVudC5jb25uZWN0ZWQgJiYgY2xpZW50LnNvY2tldC5yZWFkeVN0YXRlID09PSAxKSB7XG4gICAgICBjbGllbnQuc2VuZCgncGluZycpO1xuICAgIH1cbiAgICBzZXRUaW1lb3V0KGRvUGluZywgd3Njb21tb24uUElOR19USU1FKTtcbiAgfSk7XG4gIHNldFRpbWVvdXQoZG9QaW5nLCB3c2NvbW1vbi5QSU5HX1RJTUUpO1xuXG4gIC8vIEZvciBkZWJ1Z2dpbmcgcmVjb25uZWN0IGhhbmRsaW5nXG4gIC8vIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAvLyAgIGlmIChjb25uZWN0ZWQpIHtcbiAgLy8gICAgIHNvY2tldC5jbG9zZSgpO1xuICAvLyAgIH1cbiAgLy8gfSwgNTAwMCk7XG59O1xuIiwibW9kdWxlLmV4cG9ydHM9e1wiZm9udF9zaXplXCI6OCxcImltYWdlV1wiOjEyOCxcImltYWdlSFwiOjEyOCxcInNwcmVhZFwiOjIsXCJub0ZpbHRlclwiOjEsXCJjaGFubmVsc1wiOjEsXCJjaGFyX2luZm9zXCI6W3tcImNcIjozMixcIngwXCI6NjEsXCJ5MFwiOjYzLFwieHBhZFwiOjQsXCJ3XCI6MCxcImhcIjowfSx7XCJjXCI6MzMsXCJ4MFwiOjkyLFwieTBcIjoyLFwieW9mZnNcIjoxLFwieHBhZFwiOjEsXCJ3XCI6MSxcImhcIjo1fSx7XCJjXCI6MzQsXCJ4MFwiOjE2LFwieTBcIjo2MyxcInlvZmZzXCI6MSxcInhwYWRcIjoxLFwid1wiOjMsXCJoXCI6Mn0se1wiY1wiOjM1LFwieDBcIjo5OCxcInkwXCI6MixcInlvZmZzXCI6MSxcInhwYWRcIjoxLFwid1wiOjUsXCJoXCI6NX0se1wiY1wiOjM2LFwieDBcIjozOCxcInkwXCI6MixcInlvZmZzXCI6MSxcInhwYWRcIjoxLFwid1wiOjQsXCJoXCI6Nn0se1wiY1wiOjM3LFwieDBcIjoxMDgsXCJ5MFwiOjIsXCJ5b2Zmc1wiOjEsXCJ4cGFkXCI6MSxcIndcIjo1LFwiaFwiOjV9LHtcImNcIjozOCxcIngwXCI6MTE4LFwieTBcIjoyLFwieW9mZnNcIjoxLFwieHBhZFwiOjEsXCJ3XCI6NSxcImhcIjo1fSx7XCJjXCI6MzksXCJ4MFwiOjI0LFwieTBcIjo2MyxcInlvZmZzXCI6MSxcInhwYWRcIjoxLFwid1wiOjEsXCJoXCI6Mn0se1wiY1wiOjQwLFwieDBcIjoyLFwieTBcIjoxNCxcInlvZmZzXCI6MSxcInhwYWRcIjoxLFwid1wiOjIsXCJoXCI6NX0se1wiY1wiOjQxLFwieDBcIjo5LFwieTBcIjoxNCxcInlvZmZzXCI6MSxcInhwYWRcIjoxLFwid1wiOjIsXCJoXCI6NX0se1wiY1wiOjQyLFwieDBcIjoxMDksXCJ5MFwiOjU0LFwieW9mZnNcIjoxLFwieHBhZFwiOjEsXCJ3XCI6MyxcImhcIjozfSx7XCJjXCI6NDMsXCJ4MFwiOjExNyxcInkwXCI6NTQsXCJ5b2Zmc1wiOjIsXCJ4cGFkXCI6MSxcIndcIjozLFwiaFwiOjN9LHtcImNcIjo0NCxcIngwXCI6MzAsXCJ5MFwiOjYzLFwieW9mZnNcIjo1LFwieHBhZFwiOjEsXCJ3XCI6MixcImhcIjoyfSx7XCJjXCI6NDUsXCJ4MFwiOjY3LFwieTBcIjo2MyxcInlvZmZzXCI6MyxcInhwYWRcIjoxLFwid1wiOjMsXCJoXCI6MX0se1wiY1wiOjQ2LFwieDBcIjo3NSxcInkwXCI6NjMsXCJ5b2Zmc1wiOjUsXCJ4cGFkXCI6MSxcIndcIjoxLFwiaFwiOjF9LHtcImNcIjo0NyxcIngwXCI6MTYsXCJ5MFwiOjE0LFwieW9mZnNcIjoxLFwieHBhZFwiOjEsXCJ3XCI6NSxcImhcIjo1fSx7XCJjXCI6NDgsXCJ4MFwiOjI2LFwieTBcIjoxNCxcInlvZmZzXCI6MSxcInhwYWRcIjoxLFwid1wiOjQsXCJoXCI6NX0se1wiY1wiOjQ5LFwieDBcIjozNSxcInkwXCI6MTQsXCJ5b2Zmc1wiOjEsXCJ4cGFkXCI6MSxcIndcIjoyLFwiaFwiOjV9LHtcImNcIjo1MCxcIngwXCI6NDIsXCJ5MFwiOjE0LFwieW9mZnNcIjoxLFwieHBhZFwiOjEsXCJ3XCI6NCxcImhcIjo1fSx7XCJjXCI6NTEsXCJ4MFwiOjUxLFwieTBcIjoxNCxcInlvZmZzXCI6MSxcInhwYWRcIjoxLFwid1wiOjQsXCJoXCI6NX0se1wiY1wiOjUyLFwieDBcIjo2MCxcInkwXCI6MTQsXCJ5b2Zmc1wiOjEsXCJ4cGFkXCI6MSxcIndcIjo0LFwiaFwiOjV9LHtcImNcIjo1MyxcIngwXCI6NjksXCJ5MFwiOjE0LFwieW9mZnNcIjoxLFwieHBhZFwiOjEsXCJ3XCI6NCxcImhcIjo1fSx7XCJjXCI6NTQsXCJ4MFwiOjc4LFwieTBcIjoxNCxcInlvZmZzXCI6MSxcInhwYWRcIjoxLFwid1wiOjQsXCJoXCI6NX0se1wiY1wiOjU1LFwieDBcIjo4NyxcInkwXCI6MTQsXCJ5b2Zmc1wiOjEsXCJ4cGFkXCI6MSxcIndcIjo0LFwiaFwiOjV9LHtcImNcIjo1NixcIngwXCI6OTYsXCJ5MFwiOjE0LFwieW9mZnNcIjoxLFwieHBhZFwiOjEsXCJ3XCI6NCxcImhcIjo1fSx7XCJjXCI6NTcsXCJ4MFwiOjEwNSxcInkwXCI6MTQsXCJ5b2Zmc1wiOjEsXCJ4cGFkXCI6MSxcIndcIjo0LFwiaFwiOjV9LHtcImNcIjo1OCxcIngwXCI6MixcInkwXCI6NjMsXCJ5b2Zmc1wiOjIsXCJ4cGFkXCI6MSxcIndcIjoxLFwiaFwiOjN9LHtcImNcIjo1OSxcIngwXCI6MTE1LFwieTBcIjo0NCxcInlvZmZzXCI6MixcInhwYWRcIjoxLFwid1wiOjEsXCJoXCI6NH0se1wiY1wiOjYwLFwieDBcIjoxMTQsXCJ5MFwiOjE0LFwieW9mZnNcIjoxLFwieHBhZFwiOjEsXCJ3XCI6MyxcImhcIjo1fSx7XCJjXCI6NjEsXCJ4MFwiOjgsXCJ5MFwiOjYzLFwieW9mZnNcIjoyLFwieHBhZFwiOjEsXCJ3XCI6MyxcImhcIjozfSx7XCJjXCI6NjIsXCJ4MFwiOjEyMixcInkwXCI6MTQsXCJ5b2Zmc1wiOjEsXCJ4cGFkXCI6MSxcIndcIjozLFwiaFwiOjV9LHtcImNcIjo2MyxcIngwXCI6MixcInkwXCI6MjQsXCJ5b2Zmc1wiOjEsXCJ4cGFkXCI6MSxcIndcIjo0LFwiaFwiOjV9LHtcImNcIjo2NCxcIngwXCI6MTEsXCJ5MFwiOjI0LFwieW9mZnNcIjoxLFwieHBhZFwiOjEsXCJ3XCI6NSxcImhcIjo1fSx7XCJjXCI6NjUsXCJ4MFwiOjIxLFwieTBcIjoyNCxcInlvZmZzXCI6MSxcInhwYWRcIjoxLFwid1wiOjQsXCJoXCI6NX0se1wiY1wiOjY2LFwieDBcIjozMCxcInkwXCI6MjQsXCJ5b2Zmc1wiOjEsXCJ4cGFkXCI6MSxcIndcIjo0LFwiaFwiOjV9LHtcImNcIjo2NyxcIngwXCI6MzksXCJ5MFwiOjI0LFwieW9mZnNcIjoxLFwieHBhZFwiOjEsXCJ3XCI6MyxcImhcIjo1fSx7XCJjXCI6NjgsXCJ4MFwiOjQ3LFwieTBcIjoyNCxcInlvZmZzXCI6MSxcInhwYWRcIjoxLFwid1wiOjQsXCJoXCI6NX0se1wiY1wiOjY5LFwieDBcIjo1NixcInkwXCI6MjQsXCJ5b2Zmc1wiOjEsXCJ4cGFkXCI6MSxcIndcIjozLFwiaFwiOjV9LHtcImNcIjo3MCxcIngwXCI6NjQsXCJ5MFwiOjI0LFwieW9mZnNcIjoxLFwieHBhZFwiOjEsXCJ3XCI6MyxcImhcIjo1fSx7XCJjXCI6NzEsXCJ4MFwiOjcyLFwieTBcIjoyNCxcInlvZmZzXCI6MSxcInhwYWRcIjoxLFwid1wiOjQsXCJoXCI6NX0se1wiY1wiOjcyLFwieDBcIjo4MSxcInkwXCI6MjQsXCJ5b2Zmc1wiOjEsXCJ4cGFkXCI6MSxcIndcIjo0LFwiaFwiOjV9LHtcImNcIjo3MyxcIngwXCI6OTAsXCJ5MFwiOjI0LFwieW9mZnNcIjoxLFwieHBhZFwiOjEsXCJ3XCI6MyxcImhcIjo1fSx7XCJjXCI6NzQsXCJ4MFwiOjk4LFwieTBcIjoyNCxcInlvZmZzXCI6MSxcInhwYWRcIjoxLFwid1wiOjQsXCJoXCI6NX0se1wiY1wiOjc1LFwieDBcIjoxMDcsXCJ5MFwiOjI0LFwieW9mZnNcIjoxLFwieHBhZFwiOjEsXCJ3XCI6NCxcImhcIjo1fSx7XCJjXCI6NzYsXCJ4MFwiOjExNixcInkwXCI6MjQsXCJ5b2Zmc1wiOjEsXCJ4cGFkXCI6MSxcIndcIjozLFwiaFwiOjV9LHtcImNcIjo3NyxcIngwXCI6MixcInkwXCI6MzQsXCJ5b2Zmc1wiOjEsXCJ4cGFkXCI6MSxcIndcIjo1LFwiaFwiOjV9LHtcImNcIjo3OCxcIngwXCI6MTIsXCJ5MFwiOjM0LFwieW9mZnNcIjoxLFwieHBhZFwiOjEsXCJ3XCI6NCxcImhcIjo1fSx7XCJjXCI6NzksXCJ4MFwiOjIxLFwieTBcIjozNCxcInlvZmZzXCI6MSxcInhwYWRcIjoxLFwid1wiOjQsXCJoXCI6NX0se1wiY1wiOjgwLFwieDBcIjozMCxcInkwXCI6MzQsXCJ5b2Zmc1wiOjEsXCJ4cGFkXCI6MSxcIndcIjo0LFwiaFwiOjV9LHtcImNcIjo4MSxcIngwXCI6NDcsXCJ5MFwiOjIsXCJ5b2Zmc1wiOjEsXCJ4cGFkXCI6MSxcIndcIjo0LFwiaFwiOjZ9LHtcImNcIjo4MixcIngwXCI6MzksXCJ5MFwiOjM0LFwieW9mZnNcIjoxLFwieHBhZFwiOjEsXCJ3XCI6NCxcImhcIjo1fSx7XCJjXCI6ODMsXCJ4MFwiOjQ4LFwieTBcIjozNCxcInlvZmZzXCI6MSxcInhwYWRcIjoxLFwid1wiOjQsXCJoXCI6NX0se1wiY1wiOjg0LFwieDBcIjo1NyxcInkwXCI6MzQsXCJ5b2Zmc1wiOjEsXCJ4cGFkXCI6MSxcIndcIjozLFwiaFwiOjV9LHtcImNcIjo4NSxcIngwXCI6NjUsXCJ5MFwiOjM0LFwieW9mZnNcIjoxLFwieHBhZFwiOjEsXCJ3XCI6NCxcImhcIjo1fSx7XCJjXCI6ODYsXCJ4MFwiOjc0LFwieTBcIjozNCxcInlvZmZzXCI6MSxcInhwYWRcIjoxLFwid1wiOjQsXCJoXCI6NX0se1wiY1wiOjg3LFwieDBcIjo4MyxcInkwXCI6MzQsXCJ5b2Zmc1wiOjEsXCJ4cGFkXCI6MSxcIndcIjo1LFwiaFwiOjV9LHtcImNcIjo4OCxcIngwXCI6OTMsXCJ5MFwiOjM0LFwieW9mZnNcIjoxLFwieHBhZFwiOjEsXCJ3XCI6NCxcImhcIjo1fSx7XCJjXCI6ODksXCJ4MFwiOjEwMixcInkwXCI6MzQsXCJ5b2Zmc1wiOjEsXCJ4cGFkXCI6MSxcIndcIjo0LFwiaFwiOjV9LHtcImNcIjo5MCxcIngwXCI6MTExLFwieTBcIjozNCxcInlvZmZzXCI6MSxcInhwYWRcIjoxLFwid1wiOjMsXCJoXCI6NX0se1wiY1wiOjkxLFwieDBcIjoxMTksXCJ5MFwiOjM0LFwieW9mZnNcIjoxLFwieHBhZFwiOjEsXCJ3XCI6MixcImhcIjo1fSx7XCJjXCI6OTIsXCJ4MFwiOjIsXCJ5MFwiOjQ0LFwieW9mZnNcIjoxLFwieHBhZFwiOjEsXCJ3XCI6NSxcImhcIjo1fSx7XCJjXCI6OTMsXCJ4MFwiOjEyLFwieTBcIjo0NCxcInlvZmZzXCI6MSxcInhwYWRcIjoxLFwid1wiOjIsXCJoXCI6NX0se1wiY1wiOjk0LFwieDBcIjozNyxcInkwXCI6NjMsXCJ5b2Zmc1wiOjEsXCJ4cGFkXCI6MSxcIndcIjozLFwiaFwiOjJ9LHtcImNcIjo5NSxcIngwXCI6ODEsXCJ5MFwiOjYzLFwieW9mZnNcIjo1LFwieHBhZFwiOjEsXCJ3XCI6NCxcImhcIjoxfSx7XCJjXCI6OTYsXCJ4MFwiOjQ1LFwieTBcIjo2MyxcInlvZmZzXCI6MSxcInhwYWRcIjoxLFwid1wiOjIsXCJoXCI6Mn0se1wiY1wiOjk3LFwieDBcIjoxMjEsXCJ5MFwiOjQ0LFwieW9mZnNcIjoyLFwieHBhZFwiOjEsXCJ3XCI6NCxcImhcIjo0fSx7XCJjXCI6OTgsXCJ4MFwiOjE5LFwieTBcIjo0NCxcInlvZmZzXCI6MSxcInhwYWRcIjoxLFwid1wiOjQsXCJoXCI6NX0se1wiY1wiOjk5LFwieDBcIjoyLFwieTBcIjo1NCxcInlvZmZzXCI6MixcInhwYWRcIjoxLFwid1wiOjMsXCJoXCI6NH0se1wiY1wiOjEwMCxcIngwXCI6MjgsXCJ5MFwiOjQ0LFwieW9mZnNcIjoxLFwieHBhZFwiOjEsXCJ3XCI6NCxcImhcIjo1fSx7XCJjXCI6MTAxLFwieDBcIjoxMCxcInkwXCI6NTQsXCJ5b2Zmc1wiOjIsXCJ4cGFkXCI6MSxcIndcIjo0LFwiaFwiOjR9LHtcImNcIjoxMDIsXCJ4MFwiOjM3LFwieTBcIjo0NCxcInlvZmZzXCI6MSxcInhwYWRcIjoxLFwid1wiOjMsXCJoXCI6NX0se1wiY1wiOjEwMyxcIngwXCI6NTYsXCJ5MFwiOjIsXCJ5b2Zmc1wiOjIsXCJ4cGFkXCI6MSxcIndcIjo0LFwiaFwiOjZ9LHtcImNcIjoxMDQsXCJ4MFwiOjQ1LFwieTBcIjo0NCxcInlvZmZzXCI6MSxcInhwYWRcIjoxLFwid1wiOjQsXCJoXCI6NX0se1wiY1wiOjEwNSxcIngwXCI6NTQsXCJ5MFwiOjQ0LFwieW9mZnNcIjoxLFwieHBhZFwiOjEsXCJ3XCI6MSxcImhcIjo1fSx7XCJjXCI6MTA2LFwieDBcIjoyLFwieTBcIjoyLFwieW9mZnNcIjoxLFwieHBhZFwiOjEsXCJ3XCI6MixcImhcIjo3fSx7XCJjXCI6MTA3LFwieDBcIjo2MCxcInkwXCI6NDQsXCJ5b2Zmc1wiOjEsXCJ4cGFkXCI6MSxcIndcIjo0LFwiaFwiOjV9LHtcImNcIjoxMDgsXCJ4MFwiOjY5LFwieTBcIjo0NCxcInlvZmZzXCI6MSxcInhwYWRcIjoxLFwid1wiOjEsXCJoXCI6NX0se1wiY1wiOjEwOSxcIngwXCI6MTksXCJ5MFwiOjU0LFwieW9mZnNcIjoyLFwieHBhZFwiOjEsXCJ3XCI6NSxcImhcIjo0fSx7XCJjXCI6MTEwLFwieDBcIjoyOSxcInkwXCI6NTQsXCJ5b2Zmc1wiOjIsXCJ4cGFkXCI6MSxcIndcIjo0LFwiaFwiOjR9LHtcImNcIjoxMTEsXCJ4MFwiOjM4LFwieTBcIjo1NCxcInlvZmZzXCI6MixcInhwYWRcIjoxLFwid1wiOjQsXCJoXCI6NH0se1wiY1wiOjExMixcIngwXCI6NjUsXCJ5MFwiOjIsXCJ5b2Zmc1wiOjIsXCJ4cGFkXCI6MSxcIndcIjo0LFwiaFwiOjZ9LHtcImNcIjoxMTMsXCJ4MFwiOjc0LFwieTBcIjoyLFwieW9mZnNcIjoyLFwieHBhZFwiOjEsXCJ3XCI6NCxcImhcIjo2fSx7XCJjXCI6MTE0LFwieDBcIjo0NyxcInkwXCI6NTQsXCJ5b2Zmc1wiOjIsXCJ4cGFkXCI6MSxcIndcIjozLFwiaFwiOjR9LHtcImNcIjoxMTUsXCJ4MFwiOjU1LFwieTBcIjo1NCxcInlvZmZzXCI6MixcInhwYWRcIjoxLFwid1wiOjQsXCJoXCI6NH0se1wiY1wiOjExNixcIngwXCI6NzUsXCJ5MFwiOjQ0LFwieW9mZnNcIjoxLFwieHBhZFwiOjEsXCJ3XCI6MyxcImhcIjo1fSx7XCJjXCI6MTE3LFwieDBcIjo2NCxcInkwXCI6NTQsXCJ5b2Zmc1wiOjIsXCJ4cGFkXCI6MSxcIndcIjo0LFwiaFwiOjR9LHtcImNcIjoxMTgsXCJ4MFwiOjczLFwieTBcIjo1NCxcInlvZmZzXCI6MixcInhwYWRcIjoxLFwid1wiOjQsXCJoXCI6NH0se1wiY1wiOjExOSxcIngwXCI6ODIsXCJ5MFwiOjU0LFwieW9mZnNcIjoyLFwieHBhZFwiOjEsXCJ3XCI6NSxcImhcIjo0fSx7XCJjXCI6MTIwLFwieDBcIjo5MixcInkwXCI6NTQsXCJ5b2Zmc1wiOjIsXCJ4cGFkXCI6MSxcIndcIjozLFwiaFwiOjR9LHtcImNcIjoxMjEsXCJ4MFwiOjgzLFwieTBcIjoyLFwieW9mZnNcIjoyLFwieHBhZFwiOjEsXCJ3XCI6NCxcImhcIjo2fSx7XCJjXCI6MTIyLFwieDBcIjoxMDAsXCJ5MFwiOjU0LFwieW9mZnNcIjoyLFwieHBhZFwiOjEsXCJ3XCI6NCxcImhcIjo0fSx7XCJjXCI6MTIzLFwieDBcIjo4MyxcInkwXCI6NDQsXCJ5b2Zmc1wiOjEsXCJ4cGFkXCI6MSxcIndcIjozLFwiaFwiOjV9LHtcImNcIjoxMjQsXCJ4MFwiOjkxLFwieTBcIjo0NCxcInlvZmZzXCI6MSxcInhwYWRcIjoxLFwid1wiOjEsXCJoXCI6NX0se1wiY1wiOjEyNSxcIngwXCI6OTcsXCJ5MFwiOjQ0LFwieW9mZnNcIjoxLFwieHBhZFwiOjEsXCJ3XCI6MyxcImhcIjo1fSx7XCJjXCI6MTI2LFwieDBcIjo1MixcInkwXCI6NjMsXCJ5b2Zmc1wiOjEsXCJ4cGFkXCI6MSxcIndcIjo0LFwiaFwiOjJ9LHtcImNcIjoxNjAsXCJ4MFwiOjkwLFwieTBcIjo2MyxcInhwYWRcIjozLFwid1wiOjEsXCJoXCI6MX0se1wiY1wiOjY1NTMzLFwieDBcIjoxMDUsXCJ5MFwiOjQ0LFwieW9mZnNcIjoyLFwieHBhZFwiOjEsXCJ3XCI6NSxcImhcIjo1fSx7XCJjXCI6MTI4MjYzLFwieDBcIjo5LFwieTBcIjoyLFwieW9mZnNcIjoxLFwieHBhZFwiOjEsXCJ3XCI6MTAsXCJoXCI6N30se1wiY1wiOjEyODI2NCxcIngwXCI6MjQsXCJ5MFwiOjIsXCJ5b2Zmc1wiOjEsXCJ4cGFkXCI6MSxcIndcIjo5LFwiaFwiOjd9XX0iLCJtb2R1bGUuZXhwb3J0cz17XCJmb250X3NpemVcIjoxNixcImltYWdlV1wiOjEwMjQsXCJpbWFnZUhcIjo2NCxcInNwcmVhZFwiOjIsXCJub0ZpbHRlclwiOjEsXCJjaGFubmVsc1wiOjEsXCJjaGFyX2luZm9zXCI6W3tcImNcIjozMixcIngwXCI6MTcyLFwieTBcIjoyMSxcInhwYWRcIjo4LFwid1wiOjAsXCJoXCI6MH0se1wiY1wiOjMzLFwieDBcIjoxMzcsXCJ5MFwiOjIsXCJ5b2Zmc1wiOjMsXCJ4cGFkXCI6MixcIndcIjoyLFwiaFwiOjEwfSx7XCJjXCI6MzQsXCJ4MFwiOjgxLFwieTBcIjoyMSxcInlvZmZzXCI6MyxcInhwYWRcIjoyLFwid1wiOjYsXCJoXCI6NH0se1wiY1wiOjM1LFwieDBcIjoxNDQsXCJ5MFwiOjIsXCJ5b2Zmc1wiOjMsXCJ4cGFkXCI6MixcIndcIjoxMCxcImhcIjoxMH0se1wiY1wiOjM2LFwieDBcIjo1OSxcInkwXCI6MixcInlvZmZzXCI6MyxcInhwYWRcIjoyLFwid1wiOjgsXCJoXCI6MTJ9LHtcImNcIjozNyxcIngwXCI6MTU5LFwieTBcIjoyLFwieW9mZnNcIjozLFwieHBhZFwiOjIsXCJ3XCI6MTAsXCJoXCI6MTB9LHtcImNcIjozOCxcIngwXCI6MTc0LFwieTBcIjoyLFwieW9mZnNcIjozLFwieHBhZFwiOjIsXCJ3XCI6MTAsXCJoXCI6MTB9LHtcImNcIjozOSxcIngwXCI6OTIsXCJ5MFwiOjIxLFwieW9mZnNcIjozLFwieHBhZFwiOjIsXCJ3XCI6MixcImhcIjo0fSx7XCJjXCI6NDAsXCJ4MFwiOjE4OSxcInkwXCI6MixcInlvZmZzXCI6MyxcInhwYWRcIjoyLFwid1wiOjQsXCJoXCI6MTB9LHtcImNcIjo0MSxcIngwXCI6MTk4LFwieTBcIjoyLFwieW9mZnNcIjozLFwieHBhZFwiOjIsXCJ3XCI6NCxcImhcIjoxMH0se1wiY1wiOjQyLFwieDBcIjo0MSxcInkwXCI6MjEsXCJ5b2Zmc1wiOjMsXCJ4cGFkXCI6MixcIndcIjo2LFwiaFwiOjZ9LHtcImNcIjo0MyxcIngwXCI6NTIsXCJ5MFwiOjIxLFwieW9mZnNcIjo1LFwieHBhZFwiOjIsXCJ3XCI6NixcImhcIjo2fSx7XCJjXCI6NDQsXCJ4MFwiOjk5LFwieTBcIjoyMSxcInlvZmZzXCI6MTEsXCJ4cGFkXCI6MixcIndcIjo0LFwiaFwiOjR9LHtcImNcIjo0NSxcIngwXCI6MTQxLFwieTBcIjoyMSxcInlvZmZzXCI6NyxcInhwYWRcIjoyLFwid1wiOjYsXCJoXCI6Mn0se1wiY1wiOjQ2LFwieDBcIjoxNTIsXCJ5MFwiOjIxLFwieW9mZnNcIjoxMSxcInhwYWRcIjoyLFwid1wiOjIsXCJoXCI6Mn0se1wiY1wiOjQ3LFwieDBcIjoyMDcsXCJ5MFwiOjIsXCJ5b2Zmc1wiOjMsXCJ4cGFkXCI6MixcIndcIjoxMCxcImhcIjoxMH0se1wiY1wiOjQ4LFwieDBcIjoyMjIsXCJ5MFwiOjIsXCJ5b2Zmc1wiOjMsXCJ4cGFkXCI6MixcIndcIjo4LFwiaFwiOjEwfSx7XCJjXCI6NDksXCJ4MFwiOjIzNSxcInkwXCI6MixcInlvZmZzXCI6MyxcInhwYWRcIjoyLFwid1wiOjQsXCJoXCI6MTB9LHtcImNcIjo1MCxcIngwXCI6MjQ0LFwieTBcIjoyLFwieW9mZnNcIjozLFwieHBhZFwiOjIsXCJ3XCI6OCxcImhcIjoxMH0se1wiY1wiOjUxLFwieDBcIjoyNTcsXCJ5MFwiOjIsXCJ5b2Zmc1wiOjMsXCJ4cGFkXCI6MixcIndcIjo4LFwiaFwiOjEwfSx7XCJjXCI6NTIsXCJ4MFwiOjI3MCxcInkwXCI6MixcInlvZmZzXCI6MyxcInhwYWRcIjoyLFwid1wiOjgsXCJoXCI6MTB9LHtcImNcIjo1MyxcIngwXCI6MjgzLFwieTBcIjoyLFwieW9mZnNcIjozLFwieHBhZFwiOjIsXCJ3XCI6OCxcImhcIjoxMH0se1wiY1wiOjU0LFwieDBcIjoyOTYsXCJ5MFwiOjIsXCJ5b2Zmc1wiOjMsXCJ4cGFkXCI6MixcIndcIjo4LFwiaFwiOjEwfSx7XCJjXCI6NTUsXCJ4MFwiOjMwOSxcInkwXCI6MixcInlvZmZzXCI6MyxcInhwYWRcIjoyLFwid1wiOjgsXCJoXCI6MTB9LHtcImNcIjo1NixcIngwXCI6MzIyLFwieTBcIjoyLFwieW9mZnNcIjozLFwieHBhZFwiOjIsXCJ3XCI6OCxcImhcIjoxMH0se1wiY1wiOjU3LFwieDBcIjozMzUsXCJ5MFwiOjIsXCJ5b2Zmc1wiOjMsXCJ4cGFkXCI6MixcIndcIjo4LFwiaFwiOjEwfSx7XCJjXCI6NTgsXCJ4MFwiOjYzLFwieTBcIjoyMSxcInlvZmZzXCI6NSxcInhwYWRcIjoyLFwid1wiOjIsXCJoXCI6Nn0se1wiY1wiOjU5LFwieDBcIjo4NzcsXCJ5MFwiOjIsXCJ5b2Zmc1wiOjUsXCJ4cGFkXCI6MixcIndcIjoyLFwiaFwiOjh9LHtcImNcIjo2MCxcIngwXCI6MzQ4LFwieTBcIjoyLFwieW9mZnNcIjozLFwieHBhZFwiOjIsXCJ3XCI6NixcImhcIjoxMH0se1wiY1wiOjYxLFwieDBcIjo3MCxcInkwXCI6MjEsXCJ5b2Zmc1wiOjUsXCJ4cGFkXCI6MixcIndcIjo2LFwiaFwiOjZ9LHtcImNcIjo2MixcIngwXCI6MzU5LFwieTBcIjoyLFwieW9mZnNcIjozLFwieHBhZFwiOjIsXCJ3XCI6NixcImhcIjoxMH0se1wiY1wiOjYzLFwieDBcIjozNzAsXCJ5MFwiOjIsXCJ5b2Zmc1wiOjMsXCJ4cGFkXCI6MixcIndcIjo4LFwiaFwiOjEwfSx7XCJjXCI6NjQsXCJ4MFwiOjM4MyxcInkwXCI6MixcInlvZmZzXCI6MyxcInhwYWRcIjoyLFwid1wiOjEwLFwiaFwiOjEwfSx7XCJjXCI6NjUsXCJ4MFwiOjM5OCxcInkwXCI6MixcInlvZmZzXCI6MyxcInhwYWRcIjoyLFwid1wiOjgsXCJoXCI6MTB9LHtcImNcIjo2NixcIngwXCI6NDExLFwieTBcIjoyLFwieW9mZnNcIjozLFwieHBhZFwiOjIsXCJ3XCI6OCxcImhcIjoxMH0se1wiY1wiOjY3LFwieDBcIjo0MjQsXCJ5MFwiOjIsXCJ5b2Zmc1wiOjMsXCJ4cGFkXCI6MixcIndcIjo2LFwiaFwiOjEwfSx7XCJjXCI6NjgsXCJ4MFwiOjQzNSxcInkwXCI6MixcInlvZmZzXCI6MyxcInhwYWRcIjoyLFwid1wiOjgsXCJoXCI6MTB9LHtcImNcIjo2OSxcIngwXCI6NDQ4LFwieTBcIjoyLFwieW9mZnNcIjozLFwieHBhZFwiOjIsXCJ3XCI6NixcImhcIjoxMH0se1wiY1wiOjcwLFwieDBcIjo0NTksXCJ5MFwiOjIsXCJ5b2Zmc1wiOjMsXCJ4cGFkXCI6MixcIndcIjo2LFwiaFwiOjEwfSx7XCJjXCI6NzEsXCJ4MFwiOjQ3MCxcInkwXCI6MixcInlvZmZzXCI6MyxcInhwYWRcIjoyLFwid1wiOjgsXCJoXCI6MTB9LHtcImNcIjo3MixcIngwXCI6NDgzLFwieTBcIjoyLFwieW9mZnNcIjozLFwieHBhZFwiOjIsXCJ3XCI6OCxcImhcIjoxMH0se1wiY1wiOjczLFwieDBcIjo0OTYsXCJ5MFwiOjIsXCJ5b2Zmc1wiOjMsXCJ4cGFkXCI6MixcIndcIjo2LFwiaFwiOjEwfSx7XCJjXCI6NzQsXCJ4MFwiOjUwNyxcInkwXCI6MixcInlvZmZzXCI6MyxcInhwYWRcIjoyLFwid1wiOjgsXCJoXCI6MTB9LHtcImNcIjo3NSxcIngwXCI6NTIwLFwieTBcIjoyLFwieW9mZnNcIjozLFwieHBhZFwiOjIsXCJ3XCI6OCxcImhcIjoxMH0se1wiY1wiOjc2LFwieDBcIjo1MzMsXCJ5MFwiOjIsXCJ5b2Zmc1wiOjMsXCJ4cGFkXCI6MixcIndcIjo2LFwiaFwiOjEwfSx7XCJjXCI6NzcsXCJ4MFwiOjU0NCxcInkwXCI6MixcInlvZmZzXCI6MyxcInhwYWRcIjoyLFwid1wiOjEwLFwiaFwiOjEwfSx7XCJjXCI6NzgsXCJ4MFwiOjU1OSxcInkwXCI6MixcInlvZmZzXCI6MyxcInhwYWRcIjoyLFwid1wiOjgsXCJoXCI6MTB9LHtcImNcIjo3OSxcIngwXCI6NTcyLFwieTBcIjoyLFwieW9mZnNcIjozLFwieHBhZFwiOjIsXCJ3XCI6OCxcImhcIjoxMH0se1wiY1wiOjgwLFwieDBcIjo1ODUsXCJ5MFwiOjIsXCJ5b2Zmc1wiOjMsXCJ4cGFkXCI6MixcIndcIjo4LFwiaFwiOjEwfSx7XCJjXCI6ODEsXCJ4MFwiOjcyLFwieTBcIjoyLFwieW9mZnNcIjozLFwieHBhZFwiOjIsXCJ3XCI6OCxcImhcIjoxMn0se1wiY1wiOjgyLFwieDBcIjo1OTgsXCJ5MFwiOjIsXCJ5b2Zmc1wiOjMsXCJ4cGFkXCI6MixcIndcIjo4LFwiaFwiOjEwfSx7XCJjXCI6ODMsXCJ4MFwiOjYxMSxcInkwXCI6MixcInlvZmZzXCI6MyxcInhwYWRcIjoyLFwid1wiOjgsXCJoXCI6MTB9LHtcImNcIjo4NCxcIngwXCI6NjI0LFwieTBcIjoyLFwieW9mZnNcIjozLFwieHBhZFwiOjIsXCJ3XCI6NixcImhcIjoxMH0se1wiY1wiOjg1LFwieDBcIjo2MzUsXCJ5MFwiOjIsXCJ5b2Zmc1wiOjMsXCJ4cGFkXCI6MixcIndcIjo4LFwiaFwiOjEwfSx7XCJjXCI6ODYsXCJ4MFwiOjY0OCxcInkwXCI6MixcInlvZmZzXCI6MyxcInhwYWRcIjoyLFwid1wiOjgsXCJoXCI6MTB9LHtcImNcIjo4NyxcIngwXCI6NjYxLFwieTBcIjoyLFwieW9mZnNcIjozLFwieHBhZFwiOjIsXCJ3XCI6MTAsXCJoXCI6MTB9LHtcImNcIjo4OCxcIngwXCI6Njc2LFwieTBcIjoyLFwieW9mZnNcIjozLFwieHBhZFwiOjIsXCJ3XCI6OCxcImhcIjoxMH0se1wiY1wiOjg5LFwieDBcIjo2ODksXCJ5MFwiOjIsXCJ5b2Zmc1wiOjMsXCJ4cGFkXCI6MixcIndcIjo4LFwiaFwiOjEwfSx7XCJjXCI6OTAsXCJ4MFwiOjcwMixcInkwXCI6MixcInlvZmZzXCI6MyxcInhwYWRcIjoyLFwid1wiOjYsXCJoXCI6MTB9LHtcImNcIjo5MSxcIngwXCI6NzEzLFwieTBcIjoyLFwieW9mZnNcIjozLFwieHBhZFwiOjIsXCJ3XCI6NCxcImhcIjoxMH0se1wiY1wiOjkyLFwieDBcIjo3MjIsXCJ5MFwiOjIsXCJ5b2Zmc1wiOjMsXCJ4cGFkXCI6MixcIndcIjoxMCxcImhcIjoxMH0se1wiY1wiOjkzLFwieDBcIjo3MzcsXCJ5MFwiOjIsXCJ5b2Zmc1wiOjMsXCJ4cGFkXCI6MixcIndcIjo0LFwiaFwiOjEwfSx7XCJjXCI6OTQsXCJ4MFwiOjEwOCxcInkwXCI6MjEsXCJ5b2Zmc1wiOjMsXCJ4cGFkXCI6MixcIndcIjo2LFwiaFwiOjR9LHtcImNcIjo5NSxcIngwXCI6MTU5LFwieTBcIjoyMSxcInlvZmZzXCI6MTEsXCJ4cGFkXCI6MixcIndcIjo4LFwiaFwiOjJ9LHtcImNcIjo5NixcIngwXCI6MTE5LFwieTBcIjoyMSxcInlvZmZzXCI6MyxcInhwYWRcIjoyLFwid1wiOjQsXCJoXCI6NH0se1wiY1wiOjk3LFwieDBcIjo4ODQsXCJ5MFwiOjIsXCJ5b2Zmc1wiOjUsXCJ4cGFkXCI6MixcIndcIjo4LFwiaFwiOjh9LHtcImNcIjo5OCxcIngwXCI6NzQ2LFwieTBcIjoyLFwieW9mZnNcIjozLFwieHBhZFwiOjIsXCJ3XCI6OCxcImhcIjoxMH0se1wiY1wiOjk5LFwieDBcIjo4OTcsXCJ5MFwiOjIsXCJ5b2Zmc1wiOjUsXCJ4cGFkXCI6MixcIndcIjo2LFwiaFwiOjh9LHtcImNcIjoxMDAsXCJ4MFwiOjc1OSxcInkwXCI6MixcInlvZmZzXCI6MyxcInhwYWRcIjoyLFwid1wiOjgsXCJoXCI6MTB9LHtcImNcIjoxMDEsXCJ4MFwiOjkwOCxcInkwXCI6MixcInlvZmZzXCI6NSxcInhwYWRcIjoyLFwid1wiOjgsXCJoXCI6OH0se1wiY1wiOjEwMixcIngwXCI6NzcyLFwieTBcIjoyLFwieW9mZnNcIjozLFwieHBhZFwiOjIsXCJ3XCI6NixcImhcIjoxMH0se1wiY1wiOjEwMyxcIngwXCI6ODUsXCJ5MFwiOjIsXCJ5b2Zmc1wiOjUsXCJ4cGFkXCI6MixcIndcIjo4LFwiaFwiOjEyfSx7XCJjXCI6MTA0LFwieDBcIjo3ODMsXCJ5MFwiOjIsXCJ5b2Zmc1wiOjMsXCJ4cGFkXCI6MixcIndcIjo4LFwiaFwiOjEwfSx7XCJjXCI6MTA1LFwieDBcIjo3OTYsXCJ5MFwiOjIsXCJ5b2Zmc1wiOjMsXCJ4cGFkXCI6MixcIndcIjoyLFwiaFwiOjEwfSx7XCJjXCI6MTA2LFwieDBcIjoyLFwieTBcIjoyLFwieW9mZnNcIjozLFwieHBhZFwiOjIsXCJ3XCI6NCxcImhcIjoxNH0se1wiY1wiOjEwNyxcIngwXCI6ODAzLFwieTBcIjoyLFwieW9mZnNcIjozLFwieHBhZFwiOjIsXCJ3XCI6OCxcImhcIjoxMH0se1wiY1wiOjEwOCxcIngwXCI6ODE2LFwieTBcIjoyLFwieW9mZnNcIjozLFwieHBhZFwiOjIsXCJ3XCI6MixcImhcIjoxMH0se1wiY1wiOjEwOSxcIngwXCI6OTIxLFwieTBcIjoyLFwieW9mZnNcIjo1LFwieHBhZFwiOjIsXCJ3XCI6MTAsXCJoXCI6OH0se1wiY1wiOjExMCxcIngwXCI6OTM2LFwieTBcIjoyLFwieW9mZnNcIjo1LFwieHBhZFwiOjIsXCJ3XCI6OCxcImhcIjo4fSx7XCJjXCI6MTExLFwieDBcIjo5NDksXCJ5MFwiOjIsXCJ5b2Zmc1wiOjUsXCJ4cGFkXCI6MixcIndcIjo4LFwiaFwiOjh9LHtcImNcIjoxMTIsXCJ4MFwiOjk4LFwieTBcIjoyLFwieW9mZnNcIjo1LFwieHBhZFwiOjIsXCJ3XCI6OCxcImhcIjoxMn0se1wiY1wiOjExMyxcIngwXCI6MTExLFwieTBcIjoyLFwieW9mZnNcIjo1LFwieHBhZFwiOjIsXCJ3XCI6OCxcImhcIjoxMn0se1wiY1wiOjExNCxcIngwXCI6OTYyLFwieTBcIjoyLFwieW9mZnNcIjo1LFwieHBhZFwiOjIsXCJ3XCI6NixcImhcIjo4fSx7XCJjXCI6MTE1LFwieDBcIjo5NzMsXCJ5MFwiOjIsXCJ5b2Zmc1wiOjUsXCJ4cGFkXCI6MixcIndcIjo4LFwiaFwiOjh9LHtcImNcIjoxMTYsXCJ4MFwiOjgyMyxcInkwXCI6MixcInlvZmZzXCI6MyxcInhwYWRcIjoyLFwid1wiOjYsXCJoXCI6MTB9LHtcImNcIjoxMTcsXCJ4MFwiOjk4NixcInkwXCI6MixcInlvZmZzXCI6NSxcInhwYWRcIjoyLFwid1wiOjgsXCJoXCI6OH0se1wiY1wiOjExOCxcIngwXCI6OTk5LFwieTBcIjoyLFwieW9mZnNcIjo1LFwieHBhZFwiOjIsXCJ3XCI6OCxcImhcIjo4fSx7XCJjXCI6MTE5LFwieDBcIjoyLFwieTBcIjoyMSxcInlvZmZzXCI6NSxcInhwYWRcIjoyLFwid1wiOjEwLFwiaFwiOjh9LHtcImNcIjoxMjAsXCJ4MFwiOjE3LFwieTBcIjoyMSxcInlvZmZzXCI6NSxcInhwYWRcIjoyLFwid1wiOjYsXCJoXCI6OH0se1wiY1wiOjEyMSxcIngwXCI6MTI0LFwieTBcIjoyLFwieW9mZnNcIjo1LFwieHBhZFwiOjIsXCJ3XCI6OCxcImhcIjoxMn0se1wiY1wiOjEyMixcIngwXCI6MjgsXCJ5MFwiOjIxLFwieW9mZnNcIjo1LFwieHBhZFwiOjIsXCJ3XCI6OCxcImhcIjo4fSx7XCJjXCI6MTIzLFwieDBcIjo4MzQsXCJ5MFwiOjIsXCJ5b2Zmc1wiOjMsXCJ4cGFkXCI6MixcIndcIjo2LFwiaFwiOjEwfSx7XCJjXCI6MTI0LFwieDBcIjo4NDUsXCJ5MFwiOjIsXCJ5b2Zmc1wiOjMsXCJ4cGFkXCI6MixcIndcIjoyLFwiaFwiOjEwfSx7XCJjXCI6MTI1LFwieDBcIjo4NTIsXCJ5MFwiOjIsXCJ5b2Zmc1wiOjMsXCJ4cGFkXCI6MixcIndcIjo2LFwiaFwiOjEwfSx7XCJjXCI6MTI2LFwieDBcIjoxMjgsXCJ5MFwiOjIxLFwieW9mZnNcIjozLFwieHBhZFwiOjIsXCJ3XCI6OCxcImhcIjo0fSx7XCJjXCI6MTYwLFwieDBcIjoxNzgsXCJ5MFwiOjIxLFwieHBhZFwiOjcsXCJ3XCI6MSxcImhcIjoxfSx7XCJjXCI6NjU1MzMsXCJ4MFwiOjg2MyxcInkwXCI6MixcInlvZmZzXCI6MyxcInhwYWRcIjoxLFwid1wiOjksXCJoXCI6MTB9LHtcImNcIjoxMjgyNjMsXCJ4MFwiOjExLFwieTBcIjoyLFwieW9mZnNcIjoxLFwieHBhZFwiOjEsXCJ3XCI6MTksXCJoXCI6MTR9LHtcImNcIjoxMjgyNjQsXCJ4MFwiOjM1LFwieTBcIjoyLFwieW9mZnNcIjoxLFwieHBhZFwiOjEsXCJ3XCI6MTksXCJoXCI6MTR9XX0iLCJtb2R1bGUuZXhwb3J0cz17XCJmb250X3NpemVcIjozMixcImltYWdlV1wiOjEwMjQsXCJpbWFnZUhcIjo1MTIsXCJzcHJlYWRcIjo4LFwiY2hhbm5lbHNcIjoxLFwiY2hhcl9pbmZvc1wiOlt7XCJjXCI6MTMsXCJ4MFwiOjMwNyxcInkwXCI6MzgxLFwid1wiOjEsXCJoXCI6MX0se1wiY1wiOjMyLFwieDBcIjozMjUsXCJ5MFwiOjM4MSxcInhwYWRcIjo2LjEwMTU2LFwid1wiOjEsXCJoXCI6MX0se1wiY1wiOjMzLFwieDBcIjo0MzYsXCJ5MFwiOjIzMCxcInlvZmZzXCI6NCxcInhwYWRcIjoxLjEzMjgxLFwid1wiOjYsXCJoXCI6MjJ9LHtcImNcIjozNCxcIngwXCI6ODc5LFwieTBcIjozNDcsXCJ5b2Zmc1wiOjQsXCJ3XCI6MTAsXCJoXCI6OH0se1wiY1wiOjM1LFwieDBcIjo2NzMsXCJ5MFwiOjMwOSxcInlvZmZzXCI6MTAsXCJ3XCI6MTYsXCJoXCI6MTd9LHtcImNcIjozNixcIngwXCI6MjE1LFwieTBcIjo4LFwieW9mZnNcIjoxLFwieHBhZFwiOjEuMzIwMzEsXCJ3XCI6MTUsXCJoXCI6Mjl9LHtcImNcIjozNyxcIngwXCI6OTMzLFwieTBcIjoxNDgsXCJ5b2Zmc1wiOjQsXCJ4cGFkXCI6MC43NzM0MzgsXCJ3XCI6MjYsXCJoXCI6MjN9LHtcImNcIjozOCxcIngwXCI6OTc2LFwieTBcIjoxNDgsXCJ5b2Zmc1wiOjQsXCJ4cGFkXCI6MC41NzAzMTMsXCJ3XCI6MjAsXCJoXCI6MjN9LHtcImNcIjozOSxcIngwXCI6OTA2LFwieTBcIjozNDcsXCJ5b2Zmc1wiOjQsXCJ3XCI6NSxcImhcIjo4fSx7XCJjXCI6NDAsXCJ4MFwiOjgsXCJ5MFwiOjE5MCxcInlvZmZzXCI6NSxcIndcIjo4LFwiaFwiOjIzfSx7XCJjXCI6NDEsXCJ4MFwiOjMzLFwieTBcIjoxOTAsXCJ5b2Zmc1wiOjUsXCJ4cGFkXCI6MC44OTA2MjUsXCJ3XCI6NyxcImhcIjoyM30se1wiY1wiOjQyLFwieDBcIjo2NDUsXCJ5MFwiOjM0NyxcInlvZmZzXCI6MixcIndcIjoxMSxcImhcIjoxMX0se1wiY1wiOjQzLFwieDBcIjo3MDYsXCJ5MFwiOjMwOSxcInlvZmZzXCI6OSxcInhwYWRcIjowLjQxNDA2MyxcIndcIjoxNSxcImhcIjoxN30se1wiY1wiOjQ0LFwieDBcIjo5MjgsXCJ5MFwiOjM0NyxcInlvZmZzXCI6MjIsXCJ3XCI6NSxcImhcIjo4fSx7XCJjXCI6NDUsXCJ4MFwiOjI1MixcInkwXCI6MzgxLFwieW9mZnNcIjoxNixcIndcIjo5LFwiaFwiOjN9LHtcImNcIjo0NixcIngwXCI6MTU2LFwieTBcIjozODEsXCJ5b2Zmc1wiOjIyLFwid1wiOjUsXCJoXCI6NH0se1wiY1wiOjQ3LFwieDBcIjo1NyxcInkwXCI6MTkwLFwieW9mZnNcIjo0LFwid1wiOjEzLFwiaFwiOjIzfSx7XCJjXCI6NDgsXCJ4MFwiOjQ1OSxcInkwXCI6MjMwLFwieW9mZnNcIjo1LFwieHBhZFwiOjAuNjcxODc1LFwid1wiOjE3LFwiaFwiOjIyfSx7XCJjXCI6NDksXCJ4MFwiOjQwMixcInkwXCI6MjcwLFwieW9mZnNcIjo1LFwieHBhZFwiOjUuNjcxODgsXCJ3XCI6MTIsXCJoXCI6MjF9LHtcImNcIjo1MCxcIngwXCI6NDMxLFwieTBcIjoyNzAsXCJ5b2Zmc1wiOjUsXCJ4cGFkXCI6MS42NzE4OCxcIndcIjoxNixcImhcIjoyMX0se1wiY1wiOjUxLFwieDBcIjo0OTMsXCJ5MFwiOjIzMCxcInlvZmZzXCI6NSxcInhwYWRcIjoxLjY3MTg4LFwid1wiOjE2LFwiaFwiOjIyfSx7XCJjXCI6NTIsXCJ4MFwiOjQ2NCxcInkwXCI6MjcwLFwieW9mZnNcIjo1LFwieHBhZFwiOjAuNjcxODc1LFwid1wiOjE3LFwiaFwiOjIxfSx7XCJjXCI6NTMsXCJ4MFwiOjUyNixcInkwXCI6MjMwLFwieW9mZnNcIjo1LFwieHBhZFwiOjEuNjcxODgsXCJ3XCI6MTYsXCJoXCI6MjJ9LHtcImNcIjo1NCxcIngwXCI6NTU5LFwieTBcIjoyMzAsXCJ5b2Zmc1wiOjUsXCJ4cGFkXCI6MC42NzE4NzUsXCJ3XCI6MTcsXCJoXCI6MjJ9LHtcImNcIjo1NSxcIngwXCI6NDk4LFwieTBcIjoyNzAsXCJ5b2Zmc1wiOjUsXCJ4cGFkXCI6MS42NzE4OCxcIndcIjoxNixcImhcIjoyMX0se1wiY1wiOjU2LFwieDBcIjo1OTMsXCJ5MFwiOjIzMCxcInlvZmZzXCI6NSxcInhwYWRcIjowLjY3MTg3NSxcIndcIjoxNyxcImhcIjoyMn0se1wiY1wiOjU3LFwieDBcIjo2MjcsXCJ5MFwiOjIzMCxcInlvZmZzXCI6NSxcInhwYWRcIjowLjY3MTg3NSxcIndcIjoxNyxcImhcIjoyMn0se1wiY1wiOjU4LFwieDBcIjo0MDEsXCJ5MFwiOjM0NyxcInlvZmZzXCI6MTIsXCJ3XCI6NSxcImhcIjoxNH0se1wiY1wiOjU5LFwieDBcIjo2NTEsXCJ5MFwiOjMwOSxcInlvZmZzXCI6MTIsXCJ3XCI6NSxcImhcIjoxOH0se1wiY1wiOjYwLFwieDBcIjo4NjcsXCJ5MFwiOjEwMyxcInlvZmZzXCI6NCxcIndcIjoxMixcImhcIjoyNX0se1wiY1wiOjYxLFwieDBcIjo4NDcsXCJ5MFwiOjM0NyxcInlvZmZzXCI6MTQsXCJ3XCI6MTUsXCJoXCI6OX0se1wiY1wiOjYyLFwieDBcIjo4OTYsXCJ5MFwiOjEwMyxcInlvZmZzXCI6NCxcIndcIjoxMixcImhcIjoyNX0se1wiY1wiOjYzLFwieDBcIjo2NjEsXCJ5MFwiOjIzMCxcInlvZmZzXCI6NCxcInhwYWRcIjowLjE5NTMxMyxcIndcIjoxMixcImhcIjoyMn0se1wiY1wiOjY0LFwieDBcIjo4NyxcInkwXCI6MTkwLFwieW9mZnNcIjo3LFwieHBhZFwiOjEuMjEwOTQsXCJ3XCI6MjMsXCJoXCI6MjN9LHtcImNcIjo2NSxcIngwXCI6NTMxLFwieTBcIjoyNzAsXCJ5b2Zmc1wiOjUsXCJ3XCI6MTksXCJoXCI6MjF9LHtcImNcIjo2NixcIngwXCI6NTY3LFwieTBcIjoyNzAsXCJ5b2Zmc1wiOjUsXCJ4cGFkXCI6MC44ODI4MTMsXCJ3XCI6MTgsXCJoXCI6MjF9LHtcImNcIjo2NyxcIngwXCI6NjkwLFwieTBcIjoyMzAsXCJ5b2Zmc1wiOjUsXCJ4cGFkXCI6MC45NDUzMTMsXCJ3XCI6MTcsXCJoXCI6MjJ9LHtcImNcIjo2OCxcIngwXCI6NjAyLFwieTBcIjoyNzAsXCJ5b2Zmc1wiOjUsXCJ4cGFkXCI6MS4wMTU2MyxcIndcIjoyMCxcImhcIjoyMX0se1wiY1wiOjY5LFwieDBcIjo2MzksXCJ5MFwiOjI3MCxcInlvZmZzXCI6NSxcInhwYWRcIjowLjYxNzE4OCxcIndcIjoxNixcImhcIjoyMX0se1wiY1wiOjcwLFwieDBcIjo2NzIsXCJ5MFwiOjI3MCxcInlvZmZzXCI6NSxcIndcIjoxNSxcImhcIjoyMX0se1wiY1wiOjcxLFwieDBcIjo3MjQsXCJ5MFwiOjIzMCxcInlvZmZzXCI6NSxcInhwYWRcIjoxLjc1LFwid1wiOjE4LFwiaFwiOjIyfSx7XCJjXCI6NzIsXCJ4MFwiOjcwNCxcInkwXCI6MjcwLFwieW9mZnNcIjo1LFwieHBhZFwiOjIuNTM5MDYsXCJ3XCI6MTgsXCJoXCI6MjF9LHtcImNcIjo3MyxcIngwXCI6NzM5LFwieTBcIjoyNzAsXCJ5b2Zmc1wiOjUsXCJ4cGFkXCI6Mi41NDY4OCxcIndcIjo2LFwiaFwiOjIxfSx7XCJjXCI6NzQsXCJ4MFwiOjc1OSxcInkwXCI6MjMwLFwieW9mZnNcIjo1LFwieHBhZFwiOjIuNzU3ODEsXCJ3XCI6NixcImhcIjoyMn0se1wiY1wiOjc1LFwieDBcIjo3NjIsXCJ5MFwiOjI3MCxcInlvZmZzXCI6NSxcIndcIjoxOSxcImhcIjoyMX0se1wiY1wiOjc2LFwieDBcIjo3OTgsXCJ5MFwiOjI3MCxcInlvZmZzXCI6NSxcIndcIjoxNixcImhcIjoyMX0se1wiY1wiOjc3LFwieDBcIjo4MzEsXCJ5MFwiOjI3MCxcInlvZmZzXCI6NSxcInhwYWRcIjoyLjI3MzQ0LFwid1wiOjIxLFwiaFwiOjIxfSx7XCJjXCI6NzgsXCJ4MFwiOjg2OSxcInkwXCI6MjcwLFwieW9mZnNcIjo1LFwieHBhZFwiOjIuNzQyMTksXCJ3XCI6MTksXCJoXCI6MjF9LHtcImNcIjo3OSxcIngwXCI6MTI3LFwieTBcIjoxOTAsXCJ5b2Zmc1wiOjQsXCJ4cGFkXCI6MS4yMjY1NixcIndcIjoyMSxcImhcIjoyM30se1wiY1wiOjgwLFwieDBcIjo5MDUsXCJ5MFwiOjI3MCxcInlvZmZzXCI6NSxcInhwYWRcIjowLjgyODEyNSxcIndcIjoxNyxcImhcIjoyMX0se1wiY1wiOjgxLFwieDBcIjoxNjUsXCJ5MFwiOjE5MCxcInlvZmZzXCI6NCxcInhwYWRcIjoxLjIyNjU2LFwid1wiOjIxLFwiaFwiOjIzfSx7XCJjXCI6ODIsXCJ4MFwiOjkzOSxcInkwXCI6MjcwLFwieW9mZnNcIjo1LFwid1wiOjE5LFwiaFwiOjIxfSx7XCJjXCI6ODMsXCJ4MFwiOjIwMyxcInkwXCI6MTkwLFwieW9mZnNcIjo0LFwieHBhZFwiOjEuMzIwMzEsXCJ3XCI6MTUsXCJoXCI6MjN9LHtcImNcIjo4NCxcIngwXCI6OTc1LFwieTBcIjoyNzAsXCJ5b2Zmc1wiOjUsXCJ3XCI6MTcsXCJoXCI6MjF9LHtcImNcIjo4NSxcIngwXCI6NzgyLFwieTBcIjoyMzAsXCJ5b2Zmc1wiOjUsXCJ4cGFkXCI6Mi4wNDY4OCxcIndcIjoxOSxcImhcIjoyMn0se1wiY1wiOjg2LFwieDBcIjo4LFwieTBcIjozMDksXCJ5b2Zmc1wiOjUsXCJ3XCI6MTksXCJoXCI6MjF9LHtcImNcIjo4NyxcIngwXCI6NDQsXCJ5MFwiOjMwOSxcInlvZmZzXCI6NSxcIndcIjozMCxcImhcIjoyMX0se1wiY1wiOjg4LFwieDBcIjo4MTgsXCJ5MFwiOjIzMCxcInlvZmZzXCI6NSxcIndcIjoyMCxcImhcIjoyMn0se1wiY1wiOjg5LFwieDBcIjo5MSxcInkwXCI6MzA5LFwieW9mZnNcIjo1LFwid1wiOjE4LFwiaFwiOjIxfSx7XCJjXCI6OTAsXCJ4MFwiOjEyNixcInkwXCI6MzA5LFwieW9mZnNcIjo1LFwieHBhZFwiOjAuMjI2NTYzLFwid1wiOjE3LFwiaFwiOjIxfSx7XCJjXCI6OTEsXCJ4MFwiOjkyNSxcInkwXCI6MTAzLFwieW9mZnNcIjo0LFwid1wiOjksXCJoXCI6MjV9LHtcImNcIjo5MixcIngwXCI6MjM1LFwieTBcIjoxOTAsXCJ5b2Zmc1wiOjQsXCJ3XCI6MTMsXCJoXCI6MjN9LHtcImNcIjo5MyxcIngwXCI6OTUxLFwieTBcIjoxMDMsXCJ5b2Zmc1wiOjQsXCJ4cGFkXCI6MS43MDMxMyxcIndcIjo3LFwiaFwiOjI1fSx7XCJjXCI6OTQsXCJ4MFwiOjk1MCxcInkwXCI6MzQ3LFwieW9mZnNcIjoxNCxcInhwYWRcIjowLjE4NzUsXCJ3XCI6MTMsXCJoXCI6OH0se1wiY1wiOjk1LFwieDBcIjoyNzgsXCJ5MFwiOjM4MSxcInlvZmZzXCI6MjMsXCJ4cGFkXCI6MC40Mzc1LFwid1wiOjEyLFwiaFwiOjN9LHtcImNcIjo5NixcIngwXCI6NTcsXCJ5MFwiOjM4MSxcInlvZmZzXCI6MyxcIndcIjo2LFwiaFwiOjZ9LHtcImNcIjo5NyxcIngwXCI6NzM4LFwieTBcIjozMDksXCJ5b2Zmc1wiOjEwLFwieHBhZFwiOjEuMjk2ODgsXCJ3XCI6MTQsXCJoXCI6MTd9LHtcImNcIjo5OCxcIngwXCI6MjY1LFwieTBcIjoxOTAsXCJ5b2Zmc1wiOjQsXCJ4cGFkXCI6MC44OTA2MjUsXCJ3XCI6MTYsXCJoXCI6MjN9LHtcImNcIjo5OSxcIngwXCI6NzY5LFwieTBcIjozMDksXCJ5b2Zmc1wiOjEwLFwieHBhZFwiOjAuMjczNDM4LFwid1wiOjE0LFwiaFwiOjE3fSx7XCJjXCI6MTAwLFwieDBcIjoyOTgsXCJ5MFwiOjE5MCxcInlvZmZzXCI6NCxcInhwYWRcIjoyLjA3MDMxLFwid1wiOjE1LFwiaFwiOjIzfSx7XCJjXCI6MTAxLFwieDBcIjo4MDAsXCJ5MFwiOjMwOSxcInlvZmZzXCI6MTAsXCJ4cGFkXCI6MS4wNDY4OCxcIndcIjoxNSxcImhcIjoxN30se1wiY1wiOjEwMixcIngwXCI6ODU1LFwieTBcIjoyMzAsXCJ5b2Zmc1wiOjQsXCJ3XCI6MTAsXCJoXCI6MjJ9LHtcImNcIjoxMDMsXCJ4MFwiOjMzMCxcInkwXCI6MTkwLFwieW9mZnNcIjoxMCxcInhwYWRcIjoyLjA3MDMxLFwid1wiOjE1LFwiaFwiOjIzfSx7XCJjXCI6MTA0LFwieDBcIjo4ODIsXCJ5MFwiOjIzMCxcInlvZmZzXCI6NCxcInhwYWRcIjoxLjEwMTU2LFwid1wiOjE2LFwiaFwiOjIyfSx7XCJjXCI6MTA1LFwieDBcIjoxNjAsXCJ5MFwiOjMwOSxcInlvZmZzXCI6NSxcInhwYWRcIjoxLjM0Mzc1LFwid1wiOjYsXCJoXCI6MjF9LHtcImNcIjoxMDYsXCJ4MFwiOjc4LFwieTBcIjo1NyxcInlvZmZzXCI6NSxcInhwYWRcIjoxLjA3MDMxLFwid1wiOjcsXCJoXCI6Mjh9LHtcImNcIjoxMDcsXCJ4MFwiOjkxNSxcInkwXCI6MjMwLFwieW9mZnNcIjo0LFwieHBhZFwiOjAuMTcxODc1LFwid1wiOjE1LFwiaFwiOjIyfSx7XCJjXCI6MTA4LFwieDBcIjo5NDcsXCJ5MFwiOjIzMCxcInlvZmZzXCI6NCxcInhwYWRcIjoxLjQ2ODc1LFwid1wiOjYsXCJoXCI6MjJ9LHtcImNcIjoxMDksXCJ4MFwiOjUwLFwieTBcIjozNDcsXCJ5b2Zmc1wiOjEwLFwieHBhZFwiOjEuMTQwNjMsXCJ3XCI6MjUsXCJoXCI6MTZ9LHtcImNcIjoxMTAsXCJ4MFwiOjkyLFwieTBcIjozNDcsXCJ5b2Zmc1wiOjEwLFwieHBhZFwiOjIuMDM5MDYsXCJ3XCI6MTUsXCJoXCI6MTZ9LHtcImNcIjoxMTEsXCJ4MFwiOjgzMixcInkwXCI6MzA5LFwieW9mZnNcIjoxMCxcInhwYWRcIjowLjgyODEyNSxcIndcIjoxNixcImhcIjoxN30se1wiY1wiOjExMixcIngwXCI6MzYyLFwieTBcIjoxOTAsXCJ5b2Zmc1wiOjEwLFwieHBhZFwiOjAuODkwNjI1LFwid1wiOjE2LFwiaFwiOjIzfSx7XCJjXCI6MTEzLFwieDBcIjozOTUsXCJ5MFwiOjE5MCxcInlvZmZzXCI6MTAsXCJ4cGFkXCI6Mi4wNzAzMSxcIndcIjoxNSxcImhcIjoyM30se1wiY1wiOjExNCxcIngwXCI6MTg0LFwieTBcIjozNDcsXCJ5b2Zmc1wiOjExLFwieHBhZFwiOjAuMjAzMTI1LFwid1wiOjEwLFwiaFwiOjE1fSx7XCJjXCI6MTE1LFwieDBcIjo4NjUsXCJ5MFwiOjMwOSxcInlvZmZzXCI6MTAsXCJ4cGFkXCI6MC4yODEyNSxcIndcIjoxMyxcImhcIjoxN30se1wiY1wiOjExNixcIngwXCI6NTg3LFwieTBcIjozMDksXCJ5b2Zmc1wiOjcsXCJ4cGFkXCI6MC4yMzQzNzUsXCJ3XCI6MTAsXCJoXCI6MjB9LHtcImNcIjoxMTcsXCJ4MFwiOjEyNCxcInkwXCI6MzQ3LFwieW9mZnNcIjoxMSxcInhwYWRcIjoxLjY0ODQ0LFwid1wiOjE1LFwiaFwiOjE2fSx7XCJjXCI6MTE4LFwieDBcIjoyMTEsXCJ5MFwiOjM0NyxcInlvZmZzXCI6MTEsXCJ3XCI6MTUsXCJoXCI6MTV9LHtcImNcIjoxMTksXCJ4MFwiOjI0MyxcInkwXCI6MzQ3LFwieW9mZnNcIjoxMSxcIndcIjoyMyxcImhcIjoxNX0se1wiY1wiOjEyMCxcIngwXCI6MjgzLFwieTBcIjozNDcsXCJ5b2Zmc1wiOjExLFwid1wiOjE2LFwiaFwiOjE1fSx7XCJjXCI6MTIxLFwieDBcIjo5NzAsXCJ5MFwiOjIzMCxcInlvZmZzXCI6MTEsXCJ3XCI6MTUsXCJoXCI6MjJ9LHtcImNcIjoxMjIsXCJ4MFwiOjMxNixcInkwXCI6MzQ3LFwieW9mZnNcIjoxMSxcInhwYWRcIjowLjg1MTU2MyxcIndcIjoxMyxcImhcIjoxNX0se1wiY1wiOjEyMyxcIngwXCI6MTAwMixcInkwXCI6MjMwLFwieW9mZnNcIjo2LFwid1wiOjksXCJoXCI6MjJ9LHtcImNcIjoxMjQsXCJ4MFwiOjgsXCJ5MFwiOjgsXCJ3XCI6NyxcImhcIjozMn0se1wiY1wiOjEyNSxcIngwXCI6OCxcInkwXCI6MjcwLFwieW9mZnNcIjo2LFwieHBhZFwiOjAuNDYwOTM4LFwid1wiOjgsXCJoXCI6MjJ9LHtcImNcIjoxMjYsXCJ4MFwiOjEyNyxcInkwXCI6MzgxLFwieW9mZnNcIjoxNixcInhwYWRcIjowLjMxMjUsXCJ3XCI6MTIsXCJoXCI6NX0se1wiY1wiOjE0NCxcIngwXCI6OTgwLFwieTBcIjozNDcsXCJ5b2Zmc1wiOi01LFwid1wiOjE0LFwiaFwiOjh9LHtcImNcIjoxNjAsXCJ4MFwiOjM0MyxcInkwXCI6MzgxLFwieHBhZFwiOjYuMTAxNTYsXCJ3XCI6MSxcImhcIjoxfSx7XCJjXCI6MTYxLFwieDBcIjozMyxcInkwXCI6MjcwLFwieW9mZnNcIjo0LFwieHBhZFwiOjEuMTMyODEsXCJ3XCI6NixcImhcIjoyMn0se1wiY1wiOjE2MixcIngwXCI6NDI3LFwieTBcIjoxOTAsXCJ5b2Zmc1wiOjcsXCJ4cGFkXCI6MC4yNzM0MzgsXCJ3XCI6MTQsXCJoXCI6MjN9LHtcImNcIjoxNjMsXCJ4MFwiOjE4MyxcInkwXCI6MzA5LFwieW9mZnNcIjo1LFwieHBhZFwiOjAuMzA0Njg4LFwid1wiOjE0LFwiaFwiOjIxfSx7XCJjXCI6MTY0LFwieDBcIjo2MTQsXCJ5MFwiOjMwOSxcInlvZmZzXCI6OSxcInhwYWRcIjowLjMyODEyNSxcIndcIjoyMCxcImhcIjoyMH0se1wiY1wiOjE2NSxcIngwXCI6MjE0LFwieTBcIjozMDksXCJ5b2Zmc1wiOjUsXCJ3XCI6MTgsXCJoXCI6MjF9LHtcImNcIjoxNjYsXCJ4MFwiOjQ1OCxcInkwXCI6MTkwLFwieW9mZnNcIjo0LFwieHBhZFwiOjIuMTAxNTYsXCJ3XCI6NixcImhcIjoyM30se1wiY1wiOjE2NyxcIngwXCI6MTAyLFwieTBcIjo1NyxcInlvZmZzXCI6MixcInhwYWRcIjoxLjI1LFwid1wiOjE3LFwiaFwiOjI4fSx7XCJjXCI6MTY4LFwieDBcIjoxNzgsXCJ5MFwiOjM4MSxcInlvZmZzXCI6NCxcInhwYWRcIjowLjQ1MzEyNSxcIndcIjo5LFwiaFwiOjR9LHtcImNcIjoxNjksXCJ4MFwiOjQ4MSxcInkwXCI6MTkwLFwieW9mZnNcIjo0LFwieHBhZFwiOjAuNjI1LFwid1wiOjI1LFwiaFwiOjIzfSx7XCJjXCI6MTcwLFwieDBcIjo1NTEsXCJ5MFwiOjM0NyxcInlvZmZzXCI6NCxcInhwYWRcIjowLjI5Njg3NSxcIndcIjoxMCxcImhcIjoxMn0se1wiY1wiOjE3MSxcIngwXCI6NjczLFwieTBcIjozNDcsXCJ5b2Zmc1wiOjEzLFwieHBhZFwiOjAuMTQwNjI1LFwid1wiOjExLFwiaFwiOjExfSx7XCJjXCI6MTcyLFwieDBcIjo3MjksXCJ5MFwiOjM0NyxcInlvZmZzXCI6MTMsXCJ4cGFkXCI6MC4zODI4MTMsXCJ3XCI6MTUsXCJoXCI6MTB9LHtcImNcIjoxNzMsXCJ4MFwiOjM2MSxcInkwXCI6MzgxLFwieHBhZFwiOjIuOTQ1MzEsXCJ3XCI6MSxcImhcIjoxfSx7XCJjXCI6MTc0LFwieDBcIjoyNDksXCJ5MFwiOjMwOSxcInlvZmZzXCI6MSxcInhwYWRcIjowLjMxMjUsXCJ3XCI6MjIsXCJoXCI6MjF9LHtcImNcIjoxNzUsXCJ4MFwiOjIwNCxcInkwXCI6MzgxLFwieW9mZnNcIjo0LFwid1wiOjksXCJoXCI6NH0se1wiY1wiOjE3NixcIngwXCI6MzIsXCJ5MFwiOjM4MSxcInlvZmZzXCI6NCxcIndcIjo4LFwiaFwiOjd9LHtcImNcIjoxNzcsXCJ4MFwiOjg5NSxcInkwXCI6MzA5LFwieW9mZnNcIjo5LFwid1wiOjE0LFwiaFwiOjE3fSx7XCJjXCI6MTc4LFwieDBcIjo0MjMsXCJ5MFwiOjM0NyxcInlvZmZzXCI6MixcInhwYWRcIjowLjg5MDYyNSxcIndcIjoxMSxcImhcIjoxNH0se1wiY1wiOjE3OSxcIngwXCI6MTU2LFwieTBcIjozNDcsXCJ5b2Zmc1wiOjIsXCJ4cGFkXCI6MS41MjM0NCxcIndcIjoxMSxcImhcIjoxNn0se1wiY1wiOjE4MCxcIngwXCI6ODAsXCJ5MFwiOjM4MSxcInlvZmZzXCI6MyxcIndcIjo2LFwiaFwiOjZ9LHtcImNcIjoxODEsXCJ4MFwiOjU2LFwieTBcIjoyNzAsXCJ5b2Zmc1wiOjExLFwieHBhZFwiOjEuODU5MzgsXCJ3XCI6MTUsXCJoXCI6MjJ9LHtcImNcIjoxODIsXCJ4MFwiOjI4OCxcInkwXCI6MzA5LFwieW9mZnNcIjo1LFwieHBhZFwiOjAuNSxcIndcIjoyNixcImhcIjoyMX0se1wiY1wiOjE4MyxcIngwXCI6MjMwLFwieTBcIjozODEsXCJ5b2Zmc1wiOjE2LFwid1wiOjUsXCJoXCI6NH0se1wiY1wiOjE4NCxcIngwXCI6OCxcInkwXCI6MzgxLFwieW9mZnNcIjoyNSxcInhwYWRcIjowLjA3MDMxMjUsXCJ3XCI6NyxcImhcIjo4fSx7XCJjXCI6MTg1LFwieDBcIjo0NTEsXCJ5MFwiOjM0NyxcInlvZmZzXCI6MixcInhwYWRcIjowLjY4NzUsXCJ3XCI6MTAsXCJoXCI6MTR9LHtcImNcIjoxODYsXCJ4MFwiOjU3OCxcInkwXCI6MzQ3LFwieW9mZnNcIjo0LFwieHBhZFwiOjAuNjI1LFwid1wiOjExLFwiaFwiOjEyfSx7XCJjXCI6MTg3LFwieDBcIjo3MDEsXCJ5MFwiOjM0NyxcInlvZmZzXCI6MTMsXCJ4cGFkXCI6MC4xNDA2MjUsXCJ3XCI6MTEsXCJoXCI6MTF9LHtcImNcIjoxODgsXCJ4MFwiOjI0NyxcInkwXCI6OCxcInlvZmZzXCI6MixcInhwYWRcIjowLjA1NDY4NzUsXCJ3XCI6MjUsXCJoXCI6Mjl9LHtcImNcIjoxODksXCJ4MFwiOjEzNixcInkwXCI6NTcsXCJ5b2Zmc1wiOjIsXCJ4cGFkXCI6MS4yMjY1NixcIndcIjoyNSxcImhcIjoyOH0se1wiY1wiOjE5MCxcIngwXCI6Mjg5LFwieTBcIjo4LFwieW9mZnNcIjoyLFwieHBhZFwiOjAuMTA5Mzc1LFwid1wiOjI2LFwiaFwiOjI5fSx7XCJjXCI6MTkxLFwieDBcIjo4OCxcInkwXCI6MjcwLFwieW9mZnNcIjo2LFwieHBhZFwiOjAuMDkzNzUsXCJ3XCI6MTMsXCJoXCI6MjJ9LHtcImNcIjoxOTIsXCJ4MFwiOjE3OCxcInkwXCI6NTcsXCJ5b2Zmc1wiOi0yLFwid1wiOjE5LFwiaFwiOjI4fSx7XCJjXCI6MTkzLFwieDBcIjoyMTQsXCJ5MFwiOjU3LFwieW9mZnNcIjotMixcIndcIjoxOSxcImhcIjoyOH0se1wiY1wiOjE5NCxcIngwXCI6MjUwLFwieTBcIjo1NyxcInlvZmZzXCI6LTIsXCJ3XCI6MTksXCJoXCI6Mjh9LHtcImNcIjoxOTUsXCJ4MFwiOjY0OCxcInkwXCI6MTAzLFwid1wiOjE5LFwiaFwiOjI2fSx7XCJjXCI6MTk2LFwieDBcIjoyNTIsXCJ5MFwiOjEwMyxcInlvZmZzXCI6LTEsXCJ3XCI6MTksXCJoXCI6Mjd9LHtcImNcIjoxOTcsXCJ4MFwiOjI4NixcInkwXCI6NTcsXCJ5b2Zmc1wiOi0yLFwid1wiOjE5LFwiaFwiOjI4fSx7XCJjXCI6MTk4LFwieDBcIjozMzEsXCJ5MFwiOjMwOSxcInlvZmZzXCI6NSxcInhwYWRcIjowLjI4MTI1LFwid1wiOjI3LFwiaFwiOjIxfSx7XCJjXCI6MTk5LFwieDBcIjozMjIsXCJ5MFwiOjU3LFwieW9mZnNcIjo1LFwieHBhZFwiOjAuOTQ1MzEzLFwid1wiOjE3LFwiaFwiOjI4fSx7XCJjXCI6MjAwLFwieDBcIjozNTYsXCJ5MFwiOjU3LFwieW9mZnNcIjotMixcInhwYWRcIjowLjYxNzE4OCxcIndcIjoxNixcImhcIjoyOH0se1wiY1wiOjIwMSxcIngwXCI6Mzg5LFwieTBcIjo1NyxcInlvZmZzXCI6LTIsXCJ4cGFkXCI6MC42MTcxODgsXCJ3XCI6MTYsXCJoXCI6Mjh9LHtcImNcIjoyMDIsXCJ4MFwiOjQyMixcInkwXCI6NTcsXCJ5b2Zmc1wiOi0yLFwieHBhZFwiOjAuNjE3MTg4LFwid1wiOjE2LFwiaFwiOjI4fSx7XCJjXCI6MjAzLFwieDBcIjoyODgsXCJ5MFwiOjEwMyxcInlvZmZzXCI6LTEsXCJ4cGFkXCI6MC42MTcxODgsXCJ3XCI6MTYsXCJoXCI6Mjd9LHtcImNcIjoyMDQsXCJ4MFwiOjQ1NSxcInkwXCI6NTcsXCJ5b2Zmc1wiOi0yLFwieHBhZFwiOjEuNTQ2ODgsXCJ3XCI6NyxcImhcIjoyOH0se1wiY1wiOjIwNSxcIngwXCI6NDc5LFwieTBcIjo1NyxcInlvZmZzXCI6LTIsXCJ4cGFkXCI6MC41NDY4NzUsXCJ3XCI6OCxcImhcIjoyOH0se1wiY1wiOjIwNixcIngwXCI6NTA0LFwieTBcIjo1NyxcInlvZmZzXCI6LTIsXCJ3XCI6MTEsXCJoXCI6Mjh9LHtcImNcIjoyMDcsXCJ4MFwiOjMyMSxcInkwXCI6MTAzLFwieW9mZnNcIjotMSxcIndcIjo5LFwiaFwiOjI3fSx7XCJjXCI6MjA4LFwieDBcIjozNzUsXCJ5MFwiOjMwOSxcInlvZmZzXCI6NSxcInhwYWRcIjoxLjIyNjU2LFwid1wiOjIwLFwiaFwiOjIxfSx7XCJjXCI6MjA5LFwieDBcIjo2ODQsXCJ5MFwiOjEwMyxcInhwYWRcIjoyLjc0MjE5LFwid1wiOjE5LFwiaFwiOjI2fSx7XCJjXCI6MjEwLFwieDBcIjozMzIsXCJ5MFwiOjgsXCJ5b2Zmc1wiOi0yLFwieHBhZFwiOjEuMjI2NTYsXCJ3XCI6MjEsXCJoXCI6Mjl9LHtcImNcIjoyMTEsXCJ4MFwiOjM3MCxcInkwXCI6OCxcInlvZmZzXCI6LTIsXCJ4cGFkXCI6MS4yMjY1NixcIndcIjoyMSxcImhcIjoyOX0se1wiY1wiOjIxMixcIngwXCI6NDA4LFwieTBcIjo4LFwieW9mZnNcIjotMixcInhwYWRcIjoxLjIyNjU2LFwid1wiOjIxLFwiaFwiOjI5fSx7XCJjXCI6MjEzLFwieDBcIjozNDcsXCJ5MFwiOjEwMyxcInhwYWRcIjoxLjIyNjU2LFwid1wiOjIxLFwiaFwiOjI3fSx7XCJjXCI6MjE0LFwieDBcIjo1MzIsXCJ5MFwiOjU3LFwieW9mZnNcIjotMSxcInhwYWRcIjoxLjIyNjU2LFwid1wiOjIxLFwiaFwiOjI4fSx7XCJjXCI6MjE1LFwieDBcIjozNDYsXCJ5MFwiOjM0NyxcInlvZmZzXCI6MTEsXCJ4cGFkXCI6MC4zNTkzNzUsXCJ3XCI6MTUsXCJoXCI6MTV9LHtcImNcIjoyMTYsXCJ4MFwiOjUyMyxcInkwXCI6MTkwLFwieW9mZnNcIjo0LFwieHBhZFwiOjEuMjI2NTYsXCJ3XCI6MjEsXCJoXCI6MjN9LHtcImNcIjoyMTcsXCJ4MFwiOjQ0NixcInkwXCI6OCxcInlvZmZzXCI6LTIsXCJ4cGFkXCI6Mi4wNDY4OCxcIndcIjoxOSxcImhcIjoyOX0se1wiY1wiOjIxOCxcIngwXCI6NDgyLFwieTBcIjo4LFwieW9mZnNcIjotMixcInhwYWRcIjoyLjA0Njg4LFwid1wiOjE5LFwiaFwiOjI5fSx7XCJjXCI6MjE5LFwieDBcIjo1MTgsXCJ5MFwiOjgsXCJ5b2Zmc1wiOi0yLFwieHBhZFwiOjIuMDQ2ODgsXCJ3XCI6MTksXCJoXCI6Mjl9LHtcImNcIjoyMjAsXCJ4MFwiOjU3MCxcInkwXCI6NTcsXCJ5b2Zmc1wiOi0xLFwieHBhZFwiOjIuMDQ2ODgsXCJ3XCI6MTksXCJoXCI6Mjh9LHtcImNcIjoyMjEsXCJ4MFwiOjYwNixcInkwXCI6NTcsXCJ5b2Zmc1wiOi0yLFwid1wiOjE4LFwiaFwiOjI4fSx7XCJjXCI6MjIyLFwieDBcIjo0MTIsXCJ5MFwiOjMwOSxcInlvZmZzXCI6NSxcInhwYWRcIjoxLjAwNzgxLFwid1wiOjE3LFwiaFwiOjIxfSx7XCJjXCI6MjIzLFwieDBcIjo0NDYsXCJ5MFwiOjMwOSxcInlvZmZzXCI6NSxcInhwYWRcIjoxLjMwNDY5LFwid1wiOjE3LFwiaFwiOjIxfSx7XCJjXCI6MjI0LFwieDBcIjo2OSxcInkwXCI6MTQ4LFwieW9mZnNcIjozLFwieHBhZFwiOjEuMjk2ODgsXCJ3XCI6MTQsXCJoXCI6MjR9LHtcImNcIjoyMjUsXCJ4MFwiOjEwMCxcInkwXCI6MTQ4LFwieW9mZnNcIjozLFwieHBhZFwiOjEuMjk2ODgsXCJ3XCI6MTQsXCJoXCI6MjR9LHtcImNcIjoyMjYsXCJ4MFwiOjEzMSxcInkwXCI6MTQ4LFwieW9mZnNcIjozLFwieHBhZFwiOjEuMjk2ODgsXCJ3XCI6MTQsXCJoXCI6MjR9LHtcImNcIjoyMjcsXCJ4MFwiOjU2MSxcInkwXCI6MTkwLFwieW9mZnNcIjo0LFwieHBhZFwiOjEuMjk2ODgsXCJ3XCI6MTQsXCJoXCI6MjN9LHtcImNcIjoyMjgsXCJ4MFwiOjU5MixcInkwXCI6MTkwLFwieW9mZnNcIjo0LFwieHBhZFwiOjEuMjk2ODgsXCJ3XCI6MTQsXCJoXCI6MjN9LHtcImNcIjoyMjksXCJ4MFwiOjk3NSxcInkwXCI6MTAzLFwieW9mZnNcIjoyLFwieHBhZFwiOjEuMjk2ODgsXCJ3XCI6MTQsXCJoXCI6MjV9LHtcImNcIjoyMzAsXCJ4MFwiOjkyNixcInkwXCI6MzA5LFwieW9mZnNcIjoxMCxcInhwYWRcIjowLjk2MDkzOCxcIndcIjoyNCxcImhcIjoxN30se1wiY1wiOjIzMSxcIngwXCI6NjIzLFwieTBcIjoxOTAsXCJ5b2Zmc1wiOjEwLFwieHBhZFwiOjAuMjczNDM4LFwid1wiOjE0LFwiaFwiOjIzfSx7XCJjXCI6MjMyLFwieDBcIjoxNjIsXCJ5MFwiOjE0OCxcInlvZmZzXCI6MyxcInhwYWRcIjoxLjA0Njg4LFwid1wiOjE1LFwiaFwiOjI0fSx7XCJjXCI6MjMzLFwieDBcIjoxOTQsXCJ5MFwiOjE0OCxcInlvZmZzXCI6MyxcInhwYWRcIjoxLjA0Njg4LFwid1wiOjE1LFwiaFwiOjI0fSx7XCJjXCI6MjM0LFwieDBcIjoyMjYsXCJ5MFwiOjE0OCxcInlvZmZzXCI6MyxcInhwYWRcIjoxLjA0Njg4LFwid1wiOjE1LFwiaFwiOjI0fSx7XCJjXCI6MjM1LFwieDBcIjo2NTQsXCJ5MFwiOjE5MCxcInlvZmZzXCI6NCxcInhwYWRcIjoxLjA0Njg4LFwid1wiOjE1LFwiaFwiOjIzfSx7XCJjXCI6MjM2LFwieDBcIjo2ODYsXCJ5MFwiOjE5MCxcInlvZmZzXCI6MyxcInhwYWRcIjoxLjM0Mzc1LFwid1wiOjYsXCJoXCI6MjN9LHtcImNcIjoyMzcsXCJ4MFwiOjcwOSxcInkwXCI6MTkwLFwieW9mZnNcIjozLFwid1wiOjgsXCJoXCI6MjN9LHtcImNcIjoyMzgsXCJ4MFwiOjczNCxcInkwXCI6MTkwLFwieW9mZnNcIjozLFwid1wiOjExLFwiaFwiOjIzfSx7XCJjXCI6MjM5LFwieDBcIjoxMTgsXCJ5MFwiOjI3MCxcInlvZmZzXCI6NCxcIndcIjo5LFwiaFwiOjIyfSx7XCJjXCI6MjQwLFwieDBcIjo3NjIsXCJ5MFwiOjE5MCxcInlvZmZzXCI6NCxcInhwYWRcIjoxLjUzMTI1LFwid1wiOjE1LFwiaFwiOjIzfSx7XCJjXCI6MjQxLFwieDBcIjoxNDQsXCJ5MFwiOjI3MCxcInlvZmZzXCI6NCxcInhwYWRcIjoyLjAzOTA2LFwid1wiOjE1LFwiaFwiOjIyfSx7XCJjXCI6MjQyLFwieDBcIjoyNTgsXCJ5MFwiOjE0OCxcInlvZmZzXCI6MyxcInhwYWRcIjowLjgyODEyNSxcIndcIjoxNixcImhcIjoyNH0se1wiY1wiOjI0MyxcIngwXCI6MjkxLFwieTBcIjoxNDgsXCJ5b2Zmc1wiOjMsXCJ4cGFkXCI6MC44MjgxMjUsXCJ3XCI6MTYsXCJoXCI6MjR9LHtcImNcIjoyNDQsXCJ4MFwiOjMyNCxcInkwXCI6MTQ4LFwieW9mZnNcIjozLFwieHBhZFwiOjAuODI4MTI1LFwid1wiOjE2LFwiaFwiOjI0fSx7XCJjXCI6MjQ1LFwieDBcIjo3OTQsXCJ5MFwiOjE5MCxcInlvZmZzXCI6NCxcInhwYWRcIjowLjgyODEyNSxcIndcIjoxNixcImhcIjoyM30se1wiY1wiOjI0NixcIngwXCI6ODI3LFwieTBcIjoxOTAsXCJ5b2Zmc1wiOjQsXCJ4cGFkXCI6MC44MjgxMjUsXCJ3XCI6MTYsXCJoXCI6MjN9LHtcImNcIjoyNDcsXCJ4MFwiOjQ3OCxcInkwXCI6MzQ3LFwieW9mZnNcIjoxMSxcInhwYWRcIjowLjQ1MzEyNSxcIndcIjoxNCxcImhcIjoxNH0se1wiY1wiOjI0OCxcIngwXCI6OTY3LFwieTBcIjozMDksXCJ5b2Zmc1wiOjEwLFwieHBhZFwiOjAuODI4MTI1LFwid1wiOjE2LFwiaFwiOjE3fSx7XCJjXCI6MjQ5LFwieDBcIjozNTcsXCJ5MFwiOjE0OCxcInlvZmZzXCI6MyxcInhwYWRcIjoxLjY0ODQ0LFwid1wiOjE1LFwiaFwiOjI0fSx7XCJjXCI6MjUwLFwieDBcIjozODksXCJ5MFwiOjE0OCxcInlvZmZzXCI6MyxcInhwYWRcIjoxLjY0ODQ0LFwid1wiOjE1LFwiaFwiOjI0fSx7XCJjXCI6MjUxLFwieDBcIjo0MjEsXCJ5MFwiOjE0OCxcInlvZmZzXCI6MyxcInhwYWRcIjoxLjY0ODQ0LFwid1wiOjE1LFwiaFwiOjI0fSx7XCJjXCI6MjUyLFwieDBcIjo4NjAsXCJ5MFwiOjE5MCxcInlvZmZzXCI6NCxcInhwYWRcIjoxLjY0ODQ0LFwid1wiOjE1LFwiaFwiOjIzfSx7XCJjXCI6MjUzLFwieDBcIjo2NCxcInkwXCI6OCxcInlvZmZzXCI6MyxcIndcIjoxNSxcImhcIjozMH0se1wiY1wiOjI1NCxcIngwXCI6NTU0LFwieTBcIjo4LFwieW9mZnNcIjo0LFwieHBhZFwiOjAuODkwNjI1LFwid1wiOjE2LFwiaFwiOjI5fSx7XCJjXCI6MjU1LFwieDBcIjo1ODcsXCJ5MFwiOjgsXCJ5b2Zmc1wiOjQsXCJ3XCI6MTUsXCJoXCI6Mjl9LHtcImNcIjoyNTYsXCJ4MFwiOjcyMCxcInkwXCI6MTAzLFwid1wiOjE5LFwiaFwiOjI2fSx7XCJjXCI6MjU3LFwieDBcIjo4OTIsXCJ5MFwiOjE5MCxcInlvZmZzXCI6NCxcInhwYWRcIjoxLjI5Njg4LFwid1wiOjE0LFwiaFwiOjIzfSx7XCJjXCI6MjU4LFwieDBcIjozODUsXCJ5MFwiOjEwMyxcInlvZmZzXCI6LTEsXCJ3XCI6MTksXCJoXCI6Mjd9LHtcImNcIjoyNTksXCJ4MFwiOjQ1MyxcInkwXCI6MTQ4LFwieW9mZnNcIjozLFwieHBhZFwiOjEuMjk2ODgsXCJ3XCI6MTQsXCJoXCI6MjR9LHtcImNcIjoyNjAsXCJ4MFwiOjY0MSxcInkwXCI6NTcsXCJ5b2Zmc1wiOjUsXCJ3XCI6MjEsXCJoXCI6Mjh9LHtcImNcIjoyNjEsXCJ4MFwiOjkyMyxcInkwXCI6MTkwLFwieW9mZnNcIjoxMCxcIndcIjoxNixcImhcIjoyM30se1wiY1wiOjI2MixcIngwXCI6NjE5LFwieTBcIjo4LFwieW9mZnNcIjotMixcInhwYWRcIjowLjk0NTMxMyxcIndcIjoxNyxcImhcIjoyOX0se1wiY1wiOjI2MyxcIngwXCI6NDg0LFwieTBcIjoxNDgsXCJ5b2Zmc1wiOjMsXCJ4cGFkXCI6MC4yNzM0MzgsXCJ3XCI6MTQsXCJoXCI6MjR9LHtcImNcIjoyNjgsXCJ4MFwiOjY1MyxcInkwXCI6OCxcInlvZmZzXCI6LTIsXCJ4cGFkXCI6MC45NDUzMTMsXCJ3XCI6MTcsXCJoXCI6Mjl9LHtcImNcIjoyNjksXCJ4MFwiOjUxNSxcInkwXCI6MTQ4LFwieW9mZnNcIjozLFwieHBhZFwiOjAuMjczNDM4LFwid1wiOjE0LFwiaFwiOjI0fSx7XCJjXCI6MjcwLFwieDBcIjo2NzksXCJ5MFwiOjU3LFwieW9mZnNcIjotMixcInhwYWRcIjoxLjAxNTYzLFwid1wiOjIwLFwiaFwiOjI4fSx7XCJjXCI6MjcxLFwieDBcIjo5NTYsXCJ5MFwiOjE5MCxcInlvZmZzXCI6NCxcIndcIjoyMixcImhcIjoyM30se1wiY1wiOjI3MixcIngwXCI6NDgwLFwieTBcIjozMDksXCJ5b2Zmc1wiOjUsXCJ4cGFkXCI6MS4yMjY1NixcIndcIjoyMCxcImhcIjoyMX0se1wiY1wiOjI3MyxcIngwXCI6OTk1LFwieTBcIjoxOTAsXCJ5b2Zmc1wiOjQsXCJ4cGFkXCI6MC4wNzAzMTI1LFwid1wiOjE3LFwiaFwiOjIzfSx7XCJjXCI6Mjc0LFwieDBcIjo3NTYsXCJ5MFwiOjEwMyxcInhwYWRcIjowLjYxNzE4OCxcIndcIjoxNixcImhcIjoyNn0se1wiY1wiOjI3NSxcIngwXCI6OCxcInkwXCI6MjMwLFwieW9mZnNcIjo0LFwieHBhZFwiOjEuMDQ2ODgsXCJ3XCI6MTUsXCJoXCI6MjN9LHtcImNcIjoyNzgsXCJ4MFwiOjQyMSxcInkwXCI6MTAzLFwieW9mZnNcIjotMSxcInhwYWRcIjowLjYxNzE4OCxcIndcIjoxNixcImhcIjoyN30se1wiY1wiOjI3OSxcIngwXCI6NDAsXCJ5MFwiOjIzMCxcInlvZmZzXCI6NCxcInhwYWRcIjoxLjA0Njg4LFwid1wiOjE1LFwiaFwiOjIzfSx7XCJjXCI6MjgwLFwieDBcIjo3MTYsXCJ5MFwiOjU3LFwieW9mZnNcIjo1LFwieHBhZFwiOjAuNjE3MTg4LFwid1wiOjE2LFwiaFwiOjI4fSx7XCJjXCI6MjgxLFwieDBcIjo3MixcInkwXCI6MjMwLFwieW9mZnNcIjoxMCxcInhwYWRcIjoxLjA0Njg4LFwid1wiOjE1LFwiaFwiOjIzfSx7XCJjXCI6MjgyLFwieDBcIjo3NDksXCJ5MFwiOjU3LFwieW9mZnNcIjotMixcInhwYWRcIjowLjYxNzE4OCxcIndcIjoxNixcImhcIjoyOH0se1wiY1wiOjI4MyxcIngwXCI6NTQ2LFwieTBcIjoxNDgsXCJ5b2Zmc1wiOjMsXCJ4cGFkXCI6MS4wNDY4OCxcIndcIjoxNSxcImhcIjoyNH0se1wiY1wiOjI4NixcIngwXCI6NzgyLFwieTBcIjo1NyxcInlvZmZzXCI6LTEsXCJ4cGFkXCI6MS43NSxcIndcIjoxOCxcImhcIjoyOH0se1wiY1wiOjI4NyxcIngwXCI6OTYsXCJ5MFwiOjgsXCJ5b2Zmc1wiOjMsXCJ4cGFkXCI6Mi4wNzAzMSxcIndcIjoxNSxcImhcIjozMH0se1wiY1wiOjI5MCxcIngwXCI6ODE3LFwieTBcIjo1NyxcInlvZmZzXCI6NSxcInhwYWRcIjoxLjc1LFwid1wiOjE4LFwiaFwiOjI4fSx7XCJjXCI6MjkxLFwieDBcIjozMixcInkwXCI6OCxcInlvZmZzXCI6MixcInhwYWRcIjoyLjA3MDMxLFwid1wiOjE1LFwiaFwiOjMxfSx7XCJjXCI6Mjk4LFwieDBcIjo3ODksXCJ5MFwiOjEwMyxcIndcIjo5LFwiaFwiOjI2fSx7XCJjXCI6Mjk5LFwieDBcIjoxNzYsXCJ5MFwiOjI3MCxcInlvZmZzXCI6NCxcIndcIjo5LFwiaFwiOjIyfSx7XCJjXCI6MzAyLFwieDBcIjo4NTIsXCJ5MFwiOjU3LFwieW9mZnNcIjo1LFwieHBhZFwiOjAuNTQ2ODc1LFwid1wiOjgsXCJoXCI6Mjh9LHtcImNcIjozMDMsXCJ4MFwiOjg3NyxcInkwXCI6NTcsXCJ5b2Zmc1wiOjUsXCJ3XCI6OCxcImhcIjoyOH0se1wiY1wiOjMwNCxcIngwXCI6NDU0LFwieTBcIjoxMDMsXCJ5b2Zmc1wiOi0xLFwieHBhZFwiOjEuNTQ2ODgsXCJ3XCI6NyxcImhcIjoyN30se1wiY1wiOjMwNSxcIngwXCI6Mzc4LFwieTBcIjozNDcsXCJ5b2Zmc1wiOjExLFwieHBhZFwiOjEuMzQzNzUsXCJ3XCI6NixcImhcIjoxNX0se1wiY1wiOjMxMCxcIngwXCI6Njg3LFwieTBcIjo4LFwieW9mZnNcIjo1LFwid1wiOjE5LFwiaFwiOjI5fSx7XCJjXCI6MzExLFwieDBcIjoxMjgsXCJ5MFwiOjgsXCJ5b2Zmc1wiOjQsXCJ4cGFkXCI6MC4xNzE4NzUsXCJ3XCI6MTUsXCJoXCI6MzB9LHtcImNcIjozMTMsXCJ4MFwiOjkwMixcInkwXCI6NTcsXCJ5b2Zmc1wiOi0yLFwid1wiOjE2LFwiaFwiOjI4fSx7XCJjXCI6MzE0LFwieDBcIjo4MTUsXCJ5MFwiOjEwMyxcIndcIjo4LFwiaFwiOjI2fSx7XCJjXCI6MzE1LFwieDBcIjo3MjMsXCJ5MFwiOjgsXCJ5b2Zmc1wiOjUsXCJ3XCI6MTYsXCJoXCI6Mjl9LHtcImNcIjozMTYsXCJ4MFwiOjE2MCxcInkwXCI6OCxcInlvZmZzXCI6NCxcInhwYWRcIjoxLjQ2ODc1LFwid1wiOjYsXCJoXCI6MzB9LHtcImNcIjozMTcsXCJ4MFwiOjIwMixcInkwXCI6MjcwLFwieW9mZnNcIjo0LFwid1wiOjE2LFwiaFwiOjIyfSx7XCJjXCI6MzE4LFwieDBcIjoyMzUsXCJ5MFwiOjI3MCxcInlvZmZzXCI6NCxcIndcIjoxMixcImhcIjoyMn0se1wiY1wiOjMyMSxcIngwXCI6NTE3LFwieTBcIjozMDksXCJ5b2Zmc1wiOjUsXCJ4cGFkXCI6MC4wNDY4NzUsXCJ3XCI6MTYsXCJoXCI6MjF9LHtcImNcIjozMjIsXCJ4MFwiOjI2NCxcInkwXCI6MjcwLFwieW9mZnNcIjo0LFwid1wiOjExLFwiaFwiOjIyfSx7XCJjXCI6MzIzLFwieDBcIjo5MzUsXCJ5MFwiOjU3LFwieW9mZnNcIjotMixcInhwYWRcIjoyLjc0MjE5LFwid1wiOjE5LFwiaFwiOjI4fSx7XCJjXCI6MzI0LFwieDBcIjoxMDQsXCJ5MFwiOjIzMCxcInlvZmZzXCI6MyxcInhwYWRcIjoyLjAzOTA2LFwid1wiOjE1LFwiaFwiOjIzfSx7XCJjXCI6MzI1LFwieDBcIjo3NTYsXCJ5MFwiOjgsXCJ5b2Zmc1wiOjUsXCJ4cGFkXCI6Mi43NDIxOSxcIndcIjoxOSxcImhcIjoyOX0se1wiY1wiOjMyNixcIngwXCI6NTc4LFwieTBcIjoxNDgsXCJ5b2Zmc1wiOjEwLFwieHBhZFwiOjIuMDM5MDYsXCJ3XCI6MTUsXCJoXCI6MjR9LHtcImNcIjozMjcsXCJ4MFwiOjk3MSxcInkwXCI6NTcsXCJ5b2Zmc1wiOi0yLFwieHBhZFwiOjIuNzQyMTksXCJ3XCI6MTksXCJoXCI6Mjh9LHtcImNcIjozMjgsXCJ4MFwiOjEzNixcInkwXCI6MjMwLFwieW9mZnNcIjozLFwieHBhZFwiOjIuMDM5MDYsXCJ3XCI6MTUsXCJoXCI6MjN9LHtcImNcIjozMzIsXCJ4MFwiOjQ3OCxcInkwXCI6MTAzLFwieHBhZFwiOjEuMjI2NTYsXCJ3XCI6MjEsXCJoXCI6Mjd9LHtcImNcIjozMzMsXCJ4MFwiOjE2OCxcInkwXCI6MjMwLFwieW9mZnNcIjo0LFwieHBhZFwiOjAuODI4MTI1LFwid1wiOjE2LFwiaFwiOjIzfSx7XCJjXCI6MzM2LFwieDBcIjo3OTIsXCJ5MFwiOjgsXCJ5b2Zmc1wiOi0yLFwieHBhZFwiOjEuMjI2NTYsXCJ3XCI6MjEsXCJoXCI6Mjl9LHtcImNcIjozMzcsXCJ4MFwiOjYxMCxcInkwXCI6MTQ4LFwieW9mZnNcIjozLFwieHBhZFwiOjAuODI4MTI1LFwid1wiOjE2LFwiaFwiOjI0fSx7XCJjXCI6MzM4LFwieDBcIjoyOTIsXCJ5MFwiOjI3MCxcInlvZmZzXCI6NSxcInhwYWRcIjowLjM5MDYyNSxcIndcIjoyOSxcImhcIjoyMn0se1wiY1wiOjMzOSxcIngwXCI6OCxcInkwXCI6MzQ3LFwieW9mZnNcIjoxMCxcInhwYWRcIjowLjY1NjI1LFwid1wiOjI1LFwiaFwiOjE3fSx7XCJjXCI6MzQwLFwieDBcIjo4LFwieTBcIjoxMDMsXCJ5b2Zmc1wiOi0yLFwid1wiOjE5LFwiaFwiOjI4fSx7XCJjXCI6MzQxLFwieDBcIjoyMDEsXCJ5MFwiOjIzMCxcInlvZmZzXCI6MyxcInhwYWRcIjowLjIwMzEyNSxcIndcIjoxMCxcImhcIjoyM30se1wiY1wiOjM0MixcIngwXCI6ODMwLFwieTBcIjo4LFwieW9mZnNcIjo1LFwid1wiOjE5LFwiaFwiOjI5fSx7XCJjXCI6MzQzLFwieDBcIjoyMjgsXCJ5MFwiOjIzMCxcInlvZmZzXCI6MTEsXCJ4cGFkXCI6MC4yMDMxMjUsXCJ3XCI6MTAsXCJoXCI6MjN9LHtcImNcIjozNDQsXCJ4MFwiOjQ0LFwieTBcIjoxMDMsXCJ5b2Zmc1wiOi0yLFwid1wiOjE5LFwiaFwiOjI4fSx7XCJjXCI6MzQ1LFwieDBcIjoyNTUsXCJ5MFwiOjIzMCxcInlvZmZzXCI6MyxcInhwYWRcIjowLjIwMzEyNSxcIndcIjoxMCxcImhcIjoyM30se1wiY1wiOjM0NixcIngwXCI6ODY2LFwieTBcIjo4LFwieW9mZnNcIjotMixcInhwYWRcIjoxLjMyMDMxLFwid1wiOjE1LFwiaFwiOjI5fSx7XCJjXCI6MzQ3LFwieDBcIjo2NDMsXCJ5MFwiOjE0OCxcInlvZmZzXCI6MyxcInhwYWRcIjowLjI4MTI1LFwid1wiOjEzLFwiaFwiOjI0fSx7XCJjXCI6MzUwLFwieDBcIjo4OTgsXCJ5MFwiOjgsXCJ5b2Zmc1wiOjQsXCJ4cGFkXCI6MS4zMjAzMSxcIndcIjoxNSxcImhcIjoyOX0se1wiY1wiOjM1MSxcIngwXCI6MjgyLFwieTBcIjoyMzAsXCJ5b2Zmc1wiOjEwLFwieHBhZFwiOjAuMjgxMjUsXCJ3XCI6MTMsXCJoXCI6MjN9LHtcImNcIjozNTIsXCJ4MFwiOjkzMCxcInkwXCI6OCxcInlvZmZzXCI6LTIsXCJ4cGFkXCI6MS4zMjAzMSxcIndcIjoxNSxcImhcIjoyOX0se1wiY1wiOjM1MyxcIngwXCI6NjczLFwieTBcIjoxNDgsXCJ5b2Zmc1wiOjMsXCJ4cGFkXCI6MC4yODEyNSxcIndcIjoxMyxcImhcIjoyNH0se1wiY1wiOjM1NCxcIngwXCI6ODAsXCJ5MFwiOjEwMyxcInlvZmZzXCI6NSxcIndcIjoxNyxcImhcIjoyOH0se1wiY1wiOjM1NSxcIngwXCI6ODQwLFwieTBcIjoxMDMsXCJ5b2Zmc1wiOjcsXCJ4cGFkXCI6MC4yMzQzNzUsXCJ3XCI6MTAsXCJoXCI6MjZ9LHtcImNcIjozNTYsXCJ4MFwiOjExNCxcInkwXCI6MTAzLFwieW9mZnNcIjotMixcIndcIjoxNyxcImhcIjoyOH0se1wiY1wiOjM1NyxcIngwXCI6MzEyLFwieTBcIjoyMzAsXCJ5b2Zmc1wiOjQsXCJ3XCI6MTUsXCJoXCI6MjN9LHtcImNcIjozNjIsXCJ4MFwiOjUxNixcInkwXCI6MTAzLFwieHBhZFwiOjIuMDQ2ODgsXCJ3XCI6MTksXCJoXCI6Mjd9LHtcImNcIjozNjMsXCJ4MFwiOjM0NCxcInkwXCI6MjMwLFwieW9mZnNcIjo0LFwieHBhZFwiOjEuNjQ4NDQsXCJ3XCI6MTUsXCJoXCI6MjN9LHtcImNcIjozNjYsXCJ4MFwiOjk2MixcInkwXCI6OCxcInlvZmZzXCI6LTIsXCJ4cGFkXCI6Mi4wNDY4OCxcIndcIjoxOSxcImhcIjoyOX0se1wiY1wiOjM2NyxcIngwXCI6OCxcInkwXCI6MTQ4LFwieW9mZnNcIjoyLFwieHBhZFwiOjEuNjQ4NDQsXCJ3XCI6MTUsXCJoXCI6MjV9LHtcImNcIjozNjgsXCJ4MFwiOjgsXCJ5MFwiOjU3LFwieW9mZnNcIjotMixcInhwYWRcIjoyLjA0Njg4LFwid1wiOjE5LFwiaFwiOjI5fSx7XCJjXCI6MzY5LFwieDBcIjo3MDMsXCJ5MFwiOjE0OCxcInlvZmZzXCI6MyxcInhwYWRcIjoxLjY0ODQ0LFwid1wiOjE1LFwiaFwiOjI0fSx7XCJjXCI6MzcwLFwieDBcIjoxNDgsXCJ5MFwiOjEwMyxcInlvZmZzXCI6NSxcInhwYWRcIjoyLjA0Njg4LFwid1wiOjE5LFwiaFwiOjI4fSx7XCJjXCI6MzcxLFwieDBcIjozMzgsXCJ5MFwiOjI3MCxcInlvZmZzXCI6MTEsXCJ3XCI6MTcsXCJoXCI6MjJ9LHtcImNcIjozNzYsXCJ4MFwiOjU1MixcInkwXCI6MTAzLFwieW9mZnNcIjotMSxcIndcIjoxOCxcImhcIjoyN30se1wiY1wiOjM3NyxcIngwXCI6MTg0LFwieTBcIjoxMDMsXCJ5b2Zmc1wiOi0yLFwieHBhZFwiOjAuMjI2NTYzLFwid1wiOjE3LFwiaFwiOjI4fSx7XCJjXCI6Mzc4LFwieDBcIjozNzYsXCJ5MFwiOjIzMCxcInlvZmZzXCI6MyxcInhwYWRcIjowLjg1MTU2MyxcIndcIjoxMyxcImhcIjoyM30se1wiY1wiOjM3OSxcIngwXCI6NTg3LFwieTBcIjoxMDMsXCJ5b2Zmc1wiOi0xLFwieHBhZFwiOjAuMjI2NTYzLFwid1wiOjE3LFwiaFwiOjI3fSx7XCJjXCI6MzgwLFwieDBcIjozNzIsXCJ5MFwiOjI3MCxcInlvZmZzXCI6NCxcInhwYWRcIjowLjg1MTU2MyxcIndcIjoxMyxcImhcIjoyMn0se1wiY1wiOjM4MSxcIngwXCI6MjE4LFwieTBcIjoxMDMsXCJ5b2Zmc1wiOi0yLFwieHBhZFwiOjAuMjI2NTYzLFwid1wiOjE3LFwiaFwiOjI4fSx7XCJjXCI6MzgyLFwieDBcIjo0MDYsXCJ5MFwiOjIzMCxcInlvZmZzXCI6MyxcInhwYWRcIjowLjg1MTU2MyxcIndcIjoxMyxcImhcIjoyM30se1wiY1wiOjQwMixcIngwXCI6NDAsXCJ5MFwiOjE0OCxcInlvZmZzXCI6NCxcIndcIjoxMixcImhcIjoyNX0se1wiY1wiOjUzNixcIngwXCI6MTgzLFwieTBcIjo4LFwieW9mZnNcIjo0LFwieHBhZFwiOjEuMzIwMzEsXCJ3XCI6MTUsXCJoXCI6MzB9LHtcImNcIjo1MzcsXCJ4MFwiOjczNSxcInkwXCI6MTQ4LFwieW9mZnNcIjoxMCxcInhwYWRcIjowLjI4MTI1LFwid1wiOjEzLFwiaFwiOjI0fSx7XCJjXCI6NTM4LFwieDBcIjo0NCxcInkwXCI6NTcsXCJ5b2Zmc1wiOjUsXCJ3XCI6MTcsXCJoXCI6Mjl9LHtcImNcIjo1MzksXCJ4MFwiOjYyMSxcInkwXCI6MTAzLFwieW9mZnNcIjo3LFwieHBhZFwiOjAuMjM0Mzc1LFwid1wiOjEwLFwiaFwiOjI3fSx7XCJjXCI6ODIyNixcIngwXCI6MTAzLFwieTBcIjozODEsXCJ5b2Zmc1wiOjEzLFwieHBhZFwiOjAuMjgxMjUsXCJ3XCI6NyxcImhcIjo2fSx7XCJjXCI6ODQ4MixcIngwXCI6NjA2LFwieTBcIjozNDcsXCJ5b2Zmc1wiOjUsXCJ4cGFkXCI6MC44ODI4MTMsXCJ3XCI6MjIsXCJoXCI6MTJ9LHtcImNcIjo4NTkyLFwieDBcIjo3NjEsXCJ5MFwiOjM0NyxcInlvZmZzXCI6MTEsXCJ4cGFkXCI6MC44ODI4MTMsXCJ3XCI6MjYsXCJoXCI6MTB9LHtcImNcIjo4NTkzLFwieDBcIjo3NjUsXCJ5MFwiOjE0OCxcInlvZmZzXCI6NCxcInhwYWRcIjo3Ljg4MjgxLFwid1wiOjE5LFwiaFwiOjI0fSx7XCJjXCI6ODU5NCxcIngwXCI6ODA0LFwieTBcIjozNDcsXCJ5b2Zmc1wiOjExLFwieHBhZFwiOjAuODgyODEzLFwid1wiOjI2LFwiaFwiOjEwfSx7XCJjXCI6ODU5NSxcIngwXCI6ODAxLFwieTBcIjoxNDgsXCJ5b2Zmc1wiOjQsXCJ4cGFkXCI6Ny44ODI4MSxcIndcIjoxOSxcImhcIjoyNH0se1wiY1wiOjg3MzQsXCJ4MFwiOjUwOSxcInkwXCI6MzQ3LFwieW9mZnNcIjoxMSxcInhwYWRcIjowLjY4NzUsXCJ3XCI6MjUsXCJoXCI6MTR9LHtcImNcIjo5NzQyLFwieDBcIjo4MzcsXCJ5MFwiOjE0OCxcInlvZmZzXCI6NCxcIndcIjozMSxcImhcIjoyNH0se1wiY1wiOjk3NDMsXCJ4MFwiOjg4NSxcInkwXCI6MTQ4LFwieW9mZnNcIjo0LFwid1wiOjMxLFwiaFwiOjI0fSx7XCJjXCI6NjU1MzMsXCJ4MFwiOjU1MCxcInkwXCI6MzA5LFwieW9mZnNcIjo1LFwid1wiOjIwLFwiaFwiOjIxfV19IiwiLy8gUG9ydGlvbnMgQ29weXJpZ2h0IDIwMTkgSmltYiBFc3NlciAoaHR0cHM6Ly9naXRodWIuY29tL0ppbWJseS8pXG4vLyBSZWxlYXNlZCB1bmRlciBNSVQgTGljZW5zZTogaHR0cHM6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9NSVRcblxuLyplc2xpbnQgZ2xvYmFsLXJlcXVpcmU6b2ZmLCBuby1sYWJlbHM6b2ZmKi9cbmNvbnN0IGdsb3ZfbG9jYWxfc3RvcmFnZSA9IHJlcXVpcmUoJy4vZ2xvdi9sb2NhbF9zdG9yYWdlLmpzJyk7XG5nbG92X2xvY2FsX3N0b3JhZ2Uuc3RvcmFnZV9wcmVmaXggPSAnbWFjcm9nZW4nOyAvLyBCZWZvcmUgcmVxdWlyaW5nIGFueXRoaW5nIGVsc2UgdGhhdCBtaWdodCBsb2FkIGZyb20gdGhpc1xuXG5jb25zdCBhc3NlcnQgPSByZXF1aXJlKCdhc3NlcnQnKTtcbmNvbnN0IHsgY2FsY3VsYXRlQmlvbWVzVGVzdCB9ID0gcmVxdWlyZSgnLi9iaW9tZV90ZXN0LmpzJyk7XG5jb25zdCBjYW1lcmEyZCA9IHJlcXVpcmUoJy4vZ2xvdi9jYW1lcmEyZC5qcycpO1xuY29uc3QgY29udGluZW50X2dlbiA9IHJlcXVpcmUoJy4vY29udGluZW50X2dlbi5qcycpO1xuY29uc3QgeyBjb250aW5lbnREZXNlcmlhbGl6ZSwgY29udGluZW50U2VyaWFsaXplIH0gPSByZXF1aXJlKCcuL2NvbnRpbmVudF9zZXJpYWxpemUuanMnKTtcbmNvbnN0IHsgY29udGluZW50U2VyaWFsaXplVGVzdCB9ID0gcmVxdWlyZSgnLi9jb250aW5lbnRfc2VyaWFsaXplX3Rlc3QuanMnKTtcbmNvbnN0IHtcbiAgY29udGluZW50R2VuLFxuICAvLyBEX09QRU4sXG4gIERfQk9SREVSLFxuICAvLyBEX1NFQSxcbiAgRF9TRUEyLFxuICBEX0lOTEFORF9TRUEsXG4gIERfQ09BU1RMSU5FLFxuICBEX0xBS0UsXG59ID0gY29udGluZW50X2dlbjtcbmNvbnN0IGVuZ2luZSA9IHJlcXVpcmUoJy4vZ2xvdi9lbmdpbmUuanMnKTtcbmNvbnN0IGlucHV0ID0gcmVxdWlyZSgnLi9nbG92L2lucHV0LmpzJyk7XG5jb25zdCB7IGxpbmtUZXh0IH0gPSByZXF1aXJlKCcuL2dsb3YvbGluay5qcycpO1xuY29uc3QgeyBtaW4sIGZsb29yLCByb3VuZCwgc3FydCB9ID0gTWF0aDtcbmNvbnN0IG5ldCA9IHJlcXVpcmUoJy4vZ2xvdi9uZXQuanMnKTtcbmNvbnN0IHsgQ19XQVRFUixDX1JJVkVSX0RFTFRBLCBDX1BMQUlOUywgQ19NT1VOVEFJTlMgfSA9IHJlcXVpcmUoJy4vcHJvY19nZW5fY29uc3RhbnRzLmpzJyk7XG5jb25zdCBzaGFkZXJzID0gcmVxdWlyZSgnLi9nbG92L3NoYWRlcnMuanMnKTtcbmNvbnN0IHNwcml0ZXMgPSByZXF1aXJlKCcuL2dsb3Yvc3ByaXRlcy5qcycpO1xuY29uc3QgdGV4dHVyZXMgPSByZXF1aXJlKCcuL2dsb3YvdGV4dHVyZXMuanMnKTtcbmNvbnN0IHVpID0gcmVxdWlyZSgnLi9nbG92L3VpLmpzJyk7XG5jb25zdCB7IGNsYW1wLCBjbG9uZSB9ID0gcmVxdWlyZSgnLi4vY29tbW9uL3V0aWwuanMnKTtcbmNvbnN0IHtcbiAgdmVjMiwgdjJtdWwsIHYyc3ViLFxuICB2ZWMzLCB2M2xlcnAsIHYzc2NhbGUsIHYzc2V0LFxuICB2ZWM0LFxufSA9IHJlcXVpcmUoJy4vZ2xvdi92bWF0aC5qcycpO1xuXG53aW5kb3cuWiA9IHdpbmRvdy5aIHx8IHt9O1xuWi5CQUNLR1JPVU5EID0gMTtcblouU1BSSVRFUyA9IDEwO1xuWi5QQVJUSUNMRVMgPSAyMDtcblouVUlfVEVTVCA9IDIwMDtcblxuLy8gbGV0IGFwcCA9IGV4cG9ydHM7XG4vLyBWaXJ0dWFsIHZpZXdwb3J0IGZvciBvdXIgZ2FtZSBsb2dpY1xuZXhwb3J0IGNvbnN0IGdhbWVfd2lkdGggPSA0ODA7XG5leHBvcnQgY29uc3QgZ2FtZV9oZWlnaHQgPSAyNDA7XG5cbmNvbnN0IE1BUF9XQVRFUl9DMCA9IHZlYzMoMCwgMC4wOCwgMC42KTtcbmNvbnN0IE1BUF9XQVRFUl9DMSA9IHZlYzMoMC4wMTIsIDAuMzksIDEpO1xuY29uc3QgTUFQX1cyID0gMC41O1xuY29uc3QgTUFQX1dFSUdIVFMgPSBbTUFQX1cyLCAtTUFQX1cyLCAtMSwgLU1BUF9XMiwgTUFQX1cyLCAxXTtcbmNvbnN0IFNOT1dfRUxFVkFUSU9OID0gOTAwICogNDtcblxuZXhwb3J0IGZ1bmN0aW9uIG1haW4oKSB7XG4gIGlmIChlbmdpbmUuREVCVUcpIHtcbiAgICAvLyBFbmFibGUgYXV0by1yZWxvYWQsIGV0Y1xuICAgIG5ldC5pbml0KHsgZW5naW5lIH0pO1xuICB9XG5cbiAgaWYgKCFlbmdpbmUuc3RhcnR1cCh7XG4gICAgYW50aWFsaWFzOiB0cnVlLFxuICAgIGdhbWVfd2lkdGgsXG4gICAgZ2FtZV9oZWlnaHQsXG4gICAgcGl4ZWx5OiAnb24nLFxuICAgIHZpZXdwb3J0X3Bvc3Rwcm9jZXNzOiBmYWxzZSxcbiAgICBkb19ib3JkZXJzOiBmYWxzZSxcbiAgfSkpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBhc3NlcnQod2luZG93Lndvcmxkc01vZEFQSSk7XG4gIGxldCBtYXBpID0gd2luZG93Lndvcmxkc01vZEFQSSh7XG4gICAgLy8gRm9yIHRlc3RpbmcgYWdhaW5zdCBsb2NhbCBidWlsZDpcbiAgICAvLyBob3N0czoge1xuICAgIC8vICAgZGVidWczMDAwOiAnaHR0cDovL2xvY2FsaG9zdDozMDAwLydcbiAgICAvLyB9LFxuICB9KTtcblxuICBsZXQgc2hhZGVyX2hleCA9IHNoYWRlcnMuY3JlYXRlKCdzaGFkZXJzL2hleC5mcCcpO1xuXG4gIC8vIFBlcmZlY3Qgc2l6ZXMgZm9yIHBpeGVseSBtb2Rlc1xuICB1aS5zY2FsZVNpemVzKDEzIC8gMzIpO1xuICB1aS5zZXRGb250SGVpZ2h0KDgpO1xuICBsZXQgc3R5bGVfbGFiZWxzID0gdWkuZm9udC5zdHlsZSh7XG4gICAgb3V0bGluZV93aWR0aDogNC4wLFxuICAgIG91dGxpbmVfY29sb3I6IDB4MDAwMDAwZmYsXG4gIH0pO1xuXG4gIGxldCBzdHlsZV9saW5rID0gdWkuZm9udC5zdHlsZShudWxsLCB7XG4gICAgY29sb3I6IDB4NTA0MEZGZmYsXG4gICAgb3V0bGluZV93aWR0aDogNC4wLFxuICAgIG91dGxpbmVfY29sb3I6IDB4MDAwMDAwMjAsXG4gIH0pO1xuICBsZXQgc3R5bGVfbGlua19ob3ZlciA9IHVpLmZvbnQuc3R5bGUobnVsbCwge1xuICAgIGNvbG9yOiAweDAwMDBGRmZmLFxuICAgIG91dGxpbmVfd2lkdGg6IDQuMCxcbiAgICBvdXRsaW5lX2NvbG9yOiAweDAwMDAwMDIwLFxuICB9KTtcblxuICBjb25zdCBjcmVhdGVTcHJpdGUgPSBzcHJpdGVzLmNyZWF0ZTtcblxuICBsZXQgbW9kZXMgPSB7XG4gICAgdmlldzogNixcbiAgICBlZGl0OiAwLFxuICB9O1xuXG4gIGxldCBkZWJ1Z190ZXgxO1xuICBsZXQgZGVidWdfdGV4MjtcbiAgbGV0IGRlYnVnX3Nwcml0ZTtcbiAgbGV0IG9wdHMgPSBjbG9uZShjb250aW5lbnRfZ2VuLmRlZmF1bHRfb3B0cyk7XG4gIGxldCBoZXhfdGV4X3NpemUgPSBvcHRzLmhleF90ZXhfc2l6ZTtcbiAgbGV0IHRleF90b3RhbF9zaXplID0gaGV4X3RleF9zaXplICogaGV4X3RleF9zaXplO1xuICBvcHRzLm91dHB1dC5kZWJ1ZyA9IHRydWU7XG5cbiAgbGV0IGhleF9wYXJhbSA9IHZlYzQoaGV4X3RleF9zaXplLCAwLCAwLCAwKTtcbiAgc2hhZGVycy5hZGRHbG9iYWwoJ2hleF9wYXJhbScsIGhleF9wYXJhbSk7XG5cbiAgbGV0IHRleF9kYXRhMSA9IG5ldyBVaW50OEFycmF5KHRleF90b3RhbF9zaXplICogNCk7XG4gIGxldCB0ZXhfZGF0YV9jb2xvciA9IG5ldyBVaW50OEFycmF5KHRleF90b3RhbF9zaXplICogNCk7XG5cbiAgbGV0IHRlc3RfZXhwb3J0ID0gZmFsc2U7XG5cbiAgbGV0IGNvbG9yID0gdmVjNCgwLDAsMCwxKTtcbiAgZnVuY3Rpb24gdXBkYXRlRGVidWdUZXh0dXJlKGNkYXRhKSB7XG4gICAgbGV0IHN0YXJ0ID0gRGF0ZS5ub3coKTtcbiAgICBsZXQgdmlld19tb2RlID0gbW9kZXMudmlldztcbiAgICBsZXQge1xuICAgICAgbGFuZCwgZmlsbCwgdHNsb3BlLCByc2xvcGUsIHJpdmVyLCBlbGV2LCB3YXRlcl9sZXZlbCxcbiAgICAgIHJzdHJhaGxlciwgaHVtaWRpdHksIGNsYXNzaWYsIHRpbWUsc2hhbGxvd3MsdHJlbmNoZXMsXG4gICAgfSA9IGNkYXRhO1xuICAgIGxldCB3aWR0aCA9IGhleF90ZXhfc2l6ZTtcbiAgICBsZXQgaGVpZ2h0ID0gd2lkdGg7XG5cbiAgICBmdW5jdGlvbiBzZWFDb2xvcihwb3MpIHtcbiAgICAgIHJldHVybiBlbGV2W3Bvc10gLyAod2F0ZXJfbGV2ZWxbcG9zXSB8fCBvcHRzLm91dHB1dC5zZWFfcmFuZ2UpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNldENvbG9yQnVmZmVyKGJ1Ziwgc2NhbGUsIHNoYWxsb3dzX2J1Zikge1xuICAgICAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IHRleF90b3RhbF9zaXplOyArK2lpKSB7XG4gICAgICAgIGlmIChsYW5kW2lpXSkge1xuICAgICAgICAgIGxldCB2ID0gY2xhbXAoYnVmW2lpXSAqIHNjYWxlLCAwLCAyNTUpO1xuICAgICAgICAgIHRleF9kYXRhX2NvbG9yW2lpICogNF0gPSB2O1xuICAgICAgICAgIHRleF9kYXRhX2NvbG9yW2lpICogNCArIDFdID0gdjtcbiAgICAgICAgICB0ZXhfZGF0YV9jb2xvcltpaSAqIDQgKyAyXSA9IHY7XG4gICAgICAgIH0gZWxzZSBpZiAoc2hhbGxvd3NfYnVmKSB7XG4gICAgICAgICAgbGV0IHYgPSBjbGFtcChidWZbaWldICogc2NhbGUsIDAsIDI1NSk7XG4gICAgICAgICAgdGV4X2RhdGFfY29sb3JbaWkgKiA0XSA9IHNoYWxsb3dzX2J1ZltpaV0gPyAwIDogdjtcbiAgICAgICAgICB0ZXhfZGF0YV9jb2xvcltpaSAqIDQgKyAxXSA9IHNoYWxsb3dzX2J1ZltpaV0gPyAwIDogdjtcbiAgICAgICAgICB0ZXhfZGF0YV9jb2xvcltpaSAqIDQgKyAyXSA9IHNoYWxsb3dzX2J1ZltpaV0gPyAyNTUgOiB2O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRleF9kYXRhX2NvbG9yW2lpICogNF0gPSAwO1xuICAgICAgICAgIHRleF9kYXRhX2NvbG9yW2lpICogNCArIDFdID0gMDtcbiAgICAgICAgICB0ZXhfZGF0YV9jb2xvcltpaSAqIDQgKyAyXSA9IHNlYUNvbG9yKGlpKSAqIDI1NTtcbiAgICAgICAgfVxuICAgICAgICB0ZXhfZGF0YV9jb2xvcltpaSAqIDQgKyAzXSA9IDI1NTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodmlld19tb2RlID09PSAwKSB7XG4gICAgICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgdGV4X3RvdGFsX3NpemU7ICsraWkpIHtcbiAgICAgICAgbGV0IGxhbmR2ID0gbGFuZFtpaV0gPyAxIDogMDtcbiAgICAgICAgdjNzZXQoY29sb3IsIGxhbmR2LCBsYW5kdiwgbGFuZHYpO1xuICAgICAgICBsZXQgZiA9IGZpbGxbaWldO1xuICAgICAgICBpZiAoZiA+IDApIHtcbiAgICAgICAgICBpZiAoZiA9PT0gRF9DT0FTVExJTkUpIHtcbiAgICAgICAgICAgIHYzc2V0KGNvbG9yLCAwLjgsIDAuNywgMC4zKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGYgPT09IERfSU5MQU5EX1NFQSkge1xuICAgICAgICAgICAgY29sb3JbMV0gPSAwLjI1O1xuICAgICAgICAgICAgY29sb3JbMl0gPSAxLjA7XG4gICAgICAgICAgfSBlbHNlIGlmIChmID09PSBEX0JPUkRFUikge1xuICAgICAgICAgICAgY29sb3JbMF0gPSAxLjA7XG4gICAgICAgICAgICBjb2xvclsyXSA9IDAuNTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGYgPD0gRF9TRUEyKSB7XG4gICAgICAgICAgICBjb2xvclsyXSA9IDE7XG4gICAgICAgICAgfSBlbHNlIGlmIChmID09PSBEX0xBS0UpIHtcbiAgICAgICAgICAgIGNvbG9yWzBdID0gY29sb3JbMV0gPSAwLjI1O1xuICAgICAgICAgICAgY29sb3JbMl0gPSAxO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmb3IgKGxldCBqaiA9IDA7IGpqIDwgNDsgKytqaikge1xuICAgICAgICAgIHRleF9kYXRhX2NvbG9yW2lpICogNCArIGpqXSA9IGNsYW1wKGNvbG9yW2pqXSAqIDI1NSwgMCwgMjU1KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodmlld19tb2RlID09PSAxKSB7XG4gICAgICBsZXQgdHNsb3BlX21pbiA9IHR5cGVvZiBvcHRzLnRzbG9wZS5taW4gPT09ICdvYmplY3QnID8gb3B0cy50c2xvcGUubWluLmFkZCArIG9wdHMudHNsb3BlLm1pbi5tdWwgOm9wdHMudHNsb3BlLm1pbjtcbiAgICAgIGxldCB0c2xvcGVfcmFuZ2UgPSB0eXBlb2Ygb3B0cy50c2xvcGUucmFuZ2UgPT09ICdvYmplY3QnID9cbiAgICAgICAgb3B0cy50c2xvcGUucmFuZ2UuYWRkICsgb3B0cy50c2xvcGUucmFuZ2UubXVsIDpcbiAgICAgICAgb3B0cy50c2xvcGUucmFuZ2U7XG4gICAgICBsZXQgdHNsb3BlX211bCA9IDI1NSAvICh0c2xvcGVfbWluICsgdHNsb3BlX3JhbmdlKTtcbiAgICAgIHNldENvbG9yQnVmZmVyKHRzbG9wZSwgdHNsb3BlX211bCk7XG4gICAgfSBlbHNlIGlmICh2aWV3X21vZGUgPT09IDIpIHtcbiAgICAgIHNldENvbG9yQnVmZmVyKHJzbG9wZSwgMjU1IC8gb3B0cy5yc2xvcGUuc3RlcHMpO1xuICAgIH0gZWxzZSBpZiAodmlld19tb2RlID09PSAzKSB7XG4gICAgICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgdGV4X3RvdGFsX3NpemU7ICsraWkpIHtcbiAgICAgICAgaWYgKGxhbmRbaWldKSB7XG4gICAgICAgICAgbGV0IHYgPSBvcHRzLnJpdmVyLnNob3dfZWxldiA/XG4gICAgICAgICAgICAoZWxldltpaV0gLSBvcHRzLm91dHB1dC5zZWFfcmFuZ2UpIC8gb3B0cy5vdXRwdXQubGFuZF9yYW5nZSA6XG4gICAgICAgICAgICAwO1xuICAgICAgICAgIHYzc2V0KGNvbG9yLCB2LCB2LCB2KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2M3NldChjb2xvciwgMCwgMCwgc2VhQ29sb3IoaWkpKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGxldCBqaiA9IDA7IGpqIDwgNDsgKytqaikge1xuICAgICAgICAgIHRleF9kYXRhX2NvbG9yW2lpICogNCArIGpqXSA9IGNsYW1wKGNvbG9yW2pqXSAqIDI1NSwgMCwgMjU1KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodmlld19tb2RlID09PSA0KSB7XG4gICAgICBzZXRDb2xvckJ1ZmZlcihodW1pZGl0eSwgMSk7XG4gICAgfSBlbHNlIGlmICh2aWV3X21vZGUgPT09IDUpIHtcbiAgICAgIGNhbGN1bGF0ZUJpb21lc1Rlc3Qod2lkdGgsIGNkYXRhLCB0ZXhfZGF0YV9jb2xvcik7XG4gICAgICBpZiAob3B0cy5jbGFzc2lmLnNob3dfcml2ZXJzKSB7XG4gICAgICAgIHZpZXdfbW9kZSA9IDM7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh2aWV3X21vZGUgPT09IDYpIHtcbiAgICAgIGxldCB0b3RhbF9yYW5nZSA9IG9wdHMub3V0cHV0LmxhbmRfcmFuZ2U7XG4gICAgICBsZXQgc2xvcGVfbXVsID0gOCAvIHRvdGFsX3JhbmdlO1xuICAgICAgbGV0IHNob3dfcmVsaWVmID0gb3B0cy5jbGFzc2lmLnNob3dfcmVsaWVmO1xuICAgICAgZm9yIChsZXQgeSA9IDA7IHkgPCBoZWlnaHQ7ICsreSkge1xuICAgICAgICBmb3IgKGxldCB4ID0gMDsgeCA8IHdpZHRoOyArK3gpIHtcbiAgICAgICAgICBsZXQgcG9zID0geSAqIHdpZHRoICsgeDtcbiAgICAgICAgICBsZXQgYyA9IGNsYXNzaWZbcG9zXTtcbiAgICAgICAgICBsZXQgdiA9IDE7XG4gICAgICAgICAgbGV0IGVsZXYyID0gZWxldltwb3NdO1xuICAgICAgICAgIGlmIChzaG93X3JlbGllZikge1xuICAgICAgICAgICAgbGV0IGlzX2xhbmQgPSBsYW5kW3Bvc107XG4gICAgICAgICAgICBsZXQgcmlnaHRfc2xvcGUgPSAwO1xuICAgICAgICAgICAgaWYgKHkgJiYgeSAhPT0gaGVpZ2h0IC0gMSAmJiB4ICYmIHggIT09IHdpZHRoIC0gMSkge1xuICAgICAgICAgICAgICBsZXQgbmVpZ2hib3JzID0gY29udGluZW50X2dlbi5uZWlnaGJvcnNfYml0W3ggJiAxXTtcbiAgICAgICAgICAgICAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IDY7ICsraWkpIHtcbiAgICAgICAgICAgICAgICBsZXQgbnBvcyA9IHBvcyArIG5laWdoYm9yc1tpaV07XG4gICAgICAgICAgICAgICAgbGV0IG5lbGV2ID0gZWxldltucG9zXTtcbiAgICAgICAgICAgICAgICBsZXQgdyA9IE1BUF9XRUlHSFRTW2lpXTtcbiAgICAgICAgICAgICAgICBpZiAobGFuZFtucG9zXSAhPT0gaXNfbGFuZCkge1xuICAgICAgICAgICAgICAgICAgdyAqPSAwLjI1O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsZXQgZGVsdGEgPSAoZWxldjIgLSBuZWxldikgKiB3O1xuICAgICAgICAgICAgICAgIHJpZ2h0X3Nsb3BlICs9IGRlbHRhO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2ID0gY2xhbXAoMC41ICsgcmlnaHRfc2xvcGUgKiBzbG9wZV9tdWwsIDAuMSwgMSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChjID09PSBDX1dBVEVSKSB7XG4gICAgICAgICAgICB2M2xlcnAoY29sb3IsIHNlYUNvbG9yKHBvcyksIE1BUF9XQVRFUl9DMCwgTUFQX1dBVEVSX0MxKTtcbiAgICAgICAgICAgIHYgPSAwLjg1ICsgdiAqIDAuMTU7XG4gICAgICAgICAgfSBlbHNlIGlmIChjID09PSBDX1JJVkVSX0RFTFRBKSB7XG4gICAgICAgICAgICB2M3NldChjb2xvciwgMC4yNSwgMCwgMSk7XG4gICAgICAgICAgICB2ID0gMC44NSArIHYgKiAwLjE1O1xuICAgICAgICAgIH0gZWxzZSBpZiAoZWxldjIgLSBvcHRzLm91dHB1dC5zZWFfcmFuZ2UgPiBTTk9XX0VMRVZBVElPTikge1xuICAgICAgICAgICAgdjNzZXQoY29sb3IsIDEsIDEsIDEpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoYyA9PT0gQ19NT1VOVEFJTlMpIHtcbiAgICAgICAgICAgIHYzc2V0KGNvbG9yLCAwLjcsIDAuNywgMC43KTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGMgPT09IENfUExBSU5TKSB7XG4gICAgICAgICAgICB2M3NldChjb2xvciwgMC40LCAxLCAwKTtcbiAgICAgICAgICB9IGVsc2UgeyAvLyBjID09PSBDX0hJTExTXG4gICAgICAgICAgICB2M3NldChjb2xvciwgMC43OCwgMC44LCAwKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdjNzY2FsZShjb2xvciwgY29sb3IsIHYpO1xuICAgICAgICAgIGZvciAobGV0IGpqID0gMDsgamogPCA0OyArK2pqKSB7XG4gICAgICAgICAgICB0ZXhfZGF0YV9jb2xvcltwb3MgKiA0ICsgampdID0gY2xhbXAoY29sb3JbampdICogMjU1LCAwLCAyNTUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAob3B0cy5jbGFzc2lmLnNob3dfcml2ZXJzKSB7XG4gICAgICAgIHZpZXdfbW9kZSA9IDM7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICh2aWV3X21vZGUgPT09IDcpIHtcbiAgICAgIHNldENvbG9yQnVmZmVyKHRyZW5jaGVzLCA1MCxzaGFsbG93cyk7XG4gICAgfVxuXG4gICAgLy8gaW50ZXJsZWF2ZSBkYXRhXG4gICAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IHRleF90b3RhbF9zaXplOyArK2lpKSB7XG4gICAgICB0ZXhfZGF0YTFbaWkqNF0gPSByaXZlcltpaV07XG4gICAgICB0ZXhfZGF0YTFbaWkqNCsxXSA9IHJzdHJhaGxlcltpaV07XG4gICAgICB0ZXhfZGF0YTFbaWkqNCsyXSA9IDA7XG4gICAgICB0ZXhfZGF0YTFbaWkqNCszXSA9IDA7XG4gICAgfVxuXG4gICAgaWYgKCFkZWJ1Z190ZXgxKSB7XG4gICAgICBkZWJ1Z190ZXgxID0gdGV4dHVyZXMubG9hZCh7XG4gICAgICAgIG5hbWU6ICdwcm9jX2dlbl9kZWJ1ZzEnLFxuICAgICAgICBmb3JtYXQ6IHRleHR1cmVzLmZvcm1hdC5SR0JBOCxcbiAgICAgICAgd2lkdGgsXG4gICAgICAgIGhlaWdodCxcbiAgICAgICAgZGF0YTogdGV4X2RhdGExLFxuICAgICAgICBmaWx0ZXJfbWluOiBnbC5ORUFSRVNULFxuICAgICAgICBmaWx0ZXJfbWFnOiBnbC5ORUFSRVNULFxuICAgICAgICB3cmFwX3M6IGdsLkNMQU1QX1RPX0VER0UsXG4gICAgICAgIHdyYXBfdDogZ2wuQ0xBTVBfVE9fRURHRSxcbiAgICAgIH0pO1xuICAgICAgZGVidWdfdGV4MiA9IHRleHR1cmVzLmxvYWQoe1xuICAgICAgICBuYW1lOiAncHJvY19nZW5fZGVidWczJyxcbiAgICAgICAgZm9ybWF0OiB0ZXh0dXJlcy5mb3JtYXQuUkdCQTgsXG4gICAgICAgIHdpZHRoLFxuICAgICAgICBoZWlnaHQsXG4gICAgICAgIGRhdGE6IHRleF9kYXRhX2NvbG9yLFxuICAgICAgICBmaWx0ZXJfbWluOiBnbC5ORUFSRVNULFxuICAgICAgICBmaWx0ZXJfbWFnOiBnbC5ORUFSRVNULFxuICAgICAgICB3cmFwX3M6IGdsLkNMQU1QX1RPX0VER0UsXG4gICAgICAgIHdyYXBfdDogZ2wuQ0xBTVBfVE9fRURHRSxcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBkZWJ1Z190ZXgxLnVwZGF0ZURhdGEod2lkdGgsIGhlaWdodCwgdGV4X2RhdGExKTtcbiAgICAgIGRlYnVnX3RleDIudXBkYXRlRGF0YSh3aWR0aCwgaGVpZ2h0LCB0ZXhfZGF0YV9jb2xvcik7XG4gICAgfVxuICAgIGlmICghZGVidWdfc3ByaXRlKSB7XG4gICAgICBkZWJ1Z19zcHJpdGUgPSBjcmVhdGVTcHJpdGUoe1xuICAgICAgICB0ZXhzOiBbZGVidWdfdGV4MSwgZGVidWdfdGV4Ml0sXG4gICAgICB9KTtcbiAgICB9XG4gICAgY29uc29sZS5sb2coYERlYnVnIHRleHR1cmUgdXBkYXRlIGluICR7KERhdGUubm93KCkgLSBzdGFydCArIHRpbWUpfW1zYCk7XG4gICAgaGV4X3BhcmFtWzFdID0gdmlld19tb2RlO1xuICB9XG5cbiAgbGV0IHNlcmlhbGl6ZV9zaXplO1xuICBmdW5jdGlvbiBkb0V4cG9ydChjZGF0YSkge1xuICAgIGlmICgwKSB7XG4gICAgICBjb250aW5lbnRTZXJpYWxpemVUZXN0KGNkYXRhKTtcbiAgICB9IGVsc2UgaWYgKDApIHtcbiAgICAgIC8vIFNlbmQgdG8gc2VydmVyXG4gICAgICBsZXQgc3RhcnQgPSBEYXRlLm5vdygpO1xuICAgICAgbGV0IHNlciA9IGNvbnRpbmVudFNlcmlhbGl6ZShjZGF0YSk7XG4gICAgICBjb25zb2xlLmxvZyhgU2VyaWFsaXplZCBpbiAke0RhdGUubm93KCkgLSBzdGFydH1tc2ApO1xuICAgICAgc3RhcnQgPSBEYXRlLm5vdygpO1xuICAgICAgc2VyaWFsaXplX3NpemUgPSBzZXIubGVuZ3RoO1xuICAgICAgLypsZXQgZGVzZXIgPSovIGNvbnRpbmVudERlc2VyaWFsaXplKHNlcik7XG4gICAgICBjb25zb2xlLmxvZyhgRGVzZXJpYWxpemVkIGluICR7RGF0ZS5ub3coKSAtIHN0YXJ0fW1zYCk7XG4gICAgICBsZXQgcGFrID0gbmV0LmNsaWVudC53c1BhaygnZXhwb3J0Jyk7XG4gICAgICBwYWsud3JpdGVCdWZmZXIoc2VyKTtcbiAgICAgIHBhay5zZW5kKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFNlbmQgdG8gV29ybGRzRlJWUiB2aWEgTW9kIEFQSVxuICAgICAgLy8gRXhwZWN0cyB0aGUgcmF3ICh1bnNlcmlhbGl6ZWQpIGRhdGEgaW4gdGhlIGZvcm06XG4gICAgICAvLyAgIHtcbiAgICAgIC8vICAgICBzZWFfbGV2ZWw6IDgxOTIsXG4gICAgICAvLyAgICAgbWF4X2VsZXZhdGlvbjogMjQ1NzYsXG4gICAgICAvLyAgICAgZWxldjogbmV3IFVpbnQxNkFycmF5KDI1NioyNTYpLFxuICAgICAgLy8gICAgIGh1bWlkaXR5OiBuZXcgVWludDhBcnJheSgyNTYqMjU2KSxcbiAgICAgIC8vICAgICByaXZlcjogbmV3IFVpbnQ4QXJyYXkoMjU2KjI1NiksXG4gICAgICAvLyAgICAgd2F0ZXJfbGV2ZWw6IG5ldyBVaW50MTZBcnJheSgyNTYqMjU2KSxcbiAgICAgIC8vICAgICBjbGFzc2lmOiBuZXcgVWludDhBcnJheSgyNTYqMjU2KSxcbiAgICAgIC8vICAgfTtcbiAgICAgIG1hcGkuY29udGluZW50RGF0YVNldChjZGF0YSk7XG4gICAgfVxuICB9XG5cbiAgbGV0IG5lZWRfcmVnZW4gPSB0cnVlO1xuICBsZXQgZGVidWdfdXZzID0gdmVjNCgwLGhleF90ZXhfc2l6ZSArIDEsaGV4X3RleF9zaXplICsgMSwwKTtcbiAgbGV0IGNkYXRhO1xuICBmdW5jdGlvbiB0ZXN0KGR0KSB7XG4gICAgY2FtZXJhMmQuc2V0QXNwZWN0Rml4ZWQyKGdhbWVfd2lkdGgsIGdhbWVfaGVpZ2h0KTtcblxuICAgIGlmIChuZWVkX3JlZ2VuKSB7XG4gICAgICBuZWVkX3JlZ2VuID0gZmFsc2U7XG4gICAgICBvcHRzLmVhcmx5X291dCA9IG1vZGVzLnZpZXcgPCAzID8gJ3JpdmVyJyA6IG51bGw7XG4gICAgICBjZGF0YSA9IGNvbnRpbmVudEdlbihvcHRzKTtcbiAgICAgIHVwZGF0ZURlYnVnVGV4dHVyZShjZGF0YSk7XG4gICAgfVxuXG4gICAge1xuICAgICAgY29uc3QgSEVYX0FTUEVDVCA9IDEuNSAvIHNxcnQoMyk7XG4gICAgICBsZXQgdyA9IG1pbihjYW1lcmEyZC53KCksIGNhbWVyYTJkLmgoKSk7XG4gICAgICBsZXQgeCA9IGNhbWVyYTJkLngxKCkgLSB3ICogSEVYX0FTUEVDVDtcbiAgICAgIGxldCB5ID0gY2FtZXJhMmQueTAoKTtcbiAgICAgIGhleF9wYXJhbVsyXSA9IDAuNSAvICh3ICogY2FtZXJhMmQueVNjYWxlKCkgLyBoZXhfdGV4X3NpemUpO1xuICAgICAgaGV4X3BhcmFtWzNdID0gMSAvIGhleF9wYXJhbVsyXTtcbiAgICAgIGRlYnVnX3Nwcml0ZS5kcmF3KHtcbiAgICAgICAgeCwgeSwgdywgaDogdyxcbiAgICAgICAgejogWi5VSSAtIDEwLFxuICAgICAgICB1dnM6IGRlYnVnX3V2cyxcbiAgICAgICAgc2hhZGVyOiBzaGFkZXJfaGV4LFxuICAgICAgfSk7XG4gICAgICBsZXQgbW91c2VfcG9zID0gaW5wdXQubW91c2VQb3MoKTtcbiAgICAgIGlmIChtb3VzZV9wb3NbMF0gPiB4ICYmIG1vdXNlX3Bvc1swXSA8IHggKyB3ICYmXG4gICAgICAgIG1vdXNlX3Bvc1sxXSA+IHkgJiYgbW91c2VfcG9zWzFdIDwgeSArIHdcbiAgICAgICkge1xuICAgICAgICAvLyBjb252ZXJ0IHRvIHRleGNvb3Jkc1xuICAgICAgICBtb3VzZV9wb3NbMF0gPSAobW91c2VfcG9zWzBdIC0geCkgLyB3ICogKGhleF90ZXhfc2l6ZSArIDEpO1xuICAgICAgICBtb3VzZV9wb3NbMV0gPSAoMSAtIChtb3VzZV9wb3NbMV0gLSB5KSAvIHcpICogKGhleF90ZXhfc2l6ZSArIDEpO1xuXG4gICAgICAgIC8vIHNhbWUgaW4gaGV4LmZwXG4gICAgICAgIGNvbnN0IEhFWF9IRUlHSFQgPSAxLjA7XG4gICAgICAgIGNvbnN0IFZJRVdfT0ZGUyA9IHZlYzIoMC41LCAwLjApO1xuICAgICAgICBjb25zdCBIRVhfRURHRSA9IEhFWF9IRUlHSFQgLyBzcXJ0KDMuMCk7XG4gICAgICAgIGNvbnN0IEhFWF9FWFRSQV9XSURUSCA9IDAuNSAqIEhFWF9FREdFOyAvLyBjb3MoNjAvMTgwKlBJKSAqIEhFWF9FREdFXG4gICAgICAgIGNvbnN0IEhFWF9XSURUSCA9IEhFWF9FREdFICsgSEVYX0VYVFJBX1dJRFRIOyAvLyAxLjUgKiBIRVhfRURHRVxuICAgICAgICBjb25zdCBIRVhfTk9OX0VYVFJBID0gSEVYX0VER0UgLyBIRVhfV0lEVEg7IC8vIDIvM3Jkc1xuICAgICAgICBjb25zdCBIRVhfSEVJR0hUXzIgPSBIRVhfSEVJR0hUIC8gMi4wOyAvLyBzaW4oNjAvMTgwKlBJKSAoMC44NSkgKiBIRVhfRURHRVxuICAgICAgICBjb25zdCBIRVhfU0xPUEUgPSBIRVhfSEVJR0hUXzIgLyBIRVhfRVhUUkFfV0lEVEg7XG5cbiAgICAgICAgbGV0IGZwb3MgPSB2MnN1Yih2ZWMyKCksIG1vdXNlX3BvcywgVklFV19PRkZTKTtcbiAgICAgICAgdjJtdWwoZnBvcywgZnBvcywgdmVjMigxL0hFWF9XSURUSCwgMS8gSEVYX0hFSUdIVCkpO1xuICAgICAgICBsZXQgaXggPSBmbG9vcihmcG9zWzBdKTtcbiAgICAgICAgbGV0IG9kZCA9IGl4ICYgMTtcbiAgICAgICAgaWYgKG9kZCkge1xuICAgICAgICAgIGZwb3NbMV0gLT0gMC41O1xuICAgICAgICB9XG4gICAgICAgIGxldCBmcmFjeCA9IGZwb3NbMF0gLSBpeDtcbiAgICAgICAgbGV0IGl5ID0gZmxvb3IoZnBvc1sxXSk7XG4gICAgICAgIGlmIChmcmFjeCA8IEhFWF9OT05fRVhUUkEpIHtcbiAgICAgICAgICAvLyBpbiBzb2xpZCBzZWN0aW9uXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gaW4gb3ZlcmxhcHBpbmcgc2VjdGlvblxuICAgICAgICAgIGxldCBydW4gPSAoKGZyYWN4IC0gSEVYX05PTl9FWFRSQSkgKiBIRVhfV0lEVEgpO1xuICAgICAgICAgIGxldCBmcmFjeSA9IGZwb3NbMV0gLSBpeTtcbiAgICAgICAgICBpZiAoZnJhY3kgPiAwLjUpIHtcbiAgICAgICAgICAgIC8vIGluIHRvcCBoYWxmXG4gICAgICAgICAgICBsZXQgc2xvcGUgPSAoMS4wIC0gZnJhY3kpICogSEVYX0hFSUdIVCAvIHJ1bjtcbiAgICAgICAgICAgIGlmIChzbG9wZSA8IEhFWF9TTE9QRSkge1xuICAgICAgICAgICAgICAvLyBpbiBuZXh0IG92ZXIgYW5kIHVwXG4gICAgICAgICAgICAgIGl4Kys7XG4gICAgICAgICAgICAgIGlmIChvZGQpIHtcbiAgICAgICAgICAgICAgICBpeSsrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIGluIGJvdHRvbSBoYWxmXG4gICAgICAgICAgICBsZXQgc2xvcGUgPSAoZnJhY3kgKiBIRVhfSEVJR0hUKSAvIHJ1bjtcbiAgICAgICAgICAgIGlmIChzbG9wZSA8IEhFWF9TTE9QRSkge1xuICAgICAgICAgICAgICAvLyBpbiBuZXh0IG92ZXIgYW5kIGRvd25cbiAgICAgICAgICAgICAgaXgrKztcbiAgICAgICAgICAgICAgaWYgKCFvZGQpIHtcbiAgICAgICAgICAgICAgICBpeS0tO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGl4ID49IDAgJiYgaXggPCBoZXhfdGV4X3NpemUgJiYgaXkgPj0gMCAmJiBpeSA8IGhleF90ZXhfc2l6ZSkge1xuICAgICAgICAgIGxldCB7XG4gICAgICAgICAgICBsYW5kLCBmaWxsLCB0c2xvcGUsIHJzbG9wZSwgcml2ZXIsIGVsZXYsIGRlYnVnX3ByaW9yaXR5LFxuICAgICAgICAgICAgY29hc3RfZGlzdGFuY2UsIG9jZWFuX2Rpc3RhbmNlLCBzZWFfbGV2ZWwsXG4gICAgICAgICAgICByc3RyYWhsZXIsIGh1bWlkaXR5LFxuICAgICAgICAgIH0gPSBjZGF0YTtcbiAgICAgICAgICBsZXQgeiA9IFouVUkgLSA1O1xuICAgICAgICAgIHVpLnByaW50KHN0eWxlX2xhYmVscywgeCwgeSwgeiwgYCR7aXh9LCR7aXl9YCk7XG4gICAgICAgICAgeSArPSB1aS5mb250X2hlaWdodDtcbiAgICAgICAgICBsZXQgaWR4ID0gKGl5ICogaGV4X3RleF9zaXplICsgaXgpO1xuICAgICAgICAgIHVpLnByaW50KHN0eWxlX2xhYmVscywgeCwgeSwgeiwgYExhbmQ6ICR7bGFuZFtpZHhdfWApO1xuICAgICAgICAgIHkgKz0gdWkuZm9udF9oZWlnaHQ7XG4gICAgICAgICAgdWkucHJpbnQoc3R5bGVfbGFiZWxzLCB4LCB5LCB6LCBgRmxhZ3M6ICR7ZmlsbFtpZHhdfWApO1xuICAgICAgICAgIHkgKz0gdWkuZm9udF9oZWlnaHQ7XG4gICAgICAgICAgdWkucHJpbnQoc3R5bGVfbGFiZWxzLCB4LCB5LCB6LCBgVFNsb3BlOiAke3RzbG9wZVtpZHhdfWApO1xuICAgICAgICAgIHkgKz0gdWkuZm9udF9oZWlnaHQ7XG4gICAgICAgICAgdWkucHJpbnQoc3R5bGVfbGFiZWxzLCB4LCB5LCB6LCBgUlNsb3BlOiAke3JzbG9wZVtpZHhdfWApO1xuICAgICAgICAgIHkgKz0gdWkuZm9udF9oZWlnaHQ7XG4gICAgICAgICAgdWkucHJpbnQoc3R5bGVfbGFiZWxzLCB4LCB5LCB6LCBgUkVsZXY6ICR7ZWxldltpZHhdIC0gc2VhX2xldmVsfWApO1xuICAgICAgICAgIHkgKz0gdWkuZm9udF9oZWlnaHQ7XG4gICAgICAgICAgdWkucHJpbnQoc3R5bGVfbGFiZWxzLCB4LCB5LCB6LCBgUlByb2lyOiAke2RlYnVnX3ByaW9yaXR5W2lkeF19YCk7XG4gICAgICAgICAgeSArPSB1aS5mb250X2hlaWdodDtcbiAgICAgICAgICB1aS5wcmludChzdHlsZV9sYWJlbHMsIHgsIHksIHosIGBTdHJhaGxlcjogJHtyc3RyYWhsZXJbaWR4XX1gKTtcbiAgICAgICAgICB5ICs9IHVpLmZvbnRfaGVpZ2h0O1xuICAgICAgICAgIHVpLnByaW50KHN0eWxlX2xhYmVscywgeCwgeSwgeiwgYEh1bWlkaXR5OiAke2h1bWlkaXR5W2lkeF19YCk7XG4gICAgICAgICAgeSArPSB1aS5mb250X2hlaWdodDtcbiAgICAgICAgICB1aS5wcmludChzdHlsZV9sYWJlbHMsIHgsIHksIHosIGBDb2FzdCBEaXN0YW5jZTogJHtjb2FzdF9kaXN0YW5jZVtpZHhdfSAvICR7b2NlYW5fZGlzdGFuY2VbaWR4XX1gKTtcbiAgICAgICAgICB5ICs9IHVpLmZvbnRfaGVpZ2h0O1xuICAgICAgICAgIC8vIHVpLnByaW50KHN0eWxlX2xhYmVscywgeCwgeSwgeiwgYGJsdXJfdGVtcDE6ICR7Ymx1cl90ZW1wMVtpZHhdIC0gb3B0cy5vdXRwdXQuc2VhX3JhbmdlfWApO1xuICAgICAgICAgIC8vIHkgKz0gdWkuZm9udF9oZWlnaHQ7XG4gICAgICAgICAgLy8gdWkucHJpbnQoc3R5bGVfbGFiZWxzLCB4LCB5LCB6LCBgYmx1cl90ZW1wMjogJHtibHVyX3RlbXAyW2lkeF0gLSBvcHRzLm91dHB1dC5zZWFfcmFuZ2V9YCk7XG4gICAgICAgICAgLy8geSArPSB1aS5mb250X2hlaWdodDtcbiAgICAgICAgICBsZXQgcmJpdHMgPSByaXZlcltpZHhdO1xuICAgICAgICAgIHVpLnByaW50KHN0eWxlX2xhYmVscywgeCwgeSwgeiwgYFJpdmVyOiAke3JiaXRzJjE/J1VwJzonICAnfSAke3JiaXRzJjI/J1VSJzonICAnfSBgICtcbiAgICAgICAgICAgIGAke3JiaXRzJjQ/J0xSJzonICAnfSAke3JiaXRzJjg/J0RuJzonICAnfSAke3JiaXRzJjE2PydMTCc6JyAgJ30gJHtyYml0cyYzMj8nVUwnOicgICd9YCk7XG4gICAgICAgICAgeSArPSB1aS5mb250X2hlaWdodDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGxldCB4ID0gdWkuYnV0dG9uX2hlaWdodDtcbiAgICBsZXQgYnV0dG9uX3NwYWNpbmcgPSB1aS5idXR0b25faGVpZ2h0ICsgMjtcbiAgICBsZXQgeSA9IHg7XG4gICAgLy8gaWYgKHVpLmJ1dHRvblRleHQoeyB4LCB5LCB0ZXh0OiAnUmVnZW4nIH0pKSB7XG4gICAgLy8gICBuZWVkX3JlZ2VuID0gdHJ1ZTtcbiAgICAvLyB9XG4gICAgLy8geSArPSBidXR0b25fc3BhY2luZztcblxuICAgIGZ1bmN0aW9uIHNsaWRlckludGVybmFsKGZpZWxkLCB2YWx1ZSwgbWluX3YsIG1heF92LCBmaXhlZCkge1xuICAgICAgbGV0IG9sZF92YWx1ZSA9IHZhbHVlO1xuICAgICAgdmFsdWUgPSB1aS5zbGlkZXIodmFsdWUsIHtcbiAgICAgICAgeCwgeSxcbiAgICAgICAgbWluOiBtaW5fdixcbiAgICAgICAgbWF4OiBtYXhfdixcbiAgICAgIH0pO1xuICAgICAgaWYgKCFmaXhlZCkge1xuICAgICAgICB2YWx1ZSA9IHJvdW5kKHZhbHVlKTtcbiAgICAgIH0gZWxzZSBpZiAoZml4ZWQgPT09IDEpIHtcbiAgICAgICAgdmFsdWUgPSByb3VuZCh2YWx1ZSAqIDEwKSAvIDEwO1xuICAgICAgfSBlbHNlIGlmIChmaXhlZCA9PT0gMikge1xuICAgICAgICB2YWx1ZSA9IHJvdW5kKHZhbHVlICogMTAwKSAvIDEwMDtcbiAgICAgIH1cbiAgICAgIHVpLnByaW50KHN0eWxlX2xhYmVscywgeCArIHVpLmJ1dHRvbl93aWR0aCArIDQsIHkgKyAzLCBaLlVJLCBgJHtmaWVsZH06ICR7dmFsdWUudG9GaXhlZChmaXhlZCl9YCk7XG4gICAgICB5ICs9IGJ1dHRvbl9zcGFjaW5nO1xuICAgICAgaWYgKG9sZF92YWx1ZSAhPT0gdmFsdWUpIHtcbiAgICAgICAgbmVlZF9yZWdlbiA9IHRydWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuXG4gICAgbGV0IHgwID0geDtcbiAgICBsZXQgc3Vib3B0cztcbiAgICBmdW5jdGlvbiBzbGlkZXIoZmllbGQsIG1pbl92LCBtYXhfdiwgZml4ZWQsIGV4KSB7XG4gICAgICB4ID0geDA7XG4gICAgICBsZXQgaXNfZXggPSBmYWxzZTtcbiAgICAgIGlmIChleCkge1xuICAgICAgICBpc19leCA9IHR5cGVvZiBzdWJvcHRzW2ZpZWxkXSA9PT0gJ29iamVjdCc7XG4gICAgICAgIGlmICh1aS5idXR0b25UZXh0KHsgeCwgeSwgdGV4dDogaXNfZXggPyAndicgOiAnLScsXG4gICAgICAgICAgdzogdWkuYnV0dG9uX2hlaWdodCB9KVxuICAgICAgICApIHtcbiAgICAgICAgICBpc19leCA9ICFpc19leDtcbiAgICAgICAgICBpZiAoaXNfZXgpIHtcbiAgICAgICAgICAgIHN1Ym9wdHNbZmllbGRdID0ge1xuICAgICAgICAgICAgICBtaW46IHN1Ym9wdHNbZmllbGRdLFxuICAgICAgICAgICAgICBtYXg6IHN1Ym9wdHNbZmllbGRdLFxuICAgICAgICAgICAgICBmcmVxOiAxLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc3Vib3B0c1tmaWVsZF0gPSBzdWJvcHRzW2ZpZWxkXS5tYXg7XG4gICAgICAgICAgfVxuICAgICAgICAgIG5lZWRfcmVnZW4gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHggKz0gMTY7XG4gICAgICB9XG4gICAgICBpZiAoaXNfZXgpIHtcbiAgICAgICAgdWkucHJpbnQoc3R5bGVfbGFiZWxzLCB4LCB5ICsgMywgWi5VSSwgYCR7ZmllbGR9YCk7XG4gICAgICAgIHkgKz0gYnV0dG9uX3NwYWNpbmc7XG4gICAgICAgIHN1Ym9wdHNbZmllbGRdLm1pbiA9IHNsaWRlckludGVybmFsKCdtaW4nLCBzdWJvcHRzW2ZpZWxkXS5taW4sIG1pbl92LCBtYXhfdiwgZml4ZWQpO1xuICAgICAgICBzdWJvcHRzW2ZpZWxkXS5tYXggPSBzbGlkZXJJbnRlcm5hbCgnbWF4Jywgc3Vib3B0c1tmaWVsZF0ubWF4LCBtaW5fdiwgbWF4X3YsIGZpeGVkKTtcbiAgICAgICAgc3Vib3B0c1tmaWVsZF0uZnJlcSA9IHNsaWRlckludGVybmFsKCdmcmVxJywgc3Vib3B0c1tmaWVsZF0uZnJlcSwgMC4xLCAyLCAxKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN1Ym9wdHNbZmllbGRdID0gc2xpZGVySW50ZXJuYWwoZmllbGQsIHN1Ym9wdHNbZmllbGRdLCBtaW5fdiwgbWF4X3YsIGZpeGVkKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gdG9nZ2xlKGZpZWxkKSB7XG4gICAgICBpZiAodWkuYnV0dG9uVGV4dCh7IHgsIHksIHRleHQ6IGAke2ZpZWxkfTogJHtzdWJvcHRzW2ZpZWxkXSA/ICdPTic6ICdvZmYnfWAgfSkpIHtcbiAgICAgICAgc3Vib3B0c1tmaWVsZF0gPSAhc3Vib3B0c1tmaWVsZF07XG4gICAgICAgIG5lZWRfcmVnZW4gPSB0cnVlO1xuICAgICAgfVxuICAgICAgeSArPSBidXR0b25fc3BhY2luZztcbiAgICB9XG4gICAgc3Vib3B0cyA9IG9wdHM7XG4gICAgc2xpZGVyKCdzZWVkJywgMCwgMTAwLCAwKTtcblxuICAgIGZ1bmN0aW9uIG1vZGVCdXR0b24oc3Via2V5LCBuYW1lLCBpZCkge1xuICAgICAgbGV0IHcgPSB1aS5idXR0b25fd2lkdGggKiAwLjM4O1xuICAgICAgbGV0IGNvbG9yc19zZWxlY3RlZCA9IHVpLm1ha2VDb2xvclNldCh2ZWM0KDAsMSwwLDEpKTtcbiAgICAgIGxldCBzZWxlY3RlZCA9IG1vZGVzW3N1YmtleV0gPT09IGlkO1xuICAgICAgaWYgKHVpLmJ1dHRvblRleHQoe1xuICAgICAgICB4LCB5LCB3LCB0ZXh0OiBgJHtuYW1lfWAsXG4gICAgICAgIGNvbG9yczogc2VsZWN0ZWQgPyBjb2xvcnNfc2VsZWN0ZWQgOiBudWxsLFxuICAgICAgfSkpIHtcbiAgICAgICAgbW9kZXNbc3Via2V5XSA9IGlkO1xuICAgICAgICBpZiAoc3Via2V5ID09PSAndmlldycpIHtcbiAgICAgICAgICBuZWVkX3JlZ2VuID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgeCArPSB3ICsgMjtcbiAgICB9XG4gICAgdWkucHJpbnQoc3R5bGVfbGFiZWxzLCB4LCB5ICsgMiwgWi5VSSwgJ1ZpZXc6Jyk7XG4gICAgeCArPSAyNTtcbiAgICBsZXQgYXNwZWN0ID0gZW5naW5lLndpZHRoIC8gZW5naW5lLmhlaWdodDtcbiAgICBsZXQgbnVtX3Jvd3MgPSBhc3BlY3QgPiAxLjkgPyAxIDogMjtcbiAgICBtb2RlQnV0dG9uKCd2aWV3JywgJ2NvYXN0JywgMCk7XG4gICAgbW9kZUJ1dHRvbigndmlldycsICd0c2xvcGUnLCAxKTtcbiAgICBtb2RlQnV0dG9uKCd2aWV3JywgJ3JzbG9wZScsIDIpO1xuICAgIG1vZGVCdXR0b24oJ3ZpZXcnLCAncml2ZXInLCAzKTtcbiAgICBpZiAobnVtX3Jvd3MgPT09IDIpIHtcbiAgICAgIHkgKz0gYnV0dG9uX3NwYWNpbmc7XG4gICAgICB4ID0geDAgKyAyNTtcbiAgICB9XG4gICAgbW9kZUJ1dHRvbigndmlldycsICdodW1pZCcsIDQpO1xuICAgIG1vZGVCdXR0b24oJ3ZpZXcnLCAnY2xhc3NpZicsIDYpO1xuICAgIG1vZGVCdXR0b24oJ3ZpZXcnLCAnYmlvbWVzJywgNSk7XG4gICAgaWYgKG51bV9yb3dzID09PSAxKSB7XG4gICAgICB5ICs9IGJ1dHRvbl9zcGFjaW5nO1xuICAgICAgeCA9IHgwICsgMjU7XG4gICAgfVxuICAgIG1vZGVCdXR0b24oJ3ZpZXcnLCAndHJlX3NoYScsIDcpO1xuICAgIHkgKz0gYnV0dG9uX3NwYWNpbmc7XG4gICAgeCA9IHgwO1xuICAgIHVpLnByaW50KHN0eWxlX2xhYmVscywgeCwgeSArIDIsIFouVUksICdFZGl0OicpO1xuICAgIHggKz0gMjU7XG4gICAgbnVtX3Jvd3MgPSBhc3BlY3QgPiAxLjc3ID8gMiA6IDM7XG4gICAgbW9kZUJ1dHRvbignZWRpdCcsICdjb2FzdCcsIDApO1xuICAgIG1vZGVCdXR0b24oJ2VkaXQnLCAndHNsb3BlJywgMSk7XG4gICAgbW9kZUJ1dHRvbignZWRpdCcsICdyc2xvcGUnLCAyKTtcbiAgICBtb2RlQnV0dG9uKCdlZGl0JywgJ3JpdmVyJywgMyk7XG4gICAgaWYgKG51bV9yb3dzID09PSAzKSB7XG4gICAgICB5ICs9IGJ1dHRvbl9zcGFjaW5nO1xuICAgICAgeCA9IHgwICsgMjU7XG4gICAgfVxuICAgIG1vZGVCdXR0b24oJ2VkaXQnLCAnbGFrZXMnLCA4KTtcbiAgICBtb2RlQnV0dG9uKCdlZGl0JywgJ2JsdXInLCA5KTtcbiAgICBpZiAobnVtX3Jvd3MgPT09IDIpIHtcbiAgICAgIHkgKz0gYnV0dG9uX3NwYWNpbmc7XG4gICAgICB4ID0geDAgKyAyNTtcbiAgICB9XG4gICAgbW9kZUJ1dHRvbignZWRpdCcsICdtdGlmeScsIDcpO1xuICAgIG1vZGVCdXR0b24oJ2VkaXQnLCAnaHVtaWQnLCA0KTtcbiAgICBpZiAobnVtX3Jvd3MgPT09IDMpIHtcbiAgICAgIHkgKz0gYnV0dG9uX3NwYWNpbmc7XG4gICAgICB4ID0geDAgKyAyNTtcbiAgICB9XG4gICAgbW9kZUJ1dHRvbignZWRpdCcsICdvY2VhbicsIDUpO1xuICAgIG1vZGVCdXR0b24oJ2VkaXQnLCAnY2xhc3NpZicsIDEwKTtcbiAgICBtb2RlQnV0dG9uKCdlZGl0JywgJ3RyZV9zaGEnLCAxMSk7XG4gICAgbW9kZUJ1dHRvbignZWRpdCcsICdvdXRwdXQnLCA2KTtcbiAgICB5ICs9IGJ1dHRvbl9zcGFjaW5nO1xuICAgIHggPSB4MDtcblxuICAgIGlmIChtb2Rlcy5lZGl0ID09PSAwKSB7XG4gICAgICBzdWJvcHRzID0gb3B0cy5jb2FzdDtcbiAgICAgIHNsaWRlcignY3V0b2ZmJywgMC4xNSwgMS4wLCAyKTtcbiAgICAgIHNsaWRlcignZnJlcXVlbmN5JywgMC4xLCAxMCwgMSwgdHJ1ZSk7XG4gICAgICAvL3NsaWRlcignYW1wbGl0dWRlJywgMC4wMSwgMTAsIDIpO1xuICAgICAgc2xpZGVyKCdwZXJzaXN0ZW5jZScsIDAuMDEsIDIsIDIsIHRydWUpO1xuICAgICAgc2xpZGVyKCdsYWN1bmFyaXR5JywgMSwgMTAuMCwgMiwgdHJ1ZSk7XG4gICAgICBzbGlkZXIoJ29jdGF2ZXMnLCAxLCAxMCwgMCk7XG4gICAgICBzbGlkZXIoJ2RvbWFpbl93YXJwJywgMCwgMiwgMCk7XG4gICAgICBpZiAoc3Vib3B0cy5kb21haW5fd2FycCkge1xuICAgICAgICBzbGlkZXIoJ3dhcnBfZnJlcScsIDAuMDEsIDMsIDEpO1xuICAgICAgICBzbGlkZXIoJ3dhcnBfYW1wJywgMCwgMiwgMik7XG4gICAgICB9XG4gICAgICB0b2dnbGUoJ2ZpbGxfc2VhcycpO1xuICAgICAgdG9nZ2xlKCdjaGFubmVscycpO1xuICAgIH0gZWxzZSBpZiAobW9kZXMuZWRpdCA9PT0gMSkge1xuICAgICAgc3Vib3B0cyA9IG9wdHMudHNsb3BlO1xuICAgICAgc2xpZGVyKCdmcmVxdWVuY3knLCAwLjEsIDEwLCAxLCB0cnVlKTtcbiAgICAgIC8vc2xpZGVyKCdhbXBsaXR1ZGUnLCAwLjAxLCAxMCwgMik7XG4gICAgICBzbGlkZXIoJ21pbicsIDAsIDEwLCAwLCB0cnVlKTtcbiAgICAgIHNsaWRlcigncmFuZ2UnLCAwLCAyNTUsIDAsIHRydWUpO1xuICAgICAgc2xpZGVyKCdwZXJzaXN0ZW5jZScsIDAuMDEsIDIsIDIsIHRydWUpO1xuICAgICAgc2xpZGVyKCdsYWN1bmFyaXR5JywgMSwgMTAuMCwgMiwgdHJ1ZSk7XG4gICAgICBzbGlkZXIoJ29jdGF2ZXMnLCAxLCAxMCwgMCk7XG4gICAgICBzbGlkZXIoJ2RvbWFpbl93YXJwJywgMCwgMiwgMCk7XG4gICAgICBpZiAoc3Vib3B0cy5kb21haW5fd2FycCkge1xuICAgICAgICBzbGlkZXIoJ3dhcnBfZnJlcScsIDAuMDEsIDMsIDEpO1xuICAgICAgICBzbGlkZXIoJ3dhcnBfYW1wJywgMCwgMiwgMik7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChtb2Rlcy5lZGl0ID09PSAyKSB7XG4gICAgICBzdWJvcHRzID0gb3B0cy5yc2xvcGU7XG4gICAgICBzbGlkZXIoJ2ZyZXF1ZW5jeScsIDAuMSwgMTAsIDEsIHRydWUpO1xuICAgICAgLy9zbGlkZXIoJ2FtcGxpdHVkZScsIDAuMDEsIDEwLCAyKTtcbiAgICAgIHNsaWRlcigncGVyc2lzdGVuY2UnLCAwLjAxLCAyLCAyLCB0cnVlKTtcbiAgICAgIHNsaWRlcignbGFjdW5hcml0eScsIDEsIDEwLjAsIDIsIHRydWUpO1xuICAgICAgc2xpZGVyKCdvY3RhdmVzJywgMSwgMTAsIDApO1xuICAgICAgc2xpZGVyKCdkb21haW5fd2FycCcsIDAsIDIsIDApO1xuICAgICAgaWYgKHN1Ym9wdHMuZG9tYWluX3dhcnApIHtcbiAgICAgICAgc2xpZGVyKCd3YXJwX2ZyZXEnLCAwLjAxLCAzLCAxKTtcbiAgICAgICAgc2xpZGVyKCd3YXJwX2FtcCcsIDAsIDIsIDIpO1xuICAgICAgfVxuICAgICAgc2xpZGVyKCdzdGVwcycsIDEsIDY0LCAwKTtcbiAgICB9IGVsc2UgaWYgKG1vZGVzLmVkaXQgPT09IDMpIHtcbiAgICAgIHN1Ym9wdHMgPSBvcHRzLnJpdmVyO1xuICAgICAgc2xpZGVyKCd3ZWlnaHRfYmVuZCcsIDEsIDEwLCAwKTtcbiAgICAgIHNsaWRlcignd2VpZ2h0X2Fmb3JrJywgMSwgMTAsIDApO1xuICAgICAgc2xpZGVyKCd3ZWlnaHRfc2ZvcmsnLCAxLCAxMCwgMCk7XG4gICAgICBzbGlkZXIoJ21heF90c2xvcGUnLCAxLCAyMDAsIDApO1xuICAgICAgc2xpZGVyKCd0dW5pbmdfaCcsIDEsIDIwMCwgMCk7XG4gICAgICB0b2dnbGUoJ3Nob3dfZWxldicpO1xuICAgICAgdG9nZ2xlKCdwcnVuZScpO1xuICAgICAgdG9nZ2xlKCdtdGlmeV9wcnVuZScpO1xuICAgICAgaWYgKHN1Ym9wdHMubXRpZnlfcHJ1bmUpIHtcbiAgICAgICAgc2xpZGVyKCdtdGlmeV9wcnVuZV9ncmFjZScsIDAsIDIwMCwgMCk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChtb2Rlcy5lZGl0ID09PSA0KSB7XG4gICAgICBzdWJvcHRzID0gb3B0cy5odW1pZGl0eTtcbiAgICAgIHNsaWRlcignZnJlcXVlbmN5JywgMC4xLCAxMCwgMSwgdHJ1ZSk7XG4gICAgICBzbGlkZXIoJ3BlcnNpc3RlbmNlJywgMC4wMSwgMiwgMiwgdHJ1ZSk7XG4gICAgICBzbGlkZXIoJ2xhY3VuYXJpdHknLCAxLCAxMC4wLCAyLCB0cnVlKTtcbiAgICAgIHNsaWRlcignb2N0YXZlcycsIDEsIDEwLCAwKTtcbiAgICAgIHNsaWRlcignZG9tYWluX3dhcnAnLCAwLCAyLCAwKTtcbiAgICAgIGlmIChzdWJvcHRzLmRvbWFpbl93YXJwKSB7XG4gICAgICAgIHNsaWRlcignd2FycF9mcmVxJywgMC4wMSwgMywgMSk7XG4gICAgICAgIHNsaWRlcignd2FycF9hbXAnLCAwLCAyLCAyKTtcbiAgICAgIH1cbiAgICAgIHNsaWRlcigncmFpbnNoYWRvdycsIDAsIDEsIDIsIHRydWUpO1xuICAgICAgdG9nZ2xlKCdzaG93X3JlbGllZicpO1xuICAgIH0gZWxzZSBpZiAobW9kZXMuZWRpdCA9PT0gNSkge1xuICAgICAgc3Vib3B0cyA9IG9wdHMub2NlYW47XG4gICAgICBzbGlkZXIoJ2ZyZXF1ZW5jeScsIDAuMSwgMTAsIDEsIHRydWUpO1xuICAgICAgc2xpZGVyKCdwZXJzaXN0ZW5jZScsIDAuMDEsIDIsIDIsIHRydWUpO1xuICAgICAgc2xpZGVyKCdsYWN1bmFyaXR5JywgMSwgMTAuMCwgMiwgdHJ1ZSk7XG4gICAgICBzbGlkZXIoJ29jdGF2ZXMnLCAxLCAxMCwgMCk7XG4gICAgICBzbGlkZXIoJ2RvbWFpbl93YXJwJywgMCwgMiwgMCk7XG4gICAgICBpZiAoc3Vib3B0cy5kb21haW5fd2FycCkge1xuICAgICAgICBzbGlkZXIoJ3dhcnBfZnJlcScsIDAuMDEsIDMsIDEpO1xuICAgICAgICBzbGlkZXIoJ3dhcnBfYW1wJywgMCwgMiwgMik7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChtb2Rlcy5lZGl0ID09PSA2KSB7XG4gICAgICBzdWJvcHRzID0gb3B0cy5vdXRwdXQ7XG4gICAgICBzbGlkZXIoJ3NlYV9yYW5nZV9leHAnLCA2LCAxNSwgMCk7XG4gICAgICBzbGlkZXIoJ2xhbmRfcmFuZ2VfZXhwJywgNiwgMTUsIDApO1xuICAgICAgc3Vib3B0cy5zZWFfcmFuZ2UgPSAxIDw8IHN1Ym9wdHMuc2VhX3JhbmdlX2V4cDtcbiAgICAgIHN1Ym9wdHMubGFuZF9yYW5nZSA9IDEgPDwgc3Vib3B0cy5sYW5kX3JhbmdlX2V4cDtcblxuICAgICAgaWYgKG1hcGkuY29ubmVjdGVkKCkpIHtcbiAgICAgICAgdWkucHJpbnQoc3R5bGVfbGFiZWxzLCB4LCB5LCBaLlVJLCBgV29ybGRzTW9kQVBJIGNvbm5lY3RlZCB0byAke21hcGkuY29ubmVjdGVkKCl9YCk7XG4gICAgICAgIHkgKz0gdWkuZm9udF9oZWlnaHQgKyAyO1xuICAgICAgICBpZiAodWkuYnV0dG9uVGV4dCh7IHgsIHksIHRleHQ6ICdFeHBvcnQnIH0pIHx8IHRlc3RfZXhwb3J0KSB7XG4gICAgICAgICAgdGVzdF9leHBvcnQgPSBmYWxzZTtcbiAgICAgICAgICBvcHRzLm91dHB1dC5kZWJ1ZyA9IGZhbHNlO1xuICAgICAgICAgIGRvRXhwb3J0KGNvbnRpbmVudEdlbihvcHRzKSk7XG4gICAgICAgICAgb3B0cy5vdXRwdXQuZGVidWcgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHkgKz0gYnV0dG9uX3NwYWNpbmc7XG4gICAgICAgIGlmIChzZXJpYWxpemVfc2l6ZSkge1xuICAgICAgICAgIHVpLnByaW50KHN0eWxlX2xhYmVscywgeCwgeSwgWi5VSSwgJ0RhdGEgZXhwb3J0ZWQhIENyZWF0ZSBhIE5ldyBXb3JsZCB0byB1c2UgdGhpcyBkYXRhLicpO1xuICAgICAgICAgIHkgKz0gdWkuZm9udF9oZWlnaHQgKyAyO1xuICAgICAgICAgIHVpLnByaW50KHN0eWxlX2xhYmVscywgeCwgeSwgWi5VSSwgYFNpemU6ICR7c2VyaWFsaXplX3NpemV9YCk7XG4gICAgICAgICAgeSArPSB1aS5mb250X2hlaWdodCArIDI7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHVpLnByaW50KHN0eWxlX2xhYmVscywgeCwgeSwgWi5VSSwgJ1RvIGV4cG9ydCwgb3BlbiBXb3JsZHMgRlJWUicpO1xuICAgICAgICB5ICs9IHVpLmZvbnRfaGVpZ2h0ICsgMjtcbiAgICAgICAgbGlua1RleHQoe1xuICAgICAgICAgIHN0eWxlX2xpbmssIHN0eWxlX2xpbmtfaG92ZXIsXG4gICAgICAgICAgeCwgeSxcbiAgICAgICAgICB1cmw6ICdodHRwczovL3dvcmxkcy5mcnZyLmNvbS8nLFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKG1vZGVzLmVkaXQgPT09IDcpIHtcbiAgICAgIHN1Ym9wdHMgPSBvcHRzLm1vdW50YWluaWZ5O1xuICAgICAgc2xpZGVyKCdwZWFrX3JhZGl1cycsIDIsIDUwLCAwKTtcbiAgICAgIHNsaWRlcigncGVha19wZXJjZW50JywgMCwgMSwgMik7XG4gICAgICBzbGlkZXIoJ3BlYWtfaycsIDEsIDEwLCAwKTtcbiAgICAgIHNsaWRlcignYmxlbmRfcmFkaXVzJywgMiwgNTAsIDApO1xuICAgICAgc2xpZGVyKCdoZWlnaHRfc2NhbGUnLCAwLCA4LCAxKTtcbiAgICAgIHNsaWRlcignd2VpZ2h0X2xvY2FsJywgMCwgMSwgMik7XG4gICAgICBzbGlkZXIoJ3Bvd2VyX21pbicsIDEsIDgsIDEpO1xuICAgICAgc2xpZGVyKCdwb3dlcl9tYXgnLCAxLCA4LCAxKTtcbiAgICAgIHNsaWRlcigncG93ZXJfYmxlbmQnLCAwLjAxLCAxLCAyKTtcbiAgICAgIHNsaWRlcignY2Rpc3RfcmFtcCcsIDAsIDUwLCAwKTtcbiAgICB9IGVsc2UgaWYgKG1vZGVzLmVkaXQgPT09IDgpIHtcbiAgICAgIHN1Ym9wdHMgPSBvcHRzLmxha2VzO1xuICAgICAgc2xpZGVyKCdsYWtlX3NlYXJjaF9yYWRpdXMnLCAyLCA1MCwgMCk7XG4gICAgICBzbGlkZXIoJ2xha2VfcGVyY2VudCcsIDAsIDEsIDIpO1xuICAgICAgc2xpZGVyKCdsYWtlX2snLCAxLCAxMCwgMCk7XG4gICAgICBzbGlkZXIoJ21pbl9zZXAnLCAyLCA1MCwgMCk7XG4gICAgfSBlbHNlIGlmIChtb2Rlcy5lZGl0ID09PSA5KSB7XG4gICAgICBzdWJvcHRzID0gb3B0cy5ibHVyO1xuICAgICAgc2xpZGVyKCd0aHJlc2hvbGQnLCAxLCAyMDAwLCAwKTtcbiAgICAgIHNsaWRlcignd2VpZ2h0JywgMCwgMSwgMik7XG4gICAgfSBlbHNlIGlmIChtb2Rlcy5lZGl0ID09PSAxMCkge1xuICAgICAgc3Vib3B0cyA9IG9wdHMuY2xhc3NpZjtcbiAgICAgIHNsaWRlcignY3V0MScsIC0xLCAxLCAzKTtcbiAgICAgIHNsaWRlcignY3V0MicsIDAsIDEsIDMpO1xuICAgICAgc2xpZGVyKCdibHVyX3cnLCAxLCAxMCwgMCk7XG4gICAgICBzbGlkZXIoJ2JsdXJfc2NhbGUnLCAwLCAxMDAwLCAwKTtcbiAgICAgIHRvZ2dsZSgnc2hvd19yaXZlcnMnKTtcbiAgICAgIHRvZ2dsZSgnc2hvd19yZWxpZWYnKTtcbiAgICB9IGVsc2UgaWYgKG1vZGVzLmVkaXQgPT09IDExKSB7XG4gICAgICBzdWJvcHRzID0gb3B0cy5vY2Vhbl90cmVuY2hlcztcbiAgICAgIHNsaWRlcignY3V0b2ZmJywgMC4xLCAxLjAsIDEsIHRydWUpO1xuICAgICAgc2xpZGVyKCdmcmVxdWVuY3knLCAwLjEsIDEwLCAxLCB0cnVlKTtcbiAgICAgIHNsaWRlcigncGVyc2lzdGVuY2UnLCAwLjAxLCAyLCAyLCB0cnVlKTtcbiAgICAgIHNsaWRlcignbGFjdW5hcml0eScsIDAuMSwgMTAuMCwgMiwgdHJ1ZSk7XG4gICAgICBzbGlkZXIoJ29jdGF2ZXMnLCAxLCAxMCwgMCk7XG4gICAgICBzbGlkZXIoJ2RvbWFpbl93YXJwJywgMCwgMiwgMCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gdGVzdEluaXQoZHQpIHtcbiAgICBlbmdpbmUuc2V0U3RhdGUodGVzdCk7XG4gICAgdGVzdChkdCk7XG4gIH1cblxuICBlbmdpbmUuc2V0U3RhdGUodGVzdEluaXQpO1xufVxuIiwiY29uc3QgeyBzcXJ0IH0gPSBNYXRoO1xuXG5leHBvcnQgY29uc3QgU0tFV19YID0gMSAvIChzcXJ0KDEgLSAwLjUqMC41KSk7IC8vIDEuMTU0N1xuXG4vLyBiaW9tZSB0eXBlIGNsYXNzaWZpY2F0aW9uIGNhdGVnb3JpZXMgZnJvbSBjb250aW5lbnQgZ2VuZXJhdGlvblxuZXhwb3J0IGNvbnN0IENfV0FURVIgPSAwO1xuZXhwb3J0IGNvbnN0IENfUExBSU5TID0gMTtcbmV4cG9ydCBjb25zdCBDX0hJTExTID0gMjtcbmV4cG9ydCBjb25zdCBDX01PVU5UQUlOUyA9IDM7XG5leHBvcnQgY29uc3QgQ19SSVZFUl9ERUxUQSA9IDQ7XG4iLCIvLyBQb3J0aW9ucyBDb3B5cmlnaHQgMjAxOSBKaW1iIEVzc2VyIChodHRwczovL2dpdGh1Yi5jb20vSmltYmx5Lylcbi8vIFJlbGVhc2VkIHVuZGVyIE1JVCBMaWNlbnNlOiBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVFxuLyogZXNsaW50IG5vLWJpdHdpc2U6b2ZmICovXG5cbmNvbnN0IGFzc2VydCA9IHJlcXVpcmUoJ2Fzc2VydCcpO1xuY29uc3QgeyBpc1BhY2tldCB9ID0gcmVxdWlyZSgnLi9wYWNrZXQuanMnKTtcblxuZXhwb3J0IGZ1bmN0aW9uIGFja0luaXRSZWNlaXZlcihyZWNlaXZlcikge1xuICByZWNlaXZlci5sYXN0X3Bha19pZCA9IDA7XG4gIHJlY2VpdmVyLnJlc3BfY2JzID0ge307XG4gIHJlY2VpdmVyLnJlc3BvbnNlc193YWl0aW5nID0gMDtcbn1cblxuY29uc3QgRVJSX0ZBSUxBTExfRElTQ09OTkVDVCA9ICdFUlJfRkFJTEFMTF9ESVNDT05ORUNUJztcblxuY29uc3QgQUNLRkxBR19JU19SRVNQID0gMTw8MztcbmNvbnN0IEFDS0ZMQUdfRVJSID0gMTw8NDtcbmNvbnN0IEFDS0ZMQUdfREFUQV9KU09OID0gMTw8NTtcbi8vIGByZWNlaXZlcmAgaXMgcmVhbGx5IHRoZSBzZW5kZXIsIGhlcmUsIGJ1dCB3aWxsIHJlY2VpdmUgYW55IHJlc3BvbnNlXG5leHBvcnQgZnVuY3Rpb24gYWNrV3JhcFBha1N0YXJ0KHBhaywgcmVjZWl2ZXIsIG1zZykge1xuICBsZXQgZmxhZ3MgPSAwO1xuXG4gIHBhay5hY2tfZGF0YSA9IHtcbiAgICByZWNlaXZlcixcbiAgfTtcblxuICBpZiAodHlwZW9mIG1zZyA9PT0gJ251bWJlcicpIHtcbiAgICBmbGFncyB8PSBBQ0tGTEFHX0lTX1JFU1A7XG4gICAgcGFrLndyaXRlSW50KG1zZyk7XG4gIH0gZWxzZSB7XG4gICAgcGFrLndyaXRlQW5zaVN0cmluZyhtc2cpO1xuICB9XG4gIGxldCByZXNwX3Bha19pZCA9IHJlY2VpdmVyID8gKytyZWNlaXZlci5sYXN0X3Bha19pZCA6IDA7XG4gIHBhay5hY2tfZGF0YS5yZXNwX3Bha19pZCA9IHJlc3BfcGFrX2lkO1xuICBwYWsuYWNrX2RhdGEucmVzcF9wYWtfaWRfb2ZmcyA9IHBhay5nZXRPZmZzZXQoKTtcbiAgcGFrLndyaXRlSW50KHJlc3BfcGFrX2lkKTtcblxuICBwYWsuYWNrX2RhdGEuZGF0YV9vZmZzID0gcGFrLmdldE9mZnNldCgpO1xuICBwYWsuYWNrX2RhdGEuZmxhZ3MgPSBmbGFncztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFja1dyYXBQYWtQYXlsb2FkKHBhaywgZGF0YSkge1xuICBpZiAoaXNQYWNrZXQoZGF0YSkpIHtcbiAgICBwYWsuYXBwZW5kUmVtYWluaW5nKGRhdGEpO1xuICB9IGVsc2Uge1xuICAgIHBhay5hY2tfZGF0YS5mbGFncyB8PSBBQ0tGTEFHX0RBVEFfSlNPTjtcbiAgICBwYWsud3JpdGVKU09OKGRhdGEpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhY2tXcmFwUGFrRmluaXNoKHBhaywgZXJyLCByZXNwX2Z1bmMpIHtcbiAgbGV0IGZsYWdzID0gcGFrLmFja19kYXRhLmZsYWdzO1xuICBsZXQgb2ZmcyA9IHBhay5nZXRPZmZzZXQoKTtcbiAgaWYgKGVycikge1xuICAgIC8vIE5vdGhpbmcgZWxzZSBtdXN0IGhhdmUgYmVlbiB3cml0dGVuXG4gICAgYXNzZXJ0LmVxdWFsKHBhay5hY2tfZGF0YS5kYXRhX29mZnMsIG9mZnMpO1xuICAgIGZsYWdzIHw9IEFDS0ZMQUdfRVJSO1xuICAgIHBhay53cml0ZVN0cmluZyhTdHJpbmcoZXJyKSk7XG4gICAgb2ZmcyA9IHBhay5nZXRPZmZzZXQoKTtcbiAgfVxuICBwYWsubWFrZVJlYWRhYmxlKCk7XG4gIGxldCByZXNwX3Bha19pZCA9IDA7XG4gIGlmIChyZXNwX2Z1bmMgJiYgcmVzcF9mdW5jLmV4cGVjdGluZ19yZXNwb25zZSAhPT0gZmFsc2UpIHtcbiAgICByZXNwX3Bha19pZCA9IHBhay5hY2tfZGF0YS5yZXNwX3Bha19pZDtcbiAgICBhc3NlcnQocmVzcF9wYWtfaWQpO1xuICAgIGFzc2VydChwYWsuYWNrX2RhdGEucmVjZWl2ZXIpO1xuICAgIHBhay5hY2tfZGF0YS5yZWNlaXZlci5yZXNwX2Nic1tyZXNwX3Bha19pZF0gPSByZXNwX2Z1bmM7XG4gIH0gZWxzZSB7XG4gICAgcGFrLnNlZWsocGFrLmFja19kYXRhLnJlc3BfcGFrX2lkX29mZnMpO1xuICAgIHBhay56ZXJvSW50KCk7XG4gICAgcGFrLnNlZWsob2Zmcyk7XG4gIH1cbiAgcGFrLnVwZGF0ZUZsYWdzKGZsYWdzKTtcbiAgZGVsZXRlIHBhay5hY2tfZGF0YTtcbiAgcmV0dXJuIHJlc3BfcGFrX2lkO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYWNrUmVhZEhlYWRlcihwYWspIHtcbiAgbGV0IGZsYWdzID0gcGFrLmdldEZsYWdzKCk7XG4gIGxldCBtc2cgPSAoZmxhZ3MgJiBBQ0tGTEFHX0lTX1JFU1ApID8gcGFrLnJlYWRJbnQoKSA6IHBhay5yZWFkQW5zaVN0cmluZygpO1xuICBsZXQgcGFrX2lkID0gcGFrLnJlYWRJbnQoKTtcbiAgbGV0IGVyciA9IChmbGFncyAmIEFDS0ZMQUdfRVJSKSA/IHBhay5yZWFkU3RyaW5nKCkgOiB1bmRlZmluZWQ7XG4gIGxldCBkYXRhO1xuICBpZiAoZmxhZ3MgJiBBQ0tGTEFHX0RBVEFfSlNPTikge1xuICAgIGRhdGEgPSBwYWsucmVhZEpTT04oKTtcbiAgfSBlbHNlIHtcbiAgICBkYXRhID0gcGFrO1xuICB9XG4gIHJldHVybiB7XG4gICAgbXNnLFxuICAgIGVycixcbiAgICBkYXRhLFxuICAgIHBha19pZCxcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZhaWxBbGwocmVjZWl2ZXIsIGVycikge1xuICBlcnIgPSBlcnIgfHwgRVJSX0ZBSUxBTExfRElTQ09OTkVDVDtcbiAgbGV0IGNicyA9IHJlY2VpdmVyLnJlc3BfY2JzO1xuICByZWNlaXZlci5yZXNwX2NicyA9IHt9O1xuICByZWNlaXZlci5yZXNwb25zZXNfd2FpdGluZyA9IDA7XG4gIGZvciAobGV0IHBha19pZCBpbiBjYnMpIHtcbiAgICBjYnNbcGFrX2lkXShlcnIpO1xuICB9XG59XG5cbi8vIGBzb3VyY2VgIGlzIGEgc3RyaW5nIGZvciBkZWJ1Zy9sb2dnaW5nIG9ubHlcbi8vIGByZWNlaXZlcmAgbmVlZHMgaW5pdFJlY2VpY3ZlciBjYWxsZWQgb24gaXQsIGhhdmUgLm9uRXJyb3IoKSBpbiB0aGUgcHJvdG90eXBlIGFuZCBvcHRpb25hbGx5IC5sb2coKVxuLy8gc2VuZEZ1bmMobXNnLCBlcnIsIGRhdGEsIHJlc3BfZnVuYylcbi8vIGhhbmRsZUZ1bmMobXNnLCBkYXRhLCByZXNwX2Z1bmMpXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY29uc2lzdGVudC1yZXR1cm5cbmV4cG9ydCBmdW5jdGlvbiBhY2tIYW5kbGVNZXNzYWdlKHJlY2VpdmVyLCBzb3VyY2UsIG5ldF9kYXRhX29yX3Bhaywgc2VuZF9mdW5jLCBwYWtfZnVuYywgaGFuZGxlX2Z1bmMpIHtcbiAgbGV0IG5ldF9kYXRhID0gaXNQYWNrZXQobmV0X2RhdGFfb3JfcGFrKSA/IGFja1JlYWRIZWFkZXIobmV0X2RhdGFfb3JfcGFrKSA6IG5ldF9kYXRhX29yX3BhaztcbiAgbGV0IHsgZXJyLCBkYXRhLCBtc2csIHBha19pZCB9ID0gbmV0X2RhdGE7XG4gIGxldCBub3cgPSBEYXRlLm5vdygpO1xuICBsZXQgZXhwZWN0aW5nX3Jlc3BvbnNlID0gQm9vbGVhbihwYWtfaWQpO1xuICBsZXQgdGltZW91dF9pZDtcbiAgaWYgKGV4cGVjdGluZ19yZXNwb25zZSkge1xuICAgIHRpbWVvdXRfaWQgPSAncGVuZGluZyc7XG4gIH1cbiAgbGV0IHNlbnRfcmVzcG9uc2UgPSBmYWxzZTtcbiAgbGV0IHN0YXJ0X3RpbWUgPSBub3c7XG5cbiAgZnVuY3Rpb24gcHJlU2VuZFJlc3AoZXJyKSB7XG4gICAgYXNzZXJ0KCFzZW50X3Jlc3BvbnNlLCAnUmVzcG9uc2UgZnVuY3Rpb24gY2FsbGVkIHR3aWNlJyk7XG4gICAgc2VudF9yZXNwb25zZSA9IHRydWU7XG5cbiAgICBpZiAoZXhwZWN0aW5nX3Jlc3BvbnNlKSB7XG4gICAgICBpZiAodGltZW91dF9pZCkge1xuICAgICAgICBpZiAodGltZW91dF9pZCAhPT0gJ3BlbmRpbmcnKSB7XG4gICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXRfaWQpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoZXJyID09PSBFUlJfRkFJTEFMTF9ESVNDT05ORUNUKSB7XG4gICAgICAgICAgLy8gdGhpcyBpcyB0aGUgcmVzdWx0IG9mIGEgZmFpbEFsbCgpIGNhbGwsIGEgcmVzcG9uc2Ugd2FzIG5vdCBhY3R1YWxseSBzZW50IVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIChyZWNlaXZlci5sb2cgPyByZWNlaXZlciA6IGNvbnNvbGUpLmxvZyhgUmVzcG9uc2UgZmluYWxseSBzZW50IGZvciAke21zZ1xuICAgICAgICAgIH0gYWZ0ZXIgJHsoKERhdGUubm93KCkgLSBzdGFydF90aW1lKSAvIDEwMDApLnRvRml4ZWQoMSl9c2ApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZWNlaXZlci5yZXNwb25zZXNfd2FpdGluZy0tO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHJlc3BGdW5jKGVyciwgcmVzcF9kYXRhLCByZXNwX2Z1bmMpIHtcbiAgICBwcmVTZW5kUmVzcChlcnIpO1xuICAgIC8vIHRoZSBjYWxsYmFjayB3YW50cyB0byBzZW5kIGEgcmVzcG9uc2UsIGFuZCBwb3NzaWJseSBnZXQgYSByZXNwb25zZSBmcm9tIHRoYXQhXG4gICAgaWYgKCFleHBlY3RpbmdfcmVzcG9uc2UpIHtcbiAgICAgIC8vIEJ1dCwgdGhlIG90aGVyIGVuZCBpcyBub3QgZXhwZWN0aW5nIGEgcmVzcG9uc2UgZnJvbSB0aGlzIHBhY2tldCwgYmxhY2staG9sZSBpdFxuICAgICAgaWYgKHJlc3BfZnVuYykge1xuICAgICAgICAvLyBXZSBiZXR0ZXIgbm90IGJlIGV4cGVjdGluZyBhIHJlc3BvbnNlIHRvIG91ciByZXNwb25zZSFcbiAgICAgICAgcmVjZWl2ZXIub25FcnJvcihgU2VuZGluZyBhIHJlc3BvbnNlIHRvIGEgcGFja2V0ICgke21zZ30pIHRoYXQgZGlkIG5vdCBleHBlY3RgICtcbiAgICAgICAgICAnIG9uZSwgYnV0IHdlIGFyZSBleHBlY3RpbmcgYSByZXNwb25zZScpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICAvLyBob3dldmVyLCBpZiB0aGVyZSB3YXMgYW4gZXJyb3IsIGxldCdzIGZvcndhcmQgdGhhdCBhbG9uZyBhcyBhbiBlcnJvciBtZXNzYWdlXG4gICAgICBpZiAoZXJyKSB7XG4gICAgICAgIHNlbmRfZnVuYygnZXJyb3InLCBudWxsLCBlcnIsIG51bGwpO1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBzZW5kX2Z1bmMocGFrX2lkLCBlcnIsIHJlc3BfZGF0YSwgcmVzcF9mdW5jKTtcbiAgfVxuICByZXNwRnVuYy5leHBlY3RpbmdfcmVzcG9uc2UgPSBleHBlY3RpbmdfcmVzcG9uc2U7XG4gIHJlc3BGdW5jLnBhayA9IGZ1bmN0aW9uIChyZWZfcGFrKSB7XG4gICAgYXNzZXJ0KGV4cGVjdGluZ19yZXNwb25zZSk7XG4gICAgbGV0IHBhayA9IHBha19mdW5jKHBha19pZCwgcmVmX3Bhayk7XG4gICAgbGV0IG9yaWdfc2VuZCA9IHBhay5zZW5kO1xuICAgIHBhay5zZW5kID0gZnVuY3Rpb24gKGVyciwgcmVzcF9mdW5jKSB7XG4gICAgICBwcmVTZW5kUmVzcChlcnIpO1xuICAgICAgb3JpZ19zZW5kLmNhbGwocGFrLCBlcnIsIHJlc3BfZnVuYyk7XG4gICAgfTtcbiAgICByZXR1cm4gcGFrO1xuICB9O1xuXG4gIGlmICh0eXBlb2YgbXNnID09PSAnbnVtYmVyJykge1xuICAgIGxldCBjYiA9IHJlY2VpdmVyLnJlc3BfY2JzW21zZ107XG4gICAgaWYgKCFjYikge1xuICAgICAgcmV0dXJuIHJlY2VpdmVyLm9uRXJyb3IoYFJlY2VpdmVkIHJlc3BvbnNlIHRvIHVua25vd24gcGFja2V0IHdpdGggaWQgJHttc2d9IGZyb20gJHtzb3VyY2V9YCk7XG4gICAgfVxuICAgIGRlbGV0ZSByZWNlaXZlci5yZXNwX2Nic1ttc2ddO1xuICAgIGNiKGVyciwgZGF0YSwgcmVzcEZ1bmMpO1xuICB9IGVsc2Uge1xuICAgIGlmICghbXNnKSB7XG4gICAgICByZXR1cm4gcmVjZWl2ZXIub25FcnJvcihgUmVjZWl2ZWQgbWVzc2FnZSB3aXRoIG5vIC5tc2cgZnJvbSAke3NvdXJjZX1gKTtcbiAgICB9XG4gICAgaGFuZGxlX2Z1bmMobXNnLCBkYXRhLCByZXNwRnVuYyk7XG4gIH1cbiAgaWYgKGV4cGVjdGluZ19yZXNwb25zZSkge1xuICAgIC8vIE5vdGUsIHRoaXMgbWF5IGJlIC0xIGlmIHJlc3BGdW5jIGhhcyBhbHJlYWR5IGJlZW4gY2FsbGVkXG4gICAgcmVjZWl2ZXIucmVzcG9uc2VzX3dhaXRpbmcrKztcbiAgICBpZiAoIXNlbnRfcmVzcG9uc2UpIHtcbiAgICAgIC8vIHRpbWVvdXQgd2FybmluZyBmb3IgcmVzcG9uc2VcbiAgICAgIHRpbWVvdXRfaWQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGltZW91dF9pZCA9IG51bGw7XG4gICAgICAgIChyZWNlaXZlci5sb2cgPyByZWNlaXZlciA6IGNvbnNvbGUpLmxvZyhgUmVzcG9uc2Ugbm90IHNlbnQgZm9yICR7bXNnXG4gICAgICAgIH0gZnJvbSAke3NvdXJjZX0gYWZ0ZXIgJHsoKERhdGUubm93KCkgLSBzdGFydF90aW1lKSAvIDEwMDApLnRvRml4ZWQoMSl9c2ApO1xuICAgICAgfSwgMTUqMTAwMCk7XG4gICAgfVxuICB9XG59XG4iLCIvLyBQb3J0aW9ucyBDb3B5cmlnaHQgMjAxOSBKaW1iIEVzc2VyIChodHRwczovL2dpdGh1Yi5jb20vSmltYmx5Lylcbi8vIFJlbGVhc2VkIHVuZGVyIE1JVCBMaWNlbnNlOiBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVFxuLyogZXNsaW50IG5vLWJpdHdpc2U6b2ZmICovXG4vKiBnbG9iYWxzIGF0b2IgKi9cblxuLy8gRW5jb2RpbmcgaXMgZmFzdGVzdCB3aXRoIG5vbi1uYXRpdmUgY2FsbHM6IGh0dHA6Ly9qc3BlcmYuY29tL2Jhc2U2NC1lbmNvZGVcbi8vIERlY29kaW5nIGlzIGZhc3Rlc3QgdXNpbmcgd2luZG93LmJ0b2E6IGh0dHA6Ly9qc3BlcmYuY29tL2Jhc2U2NC1kZWNvZGVcblxuY29uc3QgeyBmbG9vciB9ID0gTWF0aDtcblxuY29uc3QgY2hyX3RhYmxlID0gJ0FCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky8nLnNwbGl0KCcnKTtcbmNvbnN0IFBBRCA9ICc9JztcblxuLy8gZHYgaXMgYSBEYXRhVmlldyB3aXRoIGEgLnU4IHByb3BlcnR5XG5mdW5jdGlvbiBlbmNvZGUoZHYsIG9mZnNldCwgbGVuZ3RoKSB7XG4gIGxldCBkYXRhID0gZHYudTg7XG4gIGxldCByZXN1bHQgPSAnJztcbiAgbGV0IGk7XG4gIGxldCBlZmZpO1xuICAvLyBDb252ZXJ0IGV2ZXJ5IHRocmVlIGJ5dGVzIHRvIDQgYXNjaWkgY2hhcmFjdGVycy5cbiAgZm9yIChpID0gMDsgaSA8IChsZW5ndGggLSAyKTsgaSArPSAzKSB7XG4gICAgZWZmaSA9IG9mZnNldCArIGk7XG4gICAgcmVzdWx0ICs9IGNocl90YWJsZVtkYXRhW2VmZmldID4+IDJdO1xuICAgIHJlc3VsdCArPSBjaHJfdGFibGVbKChkYXRhW2VmZmldICYgMHgwMykgPDwgNCkgKyAoZGF0YVtlZmZpICsgMV0gPj4gNCldO1xuICAgIHJlc3VsdCArPSBjaHJfdGFibGVbKChkYXRhW2VmZmkgKyAxXSAmIDB4MGYpIDw8IDIpICsgKGRhdGFbZWZmaSArIDJdID4+IDYpXTtcbiAgICByZXN1bHQgKz0gY2hyX3RhYmxlW2RhdGFbZWZmaSArIDJdICYgMHgzZl07XG4gIH1cblxuICAvLyBDb252ZXJ0IHRoZSByZW1haW5pbmcgMSBvciAyIGJ5dGVzLCBwYWQgb3V0IHRvIDQgY2hhcmFjdGVycy5cbiAgaWYgKGxlbmd0aCAlIDMpIHtcbiAgICBpID0gbGVuZ3RoIC0gKGxlbmd0aCAlIDMpO1xuICAgIGVmZmkgPSBvZmZzZXQgKyBpO1xuICAgIHJlc3VsdCArPSBjaHJfdGFibGVbZGF0YVtlZmZpXSA+PiAyXTtcbiAgICBpZiAoKGxlbmd0aCAlIDMpID09PSAyKSB7XG4gICAgICByZXN1bHQgKz0gY2hyX3RhYmxlWygoZGF0YVtlZmZpXSAmIDB4MDMpIDw8IDQpICsgKGRhdGFbZWZmaSArIDFdID4+IDQpXTtcbiAgICAgIHJlc3VsdCArPSBjaHJfdGFibGVbKGRhdGFbZWZmaSArIDFdICYgMHgwZikgPDwgMl07XG4gICAgICByZXN1bHQgKz0gUEFEO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXN1bHQgKz0gY2hyX3RhYmxlWyhkYXRhW2VmZmldICYgMHgwMykgPDwgNF07XG4gICAgICByZXN1bHQgKz0gUEFEICsgUEFEO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmZ1bmN0aW9uIGRlY29kZU5hdGl2ZUJyb3dzZXIoZGF0YSwgYWxsb2NhdG9yKSB7XG4gIGxldCBzdHIgPSBhdG9iKGRhdGEpO1xuICBsZXQgbGVuID0gc3RyLmxlbmd0aDtcbiAgbGV0IGR2ID0gYWxsb2NhdG9yKGxlbik7XG4gIGxldCB1OCA9IGR2LnU4O1xuICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgbGVuOyArK2lpKSB7XG4gICAgdThbaWldID0gc3RyLmNoYXJDb2RlQXQoaWkpO1xuICB9XG4gIGR2LmRlY29kZV9zaXplID0gbGVuO1xuICByZXR1cm4gZHY7XG59XG5cbmZ1bmN0aW9uIGVuY29kZU5hdGl2ZU5vZGUoZHYsIG9mZnNldCwgbGVuZ3RoKSB7XG4gIC8vIEFsbG9jYXRlcyBhIEJ1ZmZlcigpIG9iamVjdCBlYWNoIHRpbWUgLSBjb3VsZCBoYXZlIG91ciBhbGxvY0RhdGFWaWV3IGRvIHRoYXQgaWYgbmVlZGVkIGZvciBwZXJmXG4gIHJldHVybiBCdWZmZXIuZnJvbShkdi5idWZmZXIpLnRvU3RyaW5nKCdiYXNlNjQnLCBvZmZzZXQsIG9mZnNldCArIGxlbmd0aCk7XG59XG4vLyBGYXN0ZXIsIGJ1dCB1c2VzIGFuIGludGVybmFsIGZ1bmN0aW9uIHRoYXQgbWlnaHQgYnJlYWs6XG4vLyBmdW5jdGlvbiBlbmNvZGVOYXRpdmVOb2RlKGR2LCBvZmZzZXQsIGxlbmd0aCkge1xuLy8gICByZXR1cm4gQnVmZmVyLnByb3RvdHlwZS5iYXNlNjRTbGljZS5jYWxsKGR2LnU4LCBvZmZzZXQsIG9mZnNldCArIGxlbmd0aCk7XG4vLyB9XG5cbmZ1bmN0aW9uIGRlY29kZU5hdGl2ZU5vZGUoZGF0YSwgYWxsb2NhdG9yKSB7XG4gIGxldCBidWZmZXJfbGVuID0gKGRhdGEubGVuZ3RoID4+IDIpICogMyArIGZsb29yKChkYXRhLmxlbmd0aCAlIDQpIC8gMS41KTtcbiAgbGV0IGR2ID0gYWxsb2NhdG9yKGJ1ZmZlcl9sZW4pO1xuICBsZXQgYnVmZmVyID0gQnVmZmVyLmZyb20oZHYuYnVmZmVyKTtcbiAgZHYuZGVjb2RlX3NpemUgPSBidWZmZXIud3JpdGUoZGF0YSwgJ2Jhc2U2NCcpO1xuICByZXR1cm4gZHY7XG59XG5cbmNvbnN0IEJST1dTRVIgPSB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJztcblxuLy8gc3RyaW5nIC0+IFVpbnQ4QXJyYXkgb3IgQnVmZmVyXG5leHBvcnRzLmJhc2U2NERlY29kZSA9IEJST1dTRVIgPyBkZWNvZGVOYXRpdmVCcm93c2VyIDogZGVjb2RlTmF0aXZlTm9kZTtcbi8vIFVpbnQ4QXJyYXkgb3IgQnVmZmVyIC0+IHN0cmluZ1xuZXhwb3J0cy5iYXNlNjRFbmNvZGUgPSBCUk9XU0VSID8gZW5jb2RlIDogZW5jb2RlTmF0aXZlTm9kZTtcbiIsIi8vIFBvcnRpb25zIENvcHlyaWdodCAyMDE5IEppbWIgRXNzZXIgKGh0dHBzOi8vZ2l0aHViLmNvbS9KaW1ibHkvKVxuLy8gUmVsZWFzZWQgdW5kZXIgTUlUIExpY2Vuc2U6IGh0dHBzOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvTUlUXG5cbmNvbnN0IGFzc2VydCA9IHJlcXVpcmUoJ2Fzc2VydCcpO1xuY29uc3QgeyBpc0ludGVnZXIgfSA9IHJlcXVpcmUoJy4vdXRpbC5qcycpO1xuXG5mdW5jdGlvbiBjYW5vbmljYWwoY21kKSB7XG4gIHJldHVybiBjbWQudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC9bXy5dL2csICcnKTtcbn1cblxuZXhwb3J0IGNvbnN0IFRZUEVfSU5UID0gMDtcbmV4cG9ydCBjb25zdCBUWVBFX0ZMT0FUID0gMTtcbmV4cG9ydCBjb25zdCBUWVBFX1NUUklORyA9IDI7XG5jb25zdCBUWVBFX05BTUUgPSBbJ0lOVEVHRVInLCAnTlVNQkVSJywgJ1NUUklORyddO1xuXG5leHBvcnQgZnVuY3Rpb24gZGVmYXVsdEhhbmRsZXIoZXJyLCByZXNwKSB7XG4gIGlmIChlcnIpIHtcbiAgICBjb25zb2xlLmVycm9yKGVyciwgcmVzcCk7XG4gIH0gZWxzZSB7XG4gICAgY29uc29sZS5pbmZvKHJlc3ApO1xuICB9XG59XG5cbmZ1bmN0aW9uIGNoZWNrQWNjZXNzKGFjY2VzcywgbGlzdCkge1xuICBpZiAobGlzdCkge1xuICAgIGZvciAobGV0IGlpID0gMDsgaWkgPCBsaXN0Lmxlbmd0aDsgKytpaSkge1xuICAgICAgaWYgKCFhY2Nlc3MgfHwgIWFjY2Vzc1tsaXN0W2lpXV0pIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gQ21kUGFyc2UocGFyYW1zKSB7XG4gIHRoaXMuY21kcyA9IHt9O1xuICB0aGlzLmNtZHNfZm9yX2NvbXBsZXRlID0gdGhpcy5jbWRzO1xuICB0aGlzLndhc19ub3RfZm91bmQgPSBmYWxzZTtcbiAgdGhpcy5zdG9yYWdlID0gcGFyYW1zICYmIHBhcmFtcy5zdG9yYWdlOyAvLyBleHBlY3RzIC5zZXRKU09OKCksIC5nZXRKU09OKClcbiAgdGhpcy5kZWZhdWx0X2hhbmRsZXIgPSBkZWZhdWx0SGFuZGxlcjtcbiAgdGhpcy5yZWdpc3Rlcih7XG4gICAgY21kOiAnY21kX2xpc3QnLFxuICAgIGZ1bmM6IHRoaXMuY21kTGlzdC5iaW5kKHRoaXMpLFxuICAgIGFjY2Vzc19zaG93OiBbJ2hpZGRlbiddLFxuICB9KTtcbn1cbkNtZFBhcnNlLnByb3RvdHlwZS5jbWRMaXN0ID0gZnVuY3Rpb24gKHN0ciwgcmVzcF9mdW5jKSB7XG4gIGlmICghdGhpcy5jbWRfbGlzdCkge1xuICAgIGxldCBsaXN0ID0gdGhpcy5jbWRfbGlzdCA9IHt9O1xuICAgIGZvciAobGV0IGNtZCBpbiB0aGlzLmNtZHMpIHtcbiAgICAgIGxldCBjbWRfZGF0YSA9IHRoaXMuY21kc1tjbWRdO1xuICAgICAgbGV0IGFjY2VzcyA9IFtdOyAvLyBjb21iaW5lIGZvciBkYXRhIGNvbXBhY3Rpb25cbiAgICAgIGlmIChjbWRfZGF0YS5hY2Nlc3Nfc2hvdykge1xuICAgICAgICBhY2Nlc3MgPSBhY2Nlc3MuY29uY2F0KGNtZF9kYXRhLmFjY2Vzc19zaG93KTtcbiAgICAgIH1cbiAgICAgIGlmIChjbWRfZGF0YS5hY2Nlc3NfcnVuKSB7XG4gICAgICAgIGFjY2VzcyA9IGFjY2Vzcy5jb25jYXQoY21kX2RhdGEuYWNjZXNzX3J1bik7XG4gICAgICB9XG4gICAgICBpZiAoYWNjZXNzLmluZGV4T2YoJ2hpZGRlbicpICE9PSAtMSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGxldCBkYXRhID0ge1xuICAgICAgICBuYW1lOiBjbWRfZGF0YS5uYW1lLFxuICAgICAgICBoZWxwOiBjbWRfZGF0YS5oZWxwLFxuICAgICAgfTtcbiAgICAgIGlmIChjbWRfZGF0YS51c2FnZSkge1xuICAgICAgICBkYXRhLnVzYWdlID0gY21kX2RhdGEudXNhZ2U7XG4gICAgICB9XG4gICAgICBpZiAoYWNjZXNzLmxlbmd0aCkge1xuICAgICAgICBkYXRhLmFjY2Vzc19zaG93ID0gYWNjZXNzO1xuICAgICAgfVxuICAgICAgbGlzdFtjbWRdID0gZGF0YTtcbiAgICB9XG4gIH1cbiAgcmVzcF9mdW5jKG51bGwsIHRoaXMuY21kX2xpc3QpO1xufTtcblxuQ21kUGFyc2UucHJvdG90eXBlLnNldERlZmF1bHRIYW5kbGVyID0gZnVuY3Rpb24gKGZuKSB7XG4gIGFzc2VydCh0aGlzLmRlZmF1bHRfaGFuZGxlciA9PT0gZGVmYXVsdEhhbmRsZXIpOyAvLyBTaG91bGQgb25seSBzZXQgdGhpcyBvbmNlXG4gIHRoaXMuZGVmYXVsdF9oYW5kbGVyID0gZm47XG59O1xuQ21kUGFyc2UucHJvdG90eXBlLmhhbmRsZSA9IGZ1bmN0aW9uIChzZWxmLCBzdHIsIHJlc3BfZnVuYykge1xuICByZXNwX2Z1bmMgPSByZXNwX2Z1bmMgfHwgdGhpcy5kZWZhdWx0X2hhbmRsZXI7XG4gIHRoaXMud2FzX25vdF9mb3VuZCA9IGZhbHNlO1xuICBsZXQgbSA9IHN0ci5tYXRjaCgvXihbXlxcc10rKSg/OlxccysoLiopKT8kLyk7XG4gIGlmICghbSkge1xuICAgIHJlc3BfZnVuYygnTWlzc2luZyBjb21tYW5kJyk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgbGV0IGNtZCA9IGNhbm9uaWNhbChtWzFdKTtcbiAgbGV0IGNtZF9kYXRhID0gdGhpcy5jbWRzW2NtZF07XG4gIGlmIChjbWRfZGF0YSAmJiAhY2hlY2tBY2Nlc3Moc2VsZiAmJiBzZWxmLmFjY2VzcywgY21kX2RhdGEuYWNjZXNzX3J1bikpIHtcbiAgICAvLyB0aGlzLndhc19ub3RfZm91bmQgPSB0cnVlO1xuICAgIHJlc3BfZnVuYyhgQWNjZXNzIGRlbmllZDogXCIke21bMV19XCJgKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaWYgKCFjbWRfZGF0YSkge1xuICAgIHRoaXMud2FzX25vdF9mb3VuZCA9IHRydWU7XG4gICAgcmVzcF9mdW5jKGBVbmtub3duIGNvbW1hbmQ6IFwiJHttWzFdfVwiYCk7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGNtZF9kYXRhLmZuLmNhbGwoc2VsZiwgbVsyXSB8fCAnJywgcmVzcF9mdW5jKTtcbiAgcmV0dXJuIHRydWU7XG59O1xuXG5DbWRQYXJzZS5wcm90b3R5cGUucmVnaXN0ZXIgPSBmdW5jdGlvbiAocGFyYW0pIHtcbiAgYXNzZXJ0LmVxdWFsKHR5cGVvZiBwYXJhbSwgJ29iamVjdCcpO1xuICBsZXQgeyBjbWQsIGZ1bmMsIGhlbHAsIHVzYWdlLCBhY2Nlc3Nfc2hvdywgYWNjZXNzX3J1biB9ID0gcGFyYW07XG4gIGFzc2VydChjbWQgJiYgZnVuYyk7XG4gIHRoaXMuY21kc1tjYW5vbmljYWwoY21kKV0gPSB7XG4gICAgbmFtZTogY21kLFxuICAgIGZuOiBmdW5jLFxuICAgIGhlbHA6IGhlbHAgfHwgJycsXG4gICAgdXNhZ2U6IHVzYWdlIHx8IHVuZGVmaW5lZCxcbiAgICBhY2Nlc3Nfc2hvdyxcbiAgICBhY2Nlc3NfcnVuLFxuICB9O1xufTtcblxuQ21kUGFyc2UucHJvdG90eXBlLnJlZ2lzdGVyVmFsdWUgPSBmdW5jdGlvbiAoY21kLCBwYXJhbSkge1xuICBhc3NlcnQoVFlQRV9OQU1FW3BhcmFtLnR5cGVdIHx8ICFwYXJhbS5zZXQpO1xuICBhc3NlcnQocGFyYW0uc2V0IHx8IHBhcmFtLmdldCk7XG4gIGxldCBsYWJlbCA9IHBhcmFtLmxhYmVsIHx8IGNtZDtcbiAgbGV0IHN0b3JlID0gcGFyYW0uc3RvcmUgJiYgdGhpcy5zdG9yYWdlIHx8IGZhbHNlO1xuICBsZXQgc3RvcmVfa2V5ID0gYGNtZF9wYXJzZV8ke2Nhbm9uaWNhbChjbWQpfWA7XG4gIGlmIChwYXJhbS52ZXIpIHtcbiAgICBzdG9yZV9rZXkgKz0gYF8ke3BhcmFtLnZlcn1gO1xuICB9XG4gIGlmIChzdG9yZSkge1xuICAgIGFzc2VydChwYXJhbS5zZXQpO1xuICAgIGxldCBpbml0X3ZhbHVlID0gdGhpcy5zdG9yYWdlLmdldEpTT04oc3RvcmVfa2V5KTtcbiAgICBpZiAoaW5pdF92YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBwYXJhbS5zZXQoaW5pdF92YWx1ZSk7XG4gICAgfVxuICB9XG4gIGxldCBmbiA9IChzdHIsIHJlc3BfZnVuYykgPT4ge1xuICAgIGZ1bmN0aW9uIHZhbHVlKCkge1xuICAgICAgcmVzcF9mdW5jKG51bGwsIGAke2xhYmVsfSA9ICR7cGFyYW0uZ2V0KCl9YCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHVzYWdlKCkge1xuICAgICAgcmVzcF9mdW5jKGBVc2FnZTogLyR7Y21kfSAke1RZUEVfTkFNRVtwYXJhbS50eXBlXX1gKTtcbiAgICB9XG4gICAgaWYgKCFzdHIpIHtcbiAgICAgIGlmIChwYXJhbS5nZXQpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdXNhZ2UoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKCFwYXJhbS5zZXQpIHtcbiAgICAgIHJldHVybiByZXNwX2Z1bmMoYFVzYWdlOiAvJHtjbWR9YCk7XG4gICAgfVxuICAgIGxldCBuID0gTnVtYmVyKHN0cik7XG4gICAgaWYgKHBhcmFtLnJhbmdlKSB7XG4gICAgICBpZiAobiA8IHBhcmFtLnJhbmdlWzBdKSB7XG4gICAgICAgIG4gPSBwYXJhbS5yYW5nZVswXTtcbiAgICAgIH0gZWxzZSBpZiAobiA+IHBhcmFtLnJhbmdlWzFdKSB7XG4gICAgICAgIG4gPSBwYXJhbS5yYW5nZVsxXTtcbiAgICAgIH1cbiAgICB9XG4gICAgbGV0IHN0b3JlX3ZhbHVlID0gbjtcbiAgICBpZiAocGFyYW0udHlwZSA9PT0gVFlQRV9JTlQpIHtcbiAgICAgIGlmICghaXNJbnRlZ2VyKG4pKSB7XG4gICAgICAgIHJldHVybiB1c2FnZSgpO1xuICAgICAgfVxuICAgICAgcGFyYW0uc2V0KG4pO1xuICAgIH0gZWxzZSBpZiAocGFyYW0udHlwZSA9PT0gVFlQRV9GTE9BVCkge1xuICAgICAgaWYgKCFpc0Zpbml0ZShuKSkge1xuICAgICAgICByZXR1cm4gdXNhZ2UoKTtcbiAgICAgIH1cbiAgICAgIHBhcmFtLnNldChuKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3RvcmVfdmFsdWUgPSBzdHI7XG4gICAgICBwYXJhbS5zZXQoc3RyKTtcbiAgICB9XG4gICAgaWYgKHN0b3JlKSB7XG4gICAgICB0aGlzLnN0b3JhZ2Uuc2V0SlNPTihzdG9yZV9rZXksIHN0b3JlX3ZhbHVlKTtcbiAgICB9XG4gICAgaWYgKHBhcmFtLmdldCkge1xuICAgICAgcmV0dXJuIHZhbHVlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiByZXNwX2Z1bmMobnVsbCwgYCR7bGFiZWx9IHVkcGF0ZWRgKTtcbiAgICB9XG4gIH07XG4gIHRoaXMucmVnaXN0ZXIoe1xuICAgIGNtZCxcbiAgICBmdW5jOiBmbixcbiAgICBoZWxwOiBwYXJhbS5oZWxwIHx8ICgocGFyYW0uZ2V0ICYmIHBhcmFtLnNldCkgP1xuICAgICAgYFNldCBvciBkaXNwbGF5IFwiJHtsYWJlbH1cIiB2YWx1ZWAgOlxuICAgICAgcGFyYW0uc2V0ID8gYFNldCBcIiR7bGFiZWx9XCIgdmFsdWVgIDogYERpc3BsYXkgXCIke2xhYmVsfVwiIHZhbHVlYCksXG4gICAgdXNhZ2U6IHBhcmFtLnVzYWdlIHx8ICgocGFyYW0uZ2V0ID8gYERpc3BsYXkgXCIke2xhYmVsfVwiIHZhbHVlXFxuICBVc2FnZTogLyR7Y21kfVxcbmAgOiAnJykgK1xuICAgICAgKHBhcmFtLnNldCA/IGBTZXQgXCIke2xhYmVsfVwiIHZhbHVlXFxuICBVc2FnZTogLyR7Y21kfSBOZXdWYWx1ZWAgOiAnJykpLFxuICAgIGFjY2Vzc19zaG93OiBwYXJhbS5hY2Nlc3Nfc2hvdyxcbiAgICBhY2Nlc3NfcnVuOiBwYXJhbS5hY2Nlc3NfcnVuLFxuICB9KTtcbn07XG5cbmZ1bmN0aW9uIGNtcENtZChhLCBiKSB7XG4gIGlmIChhLmNuYW1lIDwgYi5jbmFtZSkge1xuICAgIHJldHVybiAtMTtcbiAgfVxuICByZXR1cm4gMTtcbn1cblxuLy8gZm9yIGF1dG8tY29tcGxldGVcbkNtZFBhcnNlLnByb3RvdHlwZS5hZGRTZXJ2ZXJDb21tYW5kcyA9IGZ1bmN0aW9uIChuZXdfY21kcykge1xuICBsZXQgY21kcyA9IHRoaXMuY21kc19mb3JfY29tcGxldGU7XG4gIGlmICh0aGlzLmNtZHNfZm9yX2NvbXBsZXRlID09PSB0aGlzLmNtZHMpIHtcbiAgICBjbWRzID0gdGhpcy5jbWRzX2Zvcl9jb21wbGV0ZSA9IHt9O1xuICAgIGZvciAobGV0IGNuYW1lIGluIHRoaXMuY21kcykge1xuICAgICAgY21kc1tjbmFtZV0gPSB0aGlzLmNtZHNbY25hbWVdO1xuICAgIH1cbiAgfVxuICBmb3IgKGxldCBjbmFtZSBpbiBuZXdfY21kcykge1xuICAgIGlmICghY21kc1tjbmFtZV0pIHtcbiAgICAgIGNtZHNbY25hbWVdID0gbmV3X2NtZHNbY25hbWVdO1xuICAgIH1cbiAgfVxufTtcblxuQ21kUGFyc2UucHJvdG90eXBlLmF1dG9Db21wbGV0ZSA9IGZ1bmN0aW9uIChzdHIsIGFjY2Vzcykge1xuICBsZXQgbGlzdCA9IFtdO1xuICBzdHIgPSBzdHIuc3BsaXQoJyAnKTtcbiAgbGV0IGZpcnN0X3RvayA9IGNhbm9uaWNhbChzdHJbMF0pO1xuICBmb3IgKGxldCBjbmFtZSBpbiB0aGlzLmNtZHNfZm9yX2NvbXBsZXRlKSB7XG4gICAgaWYgKHN0ci5sZW5ndGggPT09IDEgJiYgY25hbWUuc2xpY2UoMCwgZmlyc3RfdG9rLmxlbmd0aCkgPT09IGZpcnN0X3RvayB8fFxuICAgICAgc3RyLmxlbmd0aCA+IDEgJiYgY25hbWUgPT09IGZpcnN0X3Rva1xuICAgICkge1xuICAgICAgbGV0IGNtZF9kYXRhID0gdGhpcy5jbWRzX2Zvcl9jb21wbGV0ZVtjbmFtZV07XG4gICAgICBpZiAoY2hlY2tBY2Nlc3MoYWNjZXNzLCBjbWRfZGF0YS5hY2Nlc3Nfc2hvdykgJiYgY2hlY2tBY2Nlc3MoYWNjZXNzLCBjbWRfZGF0YS5hY2Nlc3NfcnVuKSkge1xuICAgICAgICBsaXN0LnB1c2goe1xuICAgICAgICAgIGNuYW1lLFxuICAgICAgICAgIGNtZDogY21kX2RhdGEubmFtZSxcbiAgICAgICAgICBoZWxwOiBjbWRfZGF0YS5oZWxwLFxuICAgICAgICAgIHVzYWdlOiBjbWRfZGF0YS51c2FnZSxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGxpc3Quc29ydChjbXBDbWQpO1xuICByZXR1cm4gbGlzdDsgLy8gLnNsaWNlKDAsIDIwKTsgTWF5YmU/XG59O1xuXG5DbWRQYXJzZS5wcm90b3R5cGUuY2Fub25pY2FsID0gY2Fub25pY2FsO1xuXG5DbWRQYXJzZS5wcm90b3R5cGUuVFlQRV9JTlQgPSBUWVBFX0lOVDtcbkNtZFBhcnNlLnByb3RvdHlwZS5UWVBFX0ZMT0FUID0gVFlQRV9GTE9BVDtcbkNtZFBhcnNlLnByb3RvdHlwZS5UWVBFX1NUUklORyA9IFRZUEVfU1RSSU5HO1xuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlKHBhcmFtcykge1xuICByZXR1cm4gbmV3IENtZFBhcnNlKHBhcmFtcyk7XG59XG4iLCIvKipcbiAqXG4gKiAgTUQ1IChNZXNzYWdlLURpZ2VzdCBBbGdvcml0aG0pXG4gKiAgaHR0cDovL3d3dy53ZWJ0b29sa2l0LmluZm8vXG4gKlxuICogTW9kaWZpZWQgYnkgcmFpbEd1biB0byBoYW5kbGUgbm9kZS5qcyBCdWZmZXIgb2JqZWN0c1xuICpcbiAqKi9cblxuLyogZXNsaW50IG5vLWJpdHdpc2U6b2ZmLCBuZXctY2FwOm9mZiovXG5jb25zdCBhc3NlcnQgPSByZXF1aXJlKCdhc3NlcnQnKTtcblxuZnVuY3Rpb24gc3RyaW5nVXRmOEVuY29kZShzdHIpIHtcbiAgbGV0IGM7XG4gIGxldCBuO1xuICBsZXQgdXRmdGV4dCA9IFtdO1xuICBzdHIgPSBzdHIucmVwbGFjZSgvXFxyXFxuL2csICdcXG4nKTtcbiAgZm9yIChuID0gMDsgbiA8IHN0ci5sZW5ndGg7ICsrbikge1xuICAgIGMgPSBzdHIuY2hhckNvZGVBdChuKTtcbiAgICBpZiAoYyA8IDEyOCkge1xuICAgICAgdXRmdGV4dC5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUoYykpO1xuICAgIH0gZWxzZSBpZiAoKGMgPiAxMjcpICYmIChjIDwgMjA0OCkpIHtcbiAgICAgIHV0ZnRleHQucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlKChjID4+IDYpIHwgMTkyKSk7XG4gICAgICB1dGZ0ZXh0LnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZSgoYyAmIDYzKSB8IDEyOCkpO1xuICAgIH0gZWxzZSB7XG4gICAgICB1dGZ0ZXh0LnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZSgoYyA+PiAxMikgfCAyMjQpKTtcbiAgICAgIHV0ZnRleHQucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlKCgoYyA+PiA2KSAmIDYzKSB8IDEyOCkpO1xuICAgICAgdXRmdGV4dC5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUoKGMgJiA2MykgfCAxMjgpKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHV0ZnRleHQuam9pbignJyk7XG59XG5cblxuZnVuY3Rpb24gcm90YXRlTGVmdChsVmFsdWUsIGlTaGlmdEJpdHMpIHtcbiAgcmV0dXJuIChsVmFsdWU8PGlTaGlmdEJpdHMpIHwgKGxWYWx1ZT4+PigzMi1pU2hpZnRCaXRzKSk7XG59XG5cbmZ1bmN0aW9uIGFkZFVuc2lnbmVkKGxYLGxZKSB7XG4gIGxldCBsWDggPSAobFggJiAweDgwMDAwMDAwKTtcbiAgbGV0IGxZOCA9IChsWSAmIDB4ODAwMDAwMDApO1xuICBsZXQgbFg0ID0gKGxYICYgMHg0MDAwMDAwMCk7XG4gIGxldCBsWTQgPSAobFkgJiAweDQwMDAwMDAwKTtcbiAgbGV0IGxSZXN1bHQgPSAobFggJiAweDNGRkZGRkZGKSsobFkgJiAweDNGRkZGRkZGKTtcbiAgaWYgKGxYNCAmIGxZNCkge1xuICAgIHJldHVybiAobFJlc3VsdCBeIDB4ODAwMDAwMDAgXiBsWDggXiBsWTgpO1xuICB9XG4gIGlmIChsWDQgfCBsWTQpIHtcbiAgICBpZiAobFJlc3VsdCAmIDB4NDAwMDAwMDApIHtcbiAgICAgIHJldHVybiAobFJlc3VsdCBeIDB4QzAwMDAwMDAgXiBsWDggXiBsWTgpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gKGxSZXN1bHQgXiAweDQwMDAwMDAwIF4gbFg4IF4gbFk4KTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIChsUmVzdWx0IF4gbFg4IF4gbFk4KTtcbiAgfVxufVxuXG5mdW5jdGlvbiBGKHgseSx6KSB7XG4gIHJldHVybiAoeCAmIHkpIHwgKCh+eCkgJiB6KTtcbn1cbmZ1bmN0aW9uIEcoeCx5LHopIHtcbiAgcmV0dXJuICh4ICYgeikgfCAoeSAmICh+eikpO1xufVxuZnVuY3Rpb24gSCh4LHkseikge1xuICByZXR1cm4gKHggXiB5IF4geik7XG59XG5mdW5jdGlvbiBJKHgseSx6KSB7XG4gIHJldHVybiAoeSBeICh4IHwgKH56KSkpO1xufVxuXG5mdW5jdGlvbiBGRihhLGIsYyxkLHgscyxhYykge1xuICBhID0gYWRkVW5zaWduZWQoYSwgYWRkVW5zaWduZWQoYWRkVW5zaWduZWQoRihiLCBjLCBkKSwgeCksIGFjKSk7XG4gIHJldHVybiBhZGRVbnNpZ25lZChyb3RhdGVMZWZ0KGEsIHMpLCBiKTtcbn1cblxuZnVuY3Rpb24gR0coYSxiLGMsZCx4LHMsYWMpIHtcbiAgYSA9IGFkZFVuc2lnbmVkKGEsIGFkZFVuc2lnbmVkKGFkZFVuc2lnbmVkKEcoYiwgYywgZCksIHgpLCBhYykpO1xuICByZXR1cm4gYWRkVW5zaWduZWQocm90YXRlTGVmdChhLCBzKSwgYik7XG59XG5cbmZ1bmN0aW9uIEhIKGEsYixjLGQseCxzLGFjKSB7XG4gIGEgPSBhZGRVbnNpZ25lZChhLCBhZGRVbnNpZ25lZChhZGRVbnNpZ25lZChIKGIsIGMsIGQpLCB4KSwgYWMpKTtcbiAgcmV0dXJuIGFkZFVuc2lnbmVkKHJvdGF0ZUxlZnQoYSwgcyksIGIpO1xufVxuXG5mdW5jdGlvbiBJSShhLGIsYyxkLHgscyxhYykge1xuICBhID0gYWRkVW5zaWduZWQoYSwgYWRkVW5zaWduZWQoYWRkVW5zaWduZWQoSShiLCBjLCBkKSwgeCksIGFjKSk7XG4gIHJldHVybiBhZGRVbnNpZ25lZChyb3RhdGVMZWZ0KGEsIHMpLCBiKTtcbn1cblxuZnVuY3Rpb24gY29udmVydFRvV29yZEFycmF5KHN0cmluZykge1xuICBsZXQgbFdvcmRDb3VudDtcbiAgbGV0IGxNZXNzYWdlTGVuZ3RoID0gc3RyaW5nLmxlbmd0aDtcbiAgbGV0IGxOdW1iZXJPZldvcmRzX3RlbXAxPWxNZXNzYWdlTGVuZ3RoICsgODtcbiAgbGV0IGxOdW1iZXJPZldvcmRzX3RlbXAyPVxuICAgIChsTnVtYmVyT2ZXb3Jkc190ZW1wMS0obE51bWJlck9mV29yZHNfdGVtcDEgJSA2NCkpLzY0O1xuICBsZXQgbE51bWJlck9mV29yZHMgPSAobE51bWJlck9mV29yZHNfdGVtcDIrMSkqMTY7XG4gIGxldCBsV29yZEFycmF5PW5ldyBBcnJheShsTnVtYmVyT2ZXb3Jkcy0xKTtcbiAgbGV0IGxCeXRlUG9zaXRpb24gPSAwO1xuICBsZXQgbEJ5dGVDb3VudCA9IDA7XG4gIHdoaWxlIChsQnl0ZUNvdW50IDwgbE1lc3NhZ2VMZW5ndGgpIHtcbiAgICBsV29yZENvdW50ID0gKGxCeXRlQ291bnQtKGxCeXRlQ291bnQgJSA0KSkvNDtcbiAgICBsQnl0ZVBvc2l0aW9uID0gKGxCeXRlQ291bnQgJSA0KSo4O1xuICAgIGxXb3JkQXJyYXlbbFdvcmRDb3VudF0gfD0gc3RyaW5nLmNoYXJDb2RlQXQobEJ5dGVDb3VudCkgPDwgbEJ5dGVQb3NpdGlvbjtcbiAgICBsQnl0ZUNvdW50Kys7XG4gIH1cbiAgbFdvcmRDb3VudCA9IChsQnl0ZUNvdW50LShsQnl0ZUNvdW50ICUgNCkpLzQ7XG4gIGxCeXRlUG9zaXRpb24gPSAobEJ5dGVDb3VudCAlIDQpKjg7XG4gIGxXb3JkQXJyYXlbbFdvcmRDb3VudF0gfD0gKDB4ODA8PGxCeXRlUG9zaXRpb24pO1xuICBsV29yZEFycmF5W2xOdW1iZXJPZldvcmRzLTJdID0gbE1lc3NhZ2VMZW5ndGg8PDM7XG4gIGxXb3JkQXJyYXlbbE51bWJlck9mV29yZHMtMV0gPSBsTWVzc2FnZUxlbmd0aD4+PjI5O1xuICByZXR1cm4gbFdvcmRBcnJheTtcbn1cblxuLy8gZnVuY3Rpb24gY29udmVydEJ5dGVBcnJheXRvV29yZEFycmF5KGFycikge1xuLy8gICBsZXQgbFdvcmRDb3VudDtcbi8vICAgbGV0IGxNZXNzYWdlTGVuZ3RoID0gYXJyLmxlbmd0aDtcbi8vICAgbGV0IGxOdW1iZXJPZldvcmRzX3RlbXAxID0gbE1lc3NhZ2VMZW5ndGggKyA4O1xuLy8gICBsZXQgbE51bWJlck9mV29yZHNfdGVtcDIgPVxuLy8gICAgIChsTnVtYmVyT2ZXb3Jkc190ZW1wMSAtIChsTnVtYmVyT2ZXb3Jkc190ZW1wMSAlIDY0KSkgLyA2NDtcbi8vICAgbGV0IGxOdW1iZXJPZldvcmRzID0gKGxOdW1iZXJPZldvcmRzX3RlbXAyICsgMSkgKiAxNjtcbi8vICAgbGV0IGxXb3JkQXJyYXkgPSBuZXcgQXJyYXkobE51bWJlck9mV29yZHMgLSAxKTtcbi8vICAgbGV0IGxCeXRlUG9zaXRpb24gPSAwO1xuLy8gICBsZXQgbEJ5dGVDb3VudCA9IDA7XG4vLyAgIHdoaWxlIChsQnl0ZUNvdW50IDwgbE1lc3NhZ2VMZW5ndGgpIHtcbi8vICAgICBsV29yZENvdW50ID0gKGxCeXRlQ291bnQgLSAobEJ5dGVDb3VudCAlIDQpKSAvIDQ7XG4vLyAgICAgbEJ5dGVQb3NpdGlvbiA9IChsQnl0ZUNvdW50ICUgNCkgKiA4O1xuLy8gICAgIGxXb3JkQXJyYXlbbFdvcmRDb3VudF0gfD0gYXJyW2xCeXRlQ291bnRdIDw8IGxCeXRlUG9zaXRpb247XG4vLyAgICAgbEJ5dGVDb3VudCsrO1xuLy8gICB9XG4vLyAgIGxXb3JkQ291bnQgPSAobEJ5dGVDb3VudCAtIChsQnl0ZUNvdW50ICUgNCkpIC8gNDtcbi8vICAgbEJ5dGVQb3NpdGlvbiA9IChsQnl0ZUNvdW50ICUgNCkgKiA4O1xuLy8gICBsV29yZEFycmF5W2xXb3JkQ291bnRdIHw9IDB4ODAgPDwgbEJ5dGVQb3NpdGlvbjtcbi8vICAgbFdvcmRBcnJheVtsTnVtYmVyT2ZXb3JkcyAtIDJdID0gbE1lc3NhZ2VMZW5ndGggPDwgMztcbi8vICAgbFdvcmRBcnJheVtsTnVtYmVyT2ZXb3JkcyAtIDFdID0gbE1lc3NhZ2VMZW5ndGggPj4+IDI5O1xuLy8gICByZXR1cm4gbFdvcmRBcnJheTtcbi8vIH1cblxuZnVuY3Rpb24gd29yZFRvSGV4KGxWYWx1ZSkge1xuICBsZXQgd29yZFRvSGV4VmFsdWU9Jyc7XG5cblxuICBsZXQgd29yZFRvSGV4VmFsdWVfdGVtcD0nJztcblxuXG4gIGxldCBsQnl0ZTtcbiAgbGV0IGxDb3VudDtcbiAgZm9yIChsQ291bnQgPSAwOyBsQ291bnQ8PTM7IGxDb3VudCsrKSB7XG4gICAgbEJ5dGUgPSAobFZhbHVlPj4+KGxDb3VudCo4KSkgJiAyNTU7XG4gICAgd29yZFRvSGV4VmFsdWVfdGVtcCA9IGAwJHtsQnl0ZS50b1N0cmluZygxNil9YDtcbiAgICB3b3JkVG9IZXhWYWx1ZSArPVxuICAgICAgd29yZFRvSGV4VmFsdWVfdGVtcC5zdWJzdHIod29yZFRvSGV4VmFsdWVfdGVtcC5sZW5ndGgtMiwyKTtcbiAgfVxuICByZXR1cm4gd29yZFRvSGV4VmFsdWU7XG59XG5cbi8vIHN0cmluZyBjYW4gZWl0aGVyIGJlIGEgc3RyaW5nLCBub2RlLmpzIEJ1ZmZlciwgYXJyYXkgKG9mIG51bWJlcnMgPCAyNTYpXG4vLyBvciBhIHR5cGVkIGFycmF5XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIG1kNShzdHJpbmcpIHtcbiAgbGV0IEFBO1xuICBsZXQgQkI7XG4gIGxldCBDQztcbiAgbGV0IEREO1xuICBsZXQgYTtcbiAgbGV0IGI7XG4gIGxldCBjO1xuICBsZXQgZDtcbiAgbGV0IGs7XG4gIGxldCBTMTE9NztcbiAgbGV0IFMxMj0xMjtcbiAgbGV0IFMxMz0xNztcbiAgbGV0IFMxND0yMjtcbiAgbGV0IFMyMT01O1xuICBsZXQgUzIyPTk7XG4gIGxldCBTMjM9MTQ7XG4gIGxldCBTMjQ9MjA7XG4gIGxldCBTMzE9NDtcbiAgbGV0IFMzMj0xMTtcbiAgbGV0IFMzMz0xNjtcbiAgbGV0IFMzND0yMztcbiAgbGV0IFM0MT02O1xuICBsZXQgUzQyPTEwO1xuICBsZXQgUzQzPTE1O1xuICBsZXQgUzQ0PTIxO1xuXG4gIGxldCB4O1xuICBpZiAodHlwZW9mIHN0cmluZyA9PT0gJ3N0cmluZycpIHtcbiAgICBzdHJpbmcgPSBzdHJpbmdVdGY4RW5jb2RlKHN0cmluZyk7XG4gICAgeCA9IGNvbnZlcnRUb1dvcmRBcnJheShzdHJpbmcpO1xuICB9IGVsc2Uge1xuICAgIGFzc2VydChmYWxzZSk7IC8vIGRpc2FibGUgZHVlIHRvIG5vdCB1c2VkXG4gICAgLy8gbm9kZS5qcyBidWZmZXIgb3IgQXJyYXlcbiAgICAvLyB4ID0gY29udmVydEJ5dGVBcnJheXRvV29yZEFycmF5KHN0cmluZyk7XG4gIH1cblxuICBhID0gMHg2NzQ1MjMwMTtcbiAgYiA9IDB4RUZDREFCODk7XG4gIGMgPSAweDk4QkFEQ0ZFO1xuICBkID0gMHgxMDMyNTQ3NjtcblxuICBmb3IgKGs9MDsgazx4Lmxlbmd0aDsgays9MTYpIHtcbiAgICBBQT1hO1xuICAgIEJCPWI7XG4gICAgQ0M9YztcbiAgICBERD1kO1xuICAgIGE9RkYoYSxiLGMsZCx4W2tdLCBTMTEsMHhENzZBQTQ3OCk7XG4gICAgZD1GRihkLGEsYixjLHhbaysxXSwgUzEyLDB4RThDN0I3NTYpO1xuICAgIGM9RkYoYyxkLGEsYix4W2srMl0sIFMxMywweDI0MjA3MERCKTtcbiAgICBiPUZGKGIsYyxkLGEseFtrKzNdLCBTMTQsMHhDMUJEQ0VFRSk7XG4gICAgYT1GRihhLGIsYyxkLHhbays0XSwgUzExLDB4RjU3QzBGQUYpO1xuICAgIGQ9RkYoZCxhLGIsYyx4W2srNV0sIFMxMiwweDQ3ODdDNjJBKTtcbiAgICBjPUZGKGMsZCxhLGIseFtrKzZdLCBTMTMsMHhBODMwNDYxMyk7XG4gICAgYj1GRihiLGMsZCxhLHhbays3XSwgUzE0LDB4RkQ0Njk1MDEpO1xuICAgIGE9RkYoYSxiLGMsZCx4W2srOF0sIFMxMSwweDY5ODA5OEQ4KTtcbiAgICBkPUZGKGQsYSxiLGMseFtrKzldLCBTMTIsMHg4QjQ0RjdBRik7XG4gICAgYz1GRihjLGQsYSxiLHhbaysxMF0sUzEzLDB4RkZGRjVCQjEpO1xuICAgIGI9RkYoYixjLGQsYSx4W2srMTFdLFMxNCwweDg5NUNEN0JFKTtcbiAgICBhPUZGKGEsYixjLGQseFtrKzEyXSxTMTEsMHg2QjkwMTEyMik7XG4gICAgZD1GRihkLGEsYixjLHhbaysxM10sUzEyLDB4RkQ5ODcxOTMpO1xuICAgIGM9RkYoYyxkLGEsYix4W2srMTRdLFMxMywweEE2Nzk0MzhFKTtcbiAgICBiPUZGKGIsYyxkLGEseFtrKzE1XSxTMTQsMHg0OUI0MDgyMSk7XG4gICAgYT1HRyhhLGIsYyxkLHhbaysxXSwgUzIxLDB4RjYxRTI1NjIpO1xuICAgIGQ9R0coZCxhLGIsYyx4W2srNl0sIFMyMiwweEMwNDBCMzQwKTtcbiAgICBjPUdHKGMsZCxhLGIseFtrKzExXSxTMjMsMHgyNjVFNUE1MSk7XG4gICAgYj1HRyhiLGMsZCxhLHhba10sIFMyNCwweEU5QjZDN0FBKTtcbiAgICBhPUdHKGEsYixjLGQseFtrKzVdLCBTMjEsMHhENjJGMTA1RCk7XG4gICAgZD1HRyhkLGEsYixjLHhbaysxMF0sUzIyLDB4MjQ0MTQ1Myk7XG4gICAgYz1HRyhjLGQsYSxiLHhbaysxNV0sUzIzLDB4RDhBMUU2ODEpO1xuICAgIGI9R0coYixjLGQsYSx4W2srNF0sIFMyNCwweEU3RDNGQkM4KTtcbiAgICBhPUdHKGEsYixjLGQseFtrKzldLCBTMjEsMHgyMUUxQ0RFNik7XG4gICAgZD1HRyhkLGEsYixjLHhbaysxNF0sUzIyLDB4QzMzNzA3RDYpO1xuICAgIGM9R0coYyxkLGEsYix4W2srM10sIFMyMywweEY0RDUwRDg3KTtcbiAgICBiPUdHKGIsYyxkLGEseFtrKzhdLCBTMjQsMHg0NTVBMTRFRCk7XG4gICAgYT1HRyhhLGIsYyxkLHhbaysxM10sUzIxLDB4QTlFM0U5MDUpO1xuICAgIGQ9R0coZCxhLGIsYyx4W2srMl0sIFMyMiwweEZDRUZBM0Y4KTtcbiAgICBjPUdHKGMsZCxhLGIseFtrKzddLCBTMjMsMHg2NzZGMDJEOSk7XG4gICAgYj1HRyhiLGMsZCxhLHhbaysxMl0sUzI0LDB4OEQyQTRDOEEpO1xuICAgIGE9SEgoYSxiLGMsZCx4W2srNV0sIFMzMSwweEZGRkEzOTQyKTtcbiAgICBkPUhIKGQsYSxiLGMseFtrKzhdLCBTMzIsMHg4NzcxRjY4MSk7XG4gICAgYz1ISChjLGQsYSxiLHhbaysxMV0sUzMzLDB4NkQ5RDYxMjIpO1xuICAgIGI9SEgoYixjLGQsYSx4W2srMTRdLFMzNCwweEZERTUzODBDKTtcbiAgICBhPUhIKGEsYixjLGQseFtrKzFdLCBTMzEsMHhBNEJFRUE0NCk7XG4gICAgZD1ISChkLGEsYixjLHhbays0XSwgUzMyLDB4NEJERUNGQTkpO1xuICAgIGM9SEgoYyxkLGEsYix4W2srN10sIFMzMywweEY2QkI0QjYwKTtcbiAgICBiPUhIKGIsYyxkLGEseFtrKzEwXSxTMzQsMHhCRUJGQkM3MCk7XG4gICAgYT1ISChhLGIsYyxkLHhbaysxM10sUzMxLDB4Mjg5QjdFQzYpO1xuICAgIGQ9SEgoZCxhLGIsYyx4W2tdLCBTMzIsMHhFQUExMjdGQSk7XG4gICAgYz1ISChjLGQsYSxiLHhbayszXSwgUzMzLDB4RDRFRjMwODUpO1xuICAgIGI9SEgoYixjLGQsYSx4W2srNl0sIFMzNCwweDQ4ODFEMDUpO1xuICAgIGE9SEgoYSxiLGMsZCx4W2srOV0sIFMzMSwweEQ5RDREMDM5KTtcbiAgICBkPUhIKGQsYSxiLGMseFtrKzEyXSxTMzIsMHhFNkRCOTlFNSk7XG4gICAgYz1ISChjLGQsYSxiLHhbaysxNV0sUzMzLDB4MUZBMjdDRjgpO1xuICAgIGI9SEgoYixjLGQsYSx4W2srMl0sIFMzNCwweEM0QUM1NjY1KTtcbiAgICBhPUlJKGEsYixjLGQseFtrXSwgUzQxLDB4RjQyOTIyNDQpO1xuICAgIGQ9SUkoZCxhLGIsYyx4W2srN10sIFM0MiwweDQzMkFGRjk3KTtcbiAgICBjPUlJKGMsZCxhLGIseFtrKzE0XSxTNDMsMHhBQjk0MjNBNyk7XG4gICAgYj1JSShiLGMsZCxhLHhbays1XSwgUzQ0LDB4RkM5M0EwMzkpO1xuICAgIGE9SUkoYSxiLGMsZCx4W2srMTJdLFM0MSwweDY1NUI1OUMzKTtcbiAgICBkPUlJKGQsYSxiLGMseFtrKzNdLCBTNDIsMHg4RjBDQ0M5Mik7XG4gICAgYz1JSShjLGQsYSxiLHhbaysxMF0sUzQzLDB4RkZFRkY0N0QpO1xuICAgIGI9SUkoYixjLGQsYSx4W2srMV0sIFM0NCwweDg1ODQ1REQxKTtcbiAgICBhPUlJKGEsYixjLGQseFtrKzhdLCBTNDEsMHg2RkE4N0U0Rik7XG4gICAgZD1JSShkLGEsYixjLHhbaysxNV0sUzQyLDB4RkUyQ0U2RTApO1xuICAgIGM9SUkoYyxkLGEsYix4W2srNl0sIFM0MywweEEzMDE0MzE0KTtcbiAgICBiPUlJKGIsYyxkLGEseFtrKzEzXSxTNDQsMHg0RTA4MTFBMSk7XG4gICAgYT1JSShhLGIsYyxkLHhbays0XSwgUzQxLDB4Rjc1MzdFODIpO1xuICAgIGQ9SUkoZCxhLGIsYyx4W2srMTFdLFM0MiwweEJEM0FGMjM1KTtcbiAgICBjPUlJKGMsZCxhLGIseFtrKzJdLCBTNDMsMHgyQUQ3RDJCQik7XG4gICAgYj1JSShiLGMsZCxhLHhbays5XSwgUzQ0LDB4RUI4NkQzOTEpO1xuICAgIGE9YWRkVW5zaWduZWQoYSxBQSk7XG4gICAgYj1hZGRVbnNpZ25lZChiLEJCKTtcbiAgICBjPWFkZFVuc2lnbmVkKGMsQ0MpO1xuICAgIGQ9YWRkVW5zaWduZWQoZCxERCk7XG4gIH1cblxuICBsZXQgdGVtcCA9IHdvcmRUb0hleChhKSt3b3JkVG9IZXgoYikrd29yZFRvSGV4KGMpK3dvcmRUb0hleChkKTtcbiAgcmV0dXJuIHRlbXAudG9Mb3dlckNhc2UoKTtcbn07XG5cbi8qIC8vIFVuY29tbWVudCB0aGlzIGFuZCBydW4gXCJub2RlIE1ENS5qcyBmaWxlLmV4dFwiXG52YXIgRlMgPSByZXF1aXJlKCdmcycpO1xudmFyIGRhdGEgPSBGUy5yZWFkRmlsZVN5bmMocHJvY2Vzcy5hcmd2WzJdKTtcbnZhciBtZDUgPSBtb2R1bGUuZXhwb3J0cyhkYXRhKTtcbmNvbnNvbGUubG9nKCdNRDUgPSAnICsgbWQ1KTtcbi8vICovXG4iLCIvLyBQb3J0aW9ucyBDb3B5cmlnaHQgMjAxOSBKaW1iIEVzc2VyIChodHRwczovL2dpdGh1Yi5jb20vSmltYmx5Lylcbi8vIFJlbGVhc2VkIHVuZGVyIE1JVCBMaWNlbnNlOiBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVFxuLy8gU29tZSBjb2RlIGRlcml2ZWQgZnJvbSBsaWJHTE9WIChDKyspLCBhbHNvIE1JVCBMaWNlbnNlZFxuXG4vKiBlc2xpbnQgbm8tYml0d2lzZTpvZmYgKi9cblxuLy8gVXBvbiByZWFkLCB0aHJvdyBhbiBleGNlcHRpb24gaWYgdGhlcmUgaXMgYW55IGRhdGEgcmVhZCBlcnJvciAoZS5nLiByZWFkIG9mZiBvZiBlbmQgb2YgcGFja2V0KVxuXG4vLyBUT0RPOiBNYXliZTogSGF2ZSAyIG9mZnNldHMsIG9uZSBmb3Igd3JpdGluZyAoZGF0YV9sZW4/KSwgb25lIGZvciByZWFkaW5nIChidWZfb2Zmcz8pLFxuLy8gICB0aGVuIHRoZXJlIHNob3VsZCBiZSBtYW55IGZld2VyID9wYWsucmVhZGFibGUgYnJhbmNoZXNcbi8vICAgdGhhdCByZXR1cm4gZGlmZmVyZW50IHZhbHVlcyB1bmRlciBkaWZmZXJlbnQgY2lyY3Vtc3RhbmNlcywgYW5kIG1heWJlIGZld2VyIC5tYWtlUmVhZGFibGUoKSBjYWxscyBuZWVkZWQuXG5cblxuLy8gMyBiaXRzIG9mIGZsYWdzIHJlc2VydmVkIGZvciBpbnRlcm5hbCB1c2VcbmNvbnN0IFBBQ0tFVF9ERUJVRyA9IGV4cG9ydHMuUEFDS0VUX0RFQlVHID0gMTw8MDtcbmNvbnN0IFBBQ0tFVF9SRVNFUlZFRDEgPSBleHBvcnRzLlBBQ0tFVF9SRVNFUlZFRDEgPSAxPDwxO1xuY29uc3QgUEFDS0VUX1JFU0VSVkVEMiA9IGV4cG9ydHMuUEFDS0VUX1JFU0VSVkVEMiA9IDE8PDI7XG5jb25zdCBGTEFHX1BBQ0tFVF9JTlRFUk5BTCA9IFBBQ0tFVF9ERUJVRyB8IFBBQ0tFVF9SRVNFUlZFRDEgfCBQQUNLRVRfUkVTRVJWRUQyO1xuXG4vLyBJbnRlcm5hbCwgcnVudGltZS1vbmx5IChub3Qgc2VyaWFsaXplZCkgZmxhZ3MgPCA4IGJpdHNcbmNvbnN0IFBBQ0tFVF9VTk9XTkVEX0JVRkZFUiA9IDEgPDwgODtcblxuZXhwb3J0cy5kZWZhdWx0X2ZsYWdzID0gMDtcblxuY29uc3QgYXNzZXJ0ID0gcmVxdWlyZSgnYXNzZXJ0Jyk7XG5jb25zdCB7IG1heCB9ID0gTWF0aDtcbmNvbnN0IHsgaXNJbnRlZ2VyLCBsb2cyIH0gPSByZXF1aXJlKCcuLi9jb21tb24vdXRpbC5qcycpO1xuLy8gY29uc3QgeyBpc0ludGVnZXIsIGxvZzIgfSA9IHJlcXVpcmUoJy4uLy4uL2J1aWxkLmRldi9jb21tb24vdXRpbC5qcycpO1xuY29uc3QgeyBiYXNlNjRFbmNvZGUsIGJhc2U2NERlY29kZSB9ID0gcmVxdWlyZSgnLi4vY29tbW9uL2Jhc2U2NC5qcycpO1xuXG5jb25zdCBGQUxTWVMgPSBbdW5kZWZpbmVkLCBudWxsLCAwLCBmYWxzZSwgJycsIE5hTl07XG5jb25zdCBQQUtfQlVGX0RFRkFVTFRfU0laRSA9IDEwMjQ7XG5cbmNvbnN0IFVOREVSUlVOID0gJ1BLVEVSUl9VTkRFUlJVTic7XG5cbmNvbnN0IFBPT0xfUEFDS0VUUyA9IDUwMDA7XG5jb25zdCBQT09MX1RJTUVPVVQgPSA1MDAwO1xuY29uc3QgUE9PTF9CVUZfQllfU0laRSA9IFtcbiAgMCwgLy8gMl4wIDogMSAtIHNob3VsZG4ndCBiZSBhbGxvY2F0ZWQgZXZlcj9cbiAgMTAsIC8vIDJeMSA6IDJcbiAgMTAsIC8vIDJeMiA6IDRcbiAgMjAsIC8vIDJeMyA6IDhcbiAgMjAsIC8vIDJeNCA6IDE2XG4gIDIwLCAvLyAyXjUgOiAzMlxuICAyMCwgLy8gMl42IDogNjRcbiAgMjAsIC8vIDJeNyA6IDEyOFxuICAyMCwgLy8gMl44IDogMjU2XG4gIDIwLCAvLyAyXjkgOiA1MTJcbiAgNTAwMCwgLy8gMl4xMCA6IDEwMjQgLSBzdGFuZGFyZCBQYWNrZXQgc2l6ZVxuICAyMCwgLy8gMl4xMSA6IDIwNDhcbiAgMjAsIC8vIDJeMTIgOiA0MDk2XG4gIDIwLCAvLyAyXjEzIDogODE5MlxuICAyMCwgLy8gMl4xNCA6IDE2Mzg0XG4gIDIwLCAvLyAyXjE1IDogMzI3NjhcbiAgMjAsIC8vIDJeMTYgOiA2NTUzNlxuICAxMCwgLy8gMl4xNyA6IDEzMTA3MlxuICAxMCwgLy8gMl4xOCA6IDI2MjE0NCxcbl07XG5cbmxldCBwYWtfcG9vbCA9IFtdO1xubGV0IHBha19kZWJ1Z19wb29sID0gW107XG5sZXQgYnVmX3Bvb2wgPSBQT09MX0JVRl9CWV9TSVpFLm1hcCgoKSA9PiBbXSk7XG5cbmZ1bmN0aW9uIGFsbG9jRGF0YVZpZXcoc2l6ZSkge1xuICBsZXQgcG9vbF9pZHggPSBsb2cyKHNpemUpO1xuICBhc3NlcnQocG9vbF9pZHgpO1xuICBpZiAocG9vbF9pZHggPj0gYnVmX3Bvb2wubGVuZ3RoKSB7XG4gICAgcG9vbF9pZHggPSAwO1xuICB9XG4gIGlmIChwb29sX2lkeCkge1xuICAgIHNpemUgPSAxIDw8IHBvb2xfaWR4O1xuICAgIGlmIChidWZfcG9vbFtwb29sX2lkeF0ubGVuZ3RoKSB7XG4gICAgICAvLyBObyByZWluaXQgaGVyZSwganVzdCBhIGNvbnRhaW5lclxuICAgICAgLy9jb25zb2xlLmxvZyhgQnVmZmVyIEZST01QT09MOiR7c2l6ZX0vJHtwb29sX2lkeH1gKTtcbiAgICAgIHJldHVybiBidWZfcG9vbFtwb29sX2lkeF0ucG9wKCk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIC8vIEVuYWJsZSB0aGlzIChhbmQgbG93ZXIgcG9vbCBzaXplKSB0byB0cmFjayBkb3duIGJpZyBwYWNrZXRzOlxuICAgIC8vIGNvbnNvbGUubG9nKGBBbGxvY2F0aW5nIFVOUE9PTEFCTEUgYnVmZmVyIG9mIHNpemUgJHtzaXplfSBmcm9tICR7bmV3IEVycm9yKCkuc3RhY2t9YCk7XG4gIH1cbiAgLy9jb25zb2xlLmxvZyhgQnVmZmVyIEFMTE9DOiR7c2l6ZX1gKTtcbiAgbGV0IHU4ID0gbmV3IFVpbnQ4QXJyYXkoc2l6ZSk7XG4gIGxldCBkdiA9IG5ldyBEYXRhVmlldyh1OC5idWZmZXIpO1xuICBkdi51OCA9IHU4O1xuICBpZiAocG9vbF9pZHgpIHtcbiAgICBkdi5wYWNrZXRfcG9vbF9pZHggPSBwb29sX2lkeDtcbiAgfVxuICByZXR1cm4gZHY7XG59XG5cbmZ1bmN0aW9uIHdyYXBVOEFzRGF0YVZpZXcodTgpIHtcbiAgbGV0IGR2ID0gbmV3IERhdGFWaWV3KHU4LmJ1ZmZlciwgdTguYnl0ZU9mZnNldCwgdTguYnl0ZUxlbmd0aCk7XG4gIGR2LnU4ID0gdTg7XG4gIHJldHVybiBkdjtcbn1cblxuZnVuY3Rpb24gdXRmOEJ5dGVMZW5ndGgoc3RyKSB7XG4gIGxldCBsZW4gPSBzdHIubGVuZ3RoO1xuICBsZXQgcmV0ID0gbGVuO1xuICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgbGVuOyArK2lpKSB7XG4gICAgbGV0IGMgPSBzdHIuY2hhckNvZGVBdChpaSk7XG4gICAgaWYgKGMgPiAweDdGKSB7XG4gICAgICArK3JldDtcbiAgICAgIGlmIChjID4gMHgwN0ZGKSB7XG4gICAgICAgICsrcmV0O1xuICAgICAgICBpZiAoYyA+IDB4RkZGRikge1xuICAgICAgICAgICsrcmV0O1xuICAgICAgICAgIGlmIChjID4gMHgxRkZGRkYpIHtcbiAgICAgICAgICAgICsrcmV0O1xuICAgICAgICAgICAgaWYgKGMgPiAweDNGRkZGRkYpIHtcbiAgICAgICAgICAgICAgKytyZXQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiByZXQ7XG59XG5cbi8vIEFzc3VtZXMgYnVmZmVyIHdpbGwgZml0IGl0XG5mdW5jdGlvbiB1dGY4V3JpdGVDaGFyKGJ1ZiwgYnVmX29mZnMsIGMpIHtcbiAgaWYgKGMgPD0gMHg3Rikge1xuICAgIGJ1Zi51OFtidWZfb2ZmcysrXSA9IGM7XG4gIH0gZWxzZSBpZiAoYyA8PSAweDA3RkYpIHtcbiAgICBidWYudThbYnVmX29mZnMrK10gPSAoYyA+PiA2KSB8IDB4QzA7XG4gICAgYnVmLnU4W2J1Zl9vZmZzKytdID0gKGMgJiAweDNGKSB8IDB4ODA7XG4gIH0gZWxzZSBpZiAoYyA8PSAweEZGRkYpIHtcbiAgICBidWYudThbYnVmX29mZnMrK10gPSAoYyA+PiAxMikgfCAweEUwO1xuICAgIGJ1Zi51OFtidWZfb2ZmcysrXSA9ICgoYyA+PiA2KSAmIDB4M0YpIHwgMHg4MDtcbiAgICBidWYudThbYnVmX29mZnMrK10gPSAoYyAmIDB4M0YpIHwgMHg4MDtcbiAgfSBlbHNlIGlmIChjIDw9IDB4MUZGRkZGKSB7XG4gICAgYnVmLnU4W2J1Zl9vZmZzKytdID0gKGMgPj4gMTgpIHwgMHhGMDtcbiAgICBidWYudThbYnVmX29mZnMrK10gPSAoKGMgPj4gMTIpICYgMHgzRikgfCAweDgwO1xuICAgIGJ1Zi51OFtidWZfb2ZmcysrXSA9ICgoYyA+PiA2KSAmIDB4M0YpIHwgMHg4MDtcbiAgICBidWYudThbYnVmX29mZnMrK10gPSAoYyAmIDB4M0YpIHwgMHg4MDtcbiAgfSBlbHNlIGlmIChjIDw9IDB4M0ZGRkZGRikge1xuICAgIGJ1Zi51OFtidWZfb2ZmcysrXSA9IChjID4+IDI0KSB8IDB4Rjg7XG4gICAgYnVmLnU4W2J1Zl9vZmZzKytdID0gKChjID4+IDE4KSAmIDB4M0YpIHwgMHg4MDtcbiAgICBidWYudThbYnVmX29mZnMrK10gPSAoKGMgPj4gMTIpICYgMHgzRikgfCAweDgwO1xuICAgIGJ1Zi51OFtidWZfb2ZmcysrXSA9ICgoYyA+PiA2KSAmIDB4M0YpIHwgMHg4MDtcbiAgICBidWYudThbYnVmX29mZnMrK10gPSAoYyAmIDB4M0YpIHwgMHg4MDtcbiAgfSBlbHNlIGlmIChjIDw9IDB4N0ZGRkZGRkYpIHtcbiAgICBidWYudThbYnVmX29mZnMrK10gPSAoYyA+PiAzMCkgfCAweEZDO1xuICAgIGJ1Zi51OFtidWZfb2ZmcysrXSA9ICgoYyA+PiAyNCkgJiAweDNGKSB8IDB4ODA7XG4gICAgYnVmLnU4W2J1Zl9vZmZzKytdID0gKChjID4+IDE4KSAmIDB4M0YpIHwgMHg4MDtcbiAgICBidWYudThbYnVmX29mZnMrK10gPSAoKGMgPj4gMTIpICYgMHgzRikgfCAweDgwO1xuICAgIGJ1Zi51OFtidWZfb2ZmcysrXSA9ICgoYyA+PiA2KSAmIDB4M0YpIHwgMHg4MDtcbiAgICBidWYudThbYnVmX29mZnMrK10gPSAoYyAmIDB4M0YpIHwgMHg4MDtcbiAgfVxuICByZXR1cm4gYnVmX29mZnM7XG59XG5cbmZ1bmN0aW9uIHBvb2xCdWYoZHYpIHtcbiAgLy8gaWYgaXQncyBwb29sYWJsZSAobm90IHBhcnQgb2YgYW5vdGhlciBCdWZmZXIpLCBwb29sIGl0IVxuICBhc3NlcnQoZHYpO1xuICBhc3NlcnQoZHYudTgpO1xuICBsZXQgcG9vbF9pZHggPSBkdi5wYWNrZXRfcG9vbF9pZHg7XG4gIGlmIChwb29sX2lkeCkge1xuICAgIGxldCBhcnIgPSBidWZfcG9vbFtwb29sX2lkeF07XG4gICAgaWYgKGFyci5sZW5ndGggPCBQT09MX0JVRl9CWV9TSVpFW3Bvb2xfaWR4XSkge1xuICAgICAgLy9jb25zb2xlLmxvZyhgQnVmZmVyIFRPUE9PTDoke2R2LmJ5dGVMZW5ndGh9LyR7cG9vbF9pZHh9YCk7XG4gICAgICBhcnIucHVzaChkdik7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIC8vIGNvbnNvbGUubG9nKGBCdWZmZXIgVU5QT09MQUJMRToke2R2LmJ5dGVMZW5ndGh9YCk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBhY2tldEJ1ZlBvb2xBbGxvYyhzaXplKSB7XG4gIHJldHVybiBhbGxvY0RhdGFWaWV3KHNpemUpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHBhY2tldEJ1ZlBvb2xGcmVlKGR2KSB7XG4gIHBvb2xCdWYoZHYpO1xufVxuXG5mdW5jdGlvbiBQYWNrZXQoZmxhZ3MsIGluaXRfc2l6ZSwgcGFrX2RlYnVnKSB7XG4gIHRoaXMucmVpbml0KGZsYWdzLCBpbml0X3NpemUsIHBha19kZWJ1Zyk7XG59XG5QYWNrZXQucHJvdG90eXBlLnJlaW5pdCA9IGZ1bmN0aW9uIChmbGFncywgaW5pdF9zaXplLCBwYWtfZGVidWcpIHtcbiAgdGhpcy5mbGFncyA9IGZsYWdzIHx8IDA7XG4gIHRoaXMuaGFzX2ZsYWdzID0gZmFsc2U7XG4gIHRoaXMuYnVmID0gbnVsbDtcbiAgdGhpcy5idWZfbGVuID0gMDtcbiAgdGhpcy5idWZfb2ZmcyA9IDA7XG4gIHRoaXMuYnVmcyA9IG51bGw7XG4gIHRoaXMuYnNpemVzID0gbnVsbDtcbiAgdGhpcy5yZWFkYWJsZSA9IGZhbHNlO1xuICB0aGlzLnJlZl9jb3VudCA9IDE7XG4gIHRoaXMucGFrX2RlYnVnID0gcGFrX2RlYnVnO1xuICBpZiAoaW5pdF9zaXplKSB7XG4gICAgdGhpcy5maXQoaW5pdF9zaXplLCB0cnVlKTtcbiAgICB0aGlzLmJ1Zl9sZW4gPSBpbml0X3NpemU7XG4gIH1cbn07XG5QYWNrZXQucHJvdG90eXBlLnJlZiA9IGZ1bmN0aW9uICgpIHtcbiAgKyt0aGlzLnJlZl9jb3VudDtcbn07XG5QYWNrZXQucHJvdG90eXBlLnBvb2wgPSBmdW5jdGlvbiAoKSB7XG4gIGFzc2VydCh0aGlzLnJlZl9jb3VudCk7XG4gIGlmICgtLXRoaXMucmVmX2NvdW50KSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIC8vIERvIG5vdCBjbGVhciBvbiBwb29sKCksIGNhbGxlcnMgKHJlYWRJbnQoKSkgbWF5IHN0aWxsIG1vbWVudGFyaWx5IHJlZmVyZW5jZSAuYnVmLCBldGNcbiAgaWYgKHRoaXMuZmxhZ3MgJiBQQUNLRVRfVU5PV05FRF9CVUZGRVIpIHtcbiAgICAvLyBkb2luZyBub3RoaW5nIHdpdGggYnVmZmVycywgc3RpbGwgcG9vbGluZyB0aGUgcGFja2V0XG4gIH0gZWxzZSB7XG4gICAgaWYgKHRoaXMuYnVmKSB7XG4gICAgICBwb29sQnVmKHRoaXMuYnVmKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuYnVmcykge1xuICAgICAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IHRoaXMuYnVmcy5sZW5ndGg7ICsraWkpIHtcbiAgICAgICAgcG9vbEJ1Zih0aGlzLmJ1ZnNbaWldKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgaWYgKHBha19wb29sLmxlbmd0aCA8IFBPT0xfUEFDS0VUUykge1xuICAgIHBha19wb29sLnB1c2godGhpcyk7XG4gIH1cbiAgaWYgKHRoaXMucGFrX2RlYnVnKSB7XG4gICAgdGhpcy5wYWtfZGVidWcucG9vbERlYnVnKCk7XG4gIH1cbn07XG5cblBhY2tldC5wcm90b3R5cGUudG90YWxTaXplID0gZnVuY3Rpb24gKCkge1xuICBsZXQgcmV0ID0gMDtcbiAgaWYgKHRoaXMucmVhZGFibGUpIHtcbiAgICByZXR1cm4gdGhpcy5idWZfbGVuO1xuICB9XG4gIGlmICh0aGlzLmJzaXplcykge1xuICAgIGZvciAobGV0IGlpID0gMDsgaWkgPCB0aGlzLmJzaXplcy5sZW5ndGg7ICsraWkpIHtcbiAgICAgIHJldCArPSB0aGlzLmJzaXplc1tpaV07XG4gICAgfVxuICB9XG4gIHJldCArPSB0aGlzLmJ1Zl9vZmZzO1xuICByZXR1cm4gcmV0O1xufTtcblxuUGFja2V0LnByb3RvdHlwZS5zZXRSZWFkYWJsZSA9IGZ1bmN0aW9uICgpIHtcbiAgYXNzZXJ0KHRoaXMuYnVmKTtcbiAgYXNzZXJ0KCF0aGlzLmJ1ZnMpO1xuICBhc3NlcnQoIXRoaXMucmVhZGFibGUpO1xuICB0aGlzLnJlYWRhYmxlID0gdHJ1ZTtcbn07XG5cblBhY2tldC5wcm90b3R5cGUubWFrZVJlYWRhYmxlID0gZnVuY3Rpb24gKCkge1xuICBhc3NlcnQodGhpcy5idWYpO1xuICBhc3NlcnQoIXRoaXMucmVhZGFibGUpOyAvLyBvdGhlcndpc2UganVzdCByZXNldCBvZmZzZXQ/IG9yIGRvIG5vdGhpbmc/XG4gIGxldCB0b3RhbCA9IHRoaXMudG90YWxTaXplKCk7IC8vIGJlZm9yZSB0aGlzLnJlYWRhYmxlID0gdHJ1ZVxuICB0aGlzLnJlYWRhYmxlID0gdHJ1ZTtcbiAgaWYgKCF0aGlzLmJ1ZnMpIHtcbiAgICB0aGlzLmJ1Zl9sZW4gPSB0b3RhbDtcbiAgICB0aGlzLmJ1Zl9vZmZzID0gMDtcbiAgICByZXR1cm47XG4gIH1cbiAgbGV0IGJ1ZiA9IGFsbG9jRGF0YVZpZXcodG90YWwpO1xuICBsZXQgdTggPSBidWYudTg7XG4gIGxldCBvZmZzID0gMDtcbiAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IHRoaXMuYnVmcy5sZW5ndGg7ICsraWkpIHtcbiAgICBsZXQgYnNpemUgPSB0aGlzLmJzaXplc1tpaV07XG4gICAgbGV0IGR2ID0gdGhpcy5idWZzW2lpXTtcbiAgICBpZiAob2ZmcyArIGJzaXplID4gdG90YWwpIHtcbiAgICAgIC8vIHVudXNlZCBwb3J0aW9uIHdvdWxkIG92ZXJydW5cbiAgICAgIGFzc2VydC5lcXVhbChkdi5ieXRlT2Zmc2V0LCAwKTtcbiAgICAgIHU4LnNldChuZXcgVWludDhBcnJheShkdi5idWZmZXIsIDAsIGJzaXplKSwgb2Zmcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHU4LnNldChkdi51OCwgb2Zmcyk7XG4gICAgfVxuICAgIG9mZnMgKz0gYnNpemU7XG4gICAgcG9vbEJ1Zihkdik7XG4gIH1cbiAgYXNzZXJ0LmVxdWFsKHRoaXMuYnVmLmJ5dGVPZmZzZXQsIDApOyAvLyBXb3VsZCBoYW5kbGUgaXQsIGJ1dCBzaG91bGQgbmV2ZXIgaGFwcGVuIGhlcmUsIHRoZXNlIGFyZSBvdXIgcG9vbGVkIGJ1ZmZlcnM/XG4gIHU4LnNldChuZXcgVWludDhBcnJheSh0aGlzLmJ1Zi5idWZmZXIsIHRoaXMuYnVmLmJ5dGVPZmZzZXQsIHRoaXMuYnVmX29mZnMpLCBvZmZzKTtcbiAgcG9vbEJ1Zih0aGlzLmJ1Zik7XG4gIGFzc2VydC5lcXVhbChvZmZzICsgdGhpcy5idWZfb2ZmcywgdG90YWwpO1xuICB0aGlzLmJ1ZnMgPSB0aGlzLmJzaXplcyA9IG51bGw7XG4gIHRoaXMuYnVmID0gYnVmO1xuICB0aGlzLmJ1Zl9vZmZzID0gMDtcbiAgdGhpcy5idWZfbGVuID0gdG90YWw7IC8vIGJ1ZmZlciBpcyBhY3R1YWxseSBidWYuYnVmZmVyLmJ5dGVMZW5ndGgsIGJ1dCB3ZSBjYW4ndCByZWFkIHBhc3QgYHRvdGFsYFxufTtcblxuUGFja2V0LnByb3RvdHlwZS5mbHVzaCA9IGZ1bmN0aW9uICgpIHtcbiAgbGV0IHsgYnVmLCBidWZfb2ZmcyB9ID0gdGhpcztcbiAgaWYgKCF0aGlzLmJ1ZnMpIHtcbiAgICB0aGlzLmJ1ZnMgPSBbYnVmXTtcbiAgICB0aGlzLmJzaXplcyA9IFtidWZfb2Zmc107XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5idWZzLnB1c2goYnVmKTtcbiAgICB0aGlzLmJzaXplcy5wdXNoKGJ1Zl9vZmZzKTtcbiAgfVxuICB0aGlzLmJ1ZiA9IG51bGw7XG4gIHRoaXMuYnVmX2xlbiA9IDA7XG4gIHRoaXMuYnVmX29mZnMgPSAwO1xufTtcblBhY2tldC5wcm90b3R5cGUuZml0ID0gZnVuY3Rpb24gKGV4dHJhX2J5dGVzLCBub19hZHZhbmNlKSB7XG4gIGxldCB7IGJ1ZiwgYnVmX2xlbiwgYnVmX29mZnMgfSA9IHRoaXM7XG4gIGxldCBuZXdfb2ZmcyA9IGJ1Zl9vZmZzICsgZXh0cmFfYnl0ZXM7XG4gIGlmIChuZXdfb2ZmcyA8PSBidWZfbGVuKSB7XG4gICAgaWYgKCFub19hZHZhbmNlKSB7XG4gICAgICB0aGlzLmJ1Zl9vZmZzID0gbmV3X29mZnM7XG4gICAgfVxuICAgIHJldHVybiBidWZfb2ZmcztcbiAgfVxuICBhc3NlcnQoIXRoaXMucmVhZGFibGUpOyAvLyBTaG91bGRuJ3QgaGFwcGVuIG9uIGNvbmNhdGVuYXRlZCBidWZmZXJzXG4gIGlmIChidWYpIHtcbiAgICB0aGlzLmZsdXNoKCk7XG4gIH1cbiAgdGhpcy5idWZfbGVuID0gYnVmX2xlbiA9IG1heChQQUtfQlVGX0RFRkFVTFRfU0laRSwgZXh0cmFfYnl0ZXMpO1xuICB0aGlzLmJ1ZiA9IGFsbG9jRGF0YVZpZXcoYnVmX2xlbik7XG4gIHRoaXMuYnVmX29mZnMgPSBub19hZHZhbmNlID8gMCA6IGV4dHJhX2J5dGVzO1xuICByZXR1cm4gMDtcbn07XG5QYWNrZXQucHJvdG90eXBlLmFkdmFuY2UgPSBmdW5jdGlvbiAoYnl0ZXMpIHtcbiAgbGV0IG9mZnMgPSB0aGlzLmJ1Zl9vZmZzO1xuICBsZXQgbmV3X29mZnMgPSBvZmZzICsgYnl0ZXM7XG4gIHRoaXMuYnVmX29mZnMgPSBuZXdfb2ZmcztcbiAgaWYgKG5ld19vZmZzID4gdGhpcy5idWZfbGVuKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFVOREVSUlVOKTtcbiAgfVxuICBpZiAobmV3X29mZnMgPT09IHRoaXMuYnVmX2xlbikge1xuICAgIHRoaXMucG9vbCgpO1xuICB9XG4gIHJldHVybiBvZmZzO1xufTtcblBhY2tldC5wcm90b3R5cGUuZW5kZWQgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0aGlzLmJ1Zl9vZmZzID09PSB0aGlzLmJ1Zl9sZW47XG59O1xuXG4vLyBsb3ctbGV2ZWwgd3JpdGUvcmVhZCBmdW5jdGlvbnNcblBhY2tldC5wcm90b3R5cGUud3JpdGVVOCA9IGZ1bmN0aW9uICh2KSB7XG4gIGFzc2VydCh2ID49IDAgJiYgdiA8IDI1Nik7XG4gIGxldCBvZmZzID0gdGhpcy5maXQoMSk7XG4gIHRoaXMuYnVmLnU4W29mZnNdID0gdjtcbn07XG5QYWNrZXQucHJvdG90eXBlLnJlYWRVOCA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHRoaXMuYnVmLnU4W3RoaXMuYWR2YW5jZSgxKV07XG59O1xuLy8gUGFja2VkIGludCwgZmlyc3QgYnl0ZTpcbi8vIDAtMjQ3IGJ5dGVcbi8vIDI0OCBwb3NpdGl2ZSAxNi1iaXRcbi8vIDI0OSBuZWdhdGl2ZSAxNi1iaXRcbi8vIDI1MCBwb3NpdGl2ZSAzMi1iaXRcbi8vIDI1MSBuZWdhdGl2ZSAzMi1iaXRcbi8vIDI1MiBwb3NpdGl2ZSA2NC1iaXRcbi8vIDI1MyBuZWdhdGl2ZSA2NC1iaXRcbi8vIDI1NCB1bnVzZWRcbi8vIDI1NSBuZWdhdGl2ZSBieXRlXG5QYWNrZXQucHJvdG90eXBlLndyaXRlSW50ID0gZnVuY3Rpb24gKHYpIHtcbiAgYXNzZXJ0KGlzSW50ZWdlcih2KSk7XG4gIGxldCBvZmZzID0gdGhpcy5maXQoOSwgdHJ1ZSk7IC8vIDkgaXMgbWF4IHNpemUgb2YgYSBwYWNrZWQgaW50XG4gIGxldCBidWYgPSB0aGlzLmJ1ZjtcbiAgbGV0IG5lZyA9ICh2IDwgMCkgPyAxIDogMDtcbiAgaWYgKG5lZykge1xuICAgIHYgPSAtdjtcbiAgfVxuICBpZiAodiA8IDI0OCkgeyAvLyB8fCBuZWcgJiYgdiA8IDI1NiB3b3VsZCBhbHNvIGRlY29kZSByaWdodFxuICAgIGlmIChuZWcpIHtcbiAgICAgIGJ1Zi51OFtvZmZzKytdID0gMjU1O1xuICAgIH1cbiAgICBidWYudThbb2ZmcysrXSA9IHY7XG4gIH0gZWxzZSB7XG4gICAgaWYgKHYgPCA2NTUzNikge1xuICAgICAgYnVmLnU4W29mZnMrK10gPSAyNDggKyBuZWc7XG4gICAgICBidWYuc2V0VWludDE2KG9mZnMsIHYsIHRydWUpO1xuICAgICAgb2ZmcyArPSAyO1xuICAgIH0gZWxzZSBpZiAodiA8IDQyOTQ5NjcyOTYpIHtcbiAgICAgIGJ1Zi51OFtvZmZzKytdID0gMjUwICsgbmVnO1xuICAgICAgYnVmLnNldFVpbnQzMihvZmZzLCB2LCB0cnVlKTtcbiAgICAgIG9mZnMgKz0gNDtcbiAgICB9IGVsc2Uge1xuICAgICAgYnVmLnU4W29mZnMrK10gPSAyNTIgKyBuZWc7XG4gICAgICBsZXQgbG93X2JpdHMgPSB2ID4+PiAwO1xuICAgICAgYnVmLnNldFVpbnQzMihvZmZzLCBsb3dfYml0cywgdHJ1ZSk7XG4gICAgICBvZmZzICs9IDQ7XG4gICAgICBidWYuc2V0VWludDMyKG9mZnMsICh2IC0gbG93X2JpdHMpIC8gNDI5NDk2NzI5NiwgdHJ1ZSk7XG4gICAgICBvZmZzICs9IDQ7XG4gICAgfVxuICB9XG4gIHRoaXMuYnVmX29mZnMgPSBvZmZzO1xufTtcblBhY2tldC5wcm90b3R5cGUuemVyb0ludCA9IGZ1bmN0aW9uICgpIHtcbiAgLy8gT3ZlcndyaXRlIGFuIGV4aXN0aW5nIGludCB3aXRoIGEgemVybywga2VlcGluZyB0aGUgc2FtZSBwYWNrZWQgc2l6ZVxuICBsZXQgYjEgPSB0aGlzLmJ1Zi51OFt0aGlzLmJ1Zl9vZmZzXTtcbiAgaWYgKGIxIDwgMjQ4KSB7XG4gICAgdGhpcy5idWYudThbdGhpcy5idWZfb2ZmcysrXSA9IDA7XG4gICAgcmV0dXJuO1xuICB9XG4gIC8vIE90aGVyd2lzZSwgbGVhdmUgaGVhZGVyIGJpdFxuICB0aGlzLmJ1Zl9vZmZzKys7XG4gIGxldCB6ZXJvZXMgPSAxO1xuICBzd2l0Y2ggKGIxKSB7XG4gICAgY2FzZSAyNTM6XG4gICAgY2FzZSAyNTI6IC8vIDhcbiAgICAgIHplcm9lcyArPSA0O1xuICAgIGNhc2UgMjUxOiAgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1mYWxsdGhyb3VnaFxuICAgIGNhc2UgMjUwOiAvLyA0XG4gICAgICB6ZXJvZXMgKz0gMjtcbiAgICBjYXNlIDI0OTogIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tZmFsbHRocm91Z2hcbiAgICBjYXNlIDI0ODogLy8gMlxuICAgICAgemVyb2VzKys7XG4gICAgY2FzZSAyNTU6ICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWZhbGx0aHJvdWdoXG4gICAgICAvLyAxXG4gICAgICBicmVhaztcbiAgICBkZWZhdWx0OlxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdQS1RFUlJfUEFDS0VEX0lOVCcpO1xuICB9XG4gIHdoaWxlICh6ZXJvZXMpIHtcbiAgICAtLXplcm9lcztcbiAgICB0aGlzLmJ1Zi51OFt0aGlzLmJ1Zl9vZmZzKytdID0gMDtcbiAgfVxufTtcblBhY2tldC5wcm90b3R5cGUucmVhZEludCA9IGZ1bmN0aW9uICgpIHtcbiAgbGV0IGIxID0gdGhpcy5idWYudThbdGhpcy5hZHZhbmNlKDEpXTtcbiAgaWYgKGIxIDwgMjQ4KSB7XG4gICAgcmV0dXJuIGIxO1xuICB9XG4gIGxldCBzaWduID0gMTtcbiAgc3dpdGNoIChiMSkge1xuICAgIGNhc2UgMjQ5OlxuICAgICAgc2lnbiA9IC0xO1xuICAgIGNhc2UgMjQ4OiAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWZhbGx0aHJvdWdoXG4gICAgICByZXR1cm4gc2lnbiAqIHRoaXMuYnVmLmdldFVpbnQxNih0aGlzLmFkdmFuY2UoMiksIHRydWUpO1xuICAgIGNhc2UgMjUxOlxuICAgICAgc2lnbiA9IC0xO1xuICAgIGNhc2UgMjUwOiAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWZhbGx0aHJvdWdoXG4gICAgICByZXR1cm4gc2lnbiAqIHRoaXMuYnVmLmdldFVpbnQzMih0aGlzLmFkdmFuY2UoNCksIHRydWUpO1xuICAgIGNhc2UgMjUzOlxuICAgICAgc2lnbiA9IC0xO1xuICAgIGNhc2UgMjUyOiB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tZmFsbHRocm91Z2hcbiAgICAgIGxldCBsb3dfYml0cyA9IHRoaXMuYnVmLmdldFVpbnQzMih0aGlzLmFkdmFuY2UoNCksIHRydWUpO1xuICAgICAgbGV0IGhpZ2hfYml0cyA9IHRoaXMuYnVmLmdldFVpbnQzMih0aGlzLmFkdmFuY2UoNCksIHRydWUpO1xuICAgICAgcmV0dXJuIHNpZ24gKiAoaGlnaF9iaXRzICogNDI5NDk2NzI5NiArIGxvd19iaXRzKTtcbiAgICB9XG4gICAgY2FzZSAyNTU6XG4gICAgICByZXR1cm4gLXRoaXMuYnVmLnU4W3RoaXMuYWR2YW5jZSgxKV07XG4gICAgZGVmYXVsdDpcbiAgICAgIHRocm93IG5ldyBFcnJvcignUEtURVJSX1BBQ0tFRF9JTlQnKTtcbiAgfVxufTtcblBhY2tldC5wcm90b3R5cGUud3JpdGVGbG9hdCA9IGZ1bmN0aW9uICh2KSB7XG4gIGFzc2VydC5lcXVhbCh0eXBlb2YgdiwgJ251bWJlcicpO1xuICBpZiAoIXYpIHtcbiAgICB0aGlzLmJ1Zi51OFt0aGlzLmZpdCgxKV0gPSAwO1xuICAgIHJldHVybjtcbiAgfVxuICBsZXQgb2ZmcyA9IHRoaXMuZml0KDUsIHRydWUpO1xuICB0aGlzLmJ1Zi5zZXRGbG9hdDMyKG9mZnMsIHYsIHRydWUpO1xuICBpZiAodGhpcy5idWYudThbb2Zmc10gPD0gMSkgeyAvLyBlc2NhcGUgYSAwIG9yIDEgaW4gdGhlIGZpcnN0IGJ5dGVcbiAgICB0aGlzLmJ1Zi51OFtvZmZzKytdID0gMTtcbiAgICB0aGlzLmJ1Zi5zZXRGbG9hdDMyKG9mZnMsIHYsIHRydWUpO1xuICB9XG4gIHRoaXMuYnVmX29mZnMgPSBvZmZzICsgNDtcbn07XG5QYWNrZXQucHJvdG90eXBlLnJlYWRGbG9hdCA9IGZ1bmN0aW9uICgpIHtcbiAgbGV0IG9mZnMgPSB0aGlzLmFkdmFuY2UoMSk7XG4gIGxldCBiMSA9IHRoaXMuYnVmLnU4W29mZnNdO1xuICBpZiAoIWIxKSB7XG4gICAgcmV0dXJuIDA7XG4gIH1cbiAgaWYgKGIxID09PSAxKSB7XG4gICAgcmV0dXJuIHRoaXMuYnVmLmdldEZsb2F0MzIodGhpcy5hZHZhbmNlKDQpLCB0cnVlKTtcbiAgfVxuICB0aGlzLmFkdmFuY2UoMyk7XG4gIHJldHVybiB0aGlzLmJ1Zi5nZXRGbG9hdDMyKG9mZnMsIHRydWUpO1xufTtcblBhY2tldC5wcm90b3R5cGUud3JpdGVVMzIgPSBmdW5jdGlvbiAodikge1xuICBhc3NlcnQuZXF1YWwodHlwZW9mIHYsICdudW1iZXInKTtcbiAgdGhpcy5idWYuc2V0VWludDMyKHRoaXMuZml0KDQpLCB2LCB0cnVlKTtcbn07XG5QYWNrZXQucHJvdG90eXBlLnJlYWRVMzIgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0aGlzLmJ1Zi5nZXRVaW50MzIodGhpcy5hZHZhbmNlKDQpLCB0cnVlKTtcbn07XG5QYWNrZXQucHJvdG90eXBlLndyaXRlU3RyaW5nID0gZnVuY3Rpb24gKHYpIHtcbiAgYXNzZXJ0LmVxdWFsKHR5cGVvZiB2LCAnc3RyaW5nJyk7IC8vIENvdWxkIG1heWJlIGRvIGEgdG9TdHJpbmcoKSBoZXJlIGlmIG5vdFxuICBsZXQgYnl0ZV9sZW5ndGggPSB1dGY4Qnl0ZUxlbmd0aCh2KTtcbiAgdGhpcy53cml0ZUludChieXRlX2xlbmd0aCk7IC8vIEp1c3QgMSBieXRlIGZvciBzbWFsbCBzdHJpbmdzXG4gIGlmICghYnl0ZV9sZW5ndGgpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgbGV0IG9mZnMgPSB0aGlzLmZpdChieXRlX2xlbmd0aCk7XG4gIGxldCBidWYgPSB0aGlzLmJ1ZjtcbiAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IHYubGVuZ3RoOyArK2lpKSB7XG4gICAgbGV0IGMgPSB2LmNoYXJDb2RlQXQoaWkpO1xuICAgIGlmIChjIDw9IDB4N0YpIHtcbiAgICAgIGJ1Zi51OFtvZmZzKytdID0gYztcbiAgICB9IGVsc2Uge1xuICAgICAgb2ZmcyA9IHV0ZjhXcml0ZUNoYXIoYnVmLCBvZmZzLCBjKTtcbiAgICB9XG4gIH1cbn07XG4vLyBPbmx5IGNhbGxlZCBvbiBtdWx0aS1ieXRlIGNoYXJhY3RlcnM7IFN1cHBsaWVkIHRoZSBmaXJzdCBieXRlIGZvciBlZmZpY2llbmN5XG5QYWNrZXQucHJvdG90eXBlLnV0ZjhSZWFkQ2hhciA9IGZ1bmN0aW9uIChjKSB7XG4gIGxldCBidWYgPSB0aGlzLmJ1ZjtcbiAgaWYgKGMgPj0gMHhDMCAmJiBjIDwgMHhFMCkge1xuICAgIHJldHVybiAoKGMgJiAweDFGKSA8PCA2KSB8XG4gICAgICAoYnVmLnU4W3RoaXMuYnVmX29mZnMrK10gJiAweDNGKTtcbiAgfSBlbHNlIGlmIChjID49IDB4RTAgJiYgYyA8IDB4RjApIHtcbiAgICByZXR1cm4gKChjICYgMHgwRikgPDwgMTIpIHxcbiAgICAgICgoYnVmLnU4W3RoaXMuYnVmX29mZnMrK10gJiAweDNGKSA8PCA2KSB8XG4gICAgICAoYnVmLnU4W3RoaXMuYnVmX29mZnMrK10gJiAweDNGKTtcbiAgfSBlbHNlIGlmIChjID49IDB4RjAgJiYgYyA8IDB4RjgpIHtcbiAgICByZXR1cm4gKChjICYgMHgwRikgPDwgMTgpIHxcbiAgICAgICgoYnVmLnU4W3RoaXMuYnVmX29mZnMrK10gJiAweDNGKSA8PCAxMikgfFxuICAgICAgKChidWYudThbdGhpcy5idWZfb2ZmcysrXSAmIDB4M0YpIDw8IDYpIHxcbiAgICAgIChidWYudThbdGhpcy5idWZfb2ZmcysrXSAmIDB4M0YpO1xuICB9IGVsc2UgaWYgKGMgPj0gMHhGOCAmJiBjIDwgMHhGQykge1xuICAgIHJldHVybiAoKGMgJiAweDBGKSA8PCAyNCkgfFxuICAgICAgKChidWYudThbdGhpcy5idWZfb2ZmcysrXSAmIDB4M0YpIDw8IDE4KSB8XG4gICAgICAoKGJ1Zi51OFt0aGlzLmJ1Zl9vZmZzKytdICYgMHgzRikgPDwgMTIpIHxcbiAgICAgICgoYnVmLnU4W3RoaXMuYnVmX29mZnMrK10gJiAweDNGKSA8PCA2KSB8XG4gICAgICAoYnVmLnU4W3RoaXMuYnVmX29mZnMrK10gJiAweDNGKTtcbiAgfSBlbHNlIHsgLy9pZiAoYyA+PSAweEZDKSB7XG4gICAgcmV0dXJuICgoYyAmIDB4MEYpIDw8IDMwKSB8XG4gICAgICAoKGJ1Zi51OFt0aGlzLmJ1Zl9vZmZzKytdICYgMHgzRikgPDwgMjQpIHxcbiAgICAgICgoYnVmLnU4W3RoaXMuYnVmX29mZnMrK10gJiAweDNGKSA8PCAxOCkgfFxuICAgICAgKChidWYudThbdGhpcy5idWZfb2ZmcysrXSAmIDB4M0YpIDw8IDEyKSB8XG4gICAgICAoKGJ1Zi51OFt0aGlzLmJ1Zl9vZmZzKytdICYgMHgzRikgPDwgNikgfFxuICAgICAgKGJ1Zi51OFt0aGlzLmJ1Zl9vZmZzKytdICYgMHgzRik7XG4gIH1cbn07XG5cbmxldCBzdHJpbmdfYXNzZW1ibHkgPSBbXTtcblBhY2tldC5wcm90b3R5cGUucmVhZFN0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgbGV0IGJ5dGVfbGVuZ3RoID0gdGhpcy5yZWFkSW50KCk7XG4gIGlmICghYnl0ZV9sZW5ndGgpIHtcbiAgICByZXR1cm4gJyc7XG4gIH1cbiAgaWYgKHRoaXMuYnVmX29mZnMgKyBieXRlX2xlbmd0aCA+IHRoaXMuYnVmX2xlbikge1xuICAgIHRocm93IG5ldyBFcnJvcihVTkRFUlJVTik7XG4gIH1cblxuICBsZXQgeyBidWYgfSA9IHRoaXM7XG4gIGxldCBlbmRfb2Zmc2V0ID0gdGhpcy5idWZfb2ZmcyArIGJ5dGVfbGVuZ3RoO1xuICBsZXQgcmV0O1xuICBpZiAoYnl0ZV9sZW5ndGggPiA4MTkyKSB7XG4gICAgcmV0ID0gJyc7XG4gICAgd2hpbGUgKHRoaXMuYnVmX29mZnMgPCBlbmRfb2Zmc2V0KSB7XG4gICAgICBsZXQgYyA9IGJ1Zi51OFt0aGlzLmJ1Zl9vZmZzKytdO1xuICAgICAgaWYgKGMgPiAweDdGKSB7XG4gICAgICAgIGMgPSB0aGlzLnV0ZjhSZWFkQ2hhcihjKTtcbiAgICAgIH1cbiAgICAgIHJldCArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGMpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBzdHJpbmdfYXNzZW1ibHkubGVuZ3RoID0gYnl0ZV9sZW5ndGg7XG4gICAgbGV0IGlpID0gMDtcbiAgICB3aGlsZSAodGhpcy5idWZfb2ZmcyA8IGVuZF9vZmZzZXQpIHtcbiAgICAgIGxldCBjID0gYnVmLnU4W3RoaXMuYnVmX29mZnMrK107XG4gICAgICBpZiAoYyA+IDB4N0YpIHtcbiAgICAgICAgYyA9IHRoaXMudXRmOFJlYWRDaGFyKGMpO1xuICAgICAgfVxuICAgICAgc3RyaW5nX2Fzc2VtYmx5W2lpKytdID0gYztcbiAgICB9XG4gICAgaWYgKHN0cmluZ19hc3NlbWJseS5sZW5ndGggIT09IGlpKSB7XG4gICAgICAvLyB0cnVuY2F0ZSBpZiBtdWx0aS1ieXRlIFVURjggcHJvZHVjZWQgc2luZ2xlIGNoYXJhY3RlcnNcbiAgICAgIHN0cmluZ19hc3NlbWJseS5sZW5ndGggPSBpaTtcbiAgICB9XG4gICAgcmV0ID0gU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseSh1bmRlZmluZWQsIHN0cmluZ19hc3NlbWJseSk7XG4gIH1cbiAgaWYgKHRoaXMuYnVmX29mZnMgPT09IHRoaXMuYnVmX2xlbikge1xuICAgIHRoaXMucG9vbCgpO1xuICB9XG4gIHJldHVybiByZXQ7XG59O1xuLy8gTXVjaCBtb3JlIGVmZmljaWVudCB0aGFuIHdyaXRlU3RyaW5nIGlmIHRoZSBpbnB1dCBpcyBrbm93biB0byBiZSBBTlNJLWlzaCAoYWxsIGNoYXJhY3RlcnMgPD0gMjU1KVxuUGFja2V0LnByb3RvdHlwZS53cml0ZUFuc2lTdHJpbmcgPSBmdW5jdGlvbiAodikge1xuICBhc3NlcnQuZXF1YWwodHlwZW9mIHYsICdzdHJpbmcnKTsgLy8gQ291bGQgbWF5YmUgZG8gYSB0b1N0cmluZygpIGhlcmUgaWYgbm90XG4gIGxldCBieXRlX2xlbmd0aCA9IHYubGVuZ3RoO1xuICB0aGlzLndyaXRlSW50KGJ5dGVfbGVuZ3RoKTtcbiAgbGV0IG9mZnMgPSB0aGlzLmZpdChieXRlX2xlbmd0aCk7XG4gIGxldCB7IGJ1ZiB9ID0gdGhpcztcbiAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IGJ5dGVfbGVuZ3RoOyArK2lpKSB7XG4gICAgYnVmLnU4W29mZnMrK10gPSB2LmNoYXJDb2RlQXQoaWkpO1xuICB9XG59O1xuUGFja2V0LnByb3RvdHlwZS5yZWFkQW5zaVN0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgbGV0IGxlbiA9IHRoaXMucmVhZEludCgpO1xuICBsZXQgb2ZmcyA9IHRoaXMuYWR2YW5jZShsZW4pO1xuICBsZXQgeyBidWYgfSA9IHRoaXM7XG4gIHN0cmluZ19hc3NlbWJseS5sZW5ndGggPSBsZW47XG4gIGZvciAobGV0IGlpID0gMDsgaWkgPCBsZW47ICsraWkpIHtcbiAgICBzdHJpbmdfYXNzZW1ibHlbaWldID0gYnVmLnU4W29mZnMrK107XG4gIH1cbiAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkodW5kZWZpbmVkLCBzdHJpbmdfYXNzZW1ibHkpO1xufTtcblxuLy8gaGlnaC1sZXZlbCB3cml0ZS9yZWFkIGZ1bmN0aW9uc1xuUGFja2V0LnByb3RvdHlwZS53cml0ZUpTT04gPSBmdW5jdGlvbiAodikge1xuICBpZiAoIXYpIHtcbiAgICBsZXQgaWR4ID0gRkFMU1lTLmluZGV4T2Yodik7XG4gICAgYXNzZXJ0KGlkeCAhPT0gLTEpO1xuICAgIHRoaXMud3JpdGVVOChpZHggKyAxKTtcbiAgICByZXR1cm47XG4gIH1cbiAgdGhpcy53cml0ZVU4KDApO1xuICB0aGlzLndyaXRlU3RyaW5nKEpTT04uc3RyaW5naWZ5KHYpKTtcbn07XG5QYWNrZXQucHJvdG90eXBlLnJlYWRKU09OID0gZnVuY3Rpb24gKCkge1xuICBsZXQgYnl0ZSA9IHRoaXMucmVhZFU4KCk7XG4gIGlmIChieXRlKSB7XG4gICAgaWYgKGJ5dGUgLSAxID49IEZBTFNZUy5sZW5ndGgpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignUEtURVJSX0pTT05fSEVBREVSJyk7XG4gICAgfVxuICAgIHJldHVybiBGQUxTWVNbYnl0ZSAtIDFdO1xuICB9XG4gIGxldCBzdHIgPSB0aGlzLnJlYWRTdHJpbmcoKTtcbiAgcmV0dXJuIEpTT04ucGFyc2Uoc3RyKTtcbn07XG4vLyBVaW50OEFycmF5IG9yIEJ1ZmZlciBvYmplY3Q/XG5QYWNrZXQucHJvdG90eXBlLndyaXRlQnVmZmVyID0gZnVuY3Rpb24gKHYpIHtcbiAgdGhpcy53cml0ZUludCh2Lmxlbmd0aCk7XG4gIGlmICh2Lmxlbmd0aCkge1xuICAgIGxldCBvZmZzID0gdGhpcy5maXQodi5sZW5ndGgpO1xuICAgIHRoaXMuYnVmLnU4LnNldCh2LCBvZmZzKTtcbiAgfVxufTtcbmNvbnN0IG51bGxfYnVmID0gbmV3IFVpbnQ4QXJyYXkoMCk7XG5QYWNrZXQucHJvdG90eXBlLnJlYWRCdWZmZXIgPSBmdW5jdGlvbiAoZG9fY29weSkge1xuICBsZXQgbGVuID0gdGhpcy5yZWFkSW50KCk7XG4gIGlmICghbGVuKSB7XG4gICAgcmV0dXJuIG51bGxfYnVmO1xuICB9XG4gIGxldCBvZmZzID0gdGhpcy5hZHZhbmNlKGxlbik7XG4gIGlmIChkb19jb3B5KSB7XG4gICAgcmV0dXJuIHRoaXMuYnVmLnU4LnNsaWNlKG9mZnMsIG9mZnMgKyBsZW4pO1xuICB9IGVsc2Uge1xuICAgIGxldCB7IGJ1ZiB9ID0gdGhpcztcbiAgICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkoYnVmLmJ1ZmZlciwgYnVmLmJ5dGVPZmZzZXQgKyBvZmZzLCBsZW4pO1xuICB9XG59O1xuUGFja2V0LnByb3RvdHlwZS53cml0ZUJvb2wgPSBmdW5jdGlvbiAodikge1xuICB0aGlzLndyaXRlVTgodj8xOjApO1xufTtcblBhY2tldC5wcm90b3R5cGUucmVhZEJvb2wgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiBCb29sZWFuKHRoaXMucmVhZFU4KCkpO1xufTtcblxuUGFja2V0LnByb3RvdHlwZS5hcHBlbmQgPSBmdW5jdGlvbiAocGFrKSB7XG4gIGFzc2VydC5lcXVhbCh0aGlzLmZsYWdzICYgRkxBR19QQUNLRVRfSU5URVJOQUwsIHBhay5mbGFncyAmIEZMQUdfUEFDS0VUX0lOVEVSTkFMKTtcbiAgaWYgKHBhay5idWZzKSB7XG4gICAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IHBhay5idWZzLmxlbmd0aDsgKytpaSkge1xuICAgICAgbGV0IGJ1ZiA9IHBhay5idWZzW2lpXTtcbiAgICAgIGxldCBic2l6ZSA9IHBhay5ic2l6ZXNbaWldO1xuICAgICAgbGV0IG9mZnMgPSB0aGlzLmZpdChic2l6ZSk7XG4gICAgICBpZiAoYnNpemUgIT09IGJ1Zi5ieXRlTGVuZ3RoKSB7XG4gICAgICAgIHRoaXMuYnVmLnU4LnNldChuZXcgVWludDhBcnJheShidWYuYnVmZmVyLCBidWYuYnl0ZU9mZnNldCwgYnNpemUpLCBvZmZzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuYnVmLnU4LnNldChidWYudTgsIG9mZnMpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBpZiAocGFrLmJ1Zikge1xuICAgIGxldCBidWYgPSBwYWsuYnVmO1xuICAgIGxldCBic2l6ZSA9IHBhay5yZWFkYWJsZSA/IHBhay5idWZfbGVuIDogcGFrLmJ1Zl9vZmZzO1xuICAgIGxldCBvZmZzID0gdGhpcy5maXQoYnNpemUpO1xuICAgIGlmIChic2l6ZSAhPT0gYnVmLmJ5dGVMZW5ndGgpIHtcbiAgICAgIHRoaXMuYnVmLnU4LnNldChuZXcgVWludDhBcnJheShidWYuYnVmZmVyLCBidWYuYnl0ZU9mZnNldCwgYnNpemUpLCBvZmZzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5idWYudTguc2V0KGJ1Zi51OCwgb2Zmcyk7XG4gICAgfVxuICB9XG59O1xuXG5QYWNrZXQucHJvdG90eXBlLmFwcGVuZFJlbWFpbmluZyA9IGZ1bmN0aW9uIChwYWspIHtcbiAgYXNzZXJ0LmVxdWFsKHRoaXMuZmxhZ3MgJiBGTEFHX1BBQ0tFVF9JTlRFUk5BTCwgcGFrLmZsYWdzICYgRkxBR19QQUNLRVRfSU5URVJOQUwpO1xuICBhc3NlcnQocGFrLnJlYWRhYmxlKTtcbiAgYXNzZXJ0KCFwYWsuYnVmcyk7XG4gIGFzc2VydChwYWsuYnVmKTtcbiAgYXNzZXJ0KHBhay5idWZfb2ZmcyA8PSBwYWsuYnVmX2xlbik7XG4gIGxldCBic2l6ZSA9IHBhay5idWZfbGVuIC0gcGFrLmJ1Zl9vZmZzO1xuICBpZiAoYnNpemUpIHtcbiAgICBsZXQgb2ZmcyA9IHRoaXMuZml0KGJzaXplKTtcbiAgICB0aGlzLmJ1Zi51OC5zZXQobmV3IFVpbnQ4QXJyYXkocGFrLmJ1Zi5idWZmZXIsIHBhay5idWYuYnl0ZU9mZnNldCArIHBhay5idWZfb2ZmcywgYnNpemUpLCBvZmZzKTtcbiAgfVxuICAvLyBldmVyeXRoaW5nIGNvbnN1bWVkLCBwb29sIGl0XG4gIHBhay5wb29sKCk7XG59O1xuXG5QYWNrZXQucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uICgpIHtcbiAgbGV0IHJldCA9IHtcbiAgICBmOiB0aGlzLmZsYWdzLFxuICB9O1xuXG4gIGlmICh0aGlzLmJ1ZnMpIHtcbiAgICByZXQuYiA9IFtdO1xuICAgIGZvciAobGV0IGlpID0gMDsgaWkgPCB0aGlzLmJ1ZnMubGVuZ3RoOyArK2lpKSB7XG4gICAgICByZXQuYi5wdXNoKGJhc2U2NEVuY29kZSh0aGlzLmJ1ZnNbaWldLCAwLCB0aGlzLmJzaXplc1tpaV0pKTtcbiAgICB9XG4gIH1cbiAgaWYgKHRoaXMuYnVmKSB7XG4gICAgaWYgKHRoaXMucmVhZGFibGUpIHtcbiAgICAgIHJldC5kID0gYmFzZTY0RW5jb2RlKHRoaXMuYnVmLCAwLCB0aGlzLmJ1Zl9sZW4pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXQuZCA9IGJhc2U2NEVuY29kZSh0aGlzLmJ1ZiwgMCwgdGhpcy5idWZfb2Zmcyk7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXQ7XG59O1xuXG5QYWNrZXQucHJvdG90eXBlLnNldEJ1ZmZlciA9IGZ1bmN0aW9uIChidWYsIGJ1Zl9sZW4pIHtcbiAgYXNzZXJ0KCF0aGlzLmJ1Zik7XG4gIGFzc2VydCghdGhpcy5idWZzKTtcbiAgYXNzZXJ0KHRoaXMuZmxhZ3MgJiBQQUNLRVRfVU5PV05FRF9CVUZGRVIpOyAvLyBQcm9iYWJseSBva2F5IGlmIG5vdD9cbiAgYXNzZXJ0KGJ1ZiBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpO1xuICB0aGlzLmJ1ZiA9IHdyYXBVOEFzRGF0YVZpZXcoYnVmKTtcbiAgdGhpcy5idWZfbGVuID0gYnVmX2xlbjtcbiAgdGhpcy5yZWFkYWJsZSA9IHRydWU7XG59O1xuXG5QYWNrZXQucHJvdG90eXBlLmdldEJ1ZmZlciA9IGZ1bmN0aW9uICgpIHtcbiAgYXNzZXJ0KHRoaXMuYnVmKTtcbiAgYXNzZXJ0KCF0aGlzLmJ1ZnMpO1xuICByZXR1cm4gdGhpcy5idWYudTg7XG59O1xuXG5QYWNrZXQucHJvdG90eXBlLmdldEJ1ZmZlckxlbiA9IGZ1bmN0aW9uICgpIHtcbiAgYXNzZXJ0KHRoaXMuYnVmKTtcbiAgYXNzZXJ0KCF0aGlzLmJ1ZnMpO1xuICByZXR1cm4gdGhpcy5yZWFkYWJsZSA/IHRoaXMuYnVmX2xlbiA6IHRoaXMuYnVmX29mZnM7XG59O1xuXG5QYWNrZXQucHJvdG90eXBlLmdldE9mZnNldCA9IGZ1bmN0aW9uICgpIHtcbiAgaWYgKHRoaXMucmVhZGFibGUpIHtcbiAgICByZXR1cm4gdGhpcy5idWZfb2ZmcztcbiAgfVxuICByZXR1cm4gdGhpcy50b3RhbFNpemUoKTtcbn07XG5cblBhY2tldC5wcm90b3R5cGUuc2VlayA9IGZ1bmN0aW9uIChwb3MpIHtcbiAgYXNzZXJ0KHRoaXMucmVhZGFibGUpOyAvLyAubWFrZVJlYWRhYmxlIHNob3VsZCBiZSBjYWxsZWQgc28gdGhhdCBpdCBpcyBhIHNpbmdsZSBidWZmZXJcbiAgYXNzZXJ0KHBvcyA+PSAwICYmIHBvcyA8PSB0aGlzLmJ1Zl9sZW4pO1xuICB0aGlzLmJ1Zl9vZmZzID0gcG9zO1xufTtcblxuUGFja2V0LnByb3RvdHlwZS53cml0ZUZsYWdzID0gZnVuY3Rpb24gKCkge1xuICBhc3NlcnQoIXRoaXMuaGFzX2ZsYWdzKTtcbiAgYXNzZXJ0LmVxdWFsKHRoaXMuYnVmX29mZnMsIDApO1xuICB0aGlzLndyaXRlVTgodGhpcy5mbGFncyk7XG4gIHRoaXMuaGFzX2ZsYWdzID0gdHJ1ZTtcbn07XG5cblBhY2tldC5wcm90b3R5cGUudXBkYXRlRmxhZ3MgPSBmdW5jdGlvbiAoZmxhZ3MpIHtcbiAgYXNzZXJ0KHRoaXMuaGFzX2ZsYWdzKTtcbiAgYXNzZXJ0KCEoZmxhZ3MgJiBGTEFHX1BBQ0tFVF9JTlRFUk5BTCkpO1xuICB0aGlzLmZsYWdzID0gdGhpcy5mbGFncyAmIEZMQUdfUEFDS0VUX0lOVEVSTkFMIHwgZmxhZ3M7XG4gIGxldCBidWYgPSB0aGlzLmJ1ZnMgPyB0aGlzLmJ1ZnNbMF0gOiB0aGlzLmJ1ZjtcbiAgYnVmLnU4WzBdID0gdGhpcy5mbGFncztcbn07XG5cblBhY2tldC5wcm90b3R5cGUucmVhZEZsYWdzID0gZnVuY3Rpb24gKCkge1xuICBsZXQgcmVhZCA9IHRoaXMucmVhZFU4KCk7XG4gIGFzc2VydC5lcXVhbChyZWFkLCB0aGlzLmZsYWdzICYgMHhGRik7XG4gIHRoaXMuaGFzX2ZsYWdzID0gdHJ1ZTtcbiAgcmV0dXJuIHRoaXMuZmxhZ3M7XG59O1xuXG5QYWNrZXQucHJvdG90eXBlLmdldEZsYWdzID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gdGhpcy5mbGFncztcbn07XG5cblBhY2tldC5wcm90b3R5cGUuZ2V0SW50ZXJuYWxGbGFncyA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHRoaXMuZmxhZ3MgJiBGTEFHX1BBQ0tFVF9JTlRFUk5BTDtcbn07XG5cblBhY2tldC5wcm90b3R5cGUuY29udGVudHMgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiBgcGFrKCR7dGhpcy50b3RhbFNpemUoKX1iKWA7XG59O1xuXG5mdW5jdGlvbiBQYWNrZXREZWJ1ZyhmbGFncywgaW5pdF9zaXplKSB7XG4gIHRoaXMucmVpbml0KGZsYWdzLCBpbml0X3NpemUpO1xufVxuUGFja2V0RGVidWcucHJvdG90eXBlLnJlaW5pdCA9IGZ1bmN0aW9uIChmbGFncywgaW5pdF9zaXplKSB7XG4gIHRoaXMuaW5fcG9vbCA9IGZhbHNlO1xuICBpZiAocGFrX3Bvb2wubGVuZ3RoKSB7XG4gICAgdGhpcy5wYWsgPSBwYWtfcG9vbC5wb3AoKTtcbiAgICB0aGlzLnBhay5yZWluaXQoZmxhZ3MsIGluaXRfc2l6ZSwgdGhpcyk7XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5wYWsgPSBuZXcgUGFja2V0KGZsYWdzLCBpbml0X3NpemUsIHRoaXMpO1xuICB9XG4gIHRoaXMud2FybmVkID0gZmFsc2U7XG4gIHRoaXMucG9vbF90aW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgIGNvbnNvbGUud2FybihgUGFja2V0IG5vdCBwb29sZWQgYWZ0ZXIgNXM6ICR7dGhpcy5jb250ZW50cygpfWApO1xuICAgIHRoaXMud2FybmVkID0gdHJ1ZTtcbiAgfSwgUE9PTF9USU1FT1VUKTtcbn07XG5QYWNrZXREZWJ1Zy5wcm90b3R5cGUucG9vbERlYnVnID0gZnVuY3Rpb24gKCkge1xuICBpZiAodGhpcy53YXJuZWQpIHtcbiAgICBjb25zb2xlLndhcm4oJ1BhY2tldCBwb29sZWQgYWZ0ZXIgdGltZW91dCcpO1xuICB9IGVsc2Uge1xuICAgIGNsZWFyVGltZW91dCh0aGlzLnBvb2xfdGltZXIpO1xuICB9XG4gIGFzc2VydCghdGhpcy5pbl9wb29sKTtcbiAgdGhpcy5pbl9wb29sID0gdHJ1ZTsgLy8gU2V0IHRoaXMsIGFzIGlmIHBvb2xlZCwgZXZlbiBpZiBkaXNjYXJkZWRcbiAgaWYgKHBha19kZWJ1Z19wb29sLmxlbmd0aCA8IFBPT0xfUEFDS0VUUykge1xuICAgIHBha19kZWJ1Z19wb29sLnB1c2godGhpcyk7XG4gIH1cbn07XG5jb25zdCB0eXBlcyA9IFtudWxsLCAnVTgnLCAnVTMyJywgJ0ludCcsICdGbG9hdCcsICdTdHJpbmcnLCAnQW5zaVN0cmluZycsICdKU09OJywgJ0Jvb2wnLCAnQnVmZmVyJ107XG4vLyBGdW5jdGlvbnMgKHR5cGVzKSB0aGF0IHJlYWQgYW5kIHdyaXRlIGEgZGVidWcgYnl0ZVxudHlwZXMuZm9yRWFjaCgodHlwZSwgaWR4KSA9PiB7XG4gIGlmICghdHlwZSkgeyAvLyBkb24ndCB1c2UgZGVidWcgSUQgMFxuICAgIHJldHVybjtcbiAgfVxuICBsZXQgd3JpdGUgPSBgd3JpdGUke3R5cGV9YDtcbiAgbGV0IHJlYWQgPSBgcmVhZCR7dHlwZX1gO1xuICBsZXQgd3JpdGVfZm4gPSBQYWNrZXQucHJvdG90eXBlW3dyaXRlXTtcbiAgbGV0IHJlYWRfZm4gPSBQYWNrZXQucHJvdG90eXBlW3JlYWRdO1xuICBQYWNrZXREZWJ1Zy5wcm90b3R5cGVbd3JpdGVdID0gZnVuY3Rpb24gKHYpIHtcbiAgICB0aGlzLnBhay53cml0ZVU4KGlkeCk7XG4gICAgd3JpdGVfZm4uY2FsbCh0aGlzLnBhaywgdik7XG4gIH07XG4gIFBhY2tldERlYnVnLnByb3RvdHlwZVtyZWFkXSA9IGZ1bmN0aW9uIChwYXJhbSkge1xuICAgIGxldCBmb3VuZF9pZHggPSB0aGlzLnBhay5yZWFkVTgoKTtcbiAgICBpZiAoZm91bmRfaWR4ICE9PSBpZHgpIHtcbiAgICAgIGFzc2VydChmYWxzZSwgYFBhY2tldERlYnVnIGVycm9yOiBFeHBlY3RlZCAke3R5cGV9KCR7aWR4fSksIGZvdW5kICR7dHlwZXNbZm91bmRfaWR4XX0oJHtmb3VuZF9pZHh9KWApO1xuICAgIH1cbiAgICByZXR1cm4gcmVhZF9mbi5jYWxsKHRoaXMucGFrLCBwYXJhbSk7XG4gIH07XG59KTtcblBhY2tldERlYnVnLnByb3RvdHlwZS56ZXJvSW50ID0gZnVuY3Rpb24gKCkge1xuICB0aGlzLnBhay53cml0ZVU4KDMpOyAvLyB0eXBlcy5pbmRleG9mKCdJbnQnKVxuICB0aGlzLnBhay56ZXJvSW50KCk7XG59O1xuLy8gRnVuY3Rpb25zIHRoYXQgc2ltcGx5IGZhbGwgdGhyb3VnaFxuW1xuICAnZW5kZWQnLFxuICAnZ2V0QnVmZmVyJyxcbiAgJ2dldEJ1ZmZlckxlbicsXG4gICdnZXRGbGFncycsXG4gICdnZXRJbnRlcm5hbEZsYWdzJyxcbiAgJ2dldE9mZnNldCcsXG4gICdtYWtlUmVhZGFibGUnLFxuICAncG9vbCcsXG4gICdyZWFkRmxhZ3MnLCAvLyAqbm90KiB3cmFwcGVkIGluIGRlYnVnIGhlYWRlcnNcbiAgJ3JlZicsXG4gICdzZWVrJyxcbiAgJ3NldEJ1ZmZlcicsXG4gICdzZXRSZWFkYWJsZScsXG4gICd0b0pTT04nLFxuICAndG90YWxTaXplJyxcbiAgJ3VwZGF0ZUZsYWdzJyxcbiAgJ3dyaXRlRmxhZ3MnLCAvLyAqbm90KiB3cmFwcGVkIGluIGRlYnVnIGhlYWRlcnNcbl0uZm9yRWFjaCgoZm5hbWUpID0+IHtcbiAgbGV0IGZuID0gUGFja2V0LnByb3RvdHlwZVtmbmFtZV07XG4gIFBhY2tldERlYnVnLnByb3RvdHlwZVtmbmFtZV0gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGZuLmFwcGx5KHRoaXMucGFrLCBhcmd1bWVudHMpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHByZWZlci1yZXN0LXBhcmFtc1xuICB9O1xufSk7XG5QYWNrZXREZWJ1Zy5wcm90b3R5cGUuYXBwZW5kID0gZnVuY3Rpb24gKHBhaykge1xuICBhc3NlcnQocGFrIGluc3RhbmNlb2YgUGFja2V0RGVidWcpO1xuICB0aGlzLnBhay5hcHBlbmQocGFrLnBhayk7XG59O1xuUGFja2V0RGVidWcucHJvdG90eXBlLmFwcGVuZFJlbWFpbmluZyA9IGZ1bmN0aW9uIChwYWspIHtcbiAgYXNzZXJ0KHBhayBpbnN0YW5jZW9mIFBhY2tldERlYnVnKTtcbiAgdGhpcy5wYWsuYXBwZW5kUmVtYWluaW5nKHBhay5wYWspO1xufTtcbmZ1bmN0aW9uIGZvcm1hdCh2KSB7XG4gIHN3aXRjaCAodHlwZW9mIHYpIHtcbiAgICBjYXNlICdvYmplY3QnOlxuICAgICAgaWYgKHYgaW5zdGFuY2VvZiBVaW50OEFycmF5KSB7XG4gICAgICAgIHJldHVybiBgdTg8JHt2Lmxlbmd0aH0+YDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh2KTtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHY7XG4gIH1cbn1cblBhY2tldERlYnVnLnByb3RvdHlwZS5jb250ZW50cyA9IGZ1bmN0aW9uICgpIHtcbiAgbGV0IHsgcGFrIH0gPSB0aGlzO1xuICBsZXQgY3VyX29mZnMgPSBwYWsuZ2V0T2Zmc2V0KCk7XG4gIGxldCByZWFkX2xlbiA9IGN1cl9vZmZzO1xuICBsZXQgcmV0ID0gW2BidWY6JHtwYWsuYnVmX29mZnN9LyR7cGFrLmJ1Zl9sZW59YF07XG4gIGlmIChwYWsuYnVmcykge1xuICAgIC8vIHdyaXRlIHBhY2tldCwganVzdCBjb21iaW5lIGFuZCByZXNldCBsb2NhdGlvbiB3aGVuIGRvbmVcbiAgICBwYWsubWFrZVJlYWRhYmxlKCk7XG4gICAgcmV0LnB1c2goJ2J1ZnMnKTtcbiAgfSBlbHNlIGlmIChwYWsuYnVmKSB7XG4gICAgLy8gcmVhZCBwYWNrZXQsIG9yIHdyaXRlIHBhY2tldCB0aGF0IGlzIGEgc2luZ2xlIGJ1ZlxuICAgIGlmIChwYWsucmVhZGFibGUpIHtcbiAgICAgIHJlYWRfbGVuID0gcGFrLmJ1Zl9sZW47XG4gICAgfVxuICAgIHBhay5idWZfb2ZmcyA9IDA7XG4gIH0gZWxzZSB7XG4gICAgcmV0LnB1c2goJ2VtcHR5Jyk7XG4gICAgcmVhZF9sZW4gPSAtMTtcbiAgfVxuICBsZXQgc2F2ZWRfcmVmX2NvdW50ID0gcGFrLnJlZl9jb3VudDtcbiAgcGFrLnJlZigpOyAvLyBwcmV2ZW50IGF1dG8gcG9vbGluZ1xuICB0cnkge1xuICAgIGlmIChwYWsuaGFzX2ZsYWdzKSB7XG4gICAgICByZXQucHVzaChgZmxhZ3M6JHtwYWsucmVhZFU4KCl9YCk7XG4gICAgfVxuICAgIHdoaWxlIChwYWsuYnVmX29mZnMgPCByZWFkX2xlbikge1xuICAgICAgbGV0IHR5cGVfaWR4ID0gcGFrLnJlYWRVOCgpO1xuICAgICAgbGV0IHR5cGUgPSB0eXBlc1t0eXBlX2lkeF07XG4gICAgICBpZiAoIXR5cGUpIHtcbiAgICAgICAgcmV0LnB1c2goYFVua25vd25UeXBlOiR7dHlwZV9pZHh9YCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgbGV0IHZhbCA9IHBha1tgcmVhZCR7dHlwZX1gXSgpO1xuICAgICAgcmV0LnB1c2goYCR7dHlwZX06JHtmb3JtYXQodmFsKX1gKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXQucHVzaChgRXJyb3IgZHVtcGluZyBwYWNrZXQgY29udGVudHM6ICR7ZX1gKTtcbiAgfVxuICBwYWsucmVmX2NvdW50ID0gc2F2ZWRfcmVmX2NvdW50O1xuICBwYWsuYnVmX29mZnMgPSBjdXJfb2ZmcztcbiAgcmV0dXJuIHJldC5qb2luKCcsJyk7XG59O1xuXG5mdW5jdGlvbiBwYWNrZXRDcmVhdGUoZmxhZ3MsIGluaXRfc2l6ZSkge1xuICBpZiAoZmxhZ3MgPT09IHVuZGVmaW5lZCkge1xuICAgIGZsYWdzID0gZXhwb3J0cy5kZWZhdWx0X2ZsYWdzO1xuICB9XG4gIGxldCBwb29sID0gKGZsYWdzICYgUEFDS0VUX0RFQlVHKSA/IHBha19kZWJ1Z19wb29sIDogcGFrX3Bvb2w7XG4gIGlmIChwb29sLmxlbmd0aCkge1xuICAgIGxldCBwYWsgPSBwb29sLnBvcCgpO1xuICAgIHBhay5yZWluaXQoZmxhZ3MsIGluaXRfc2l6ZSk7XG4gICAgcmV0dXJuIHBhaztcbiAgfVxuICBpZiAoZmxhZ3MgJiBQQUNLRVRfREVCVUcpIHtcbiAgICByZXR1cm4gbmV3IFBhY2tldERlYnVnKGZsYWdzLCBpbml0X3NpemUpO1xuICB9XG4gIHJldHVybiBuZXcgUGFja2V0KGZsYWdzLCBpbml0X3NpemUpO1xufVxuZXhwb3J0cy5wYWNrZXRDcmVhdGUgPSBwYWNrZXRDcmVhdGU7XG5cbmZ1bmN0aW9uIHBhY2tldEZyb21CdWZmZXIoYnVmLCBidWZfbGVuLCBuZWVkX2NvcHkpIHtcbiAgbGV0IGZsYWdzID0gYnVmWzBdO1xuICBhc3NlcnQuZXF1YWwodHlwZW9mIGZsYWdzLCAnbnVtYmVyJyk7IC8vIGBidWZgIHNob3VsZCBiZSBhIEJ1ZmZlciBvciBVaW50OEFycmF5LCBub3QgYSBEYXRhVmlldyBsaWtlIG90aGVyIGZ1bmNzIGhlcmVcbiAgaWYgKG5lZWRfY29weSkge1xuICAgIGFzc2VydChidWZfbGVuKTtcbiAgICBhc3NlcnQoYnVmLmJ1ZmZlciBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKTtcbiAgICBsZXQgcGFrID0gcGFja2V0Q3JlYXRlKGZsYWdzLCBidWZfbGVuKTtcbiAgICBpZiAoYnVmLmJ5dGVMZW5ndGggIT09IGJ1Zl9sZW4pIHtcbiAgICAgIGJ1ZiA9IEJ1ZmZlci5mcm9tKGJ1Zi5idWZmZXIsIDAsIGJ1Zl9sZW4pO1xuICAgIH1cbiAgICBwYWsuZ2V0QnVmZmVyKCkuc2V0KGJ1Zik7XG4gICAgcGFrLnNldFJlYWRhYmxlKCk7XG4gICAgcmV0dXJuIHBhaztcbiAgfSBlbHNlIHtcbiAgICAvLyByZWZlcmVuY2UgdW5vd25lZC91bnBvb2xhYmxlIGJ1ZmZlclxuICAgIGFzc2VydChidWYgaW5zdGFuY2VvZiBVaW50OEFycmF5KTtcbiAgICBsZXQgcGFrID0gcGFja2V0Q3JlYXRlKGZsYWdzIHwgUEFDS0VUX1VOT1dORURfQlVGRkVSKTtcbiAgICBwYWsuc2V0QnVmZmVyKGJ1ZiwgYnVmX2xlbiB8fCBidWYuYnl0ZUxlbmd0aCk7XG4gICAgcmV0dXJuIHBhaztcbiAgfVxufVxuZXhwb3J0cy5wYWNrZXRGcm9tQnVmZmVyID0gcGFja2V0RnJvbUJ1ZmZlcjtcblxuZnVuY3Rpb24gcGFja2V0RnJvbUpTT04oanNfb2JqKSB7XG4gIGxldCBwYWsgPSBwYWNrZXRDcmVhdGUoanNfb2JqLmYpO1xuXG4gIGxldCBwYXlsb2FkID0gcGFrLnBhayB8fCBwYWs7XG5cbiAgZnVuY3Rpb24gZGVjb2RlKHN0cikge1xuICAgIHJldHVybiBiYXNlNjREZWNvZGUoc3RyLCBhbGxvY0RhdGFWaWV3KTtcbiAgfVxuICBpZiAoanNfb2JqLmIpIHtcbiAgICBwYXlsb2FkLmJzaXplcyA9IFtdO1xuICAgIHBheWxvYWQuYnVmcyA9IFtdO1xuICAgIGZvciAobGV0IGlpID0gMDsgaWkgPCBqc19vYmouYi5sZW5ndGg7ICsraWkpIHtcbiAgICAgIGxldCBidWYgPSBkZWNvZGUoanNfb2JqLmJbaWldKTtcbiAgICAgIHBheWxvYWQuYnVmcy5wdXNoKGJ1Zik7XG4gICAgICBwYXlsb2FkLmJzaXplcy5wdXNoKGJ1Zi5kZWNvZGVfc2l6ZSk7XG4gICAgICBkZWxldGUgYnVmLmRlY29kZV9zaXplO1xuICAgIH1cbiAgfVxuICBpZiAoanNfb2JqLmQpIHtcbiAgICBwYXlsb2FkLmJ1ZiA9IGRlY29kZShqc19vYmouZCk7XG4gICAgcGF5bG9hZC5idWZfbGVuID0gcGF5bG9hZC5idWYuZGVjb2RlX3NpemU7XG4gICAgZGVsZXRlIHBheWxvYWQuYnVmLmRlY29kZV9zaXplO1xuICAgIHBheWxvYWQuYnVmX29mZnMgPSAwO1xuICB9XG5cbiAgcmV0dXJuIHBhaztcbn1cbmV4cG9ydHMucGFja2V0RnJvbUpTT04gPSBwYWNrZXRGcm9tSlNPTjtcblxuZnVuY3Rpb24gaXNQYWNrZXQodGhpbmcpIHtcbiAgcmV0dXJuIHRoaW5nIGluc3RhbmNlb2YgUGFja2V0IHx8IHRoaW5nIGluc3RhbmNlb2YgUGFja2V0RGVidWc7XG59XG5leHBvcnRzLmlzUGFja2V0ID0gaXNQYWNrZXQ7XG4iLCIvLyBQb3J0aW9ucyBDb3B5cmlnaHQgMjAxOSBKaW1iIEVzc2VyIChodHRwczovL2dpdGh1Yi5jb20vSmltYmx5Lylcbi8vIFJlbGVhc2VkIHVuZGVyIE1JVCBMaWNlbnNlOiBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVFxuLyogZXNsaW50IHByZWZlci1yZXN0LXBhcmFtczpvZmYsIG5vLXVuZGVyc2NvcmUtZGFuZ2xlOm9mZiAqL1xuXG5jb25zdCBhc3NlcnQgPSByZXF1aXJlKCdhc3NlcnQnKTtcblxuZnVuY3Rpb24gRXZlbnRFbWl0dGVyKCkge1xuICB0aGlzLl9saXN0ZW5lcnMgPSB7fTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBFdmVudEVtaXR0ZXI7XG5tb2R1bGUuZXhwb3J0cy5FdmVudEVtaXR0ZXIgPSBFdmVudEVtaXR0ZXI7XG5cbmZ1bmN0aW9uIGFkZExpc3RlbmVyKGVlLCB0eXBlLCBmbiwgb25jZSkge1xuICBhc3NlcnQodHlwZW9mIGZuID09PSAnZnVuY3Rpb24nKTtcbiAgbGV0IGFyciA9IGVlLl9saXN0ZW5lcnNbdHlwZV07XG4gIGlmICghYXJyKSB7XG4gICAgYXJyID0gZWUuX2xpc3RlbmVyc1t0eXBlXSA9IFtdO1xuICB9XG4gIGFyci5wdXNoKHtcbiAgICBvbmNlLFxuICAgIGZuLFxuICB9KTtcbn1cblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5oYXNMaXN0ZW5lciA9IGZ1bmN0aW9uICh0eXBlLCBmbikge1xuICBsZXQgYXJyID0gdGhpcy5fbGlzdGVuZXJzW3R5cGVdO1xuICBpZiAoIWFycikge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgYXJyLmxlbmd0aDsgKytpaSkge1xuICAgIGlmIChhcnJbaWldLmZuID09PSBmbikge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG4gIHJldHVybiBmYWxzZTtcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub24gPSBmdW5jdGlvbiAodHlwZSwgZm4pIHtcbiAgYWRkTGlzdGVuZXIodGhpcywgdHlwZSwgZm4sIDApO1xuICByZXR1cm4gdGhpcztcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub25jZSA9IGZ1bmN0aW9uICh0eXBlLCBmbikge1xuICBhZGRMaXN0ZW5lcih0aGlzLCB0eXBlLCBmbiwgMSk7XG4gIHJldHVybiB0aGlzO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lciA9IGZ1bmN0aW9uICh0eXBlLCBmbikge1xuICBsZXQgYXJyID0gdGhpcy5fbGlzdGVuZXJzW3R5cGVdO1xuICBhc3NlcnQoYXJyKTtcbiAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IGFyci5sZW5ndGg7ICsraWkpIHtcbiAgICBpZiAoYXJyW2lpXS5mbiA9PT0gZm4pIHtcbiAgICAgIGFyci5zcGxpY2UoaWksIDEpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICB9XG4gIGFzc2VydChmYWxzZSk7IC8vIGV4cGVjdGVkIHRvIGZpbmQgdGhlIGxpc3RlbmVyIVxuICByZXR1cm4gdGhpcztcbn07XG5cbmZ1bmN0aW9uIGZpbHRlck5vdE9uY2UoZWxlbSkge1xuICByZXR1cm4gIWVsZW0ub25jZTtcbn1cblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5lbWl0ID0gZnVuY3Rpb24gKHR5cGUsIC4uLmFyZ3MpIHtcbiAgbGV0IGFyciA9IHRoaXMuX2xpc3RlbmVyc1t0eXBlXTtcbiAgaWYgKCFhcnIpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBsZXQgYW55ID0gZmFsc2U7XG4gIGxldCBhbnlfb25jZSA9IGZhbHNlO1xuICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgYXJyLmxlbmd0aDsgKytpaSkge1xuICAgIGxldCBlbGVtID0gYXJyW2lpXTtcbiAgICBhbnkgPSB0cnVlO1xuICAgIGVsZW0uZm4oLi4uYXJncyk7XG4gICAgaWYgKGVsZW0ub25jZSkge1xuICAgICAgYW55X29uY2UgPSB0cnVlO1xuICAgIH1cbiAgfVxuICBpZiAoYW55X29uY2UpIHtcbiAgICB0aGlzLl9saXN0ZW5lcnNbdHlwZV0gPSBhcnIuZmlsdGVyKGZpbHRlck5vdE9uY2UpO1xuICB9XG5cbiAgcmV0dXJuIGFueTtcbn07XG5cbi8vIEFsaWFzZXNcbi8vIEV2ZW50RW1pdHRlci5wcm90b3R5cGUuYWRkTGlzdGVuZXIgPSBFdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uO1xuIiwiLy8gUG9ydGlvbnMgQ29weXJpZ2h0IDIwMTkgSmltYiBFc3NlciAoaHR0cHM6Ly9naXRodWIuY29tL0ppbWJseS8pXG4vLyBSZWxlYXNlZCB1bmRlciBNSVQgTGljZW5zZTogaHR0cHM6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9NSVRcblxuY29uc3QgYXNzZXJ0ID0gcmVxdWlyZSgnYXNzZXJ0Jyk7XG5jb25zdCB7IGFicywgZmxvb3IsIG1pbiwgbWF4LCByYW5kb20sIHJvdW5kLCBwb3csIHNxcnQgfSA9IE1hdGg7XG5cbmV4cG9ydCBmdW5jdGlvbiBub3AoKSB7XG4gIC8vIGVtcHR5XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBlbXB0eShvYmopIHtcbiAgZm9yIChsZXQga2V5IGluIG9iaikge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGVhc2VJbk91dCh2LCBhKSB7XG4gIGxldCB2YSA9IHBvdyh2LCBhKTtcbiAgcmV0dXJuIHZhIC8gKHZhICsgcG93KDEgLSB2LCBhKSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBlYXNlSW4odiwgYSkge1xuICByZXR1cm4gMiAqIGVhc2VJbk91dCgwLjUgKiB2LCBhKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGVhc2VPdXQodiwgYSkge1xuICByZXR1cm4gMiAqIGVhc2VJbk91dCgwLjUgKyAwLjUgKiB2LCBhKSAtIDE7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjbG9uZShvYmopIHtcbiAgcmV0dXJuIEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkob2JqKSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtZXJnZShkZXN0LCBzcmMpIHtcbiAgZm9yIChsZXQgZiBpbiBzcmMpIHtcbiAgICBkZXN0W2ZdID0gc3JjW2ZdO1xuICB9XG4gIHJldHVybiBkZXN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaGFzKG9iaiwgZmllbGQpIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGZpZWxkKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRlZmF1bHRzKGRlc3QsIHNyYykge1xuICBmb3IgKGxldCBmIGluIHNyYykge1xuICAgIGlmICghaGFzKGRlc3QsIGYpKSB7XG4gICAgICBkZXN0W2ZdID0gc3JjW2ZdO1xuICAgIH1cbiAgfVxuICByZXR1cm4gZGVzdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRlZmF1bHRzRGVlcChkZXN0LCBzcmMpIHtcbiAgZm9yIChsZXQgZiBpbiBzcmMpIHtcbiAgICBpZiAoIWhhcyhkZXN0LCBmKSkge1xuICAgICAgZGVzdFtmXSA9IHNyY1tmXTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBkZXN0W2ZdID09PSAnb2JqZWN0Jykge1xuICAgICAgZGVmYXVsdHNEZWVwKGRlc3RbZl0sIHNyY1tmXSk7XG4gICAgfVxuICB9XG4gIHJldHVybiBkZXN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY2xvbmVTaGFsbG93KHNyYykge1xuICByZXR1cm4gbWVyZ2Uoe30sIHNyYyk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkZWVwRXF1YWwoYSwgYikge1xuICBpZiAoQXJyYXkuaXNBcnJheShhKSkge1xuICAgIGlmICghQXJyYXkuaXNBcnJheShiKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoYS5sZW5ndGggIT09IGIubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGZvciAobGV0IGlpID0gMDsgaWkgPCBhLmxlbmd0aDsgKytpaSkge1xuICAgICAgaWYgKCFkZWVwRXF1YWwoYVtpaV0sIGJbaWldKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBhID09PSAnb2JqZWN0Jykge1xuICAgIGlmICh0eXBlb2YgYiAhPT0gJ29iamVjdCcpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKCFhIHx8ICFiKSB7IC8vIGF0IGxlYXN0IG9uZSBpcyBudWxsXG4gICAgICByZXR1cm4gIWEgJiYgIWI7IC8vIGVxdWFsIGlmIGJvdGggYXJlIG51bGxcbiAgICB9XG4gICAgZm9yIChsZXQga2V5IGluIGEpIHtcbiAgICAgIC8vIGIgbXVzdCBoYXZlIGtleSwgb3IgYm90aCBhW2tleV0gYW5kIGJba2V5XSBhcmUgdW5kZWZpbmVkXG4gICAgICBpZiAoIWRlZXBFcXVhbChhW2tleV0sIGJba2V5XSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgICBmb3IgKGxldCBrZXkgaW4gYikge1xuICAgICAgLy8gaWYgYiBoYXMga2V5IGFuZCBpdCdzIGRlZmluZWQsIGEgbXVzdCBhbHNvIGJlIGRlZmluZWQgKGFuZCB3b3VsZCBoYXZlIGNoZWNrZWQgZXF1YWxpdHkgYWJvdmUpXG4gICAgICBpZiAoYltrZXldICE9PSB1bmRlZmluZWQgJiYgYVtrZXldID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICByZXR1cm4gYSA9PT0gYjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNsYW1wKHYsIG1uLCBteCkge1xuICByZXR1cm4gbWluKG1heChtbiwgdiksIG14KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGxlcnAoYSwgdjAsIHYxKSB7XG4gIHJldHVybiAoMSAtIGEpICogdjAgKyBhICogdjE7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtaXgodjAsIHYxLCBhKSB7IC8vIEdMU0wgc2VtYW50aWNzXG4gIHJldHVybiAoMSAtIGEpICogdjAgKyBhICogdjE7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzaWduKGEpIHtcbiAgcmV0dXJuIGEgPCAwID8gLTEgOiBhID4gMCA/IDEgOiAwO1xufVxuXG4vLyBsb2cyIHJvdW5kZWQgdXAgdG8gbmVhcmVzdCBpbnRlZ2VyXG5leHBvcnQgZnVuY3Rpb24gbG9nMih2YWwpIHtcbiAgZm9yIChsZXQgaWk9MSwgamo9MDsgOyBpaSA8PD0gMSwgKytqaikgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWJpdHdpc2VcbiAgICBpZiAoaWkgPj0gdmFsKSB7XG4gICAgICByZXR1cm4gamo7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByaWR4KGFyciwgaWR4KSB7XG4gIGFycltpZHhdID0gYXJyW2Fyci5sZW5ndGggLSAxXTtcbiAgYXJyLnBvcCgpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcm91bmQxMDAoYSkge1xuICByZXR1cm4gcm91bmQoYSAqIDEwMCkgLyAxMDA7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByb3VuZDEwMDAoYSkge1xuICByZXR1cm4gcm91bmQoYSAqIDEwMDApIC8gMTAwMDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZyYWN0KGEpIHtcbiAgcmV0dXJuIGEgLSBmbG9vcihhKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG5lYXJTYW1lKGEsIGIsIHRvbCkge1xuICByZXR1cm4gYWJzKGIgLSBhKSA8PSB0b2w7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0aXRsZUNhc2Uoc3RyKSB7XG4gIHJldHVybiBzdHIuc3BsaXQoJyAnKS5tYXAoKHdvcmQpID0+IGAke3dvcmRbMF0udG9VcHBlckNhc2UoKX0ke3dvcmQuc2xpY2UoMSl9YClcbiAgICAuam9pbignICcpO1xufVxuXG5jb25zdCBFUFNJTE9OID0gMC4wMDAwMTtcblxuLy8gaHR0cDovL2xvY2FsLndhc3AudXdhLmVkdS5hdS9+cGJvdXJrZS9nZW9tZXRyeS9zcGhlcmVsaW5lL1xuZXhwb3J0IGZ1bmN0aW9uIGxpbmVDaXJjbGVJbnRlcnNlY3QocDEsIHAyLCBwQ2lyY2xlLCByYWRpdXMpIHtcbiAgbGV0IGRwID0gW1xuICAgIHAyWzBdIC0gcDFbMF0sXG4gICAgcDJbMV0gLSBwMVsxXVxuICBdO1xuICBsZXQgYSA9IGRwWzBdICogZHBbMF0gKyBkcFsxXSAqIGRwWzFdO1xuICBsZXQgYiA9IDIgKiAoZHBbMF0gKiAocDFbMF0gLSBwQ2lyY2xlWzBdKSArIGRwWzFdICogKHAxWzFdIC0gcENpcmNsZVsxXSkpO1xuICBsZXQgYyA9IHBDaXJjbGVbMF0gKiBwQ2lyY2xlWzBdICsgcENpcmNsZVsxXSAqIHBDaXJjbGVbMV07XG4gIGMgKz0gcDFbMF0gKiBwMVswXSArIHAxWzFdICogcDFbMV07XG4gIGMgLT0gMiAqIChwQ2lyY2xlWzBdICogcDFbMF0gKyBwQ2lyY2xlWzFdICogcDFbMV0pO1xuICBjIC09IHJhZGl1cyAqIHJhZGl1cztcbiAgbGV0IGJiNGFjID0gYiAqIGIgLSA0ICogYSAqIGM7XG4gIGlmIChhYnMoYSkgPCBFUFNJTE9OIHx8IGJiNGFjIDwgMCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGxldCBtdTEgPSAoLWIgKyBzcXJ0KGJiNGFjKSkgLyAoMiAqIGEpO1xuICBsZXQgbXUyID0gKC1iIC0gc3FydChiYjRhYykpIC8gKDIgKiBhKTtcbiAgaWYgKG11MSA+PSAwICYmIG11MSA8PSAxIHx8IG11MiA+PSAwICYmIG11MiA8PSAxKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICByZXR1cm4gZmFsc2U7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpbmhlcml0cyhjdG9yLCBzdXBlckN0b3IpIHtcbiAgLy8gRnJvbSBOb2RlLmpzXG4gIGFzc2VydCh0eXBlb2Ygc3VwZXJDdG9yID09PSAnZnVuY3Rpb24nKTtcbiAgLy8gbm90IG5lZWRlZD8gY3Rvci5zdXBlcl8gPSBzdXBlckN0b3I7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5kZXJzY29yZS1kYW5nbGVcbiAgLy8gc2Vjb25kIHBhcmFtZXRlciBhbHNvIG5vdCBhY3R1YWxseSBuZWVkZWQsIGp1c3QgZGVmaW5lcyBuZXcgRm9vKCkuY29uc3RydWN0b3IgPT09IEZvbz9cbiAgY3Rvci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ3Rvci5wcm90b3R5cGUsIHtcbiAgICBjb25zdHJ1Y3Rvcjoge1xuICAgICAgdmFsdWU6IGN0b3IsXG4gICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfVxuICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzUG93ZXJPZlR3byhuKSB7XG4gIHJldHVybiAoKG4gJiAobiAtIDEpKSA9PT0gMCk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tYml0d2lzZVxufVxuXG5leHBvcnQgZnVuY3Rpb24gbmV4dEhpZ2hlc3RQb3dlck9mVHdvKHgpIHtcbiAgLS14O1xuICBmb3IgKGxldCBpID0gMTsgaSA8IDMyOyBpIDw8PSAxKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tYml0d2lzZVxuICAgIHggfD0geCA+PiBpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWJpdHdpc2VcbiAgfVxuICByZXR1cm4geCArIDE7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBsb2dkYXRhKGRhdGEpIHtcbiAgaWYgKGRhdGEgPT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiAnJztcbiAgfVxuICBsZXQgciA9IEpTT04uc3RyaW5naWZ5KGRhdGEpO1xuICBpZiAoci5sZW5ndGggPCAxMjApIHtcbiAgICByZXR1cm4gcjtcbiAgfVxuICByZXR1cm4gYCR7ci5zbGljZSgwLCAxMjAtMyl9Li4uYDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzSW50ZWdlcih2KSB7XG4gIHJldHVybiB0eXBlb2YgdiA9PT0gJ251bWJlcicgJiYgaXNGaW5pdGUodikgJiYgZmxvb3IodikgPT09IHY7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0b051bWJlcih2KSB7XG4gIHJldHVybiBOdW1iZXIodik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByYW5kb21Ob3Qobm90X3ZhbHVlLCBtYXhfdmFsdWUpIHtcbiAgbGV0IG5ld192YWx1ZTtcbiAgZG8ge1xuICAgIG5ld192YWx1ZSA9IGZsb29yKHJhbmRvbSgpICogbWF4X3ZhbHVlKTtcbiAgfSB3aGlsZSAobmV3X3ZhbHVlID09PSBub3RfdmFsdWUpO1xuICByZXR1cm4gbmV3X3ZhbHVlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdG9BcnJheShhcnJheV9saWtlKSB7XG4gIHJldHVybiBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcnJheV9saWtlKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1hdGNoQWxsKHN0ciwgcmUpIHtcbiAgbGV0IHJldCA9IFtdO1xuICBsZXQgbTtcbiAgZG8ge1xuICAgIG0gPSByZS5leGVjKHN0cik7XG4gICAgaWYgKG0pIHtcbiAgICAgIHJldC5wdXNoKG1bMV0pO1xuICAgIH1cbiAgfSB3aGlsZSAobSk7XG4gIHJldHVybiByZXQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjYWxsRWFjaChhcnIsIHByZV9jbGVhciwgLi4uYXJncykge1xuICBpZiAoYXJyICYmIGFyci5sZW5ndGgpIHtcbiAgICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgYXJyLmxlbmd0aDsgKytpaSkge1xuICAgICAgYXJyW2lpXSguLi5hcmdzKTtcbiAgICB9XG4gIH1cbn1cbiIsIi8vIFBvcnRpb25zIENvcHlyaWdodCAyMDE5IEppbWIgRXNzZXIgKGh0dHBzOi8vZ2l0aHViLmNvbS9KaW1ibHkvKVxuLy8gUmVsZWFzZWQgdW5kZXIgTUlUIExpY2Vuc2U6IGh0dHBzOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvTUlUXG5cbmNvbnN0IGFjayA9IHJlcXVpcmUoJy4vYWNrLmpzJyk7XG5jb25zdCBhc3NlcnQgPSByZXF1aXJlKCdhc3NlcnQnKTtcbmNvbnN0IHsgYWNrSGFuZGxlTWVzc2FnZSwgYWNrUmVhZEhlYWRlciwgYWNrV3JhcFBha1N0YXJ0LCBhY2tXcmFwUGFrUGF5bG9hZCwgYWNrV3JhcFBha0ZpbmlzaCB9ID0gYWNrO1xuY29uc3QgcGFja2V0ID0gcmVxdWlyZSgnLi9wYWNrZXQuanMnKTtcbmNvbnN0IHsgaXNQYWNrZXQsIHBhY2tldENyZWF0ZSwgcGFja2V0RnJvbUJ1ZmZlciB9ID0gcGFja2V0O1xuXG5leHBvcnQgY29uc3QgQ09OTkVDVElPTl9USU1FT1VUID0gNjAwMDA7XG5leHBvcnQgY29uc3QgUElOR19USU1FID0gQ09OTkVDVElPTl9USU1FT1VUIC8gMjtcbmV4cG9ydHMuUFJPVE9DT0xfVkVSU0lPTiA9ICcxJztcblxuLy8gUm91Z2ggZXN0aW1hdGUsIGlmIG92ZXIsIHdpbGwgcHJldmVudCByZXNpemluZyB0aGUgcGFja2V0XG5jb25zdCBQQUtfSEVBREVSX1NJWkUgPSAxICsgLy8gZmxhZ3NcbiAgMSsxNiArIC8vIG1lc3NhZ2UgaWRcbiAgMSs5OyAvLyByZXNwX3Bha19pZFxuXG5leHBvcnQgZnVuY3Rpb24gd3NQYWtTZW5kRGVzdChjbGllbnQsIHBhaykge1xuICBpZiAoIWNsaWVudC5jb25uZWN0ZWQgfHwgY2xpZW50LnNvY2tldC5yZWFkeVN0YXRlICE9PSAxKSB7XG4gICAgLy8gV2Ugb25seSBnZXQgdG8gdGhpcyBwYXJ0aWN1bGFyIGxvY2F0aW9uIGZyb20gd3NzZXJ2ZXIuYnJvYWRjYXN0KiwgYWxsXG4gICAgLy8gICBvdGhlciBwYXRocyB3aWxsIHByaW50IHRoZSBhY3R1YWwgbWVzc2FnZSBhbmQgZXJyb3IgZWFybGllci5cbiAgICBjb25zb2xlLndhcm4oYEF0dGVtcHRpbmcgdG8gc2VuZCBvbiBhIGRpc2Nvbm5lY3RlZCBsaW5rIChjbGllbnRfaWQ6JHtjbGllbnQuaWR9KSwgaWdub3JpbmdgKTtcbiAgICBwYWsucG9vbCgpO1xuICAgIHJldHVybjtcbiAgfVxuICBsZXQgYnVmID0gcGFrLmdldEJ1ZmZlcigpOyAvLyBhIFVpbnQ4QXJyYXlcbiAgbGV0IGJ1Zl9sZW4gPSBwYWsuZ2V0QnVmZmVyTGVuKCk7XG4gIGlmIChidWZfbGVuICE9PSBidWYubGVuZ3RoKSB7XG4gICAgYnVmID0gbmV3IFVpbnQ4QXJyYXkoYnVmLmJ1ZmZlciwgYnVmLmJ5dGVPZmZzZXQsIGJ1Zl9sZW4pO1xuICB9XG4gIGlmIChjbGllbnQud3Nfc2VydmVyKSB7XG4gICAgY2xpZW50LnNvY2tldC5zZW5kKGJ1ZiwgZnVuY3Rpb24gKCkge1xuICAgICAgcGFrLnBvb2woKTtcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBjbGllbnQuc29ja2V0LnNlbmQoYnVmKTtcbiAgICBwYWsucG9vbCgpO1xuICB9XG4gIGNsaWVudC5sYXN0X3NlbmRfdGltZSA9IERhdGUubm93KCk7XG59XG5cbmZ1bmN0aW9uIHdzUGFrU2VuZEZpbmlzaChwYWssIGVyciwgcmVzcF9mdW5jKSB7XG4gIGxldCB7IGNsaWVudCwgbXNnIH0gPSBwYWsud3NfZGF0YTtcbiAgZGVsZXRlIHBhay53c19kYXRhO1xuICBsZXQgYWNrX3Jlc3BfcGt0X2lkID0gYWNrV3JhcFBha0ZpbmlzaChwYWssIGVyciwgcmVzcF9mdW5jKTtcblxuICBpZiAoIWNsaWVudC5jb25uZWN0ZWQgfHwgY2xpZW50LnNvY2tldC5yZWFkeVN0YXRlICE9PSAxKSB7IC8vIFdlYlNvY2tldC5PUEVOXG4gICAgaWYgKG1zZyA9PT0gJ2NoYW5uZWxfbXNnJykgeyAvLyBjbGllbnQgLT4gc2VydmVyIGNoYW5uZWwgbWVzc2FnZSwgYXR0YWNoIGFkZGl0aW9uYWwgZGVidWdnaW5nIGluZm9cbiAgICAgIHBhay5zZWVrKDApO1xuICAgICAgcGFrLnJlYWRGbGFncygpO1xuICAgICAgbGV0IGhlYWRlciA9IGFja1JlYWRIZWFkZXIocGFrKTtcbiAgICAgIGxldCBpc19wYWNrZXQgPSBpc1BhY2tldChoZWFkZXIuZGF0YSk7XG4gICAgICBsZXQgY2hhbm5lbF9pZDtcbiAgICAgIGxldCBzdWJtc2c7XG4gICAgICBpZiAoaXNfcGFja2V0KSB7XG4gICAgICAgIHBhay5yZWYoKTsgLy8gZGVhbCB3aXRoIGF1dG8tcG9vbCBvZiBhbiBlbXB0eSBwYWNrZXRcbiAgICAgICAgY2hhbm5lbF9pZCA9IHBhay5yZWFkQW5zaVN0cmluZygpO1xuICAgICAgICBzdWJtc2cgPSBwYWsucmVhZEFuc2lTdHJpbmcoKTtcbiAgICAgICAgaWYgKCFwYWsuZW5kZWQoKSkge1xuICAgICAgICAgIHBhay5wb29sKCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNoYW5uZWxfaWQgPSBoZWFkZXIuZGF0YS5jaGFubmVsX2lkO1xuICAgICAgICBzdWJtc2cgPSBoZWFkZXIuZGF0YS5tc2c7XG4gICAgICB9XG4gICAgICBtc2cgPSBgY2hhbm5lbF9tc2c6JHtjaGFubmVsX2lkfToke3N1Ym1zZ31gO1xuICAgIH1cbiAgICAoY2xpZW50LmxvZyA/IGNsaWVudCA6IGNvbnNvbGUpLmxvZyhgQXR0ZW1wdGluZyB0byBzZW5kIG1zZz0ke21zZ30gb24gYSBkaXNjb25uZWN0ZWQgbGluaywgaWdub3JpbmdgKTtcbiAgICBpZiAoIWNsaWVudC5sb2cgJiYgY2xpZW50Lm9uRXJyb3IgJiYgbXNnICYmIHR5cGVvZiBtc2cgIT09ICdudW1iZXInKSB7XG4gICAgICAvLyBPbiB0aGUgY2xpZW50LCBpZiB3ZSB0cnkgdG8gc2VuZCBhIG5ldyBwYWNrZXQgd2hpbGUgZGlzY29ubmVjdGVkLCB0aGlzIGlzIGFuIGFwcGxpY2F0aW9uIGVycm9yXG4gICAgICBjbGllbnQub25FcnJvcihgQXR0ZW1wdGluZyB0byBzZW5kIG1zZz0ke21zZ30gb24gYSBkaXNjb25uZWN0ZWQgbGlua2ApO1xuICAgIH1cblxuICAgIGlmIChhY2tfcmVzcF9wa3RfaWQpIHtcbiAgICAgIC8vIENhbGxiYWNrIHdpbGwgbmV2ZXIgYmUgZGlzcGF0Y2hlZCB0aHJvdWdoIGFjay5qcywgcmVtb3ZlIHRoZSBjYWxsYmFjayBoZXJlXG4gICAgICBkZWxldGUgY2xpZW50LnJlc3BfY2JzW2Fja19yZXNwX3BrdF9pZF07XG4gICAgfVxuICAgIHBhay5wb29sKCk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgYXNzZXJ0LmVxdWFsKEJvb2xlYW4ocmVzcF9mdW5jICYmIHJlc3BfZnVuYy5leHBlY3RpbmdfcmVzcG9uc2UgIT09IGZhbHNlKSwgQm9vbGVhbihhY2tfcmVzcF9wa3RfaWQpKTtcblxuICB3c1Bha1NlbmREZXN0KGNsaWVudCwgcGFrKTtcbn1cblxuZnVuY3Rpb24gd3NQYWtTZW5kKGVyciwgcmVzcF9mdW5jKSB7XG4gIGxldCBwYWsgPSB0aGlzOyAvL2VzbGludC1kaXNhYmxlLWxpbmUgbm8taW52YWxpZC10aGlzXG4gIGlmICh0eXBlb2YgZXJyID09PSAnZnVuY3Rpb24nICYmICFyZXNwX2Z1bmMpIHtcbiAgICByZXNwX2Z1bmMgPSBlcnI7XG4gICAgZXJyID0gbnVsbDtcbiAgfVxuICB3c1Bha1NlbmRGaW5pc2gocGFrLCBlcnIsIHJlc3BfZnVuYyk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB3c1Bhayhtc2csIHJlZl9wYWssIGNsaWVudCkge1xuICBhc3NlcnQodHlwZW9mIG1zZyA9PT0gJ3N0cmluZycgfHwgdHlwZW9mIG1zZyA9PT0gJ251bWJlcicpO1xuXG4gIC8vIEFzc3VtZSBuZXcgcGFja2V0IG5lZWRzIHRvIGJlIGNvbXBhcmFibGUgdG8gb2xkIHBhY2tldCwgaW4gZmxhZ3MgYW5kIHNpemVcbiAgbGV0IHBhayA9IHBhY2tldENyZWF0ZShyZWZfcGFrID8gcmVmX3Bhay5nZXRJbnRlcm5hbEZsYWdzKCkgOiBwYWNrZXQuZGVmYXVsdF9mbGFncyxcbiAgICByZWZfcGFrID8gcmVmX3Bhay50b3RhbFNpemUoKSArIFBBS19IRUFERVJfU0laRSA6IDApO1xuICBwYWsud3JpdGVGbGFncygpO1xuXG4gIGFja1dyYXBQYWtTdGFydChwYWssIGNsaWVudCwgbXNnKTtcblxuICBwYWsud3NfZGF0YSA9IHtcbiAgICBtc2csXG4gICAgY2xpZW50LFxuICB9O1xuICBwYWsuc2VuZCA9IHdzUGFrU2VuZDtcbiAgcmV0dXJuIHBhaztcbn1cblxuZnVuY3Rpb24gc2VuZE1lc3NhZ2VJbnRlcm5hbChjbGllbnQsIG1zZywgZXJyLCBkYXRhLCByZXNwX2Z1bmMpIHtcbiAgbGV0IGlzX3BhY2tldCA9IGlzUGFja2V0KGRhdGEpO1xuICBsZXQgcGFrID0gd3NQYWsobXNnLCBpc19wYWNrZXQgPyBkYXRhIDogbnVsbCwgY2xpZW50KTtcblxuICBpZiAoIWVycikge1xuICAgIGFja1dyYXBQYWtQYXlsb2FkKHBhaywgZGF0YSk7XG4gIH1cblxuICBwYWsuc2VuZChlcnIsIHJlc3BfZnVuYyk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZW5kTWVzc2FnZShtc2csIGRhdGEsIHJlc3BfZnVuYykge1xuICBzZW5kTWVzc2FnZUludGVybmFsKHRoaXMsIG1zZywgbnVsbCwgZGF0YSwgcmVzcF9mdW5jKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1pbnZhbGlkLXRoaXNcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHdzSGFuZGxlTWVzc2FnZShjbGllbnQsIGJ1Zikge1xuICBsZXQgbm93ID0gRGF0ZS5ub3coKTtcbiAgbGV0IHNvdXJjZSA9IGNsaWVudC5pZCA/IGBjbGllbnQgJHtjbGllbnQuaWR9YCA6ICdzZXJ2ZXInO1xuICBpZiAoIShidWYgaW5zdGFuY2VvZiBVaW50OEFycmF5KSkge1xuICAgIChjbGllbnQubG9nID8gY2xpZW50IDogY29uc29sZSkubG9nKGBSZWNlaXZlZCBpbmNvcnJlY3QgV2ViU29ja2V0IGRhdGEgdHlwZSBmcm9tICR7c291cmNlfSAoJHt0eXBlb2YgYnVmfSlgKTtcbiAgICByZXR1cm4gY2xpZW50Lm9uRXJyb3IoJ0ludmFsaWQgZGF0YSByZWNlaXZlZCcpO1xuICB9XG4gIGxldCBwYWsgPSBwYWNrZXRGcm9tQnVmZmVyKGJ1ZiwgYnVmLmxlbmd0aCwgZmFsc2UpO1xuICBwYWsucmVhZEZsYWdzKCk7XG4gIGNsaWVudC5sYXN0X3JlY2VpdmVfdGltZSA9IG5vdztcblxuICByZXR1cm4gYWNrSGFuZGxlTWVzc2FnZShjbGllbnQsIHNvdXJjZSwgcGFrLCBmdW5jdGlvbiBzZW5kRnVuYyhtc2csIGVyciwgZGF0YSwgcmVzcF9mdW5jKSB7XG4gICAgaWYgKHJlc3BfZnVuYyAmJiAhcmVzcF9mdW5jLmV4cGVjdGluZ19yZXNwb25zZSkge1xuICAgICAgcmVzcF9mdW5jID0gbnVsbDtcbiAgICB9XG4gICAgc2VuZE1lc3NhZ2VJbnRlcm5hbChjbGllbnQsIG1zZywgZXJyLCBkYXRhLCByZXNwX2Z1bmMpO1xuICB9LCBmdW5jdGlvbiBwYWtGdW5jKG1zZywgcmVmX3Bhaykge1xuICAgIHJldHVybiB3c1Bhayhtc2csIHJlZl9wYWssIGNsaWVudCk7XG4gIH0sIGZ1bmN0aW9uIGhhbmRsZUZ1bmMobXNnLCBkYXRhLCByZXNwX2Z1bmMpIHtcbiAgICBsZXQgaGFuZGxlciA9IGNsaWVudC5oYW5kbGVyc1ttc2ddO1xuICAgIGlmICghaGFuZGxlcikge1xuICAgICAgbGV0IGVycm9yX21zZyA9IGBObyBoYW5kbGVyIGZvciBtZXNzYWdlICR7SlNPTi5zdHJpbmdpZnkobXNnKX0gZnJvbSAke3NvdXJjZX1gO1xuICAgICAgY29uc29sZS5lcnJvcihlcnJvcl9tc2csIGlzUGFja2V0KGRhdGEpID8gZGF0YS5jb250ZW50cygpIDogZGF0YSk7XG4gICAgICBpZiAoY2xpZW50Lm9uRXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIGNsaWVudC5vbkVycm9yKGVycm9yX21zZyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzcF9mdW5jKGVycm9yX21zZyk7XG4gICAgfVxuICAgIHJldHVybiBoYW5kbGVyKGNsaWVudCwgZGF0YSwgcmVzcF9mdW5jKTtcbiAgfSk7XG59XG4iXX0="}